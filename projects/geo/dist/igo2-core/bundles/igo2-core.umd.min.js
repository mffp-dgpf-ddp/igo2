!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@igo2/utils"),require("@angular/common"),require("angular2-notifications"),require("@ngx-translate/core"),require("@angular/platform-browser"),require("@angular/material"),require("@angular/common/http"),require("@angular/router"),require("@angular/cdk/layout"),require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@ionic-native/network/ngx"),require("@ionic/angular"),require("@ionic-native/network/ngx/index")):"function"==typeof define&&define.amd?define("@igo2/core",["exports","@igo2/utils","@angular/common","angular2-notifications","@ngx-translate/core","@angular/platform-browser","@angular/material","@angular/common/http","@angular/router","@angular/cdk/layout","@angular/core","rxjs","rxjs/operators","@ionic-native/network/ngx","@ionic/angular","@ionic-native/network/ngx/index"],e):e((t.igo2=t.igo2||{},t.igo2.core={}),t.utils,t.ng.common,t.ng2notify,t["ngxt-core"],t.ng.platformBrowser,t.ng.material,t.ng.common.http,t.ng.router,t.ng.cdk.layout,t.ng.core,t.rxjs,t.rxjs.operators,t.ngx,t.i3,t.i2)}(this,function(t,s,e,o,n,r,i,a,c,u,p,l,f,d,g,h){"use strict";var v=(m.prototype.register=function(){var t=s.uuid();return this.ids.push(t),this.counter$.next(this.ids.length),t},m.prototype.unregister=function(t){var e=this.ids.indexOf(t);-1!==e&&(this.ids.splice(e,1),this.counter$.next(this.ids.length))},m.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],m.ctorParameters=function(){return[]},m.ngInjectableDef=p.defineInjectable({factory:function(){return new m},token:m,providedIn:"root"}),m);function m(){this.counter$=new l.BehaviorSubject(0),this.ids=[]}var y=(b.prototype.intercept=function(t,e){var o=this,n=t.headers.get("activityInterceptor");if(n){var r=t.clone({headers:t.headers["delete"]("activityInterceptor")});if("false"===n)return e.handle(r)}var i=this.activityService.register();return e.handle(t).pipe(f.finalize(function(){o.activityService.unregister(i)}))},b.decorators=[{type:p.Injectable}],b.ctorParameters=function(){return[{type:v}]},b);function b(t){this.activityService=t}var I=(S.forRoot=function(){return{ngModule:S,providers:[{provide:a.HTTP_INTERCEPTORS,useClass:y,multi:!0}]}},S.decorators=[{type:p.NgModule,args:[{imports:[],declarations:[],exports:[]}]}],S);function S(){}var w={lib:"1.4.1"},j=(x.prototype.getConfig=function(t){return s.ObjectUtils.resolve(this.config,t)},x.prototype.load=function(o){var n=this,r=o["default"]||{};if(!o.path)return this.config=r,!0;var i=this.injector.get(a.HttpClient);return new Promise(function(e,t){i.get(o.path).pipe(f.catchError(function(t){return console.log("Configuration file "+o.path+" could not be read"),e(!0),l.throwError(t.error||"Server error")})).subscribe(function(t){n.config=s.ObjectUtils.mergeDeep(s.ObjectUtils.mergeDeep({version:w},r),t),e(!0)})})},x.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],x.ctorParameters=function(){return[{type:p.Injector}]},x.ngInjectableDef=p.defineInjectable({factory:function(){return new x(p.inject(p.INJECTOR))},token:x,providedIn:"root"}),x);function x(t){this.injector=t,this.config={}}var k=new p.InjectionToken("configOptions");function E(t){return{provide:k,useValue:t}}function C(t,e){return function(){return t.load(e)}}function O(){return{provide:p.APP_INITIALIZER,useFactory:C,multi:!0,deps:[j,k]}}var T=(M.forRoot=function(){return{ngModule:M,providers:[E({}),O()]}},M.decorators=[{type:p.NgModule,args:[{imports:[],declarations:[],exports:[]}]}],M);function M(){}var L=(R.prototype.getTranslation=function(t){var e=require("../locale/"+t+".json"),o=l.of(e);if(this.config&&!this.prefix&&(this.prefix=this.config.getConfig("language.prefix")),!this.prefix)return o;var n=this.http.get(""+this.prefix+t+this.suffix);return l.combineLatest([o,n]).pipe(f.map(function(t){return s.ObjectUtils.mergeDeep(t[0],t[1])}))},R);function R(t,e,o,n){void 0===o&&(o=".json"),this.http=t,this.prefix=e,this.suffix=o,this.config=n}function N(t,e){return new L(t,undefined,undefined,e)}function P(t){return{provide:n.TranslateLoader,useFactory:t||N,deps:[a.HttpClient,j]}}var q=(D.prototype.handle=function(t){if(!t.translateService.langs.length)throw new Error("Translations are not yet loaded.          Check that the LanguageService is injected.");if("igo."===t.key.substr(0,4))throw new Error('The Key "'+t.key+'" is missing in locale file.');return t.key},D);function D(){}var _=($.forRoot=function(){return{ngModule:$,providers:[P()]}},$.decorators=[{type:p.NgModule,args:[{imports:[n.TranslateModule.forRoot({missingTranslationHandler:{provide:n.MissingTranslationHandler,useClass:q}})],declarations:[],exports:[n.TranslateModule]}]}],$);function $(){}var U=(Object.defineProperty(H.prototype,"options",{get:function(){return Object.assign({},H.defaultOptions,this._options)},set:function(t){this._options=t},enumerable:!0,configurable:!0}),H.defaultOptions={timeOut:5e3,hasCloseIcon:!1,showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:100,maxStack:3,preventDuplicates:!0},H.decorators=[{type:p.Component,args:[{selector:"igo-message-center",template:'<simple-notifications\r\n  class="mat-typography"\r\n  [ngClass]="{closeIcon: options.hasCloseIcon}"\r\n  [options]="options">\r\n</simple-notifications>\r\n',styles:["@charset \"UTF-8\";:host>>>div.simple-notification-wrapper{bottom:0;right:calc(50% - 150px)}:host>>>div.simple-notification{min-height:50px;margin-bottom:5px;padding-left:45px;padding-right:25px}:host>>>div.simple-notification.noIcon{padding-left:25px}@media only screen and (orientation:portrait) and (max-width:599px),only screen and (orientation:landscape) and (max-width:959px){:host>>>div.simple-notification-wrapper{right:0;left:0;width:100%}:host>>>div.simple-notification{margin-bottom:0}}:host>>>div.simple-notification .sn-title{line-height:23px;font-size:15px;font-weight:700}:host>>>div.simple-notification .sn-content{line-height:18px;font-size:15px}:host>>>div.simple-notification .icon{top:0;left:0;width:45px;height:100%;padding:7px}:host>>>div.simple-notification .icon mat-icon{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:100%;font-size:32px}:host>>>.closeIcon>>>.sn-title:after{content:'close';font-family:'Material Icons';font-feature-settings:'liga' 1;font-size:24px;font-weight:400;right:5px;top:5px;position:absolute}"]}]}],H.ctorParameters=function(){return[]},H.propDecorators={options:[{type:p.Input}]},H);function H(){this._options={}}var A=(B.forRoot=function(){return{ngModule:B,providers:[]}},B.decorators=[{type:p.NgModule,args:[{imports:[e.CommonModule,o.SimpleNotificationsModule.forRoot()],declarations:[U],exports:[U]}]}],B);function B(){}var K={ERROR:"error",ALERT:"alert",INFO:"info",SUCCESS:"success"},z=(V.prototype.showError=function(t){return t.error.caught=!0,this.error(t.error.message,t.error.title)},V.prototype.message=function(t){var e;if(this.messages$.next(this.messages$.value.concat([t])),t.options=t.options||{},(t=this.handleTemplate(t)).text)e=this.notificationService.create(t.title,t.text,t.type,t.options);else{if(!t.html)return;t.icon||(t.options.theClass=t.options.theClass?t.options.theClass+" noIcon":"noIcon"),e=this.notificationService.html(t.html,t.type,t.options)}return t.icon!==undefined&&this.addIcon(e,t.icon),e},V.prototype.success=function(t,e,o){return void 0===o&&(o={}),this.message({text:t,title:e,icon:o.icon||"check",options:o,type:K.SUCCESS})},V.prototype.error=function(t,e,o){return void 0===o&&(o={}),this.message({text:t,title:e,icon:o.icon||"error_outline",options:o,type:K.ERROR})},V.prototype.info=function(t,e,o){return void 0===o&&(o={}),this.message({text:t,title:e,icon:o.icon||"info_outline",options:o,type:K.INFO})},V.prototype.alert=function(t,e,o){return void 0===o&&(o={}),this.message({text:t,title:e,icon:o.icon||"access_alarm",options:o,type:K.ALERT})},V.prototype.remove=function(t){this.notificationService.remove(t)},V.prototype.addIcon=function(t,e){t.icon='\n      <mat-icon class="material-icons mat-icon mat-list-avatar" svgIcon="'+e+'">\n      </mat-icon>'},V.prototype.handleTemplate=function(t){if(!this.options.template||t.html)return t;var e=this.options.template;return e=(e=(e=e.replace("${text}",t.text)).replace("${title}",t.title)).replace("${icon}",t.icon),t.html=e,t.text=undefined,t.title=undefined,t.icon=undefined,t},V.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],V.ctorParameters=function(){return[{type:o.NotificationsService},{type:j}]},V.ngInjectableDef=p.defineInjectable({factory:function(){return new V(p.inject(o.NotificationsService),p.inject(j))},token:V,providedIn:"root"}),V);function V(t,e){this.notificationService=t,this.configService=e,this.messages$=new l.BehaviorSubject([]),this.options=this.configService.getConfig("message")||{}}var F=(J.prototype.getLanguage=function(){return this.language.match(/en|fr/)?this.language:"en"},J.prototype.setLanguage=function(t){this.language=t.match(/en|fr/)?t:"en",this.translate.use(this.language),this.translate.reloadLang(this.language)},J.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],J.ctorParameters=function(){return[{type:n.TranslateService}]},J.ngInjectableDef=p.defineInjectable({factory:function(){return new J(p.inject(n.TranslateService))},token:J,providedIn:"root"}),J);function J(t){this.translate=t,this.language=this.translate.getBrowserLang();var e=this.getLanguage();this.translate.setDefaultLang(e)}var G=(W.prototype.intercept=function(t,e){var o=this,n={httpError:undefined};return e.handle(t).pipe(f.catchError(function(t){return o.handleError(t,n)}),f.finalize(function(){o.handleCaughtError(n),o.handleUncaughtError(n)}))},W.prototype.handleError=function(t,e){if(t instanceof a.HttpErrorResponse){var o="object"===t.error?t.error:{};o.message=t.error.message||t.statusText,o.caught=!1,t=new a.HttpErrorResponse({error:o,headers:t.headers,status:t.status,statusText:t.statusText,url:t.url})}return e.httpError=t,l.throwError(t)},W.prototype.handleCaughtError=function(t){var e=t.httpError;e&&e.error.toDisplay&&(e.error.caught=!0,this.messageService.error(e.error.message,e.error.title))},W.prototype.handleUncaughtError=function(t){var e=t.httpError;if(e&&!e.error.caught){var o=this.injector.get(F).translate,n=o.instant("igo.core.errors.uncaught.message"),r=o.instant("igo.core.errors.uncaught.title");e.error.caught=!0,this.messageService.error(n,r)}},W.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],W.ctorParameters=function(){return[{type:z},{type:p.Injector}]},W.ngInjectableDef=p.defineInjectable({factory:function(){return new W(p.inject(z),p.inject(p.INJECTOR))},token:W,providedIn:"root"}),W);function W(t,e){this.messageService=t,this.injector=e}var Z=(Q.forRoot=function(){return{ngModule:Q,providers:[{provide:a.HTTP_INTERCEPTORS,useClass:G,multi:!0}]}},Q.decorators=[{type:p.NgModule,args:[{imports:[],declarations:[],exports:[]}]}],Q.ctorParameters=function(){return[{type:Q,decorators:[{type:p.Optional},{type:p.SkipSelf}]}]},Q);function Q(t){if(t)throw new Error("IgoErrorModule is already loaded. Import it in the AppModule only")}var X=(Y.forRoot=function(){return{ngModule:Y,providers:[]}},Y.decorators=[{type:p.NgModule,args:[{imports:[e.CommonModule,a.HttpClientModule,I.forRoot(),T.forRoot(),Z.forRoot(),_.forRoot(),A.forRoot()],declarations:[],exports:[I,T,Z,_,A]}]}],Y.ctorParameters=function(){return[{type:i.MatIconRegistry},{type:r.DomSanitizer}]},Y);function Y(t,e){t.addSvgIconSet(e.bypassSecurityTrustResourceUrl("./assets/igo2/core/icons/mdi.svg"))}var tt=function(t,e){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};var et,ot=(function Et(t,e){function o(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(nt,et=i.GestureConfig),nt.prototype.buildHammer=function(t){var e=et.prototype.buildHammer.call(this,t);return e.set({touchAction:"pan-y"}),e},nt.decorators=[{type:p.Injectable}],nt);function nt(){return null!==et&&et.apply(this,arguments)||this}var rt=(it.forRoot=function(){return{ngModule:it,providers:[{provide:r.HAMMER_GESTURE_CONFIG,useClass:ot}]}},it.decorators=[{type:p.NgModule,args:[{imports:[],declarations:[],exports:[]}]}],it);function it(){}var st=(at.prototype.intercept=function(o,t){var n,r=Date.now();return t.handle(o).pipe(f.tap(function(t){return n=t instanceof a.HttpResponse?"succeeded":""},function(t){return n="failed"}),f.finalize(function(){var t=Date.now()-r,e=o.method+' "'+o.urlWithParams+'"\n             '+n+" in "+t+" ms.";console.log(e)}))},at.decorators=[{type:p.Injectable}],at);function at(){}var ct=(ut.forRoot=function(){return{ngModule:ut,providers:[{provide:a.HTTP_INTERCEPTORS,useClass:st,multi:!0}]}},ut.decorators=[{type:p.NgModule,args:[{imports:[],declarations:[],exports:[]}]}],ut);function ut(){}var pt=new p.InjectionToken("routeServiceOptions");var lt=(Object.defineProperty(ft.prototype,"queryParams",{get:function(){return this.route.queryParams},enumerable:!0,configurable:!0}),ft.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],ft.ctorParameters=function(){return[{type:c.ActivatedRoute},{type:undefined,decorators:[{type:p.Inject,args:[pt]},{type:p.Optional}]}]},ft.ngInjectableDef=p.defineInjectable({factory:function(){return new ft(p.inject(c.ActivatedRoute),p.inject(pt,8))},token:ft,providedIn:"root"}),ft);function ft(t,e){this.route=t;this.options=Object.assign({},{centerKey:"center",zoomKey:"zoom",projectionKey:"projection",contextKey:"context",searchKey:"search",visibleOnLayersKey:"visiblelayers",visibleOffLayersKey:"invisiblelayers",directionsCoordKey:"routing",toolKey:"tool",wmsUrlKey:"wmsUrl",wmsLayersKey:"wmsLayers",wmtsUrlKey:"wmtsUrl",wmtsLayersKey:"wmtsLayers",vectorKey:"vector"},e)}var dt=(Object.defineProperty(gt.prototype,"paq",{get:function(){return window._paq=window._paq||[]},enumerable:!0,configurable:!0}),gt.prototype.initMatomo=function(){var o=this;if(this.options.url&&this.options.id){var n="/"===this.options.url.substr(-1)?this.options.url+"matomo":this.options.url;!function(){o.paq.push(["setTrackerUrl",n+".php"]),o.paq.push(["setSiteId",o.options.id]);var t=document.createElement("script"),e=document.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.defer=!0,t.src=n+".js",e.parentNode.insertBefore(t,e)}()}},gt.prototype.setUser=function(t,e){if("matomo"===this.options.provider){if(t){this.paq.push(["setUserId",t.id]);var o=t.firstName+" "+t.lastName;this.paq.push(["setCustomVariable",1,"user",t.sourceId,"visit"]),this.paq.push(["setCustomVariable",2,"name",o,"visit"]),this.paq.push(["setCustomVariable",3,"profils",e,"visit"])}else this.paq.push(["resetUserId"]),this.paq.push(["deleteCustomVariable",1,"user"]),this.paq.push(["deleteCustomVariable",2,"name"]),this.paq.push(["deleteCustomVariable",3,"profils"]);this.paq.push(["trackPageView"]),this.paq.push(["enableLinkTracking"])}},gt.prototype.trackSearch=function(t,e){"matomo"===this.options.provider&&this.paq.push(["trackSiteSearch",t,!1,e])},gt.prototype.trackEvent=function(t,e,o){"matomo"===this.options.provider&&this.paq.push(["trackEvent",t,e,o])},gt.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],gt.ctorParameters=function(){return[{type:j}]},gt.ngInjectableDef=p.defineInjectable({factory:function(){return new gt(p.inject(j))},token:gt,providedIn:"root"}),gt);function gt(t){this.config=t,this.options=this.config.getConfig("analytics")||{},"matomo"===this.options.provider&&this.initMatomo()}var ht={Mobile:"mobile",Tablet:"tablet",Desktop:"desktop"},vt={Portrait:"portrait",Landscape:"landscape"},mt=(yt.prototype.getMedia=function(){return this.media$.value},yt.prototype.getOrientation=function(){return this.orientation$.value},yt.prototype.isTouchScreen=function(){return"ontouchstart"in document.documentElement},yt.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],yt.ctorParameters=function(){return[{type:u.BreakpointObserver}]},yt.ngInjectableDef=p.defineInjectable({factory:function(){return new yt(p.inject(u.BreakpointObserver))},token:yt,providedIn:"root"}),yt);function yt(t){var e=this;this.media$=new l.BehaviorSubject(undefined),this.orientation$=new l.BehaviorSubject(undefined),t.observe([u.Breakpoints.HandsetLandscape]).subscribe(function(t){t.matches&&(e.media$.next(ht.Mobile),e.orientation$.next(vt.Landscape))}),t.observe([u.Breakpoints.HandsetPortrait]).subscribe(function(t){t.matches&&(e.media$.next(ht.Mobile),e.orientation$.next(vt.Portrait))}),t.observe([u.Breakpoints.TabletLandscape]).subscribe(function(t){t.matches&&(e.media$.next(ht.Tablet),e.orientation$.next(vt.Landscape))}),t.observe([u.Breakpoints.TabletPortrait]).subscribe(function(t){t.matches&&(e.media$.next(ht.Tablet),e.orientation$.next(vt.Portrait))}),t.observe([u.Breakpoints.WebLandscape]).subscribe(function(t){t.matches&&(e.media$.next(ht.Desktop),e.orientation$.next(vt.Landscape))}),t.observe([u.Breakpoints.WebPortrait]).subscribe(function(t){t.matches&&(e.media$.next(ht.Desktop),e.orientation$.next(vt.Portrait))})}var bt={SESSION:"Session",LOCAL:"Local"},It=(St.prototype.get=function(t,e){var o;if(e&&e!==bt.SESSION||(o=sessionStorage.getItem(this.options.key+"."+t)),e!==bt.LOCAL&&(o||e)||(o=localStorage.getItem(this.options.key+"."+t)),o)try{o=JSON.parse(o)}catch(n){o=o}return o},St.prototype.set=function(t,e,o){void 0===o&&(o=bt.LOCAL),o===bt.SESSION?sessionStorage.setItem(this.options.key+"."+t,JSON.stringify(e)):localStorage.setItem(this.options.key+"."+t,JSON.stringify(e))},St.prototype.remove=function(t,e){void 0===e&&(e=bt.LOCAL),e===bt.SESSION?sessionStorage.removeItem(this.options.key+"."+t):localStorage.removeItem(this.options.key+"."+t)},St.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],St.ctorParameters=function(){return[{type:j}]},St.ngInjectableDef=p.defineInjectable({factory:function(){return new St(p.inject(j))},token:St,providedIn:"root"}),St);function St(t){this.config=t,this.options=this.config.getConfig("storage")||{key:"igo"}}var wt=(jt.prototype.checkNetworkState=function(){var n=this;this.onlineSubscription=l.fromEvent(window,"online").subscribe(function(){var t=n.injector.get(F).translate,e=t.instant("igo.core.network.online.message"),o=t.instant("igo.core.network.online.title");n.messageService.info(e,o),n.state.connection=!0,n.emitEvent()}),this.offlineSubscription=l.fromEvent(window,"offline").subscribe(function(){var t=n.injector.get(F).translate,e=t.instant("igo.core.network.offline.message"),o=t.instant("igo.core.network.offline.title");n.messageService.info(e,o),n.state.connection=!1,n.emitEvent()})},jt.prototype.emitEvent=function(){this.stateChangeEventEmitter.emit(this.state)},jt.prototype.ngOnDestroy=function(){try{this.offlineSubscription.unsubscribe(),this.onlineSubscription.unsubscribe()}catch(t){}},jt.prototype.currentState=function(t){return void 0===t&&(t=!0),t?this.stateChangeEventEmitter.pipe(f.debounceTime(300),f.startWith(this.state)):this.stateChangeEventEmitter.pipe(f.debounceTime(300))},jt.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],jt.ctorParameters=function(){return[{type:z},{type:p.Injector}]},jt.ngInjectableDef=p.defineInjectable({factory:function(){return new jt(p.inject(z),p.inject(p.INJECTOR))},token:jt,providedIn:"root"}),jt);function jt(t,e){this.messageService=t,this.injector=e,this.stateChangeEventEmitter=new p.EventEmitter,this.state={connection:window.navigator.onLine},this.checkNetworkState()}var xt=(kt.prototype.checkNetworkState=function(){var n=this;this.onlineSubscription=l.fromEvent(window,"online").subscribe(function(){var t=n.injector.get(F).translate,e=t.instant("igo.core.network.online.message"),o=t.instant("igo.core.network.online.title");n.messageService.info(e,o),n.state.connection=!0,n.emitEvent()}),this.offlineSubscription=l.fromEvent(window,"offline").subscribe(function(){var t=n.injector.get(F).translate,e=t.instant("igo.core.network.offline.message"),o=t.instant("igo.core.network.offline.title");n.messageService.info(e,o),n.state.connection=!1,n.emitEvent()})},kt.prototype.checkNetworkStateMobile=function(){var n=this;this.offlineSubscription=this.network.onDisconnect().subscribe(function(){n.state.connection=!1,n.previousState!==n.state.connection&&setTimeout(function(){if(!n.state.connection){var t=n.injector.get(F).translate,e=t.instant("igo.core.network.offline.message"),o=t.instant("igo.core.network.offline.title");n.messageService.info(e,o),n.state.connection=!1,n.emitEvent(),n.previousState=n.state.connection}},1e4)}),this.onlineSubscription=this.network.onConnect().subscribe(function(){n.state.connection=!0,n.previousState!==n.state.connection&&setTimeout(function(){if(n.state.connection){var t=n.injector.get(F).translate,e=t.instant("igo.core.network.online.message"),o=t.instant("igo.core.network.online.title");n.messageService.info(e,o),n.state.connection=!0,n.emitEvent(),n.previousState=n.state.connection}},1e4)})},kt.prototype.emitEvent=function(){this.stateChangeEventEmitter.emit(this.state)},kt.prototype.ngOnDestroy=function(){try{this.offlineSubscription.unsubscribe(),this.onlineSubscription.unsubscribe()}catch(t){}},kt.prototype.currentState=function(t){return void 0===t&&(t=!0),t?this.stateChangeEventEmitter.pipe(f.debounceTime(300),f.startWith(this.state)):this.stateChangeEventEmitter.pipe(f.debounceTime(300))},kt.decorators=[{type:p.Injectable,args:[{providedIn:"root"}]}],kt.ctorParameters=function(){return[{type:z},{type:p.Injector},{type:d.Network},{type:g.Platform}]},kt.ngInjectableDef=p.defineInjectable({factory:function(){return new kt(p.inject(z),p.inject(p.INJECTOR),p.inject(h.Network),p.inject(g.Platform))},token:kt,providedIn:"root"}),kt);function kt(t,e,o,n){var r=this;this.messageService=t,this.injector=e,this.network=o,this.platform=n,this.stateChangeEventEmitter=new p.EventEmitter,this.state={connection:window.navigator.onLine},this.previousState=!window.navigator.onLine,this.platform.ready().then(function(){r.platform.is("cordova")?r.platform.is("android")&&r.checkNetworkStateMobile():r.checkNetworkState()})}t.IgoCoreModule=X,t.IgoActivityModule=I,t.IgoConfigModule=T,t.IgoGestureModule=rt,t.IgoLanguageModule=_,t.IgoMessageModule=A,t.IgoErrorModule=Z,t.IgoLoggingModule=ct,t.provideConfigOptions=E,t.configFactory=C,t.provideConfigLoader=O,t.CONFIG_OPTIONS=k,t.IgoGestureConfig=ot,t.defaultLanguageLoader=N,t.provideLanguageLoader=function Ct(t){return{provide:n.TranslateLoader,useFactory:t||N,deps:[a.HttpClient]}},t.provideDefaultLanguageLoader=P,t.provideRouteServiceOptions=function Ot(t){return{provide:pt,useValue:t}},t.ROUTE_SERVICE_OPTIONS=pt,t.RouteService=lt,t.ActivityService=v,t.ActivityInterceptor=y,t.AnalyticsService=dt,t.ConfigService=j,t.version=w,t.LanguageLoader=L,t.LanguageService=F,t.IgoMissingTranslationHandler=q,t.Media=ht,t.MediaOrientation=vt,t.MediaService=mt,t.MessageCenterComponent=U,t.MessageType=K,t.MessageService=z,t.ErrorInterceptor=G,t.LoggingInterceptor=st,t.StorageService=It,t.StorageScope=bt,t.NetworkService=wt,t.NetworkIonicService=xt,t.ɵa=y,t.ɵb=v,t.ɵc=j,t.ɵg=L,t.ɵf=q,t.ɵh=U,t.ɵe=z,t.ɵd=G,t.ɵi=st,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=igo2-core.umd.min.js.map