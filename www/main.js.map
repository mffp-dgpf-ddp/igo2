{"version":3,"sources":["webpack:///./dist/igo-lib/auth/fesm5/igo2-auth.js","webpack:///./dist/igo-lib/common/fesm5/igo2-common.js","webpack:///./dist/igo-lib/context/fesm5/igo2-context.js","webpack:///./dist/igo-lib/core/fesm5/igo2-core.js","webpack:///./dist/igo-lib/core/locale sync ^\\.\\/.*\\.json$","webpack:///./dist/igo-lib/geo/fesm5/igo2-geo.js","webpack:///./dist/igo-lib/integration/fesm5/igo2-integration.js","webpack:///./dist/igo-lib/utils/fesm5/igo2-utils.js","webpack:///./node_modules/@ionic/core/dist/esm-es5 lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/feature-viewer/feature-viewer.component.html","webpack:///./src/app/components/feature-viewer/feature-viewer.component.scss","webpack:///./src/app/components/feature-viewer/feature-viewer.component.ts","webpack:///./src/app/components/feature-viewer/feature-viewer.module.ts","webpack:///./src/app/components/zone-selection/zone-selection.component.html","webpack:///./src/app/components/zone-selection/zone-selection.component.scss","webpack:///./src/app/components/zone-selection/zone-selection.component.ts","webpack:///./src/app/components/zone-selection/zone-selection.module.ts","webpack:///./src/app/pages/portal/expansion-panel/expansion-panel-header.component.html","webpack:///./src/app/pages/portal/expansion-panel/expansion-panel-header.component.scss","webpack:///./src/app/pages/portal/expansion-panel/expansion-panel-header.component.ts","webpack:///./src/app/pages/portal/expansion-panel/expansion-panel.animations.ts","webpack:///./src/app/pages/portal/expansion-panel/expansion-panel.component.html","webpack:///./src/app/pages/portal/expansion-panel/expansion-panel.component.scss","webpack:///./src/app/pages/portal/expansion-panel/expansion-panel.component.ts","webpack:///./src/app/pages/portal/expansion-panel/expansion-panel.module.ts","webpack:///./src/app/pages/portal/map-overlay/map-overlay.component.html","webpack:///./src/app/pages/portal/map-overlay/map-overlay.component.scss","webpack:///./src/app/pages/portal/map-overlay/map-overlay.component.ts","webpack:///./src/app/pages/portal/map-overlay/map-overlay.module.ts","webpack:///./src/app/pages/portal/portal.animation.ts","webpack:///./src/app/pages/portal/portal.component.html","webpack:///./src/app/pages/portal/portal.component.scss","webpack:///./src/app/pages/portal/portal.component.ts","webpack:///./src/app/pages/portal/portal.module.ts","webpack:///./src/app/pages/portal/sidenav/sidenav.component.html","webpack:///./src/app/pages/portal/sidenav/sidenav.component.scss","webpack:///./src/app/pages/portal/sidenav/sidenav.component.ts","webpack:///./src/app/pages/portal/sidenav/sidenav.module.ts","webpack:///./src/app/pages/portal/toast-panel/toast-panel.component.html","webpack:///./src/app/pages/portal/toast-panel/toast-panel.component.scss","webpack:///./src/app/pages/portal/toast-panel/toast-panel.component.ts","webpack:///./src/app/pages/portal/toast-panel/toast-panel.module.ts","webpack:///./src/app/pages/portal/toolbox/toolbox.animation.ts","webpack:///./src/app/pages/portal/toolbox/toolbox.component.html","webpack:///./src/app/pages/portal/toolbox/toolbox.component.scss","webpack:///./src/app/pages/portal/toolbox/toolbox.component.ts","webpack:///./src/app/pages/portal/toolbox/toolbox.module.ts","webpack:///./src/app/services/bbox.service.ts","webpack:///./src/app/services/map-image.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AACN;AACF;AACe;AACsB;AAC6I;AACtK;AACmC;AACJ;AACU;AACT;;AAE/E;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,eAAe,iDAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB,2CAA2C,yDAAa;AACxD;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS,OAAO,sDAAQ;AACxB,MAAM;AACN,sDAAsD,sEAAgB,EAAE,2CAA2C,yBAAyB,4DAAM,CAAC,sDAAQ,GAAG,EAAE,2CAA2C;AAC3M;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,oDAAe;AAChD;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,2BAA2B,gEAAW;AACtC;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,2BAA2B,gEAAW;AACtC;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,+CAAE;AACjB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,+CAAE;AACjB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,kDAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,sDAAsD,mBAAmB;AACzE,kBAAkB,0DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,8CAA8C;AAC9C,SAAS,OAAO,+DAAU,EAAE;AAC5B,SAAS,qBAAqB;AAC9B,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,sDAAM,gBAAgB,OAAO,sDAAQ,EAAE;AACvD,MAAM;AACN,qDAAqD,sEAAgB,EAAE,0CAA0C,wBAAwB,4DAAM,CAAC,+DAAU,GAAG,4DAAM,gBAAgB,4DAAM,CAAC,yDAAa,GAAG,4DAAM,CAAC,2DAAe,GAAG,4DAAM,CAAC,sDAAM,MAAM,EAAE,0CAA0C;AAClS;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,6DAAM;AACxB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,yBAAyB,+DAAe,CAAC,EAAE;AACrE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,gPAAgP,mCAAmC,+nBAA+nB,2CAA2C,6EAA6E,qCAAqC,sGAAsG,0CAA0C,uGAAuG,kCAAkC;AACx0C,qCAAqC,qEAAuB;AAC5D,oCAAoC,YAAY,UAAU,YAAY,UAAU,gBAAgB,gBAAgB,kBAAkB,sBAAsB,sBAAsB,cAAc,eAAe,QAAQ,SAAS,oCAAoC,4BAA4B,mBAAmB,eAAe,MAAM,OAAO,gBAAgB,WAAW,YAAY,YAAY,WAAW;AACzY,iBAAiB;AACjB;AACA;AACA,oDAAoD;AACpD,SAAS,oBAAoB;AAC7B,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,sDAAM,gBAAgB,OAAO,sDAAQ,EAAE;AACvD,MAAM;AACN;AACA,6BAA6B,OAAO,mDAAK,EAAE;AAC3C,kCAAkC,OAAO,mDAAK,EAAE;AAChD,wBAAwB,OAAO,mDAAK,EAAE;AACtC,mCAAmC,OAAO,mDAAK,EAAE;AACjD,yBAAyB,OAAO,mDAAK,EAAE;AACvC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0DAAY;AACrC;AACA,2BAA2B,yDAAU;AACrC,2BAA2B,yDAAU;AACrC,SAAS;AACT;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,wNAAwN,6BAA6B,sMAAsM,iCAAiC,sJAAsJ,8BAA8B,iHAAiH,yCAAyC,0FAA0F,OAAO;AAC34B,qCAAqC,qEAAuB;AAC5D,0CAA0C,WAAW;AACrD,iBAAiB;AACjB;AACA;AACA,sDAAsD;AACtD,SAAS,oBAAoB;AAC7B,SAAS,OAAO,0DAAW;AAC3B,MAAM;AACN;AACA,0BAA0B,OAAO,mDAAK,EAAE;AACxC,iBAAiB,OAAO,oDAAM,EAAE;AAChC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0DAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,qBAAqB,EAAE;AACvB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,qCAAqC,qEAAuB;AAC5D,+CAA+C,eAAe;AAC9D,iBAAiB;AACjB;AACA;AACA,wDAAwD;AACxD,SAAS,oBAAoB;AAC7B,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,4DAAc;AAC9B,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAM,EAAE;AAChC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0DAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,qBAAqB,EAAE;AACvB,oBAAoB;AACpB;AACA,qBAAqB,2BAA2B,EAAE;AAClD;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,oBAAoB;AACpB;AACA;AACA;AACA,yBAAyB,EAAE;AAC3B,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,0CAA0C,EAAE;AAC5C;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,qCAAqC,qEAAuB;AAC5D,mDAAmD,eAAe;AAClE,iBAAiB;AACjB;AACA;AACA,sDAAsD;AACtD,SAAS,oBAAoB;AAC7B,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,4DAAc;AAC9B,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAM,EAAE;AAChC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,8CAA8C;AAC9C,SAAS,oBAAoB;AAC7B,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,sDAAM;AACtB,MAAM;AACN,qDAAqD,sEAAgB,EAAE,0CAA0C,wBAAwB,4DAAM,eAAe,4DAAM,CAAC,yDAAa,GAAG,4DAAM,CAAC,sDAAM,GAAG,EAAE,0CAA0C;AACjP;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,4CAA4C;AAC5C,SAAS,oBAAoB;AAC7B,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,sDAAM;AACtB,MAAM;AACN,mDAAmD,sEAAgB,EAAE,wCAAwC,sBAAsB,4DAAM,eAAe,4DAAM,CAAC,yDAAa,GAAG,4DAAM,CAAC,sDAAM,GAAG,EAAE,wCAAwC;AACzO;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,6CAA6C;AAC7C,SAAS,oBAAoB;AAC7B,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,sDAAM;AACtB,MAAM;AACN,oDAAoD,sEAAgB,EAAE,yCAAyC,uBAAuB,4DAAM,eAAe,4DAAM,CAAC,yDAAa,GAAG,4DAAM,CAAC,sDAAM,GAAG,EAAE,yCAAyC;AAC7O;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,kDAAkD,0DAAG;AACrD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,8BAA8B,kDAAkD,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS,oBAAoB;AAC7B,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,sDAAM;AACtB,MAAM;AACN,sDAAsD,sEAAgB,EAAE,2CAA2C,yBAAyB,4DAAM,eAAe,4DAAM,CAAC,yDAAa,GAAG,4DAAM,CAAC,sDAAM,GAAG,EAAE,2CAA2C;AACrP;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,kDAAkD;AAClD,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS;AACT,MAAM;AACN,yDAAyD,sEAAgB,EAAE,8CAA8C,4BAA4B,4DAAM,CAAC,yDAAa,GAAG,4DAAM,gBAAgB,EAAE,8CAA8C;AAClP;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,qDAAqD;AACrD,SAAS,oBAAoB;AAC7B,SAAS,OAAO,wDAAU;AAC1B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb;AACA,KAAK,8CAA8C;AACnD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB,8BAA8B,4DAAY;AAC1C,8BAA8B,4DAAY;AAC1C;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,sEAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA,wBAAwB,4DAAY;AACpC,wBAAwB,kEAAmB;AAC3C,wBAAwB,oEAAkB;AAC1C,wBAAwB,gEAAc;AACtC,wBAAwB,iEAAe;AACvC,wBAAwB,6DAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAE6R;;AAE7R,qC;;;;;;;;;;;;ACn2CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqD;AACN;AACU;AACpC;AAC6B;AAC6B;AACD;AACoP;AACxQ;AACM;AACtB;AACuC;AAClC;AACqQ;AACpM;AACS;AAC/C;;AAE1E;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,WAAW,2CAAC;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB,4BAA4B,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB,4BAA4B,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB,4BAA4B,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB,4BAA4B,EAAE;AAC9B;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB,4BAA4B,EAAE;AAC9B;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mDAAa;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,2BAA2B,EAAE,+CAA+C;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,kEAAkE;AAClE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,iDAAiD;AACjD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB,2CAA2C;AAC3C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,2CAA2C;AAC3C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB,2CAA2C;AAC3C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,6BAA6B,EAAE;AAC1D,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB,+DAA+D,EAAE,OAAO;AACxE;AACA,qDAAqD;AACrD;AACA;AACA,qDAAqD;AACrD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,qBAAqB,qDAAM;AAC3B;AACA;AACA;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qDAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qDAAe;AAC1C;AACA;AACA;AACA,yBAAyB,qDAAe;AACxC;AACA;AACA;AACA,0BAA0B,qDAAe;AACzC;AACA;AACA;AACA,0BAA0B,qDAAe;AACzC;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0BAA0B,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0BAA0B,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,iCAAiC,2DAAG;AACpC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,4BAA4B,EAAE;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,iCAAiC,2DAAG;AACpC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,8BAA8B,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,wBAAwB,2DAAa;AACrC,kBAAkB,4DAAI,KAAK,oEAAY;AACvC;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,qBAAqB,qDAAM;AAC3B,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA,2BAA2B,EAAE,iBAAiB,EAAE;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,sCAAsC,mDAAa,eAAe,uDAAQ;AAC1E,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,6BAA6B,oBAAoB,EAAE;AACnD,eAAe,mDAAa,eAAe,uDAAQ,iBAAiB,2DAAG;AACvE,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,qBAAqB,qDAAM;AAC3B;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB,gCAAgC,EAAE;AAClC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,sBAAsB,EAAE;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,mBAAmB,wDAAW;AAC9B,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA,6BAA6B,qDAAe;AAC5C;AACA;AACA;AACA,0BAA0B,qDAAe;AACzC;AACA;AACA;AACA,0BAA0B,qDAAe;AACzC;AACA;AACA;AACA,6CAA6C,cAAc;AAC3D;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,wBAAwB;AACxB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0BAA0B,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0BAA0B,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,oBAAoB,EAAE;AAC3C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,uBAAuB,EAAE;AAC9C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,sDAAsD,EAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,sDAAsD,EAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,iDAAiD,EAAE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,uCAAuC,EAAE;AACpE,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,6BAA6B,yCAAyC,EAAE;AACxE;AACA,kBAAkB,4DAAI;AACtB;AACA,oBAAoB;AACpB;AACA,qBAAqB,8BAA8B,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mCAAmC,uDAAQ,gDAAgD,qBAAqB;AAChH;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA,8BAA8B,wDAAW;AACzC;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,kCAAkC,sBAAsB,EAAE;AAC1D,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,qDAAqD,EAAE;AAC5E;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,4BAA4B,EAAE;AACnD;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB,kEAAU;AAC5B,oBAAoB;AACpB;AACA,qBAAqB,QAAQ,gDAAE,cAAc,EAAE,IAAI,2DAAG;AACtD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,oBAAoB;AACpB;AACA,qBAAqB;AACrB;AACA;AACA;AACA,WAAW,EAAE;AACb,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,oCAAoC,uDAAQ,mDAAmD,sBAAsB;AACrH;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,gCAAgC,yBAAyB,EAAE;AAC3D,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,gCAAgC,yBAAyB,EAAE;AAC3D,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,gCAAgC,wBAAwB,EAAE;AAC1D,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,iDAAiD,cAAc;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,iDAAiD,eAAe;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,qBAAqB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qDAAe;AAC5C;AACA;AACA;AACA;AACA,8BAA8B,qDAAe;AAC7C,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2DAAY;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,uCAAuC,EAAE;AACpE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,+BAA+B,sBAAsB,EAAE;AACvD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,0CAA0C,EAAE;AACvE,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,0CAA0C,EAAE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,kBAAkB;AAC1D;AACA;AACA,mDAAmD,iBAAiB;AACpE;AACA,mBAAmB,EAAE;AACrB;AACA,kCAAkC,+BAA+B;AACjE;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,oTAAoT,WAAW,yFAAyF,oBAAoB,kJAAkJ,uBAAuB;AACrlB,qCAAqC,sEAAuB;AAC5D,6CAA6C,WAAW;AACxD,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,yBAAyB,OAAO,oDAAK,EAAE;AACvC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,wBAAwB,OAAO,oDAAK,EAAE;AACtC,yBAAyB,OAAO,oDAAK,EAAE;AACvC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,0BAA0B,OAAO,qDAAM,EAAE;AACzC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,qDAAe;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,2DAAY;AAC3C;AACA;AACA;AACA,sCAAsC,2DAAY;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,+BAA+B,iCAAiC,EAAE;AAClE;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,+BAA+B,oBAAoB,EAAE;AACrD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,+BAA+B,EAAE;AACtD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,yCAAyC,EAAE;AAChE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,iDAAiD,EAAE;AACxE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0CAA0C,EAAE;AACjE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,mFAAmF,EAAE;AAC1G;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,uCAAuC,EAAE;AACpE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,gCAAgC,EAAE;AACxD;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,mCAAmC,uCAAuC,EAAE;AAC5E;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,iBAAiB;AAC1D,sCAAsC,kBAAkB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA,0CAA0C,iCAAiC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,yCAAyC,mBAAmB;AAC5D;AACA,0CAA0C,kBAAkB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,23CAA23C,cAAc,4KAA4K,cAAc,qXAAqX,0BAA0B,kgCAAkgC,0BAA0B,0qBAA0qB,aAAa,6VAA6V,aAAa,kPAAkP,qBAAqB,iJAAiJ,kBAAkB;AACz7I,qCAAqC,sEAAuB;AAC5D,oCAAoC,WAAW,YAAY,cAAc,uGAAuG,YAAY,gGAAgG,YAAY,iBAAiB,aAAa,sBAAsB,YAAY,cAAc,cAAc,eAAe,gBAAgB,qBAAqB,4DAA4D,+BAA+B,4BAA4B,eAAe,aAAa,WAAW;AACtlB,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,oBAAoB,OAAO,oDAAK,EAAE;AAClC,0BAA0B,OAAO,oDAAK,EAAE;AACxC,uBAAuB,OAAO,qDAAM,EAAE;AACtC,8BAA8B,OAAO,qDAAM,EAAE;AAC7C;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,+CAA+C,uDAAQ;AACvD,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,qCAAqC,uDAAQ;AAC7C;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,oCAAoC,cAAc,YAAY,cAAc,kBAAkB,OAAO,WAAW,SAAS,cAAc,iBAAiB,eAAe,gBAAgB,0BAA0B,WAAW,mBAAmB,oCAAoC,qBAAqB,0DAA0D,mBAAmB,gBAAgB,uBAAuB,oBAAoB,gBAAgB,iBAAiB,qBAAqB,wEAAwE,YAAY,+FAA+F,qBAAqB,YAAY,YAAY,wGAAwG,YAAY,6DAA6D,YAAY,WAAW,iDAAiD,eAAe,mBAAmB,gBAAgB,YAAY;AAC7/B,iBAAiB;AACjB;AACA;AACA,qDAAqD;AACrD,SAAS,OAAO,gEAAiB,EAAE;AACnC,SAAS,OAAO,4DAAO;AACvB,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,gBAAgB,OAAO,oDAAK,EAAE;AAC9B,4BAA4B,OAAO,oDAAK,EAAE;AAC1C,sBAAsB,OAAO,oDAAK,EAAE;AACpC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,qBAAqB,OAAO,oDAAK,EAAE;AACnC,oBAAoB,OAAO,oDAAK,EAAE;AAClC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,wBAAwB,OAAO,oDAAK,EAAE;AACtC,yBAAyB,OAAO,oDAAK,EAAE;AACvC,0BAA0B,OAAO,0DAAW,+BAA+B;AAC3E,yBAAyB,OAAO,0DAAW,8BAA8B;AACzE,2BAA2B,OAAO,0DAAW,+BAA+B;AAC5E;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,2DAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0BAA0B,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0CAA0C,EAAE;AACjE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,yBAAyB,EAAE;AAChD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,yLAAyL,wCAAwC,sNAAsN,MAAM,qEAAqE,mBAAmB;AACrhB,qCAAqC,sEAAuB;AAC5D,wEAAwE,sBAAsB,yBAAyB;AACvH,iBAAiB;AACjB;AACA;AACA,yDAAyD,WAAW;AACpE;AACA,kBAAkB,OAAO,oDAAK,EAAE;AAChC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,qBAAqB,OAAO,oDAAK,EAAE;AACnC,oBAAoB,OAAO,oDAAK,EAAE;AAClC,oBAAoB,OAAO,oDAAK,EAAE;AAClC,mBAAmB,OAAO,qDAAM,EAAE;AAClC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,4DAAiB;AACzC,wBAAwB,iEAAe;AACvC,wBAAwB,+DAAa;AACrC,wBAAwB,kEAAgB;AACxC,wBAAwB,+DAAa;AACrC,wBAAwB,+DAAa;AACrC,wBAAwB,+DAAa;AACrC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iDAAiD,4BAA4B;AAC7E,wCAAwC,kBAAkB,MAAM,SAAS,OAAO,QAAQ,sCAAsC,UAAU,aAAa,6BAA6B,cAAc;AAChM,iBAAiB;AACjB;AACA;AACA,oDAAoD,WAAW;AAC/D;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB,8BAA8B,6DAAY;AAC1C;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,4BAA4B,2DAAY;AACxC;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,yDAAU;AAC1B,MAAM;AACN;AACA,oBAAoB,OAAO,qDAAM,EAAE;AACnC,4BAA4B,OAAO,2DAAY,0DAA0D;AACzG;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,4BAA4B,+CAA+C,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,mDAAI;AACpB;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,wDAAS,EAAE;AAC3B,SAAS,OAAO,yDAAU;AAC1B,MAAM;AACN;AACA,kBAAkB,OAAO,oDAAK,EAAE;AAChC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,kBAAkB,OAAO,qDAAM,EAAE;AACjC,iBAAiB,OAAO,2DAAY,oBAAoB;AACxD;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,sQAAsQ,OAAO;AAC7Q,+EAA+E,YAAY,WAAW,UAAU,cAAc,gBAAgB;AAC9I,iBAAiB;AACjB;AACA;AACA,uDAAuD,WAAW;AAClE;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,qBAAqB,OAAO,oDAAK,EAAE;AACnC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB,8BAA8B,+DAAa,EAAE,+DAAa;AAC1D;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,sDAAsD,mDAAmD,mCAAmC,gBAAgB,iHAAiH,mDAAmD,uEAAuE,uDAAuD;AAC9b,iCAAiC,kBAAkB,wBAAwB,gBAAgB,wBAAwB,gBAAgB;AACnI,iBAAiB;AACjB;AACA;AACA,yDAAyD;AACzD,SAAS,OAAO,8DAAY;AAC5B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,2DAAS;AACzB,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB,8BAA8B,iEAAe,EAAE,iEAAe,EAAE,4DAAiB;AACjF;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,2DAAY;AAC5C;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mCAAmC,kEAAc;AACjD;AACA,SAAS;AACT,mBAAmB,uDAAS;AAC5B,kBAAkB,8DAAM;AACxB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB,0CAA0C,EAAE;AAC5C;AACA;AACA;AACA,SAAS,IAAI,4DAAI;AACjB;AACA,oBAAoB;AACpB;AACA,qBAAqB,sBAAsB,EAAE;AAC7C,mBAAmB,uDAAS;AAC5B,kBAAkB,8DAAM;AACxB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB,0CAA0C,EAAE;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,IAAI,4DAAI;AACjB;AACA,oBAAoB;AACpB;AACA,qBAAqB,sBAAsB,EAAE;AAC7C;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,4DAAO,EAAE;AACzB,SAAS,OAAO,+DAAgB,EAAE;AAClC,SAAS,OAAO,yDAAU;AAC1B,MAAM;AACN;AACA,uBAAuB,OAAO,oDAAK,6BAA6B;AAChE,wBAAwB,OAAO,qDAAM,EAAE;AACvC,yBAAyB,OAAO,2DAAY,sCAAsC;AAClF;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,2CAA2C,aAAa;AACxD,iBAAiB;AACjB;AACA;AACA,sDAAsD,WAAW;AACjE;AACA,gBAAgB,OAAO,oDAAK,EAAE;AAC9B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,mDAAI,UAAU,uBAAuB;AACrD;AACA;AACA,mDAAmD;AACnD,SAAS,OAAO,sEAAY;AAC5B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,+DAAa;AACrC,wBAAwB,kEAAgB;AACxC,wBAAwB,gEAAc;AACtC,wBAAwB,iEAAe;AACvC,wBAAwB,4DAAiB;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,gCAAgC,2DAAY;AAC5C,gCAAgC,2DAAY;AAC5C;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,uDAAQ,oCAAoC,iBAAiB;AAChG;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,6BAA6B,OAAO,oDAAK,EAAE;AAC3C,wBAAwB,OAAO,qDAAM,EAAE;AACvC,wBAAwB,OAAO,qDAAM,EAAE;AACvC,sBAAsB,OAAO,0DAAW,+BAA+B;AACvE,sBAAsB,OAAO,2DAAY,mCAAmC;AAC5E,uBAAuB,OAAO,2DAAY,oCAAoC;AAC9E,kBAAkB,OAAO,2DAAY,+BAA+B;AACpE;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT,gCAAgC,EAAE;AAClC,yBAAyB,EAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,wBAAwB,EAAE;AAChD;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB,wEAAwE,EAAE;AAC1E;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS,OAAO,uEAAwB;AACxC,MAAM;AACN,iEAAiE,uEAAgB,EAAE,sDAAsD,oCAAoC,6DAAM,CAAC,uEAAwB,GAAG,EAAE,sDAAsD;AACvQ;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,iBAAiB,wDAAW;AAC5B;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,6EAA6E,4BAA4B;AACzG,uBAAuB,EAAE;AACzB;AACA,iDAAiD,iCAAiC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,oCAAoC,cAAc,WAAW,YAAY;AACzE,iBAAiB;AACjB;AACA;AACA,yDAAyD;AACzD,SAAS,gCAAgC;AACzC,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,qBAAqB,OAAO,oDAAK,EAAE;AACnC,kBAAkB,OAAO,oDAAK,EAAE;AAChC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,kBAAkB,OAAO,wDAAS,oBAAoB,OAAO,+DAAgB,EAAE,IAAI;AACnF;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,oCAAoC,EAAE;AAChE;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,8EAA8E,OAAO,GAAG,WAAW;AACnG,oCAAoC,aAAa,YAAY,WAAW,aAAa,sBAAsB,UAAU,mBAAmB,mBAAmB,cAAc,gBAAgB,0BAA0B,+BAA+B,uBAAuB,8BAA8B,uBAAuB,kBAAkB,MAAM,SAAS,OAAO,QAAQ,eAAe,2BAA2B,YAAY,cAAc,aAAa,gBAAgB,kBAAkB,6BAA6B,cAAc,gBAAgB,kBAAkB,uBAAuB,YAAY,WAAW,cAAc,oBAAoB,YAAY;AAC1oB,iBAAiB;AACjB;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,yDAAU,EAAE;AAC5B,SAAS,OAAO,uDAAY;AAC5B,MAAM;AACN;AACA,gBAAgB,OAAO,wDAAS,2BAA2B;AAC3D,mBAAmB,OAAO,oDAAK,EAAE;AACjC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,oBAAoB,OAAO,oDAAK,EAAE;AAClC,yBAAyB,OAAO,oDAAK,EAAE;AACvC,2BAA2B,OAAO,oDAAK,EAAE;AACzC,0BAA0B,OAAO,oDAAK,EAAE;AACxC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,sDAAsD,EAAE,OAAO;AAC/D;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB,mBAAmB,EAAE;AACrB,uDAAuD,EAAE;AACzD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,sDAAsD,EAAE;AACxD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA,oBAAoB,sBAAsB,EAAE;AAC5C;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA,wBAAwB,8BAA8B,EAAE;AACxD;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,2DAAY;AAC1C;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,mCAAmC,2CAAC;AACpC,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,uCAAuC,2CAAC;AACxC,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,0JAA0J,yCAAyC;AACnM,qCAAqC,sEAAuB;AAC5D,oCAAoC,cAAc,KAAK,WAAW,YAAY,iCAAiC,YAAY,8CAA8C,yBAAyB,kBAAkB,aAAa;AACjO,iBAAiB;AACjB;AACA;AACA,gDAAgD,WAAW;AAC3D;AACA,gBAAgB,OAAO,oDAAK,EAAE;AAC9B,oBAAoB,OAAO,oDAAK,EAAE;AAClC,sBAAsB,OAAO,qDAAM,EAAE;AACrC,mBAAmB,OAAO,wDAAS,sBAAsB;AACzD;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,0DAAW;AACnC,wBAAwB,kEAAmB;AAC3C;AACA;AACA;AACA,wBAAwB,0DAAW;AACnC,wBAAwB,kEAAmB;AAC3C;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,mDAAmD,WAAW;AAC9D,0DAA0D,uEAAgB,EAAE,+CAA+C,+BAA+B,EAAE,+CAA+C;AAC3M;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,+CAA+C;AAC/C;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,+CAA+C;AAC/C;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,2BAA2B,EAAE,qBAAqB,WAAW,mCAAmC;AAChG;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,sCAAsC,YAAY;AAClD;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA;AACA,2BAA2B,EAAE,oBAAoB,eAAe,WAAW,mBAAmB;AAC9F;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,sCAAsC,sBAAsB,uBAAuB;AACnF,mBAAmB,EAAE;AACrB,qCAAqC,qBAAqB,sBAAsB;AAChF,mBAAmB,EAAE;AACrB,0CAA0C,0BAA0B,2BAA2B;AAC/F,+BAA+B,WAAW,6DAA6D;AACvG;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,8CAA8C;AAC9C,SAAS,OAAO,0DAAW;AAC3B,MAAM;AACN,qDAAqD,uEAAgB,EAAE,0CAA0C,wBAAwB,6DAAM,CAAC,0DAAW,GAAG,EAAE,0CAA0C;AAC1M;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,SAAS,kBAAkB,yBAAyB;AACpD;AACA,oCAAoC;AACpC,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,+BAA+B,8BAA8B;AAC7D;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,uDAAuD,WAAW,mCAAmC,iBAAiB;AACtH,iBAAiB;AACjB;AACA;AACA,wDAAwD;AACxD,SAAS;AACT,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qDAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,iCAAiC,gDAAU;AAC3C;AACA;AACA;AACA,gCAAgC,gDAAE;AAClC;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,6QAA6Q,cAAc,8WAA8W,+BAA+B;AACxqB,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,uBAAuB,OAAO,oDAAK,EAAE;AACrC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,mBAAmB,OAAO,oDAAK,EAAE;AACjC,kBAAkB,OAAO,oDAAK,EAAE;AAChC,yBAAyB,OAAO,oDAAK,EAAE;AACvC;AACA;AACA;AACA;AACA,+BAA+B,yDAAU;AACzC;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qDAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,2fAA2f,+BAA+B;AAC1hB,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,uBAAuB,OAAO,oDAAK,EAAE;AACrC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,kBAAkB,OAAO,oDAAK,EAAE;AAChC,yBAAyB,OAAO,oDAAK,EAAE;AACvC;AACA;AACA;AACA;AACA,6BAA6B,yDAAU;AACvC;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qDAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,+gBAA+gB,+BAA+B;AAC9iB,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,uBAAuB,OAAO,oDAAK,EAAE;AACrC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,kBAAkB,OAAO,oDAAK,EAAE;AAChC,yBAAyB,OAAO,oDAAK,EAAE;AACvC;AACA;AACA;AACA;AACA,iCAAiC,yDAAU;AAC3C;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,0DAAW;AACnC,wBAAwB,kEAAmB;AAC3C,wBAAwB,+DAAa;AACrC,wBAAwB,oEAAkB;AAC1C,wBAAwB,gEAAc;AACtC,wBAAwB,iEAAe;AACvC,wBAAwB,4DAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,2BAA2B,EAAE;AAClD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,4EAA4E;AAC5E;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,oeAAoe,+BAA+B;AACngB,qCAAqC,sEAAuB;AAC5D,oCAAoC,WAAW,YAAY,cAAc,cAAc,iBAAiB,wBAAwB,qBAAqB,cAAc,0BAA0B,WAAW,0BAA0B,UAAU;AAC5O,iBAAiB;AACjB;AACA;AACA,qDAAqD,WAAW;AAChE;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,kBAAkB,OAAO,oDAAK,EAAE;AAChC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,oEAAkB;AAC1C,wBAAwB,4DAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,0DAAW;AACnC,wBAAwB,iEAAe;AACvC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,kBAAkB,OAAO,2DAAY,+BAA+B;AACpE;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,mBAAmB,OAAO,2DAAY,gCAAgC;AACtE;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS,OAAO,wDAAS,EAAE;AAC3B,SAAS,OAAO,yDAAU;AAC1B,MAAM;AACN;AACA,qBAAqB,OAAO,oDAAK,EAAE;AACnC,yBAAyB,OAAO,oDAAK,EAAE;AACvC,8BAA8B,OAAO,oDAAK,EAAE;AAC5C,oBAAoB,OAAO,oDAAK,EAAE;AAClC,0BAA0B,OAAO,oDAAK,EAAE;AACxC,kBAAkB,OAAO,qDAAM,EAAE;AACjC,mBAAmB,OAAO,2DAAY,oBAAoB;AAC1D;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,gEAAc;AACtC,wBAAwB,+DAAa;AACrC,wBAAwB,+DAAa;AACrC,wBAAwB,iEAAe;AACvC,wBAAwB,mEAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,kBAAkB,iEAAS;AAC3B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,gDAAU;AACjC,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS,OAAO,mDAAI;AACpB;AACA,iBAAiB;AACjB;AACA;AACA,kDAAkD;AAClD,SAAS,OAAO,+DAAU;AAC1B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,mCAAmC,8BAA8B;AACjE,SAAS;AACT;AACA;AACA;AACA,SAAS,OAAO,mDAAI;AACpB;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,sDAAsD,SAAS,wFAAwF,SAAS,YAAY,mTAAmT,6EAA6E,SAAS,8DAA8D,iHAAiH,+BAA+B;AACnwB,iBAAiB;AACjB;AACA;AACA,sDAAsD;AACtD,SAAS,OAAO,8DAAY;AAC5B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,2DAAS;AACzB,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB,8BAA8B,6DAAY,EAAE,iEAAe,EAAE,iEAAe;AAC5E;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,2DAAY;AAC5C,+BAA+B,2DAAY;AAC3C,kCAAkC,2DAAY;AAC9C,iCAAiC,2DAAY;AAC7C,iCAAiC,2DAAY;AAC7C,gCAAgC,2DAAY;AAC5C,yBAAyB,2DAAY;AACrC,2BAA2B,2DAAY;AACvC,0BAA0B,2DAAY;AACtC,4BAA4B,2DAAY;AACxC,2BAA2B,2DAAY;AACvC,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,wDAAS,EAAE;AAC3B,SAAS,OAAO,yDAAU;AAC1B,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,mBAAmB,OAAO,oDAAK,EAAE;AACjC,oBAAoB,OAAO,oDAAK,EAAE;AAClC,oBAAoB,OAAO,oDAAK,EAAE;AAClC,wBAAwB,OAAO,qDAAM,EAAE;AACvC,uBAAuB,OAAO,qDAAM,EAAE;AACtC,0BAA0B,OAAO,qDAAM,EAAE;AACzC,yBAAyB,OAAO,qDAAM,EAAE;AACxC,yBAAyB,OAAO,qDAAM,EAAE;AACxC,wBAAwB,OAAO,qDAAM,EAAE;AACvC,iBAAiB,OAAO,qDAAM,EAAE;AAChC,mBAAmB,OAAO,qDAAM,EAAE;AAClC,kBAAkB,OAAO,qDAAM,EAAE;AACjC,oBAAoB,OAAO,qDAAM,EAAE;AACnC,mBAAmB,OAAO,qDAAM,EAAE;AAClC,kBAAkB,OAAO,qDAAM,EAAE;AACjC,mBAAmB,OAAO,2DAAY,oBAAoB;AAC1D;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,qBAAqB,EAAE;AACjD;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,0BAA0B,EAAE;AACpD;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,sBAAsB,EAAE;AACjD;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,qBAAqB,EAAE;AAChD;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,mCAAmC,EAAE;AAC9D;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,4EAA4E,wBAAwB;AACpG,oCAAoC,cAAc,YAAY,cAAc,gBAAgB,SAAS,cAAc,kDAAkD,mBAAmB,gBAAgB,uBAAuB,oBAAoB,gBAAgB,iBAAiB,qBAAqB,6EAA6E,qBAAqB,YAAY,YAAY,sDAAsD,YAAY,sFAAsF,YAAY,sDAAsD,YAAY,WAAW,2FAA2F,eAAe,4BAA4B,UAAU;AACpyB,iBAAiB;AACjB;AACA;AACA,gDAAgD;AAChD,SAAS,OAAO,yDAAU;AAC1B,MAAM;AACN;AACA,sBAAsB,OAAO,oDAAK,EAAE;AACpC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,qBAAqB,OAAO,8DAAe,6BAA6B,oBAAoB,IAAI;AAChG,+BAA+B,OAAO,2DAAY,2CAA2C;AAC7F;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB,8BAA8B,6DAAY,EAAE,+DAAa,EAAE,+DAAa;AACxE;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,0NAA0N,OAAO;AACjO,qCAAqC,sEAAuB;AAC5D,oCAAoC,cAAc,kBAAkB,YAAY,YAAY,kBAAkB,qBAAqB,SAAS,YAAY,sCAAsC,WAAW,mBAAmB,uCAAuC,YAAY,mBAAmB,cAAc,+CAA+C,yBAAyB,qDAAqD,YAAY,iBAAiB,cAAc,wBAAwB,iBAAiB,YAAY,uBAAuB,mBAAmB,gBAAgB,iBAAiB,WAAW;AACnmB,iBAAiB;AACjB;AACA;AACA,iDAAiD,WAAW;AAC5D;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,sBAAsB,OAAO,oDAAK,EAAE,GAAG,OAAO,0DAAW,0CAA0C;AACnG;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,0CAA0C,EAAE;AAC5C;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,yCAAyC,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,4DAAU,gBAAgB,OAAO,mDAAI,EAAE,GAAG;AAC1D,SAAS,OAAO,wDAAS;AACzB,MAAM;AACN;AACA,kBAAkB,OAAO,2DAAY,+BAA+B;AACpE,wBAAwB,OAAO,2DAAY,sCAAsC;AACjF,mBAAmB,OAAO,2DAAY,gCAAgC;AACtE;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,0BAA0B,qDAAe;AACzC;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0BAA0B,EAAE;AACjD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,yBAAyB,EAAE;AACrD;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,sDAAsD,qEAAqE;AAC3H,qDAAqD,aAAa,oBAAoB,yCAAyC,cAAc,qBAAqB,YAAY,WAAW,kBAAkB,wBAAwB,YAAY,WAAW,kBAAkB,sBAAsB,kBAAkB,QAAQ,SAAS;AACrU,iBAAiB;AACjB;AACA;AACA,mDAAmD,WAAW;AAC9D;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,oEAAY;AAC9B;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,2DAA2D;AAC3D,SAAS,uCAAuC,OAAO,mDAAI,EAAE,GAAG;AAChE,SAAS,OAAO,0DAAe;AAC/B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB,8BAA8B,6DAAY,EAAE,0EAAwB;AACpE;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,qDAAe;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,kCAAkC,qDAAe;AACjD;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,mDAAK;AACxB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,2CAAK,eAAe,uDAAQ,2BAA2B,2DAAG;AACzE,oBAAoB;AACpB;AACA;AACA;AACA,SAAS,IAAI,2DAAG;AAChB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,qBAAqB,EAAE;AACjD;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,QAAQ,wDAAW,uBAAuB,EAAE;AACtE;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB,4BAA4B,wDAAW;AACvC,uBAAuB,EAAE;AACzB,4BAA4B,wDAAW;AACvC,mBAAmB,wDAAW;AAC9B,SAAS;AACT;AACA;AACA,CAAC,CAAC,6DAAU;;AAEZ;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,6BAA6B,uEAAc;AAC3C,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,8BAA8B,EAAE;AAC1D;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,eAAe,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,6BAA6B,EAAE;AACrD;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,YAAY,uDAAS;AACrB,sBAAsB,oEAAY,OAAO,4EAAoB;AAC7D;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,wDAAW;AAC1B;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,sDAAsD;AACtD;AACA,qDAAqD;AACrD,gBAAgB;AAChB;AACA;AACA,qDAAqD;AACrD,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,4BAA4B,oCAAoC,EAAE;AAClE;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,21CAA21C,cAAc,+IAA+I,cAAc,oFAAoF,gLAAgL,qBAAqB,4BAA4B,oPAAoP,wiBAAwiB,aAAa,mJAAmJ,4DAA4D,2BAA2B,0EAA0E;AACx5F,oCAAoC,WAAW,YAAY,cAAc,iBAAiB,aAAa,sBAAsB,YAAY,cAAc,cAAc,WAAW,YAAY,aAAa,sBAAsB,cAAc,gBAAgB,gBAAgB,aAAa,cAAc,qBAAqB,mBAAmB,eAAe,8BAA8B,+BAA+B,YAAY,eAAe,gBAAgB,qBAAqB,aAAa,mBAAmB,mBAAmB,kBAAkB,OAAO,kBAAkB;AAC1jB,iBAAiB;AACjB;AACA;AACA,oBAAoB,OAAO,oDAAK,EAAE;AAClC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,0BAA0B,OAAO,oDAAK,EAAE;AACxC,kBAAkB,OAAO,qDAAM,EAAE;AACjC,kBAAkB,OAAO,wDAAS,qBAAqB;AACvD,gBAAgB,OAAO,wDAAS,SAAS,yDAAO,IAAI;AACpD;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,0DAAW;AACnC,wBAAwB,iEAAc;AACtC,wBAAwB,+DAAa;AACrC,wBAAwB,iEAAe;AACvC,wBAAwB,gEAAc;AACtC,wBAAwB,oEAAkB;AAC1C,wBAAwB,gEAAc;AACtC,wBAAwB,+DAAa;AACrC,wBAAwB,mEAAiB;AACzC,wBAAwB,4DAAiB;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,8CAA8C,WAAW;AACzD,qDAAqD,uEAAgB,EAAE,0CAA0C,0BAA0B,EAAE,0CAA0C;AACvL;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA,+BAA+B,qDAAe;AAC9C;AACA;AACA;AACA,4BAA4B,qDAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,6BAA6B,kBAAkB,EAAE;AACjD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,cAAc;AAC/C,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,uCAAuC,iCAAiC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qDAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,oCAAoC,gBAAgB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,+BAA+B,oBAAoB,EAAE;AACrD,SAAS;AACT;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,qCAAqC,EAAE;AAClE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,0CAA0C,oBAAoB,4BAA4B;AAC1F,gDAAgD,SAAS,mBAAmB;AAC5E,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,6BAA6B,2BAA2B,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA,2BAA2B,iBAAiB;AAC5C,0BAA0B,sBAAsB;AAChD,WAAW,oEAAO;AAClB,QAAQ,kEAAK,UAAU,kEAAK;AAC5B;AACA,SAAS;AACT,QAAQ,uEAAU,kBAAkB,oEAAO;AAC3C;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qDAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,qDAAe;AAC7C;AACA;AACA;AACA,4BAA4B,qDAAe;AAC3C;AACA;AACA;AACA;AACA;AACA,8BAA8B,qDAAe;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,kCAAkC,EAAE;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,8CAA8C,gBAAgB;AAC9D;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uDAAuD,eAAe;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,mYAAmY,oGAAoG;AACve;AACA,qCAAqC,sEAAuB;AAC5D,oCAAoC,cAAc,kBAAkB,gBAAgB,WAAW,YAAY,oBAAoB,kBAAkB,MAAM,SAAS,OAAO,QAAQ,mCAAmC,wCAAwC,gCAAgC,iCAAiC,UAAU,cAAc,YAAY,yBAAyB,WAAW,cAAc,+BAA+B,WAAW,gBAAgB,+BAA+B,4BAA4B,gFAAgF,yBAAyB,mBAAmB,cAAc;AAChpB,iBAAiB;AACjB;AACA;AACA,mBAAmB,OAAO,oDAAK,EAAE;AACjC,mBAAmB,OAAO,oDAAK,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,8BAA8B,8BAA8B,EAAE;AAC9D;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,8BAA8B,gCAAgC,EAAE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,2DAAY;AACxC;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,0CAA0C;AAC1C;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,iDAAiD,YAAY;AAC7D,iBAAiB;AACjB;AACA;AACA,wDAAwD,WAAW;AACnE;AACA,kBAAkB,OAAO,oDAAK,EAAE;AAChC,kBAAkB,OAAO,oDAAK,EAAE;AAChC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,oBAAoB,OAAO,qDAAM,EAAE;AACnC,kBAAkB,OAAO,qDAAM,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,+DAA+D,EAAE;AACjE;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,gDAAgD;AAChD,SAAS;AACT,MAAM;AACN,uDAAuD,uEAAgB,EAAE,4CAA4C,0BAA0B,6DAAM,2BAA2B,EAAE,4CAA4C;AAC9N;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA,qCAAqC,qDAAe;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,+BAA+B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2DAAY;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,kCAAkC,mCAAmC;AACrE;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,iGAAiG,UAAU,qEAAqE,sBAAsB;AACtM,iBAAiB;AACjB;AACA;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,0BAA0B,OAAO,qDAAM,EAAE;AACzC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qDAAe;AAC1C;AACA;AACA;AACA,iCAAiC,qDAAe,GAAG;AACnD;AACA;AACA;AACA,sCAAsC,qDAAe,GAAG;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6CAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,wBAAwB,EAAE;AAC/C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,2BAA2B,EAAE;AAClD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,gCAAgC,EAAE;AACvD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,oBAAoB,EAAE,gCAAgC,EAAE;AAC7E;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,iCAAiC,EAAE;AACxD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,2BAA2B,EAAE;AAClD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,kCAAkC,EAAE;AACzD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,yBAAyB,8BAA8B,EAAE;AACzD;AACA;AACA;AACA,sBAAsB,oEAAY;AAClC;AACA,wBAAwB;AACxB;AACA,yBAAyB,sDAAsD,EAAE;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,aAAa;AAC7C,qCAAqC,kBAAkB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,2DAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,+BAA+B,EAAE;AACtD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,gDAAgD,YAAY;AAC5D,iBAAiB;AACjB;AACA;AACA,iEAAiE,WAAW;AAC5E;AACA,qBAAqB,OAAO,oDAAK,EAAE;AACnC,4BAA4B,OAAO,qDAAM,EAAE;AAC3C;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,6CAA6C,oBAAoB,EAAE;AACnE;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAE4oG;;AAE5oG,uC;;;;;;;;;;;;ACt2UA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkG;AAC7D;AACD;AACA;AACc;AACK;AAC0B;AACF;AACpB;AACH;AACL;AACJ;AAC0N;AACtF;AACjI;AAC2D;AACoG;AAC9C;AACnH;;AAEhD;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oDAAe;AAC3C,6BAA6B,oDAAe,EAAE,WAAW;AACzD,qCAAqC,oDAAe;AACpD,kCAAkC,oDAAe;AACjD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,kBAAkB,iEAAU;AAC5B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,mCAAmC,EAAE;AAC7D;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,uCAAuC,0DAAG;AAC1C,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,oCAAoC,uBAAuB;AAC3D;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,0CAA0C,0DAAG;AAC7C,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB,4BAA4B;AAC5B;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,8BAA8B,oBAAoB,EAAE;AACpD,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,iEAAiE,0DAAG;AACpE,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD,mBAAmB,EAAE;AACrB;AACA,oEAAoE,0DAAG;AACvE,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,uCAAuC,0DAAG;AAC1C,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,uCAAuC,iEAAU;AACjD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,8BAA8B,kDAAkD,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,GAAG;AACtB,oBAAoB;AACpB;AACA;AACA,oCAAoC,gBAAgB;AACpD;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,wCAAwC,mEAAY;AACpD,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B,sDAAsD,EAAE;AACxD,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,yBAAyB,qDAAO;AAChC,mBAAmB,EAAE;AACrB;AACA,iBAAiB,wDAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,gCAAgC,uDAAQ,uCAAuC,kBAAkB;AACjG;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,8BAA8B,uDAAQ,oDAAoD,UAAU;AACpG;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,gDAAgD,EAAE;AAClD,2BAA2B,EAAE;AAC7B,sDAAsD,EAAE;AACxD;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,oDAAoD,EAAE;AACtD,2BAA2B,EAAE;AAC7B,yDAAyD,EAAE;AAC3D;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,8CAA8C,EAAE;AAChD,2BAA2B,EAAE;AAC7B,mDAAmD,EAAE;AACrD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,wBAAwB,EAAE;AAClD,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,2GAA2G,sBAAsB;AACjI,gBAAgB,qCAAqC;AACrD;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,4CAA4C,4BAA4B;AACxE,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,yBAAyB,EAAE;AAC3B;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,0BAA0B,uDAAQ,wCAAwC,UAAU;AACpF;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,8BAA8B,4BAA4B,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,iDAAiD;AACjD,SAAS,OAAO,+DAAU,EAAE;AAC5B,SAAS,OAAO,sDAAW,EAAE;AAC7B,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,wDAAY,gBAAgB,OAAO,uDAAQ,EAAE;AAC7D,MAAM;AACN,wDAAwD,uEAAgB,EAAE,6CAA6C,2BAA2B,6DAAM,CAAC,+DAAU,GAAG,6DAAM,CAAC,sDAAW,GAAG,6DAAM,CAAC,2DAAe,GAAG,6DAAM,CAAC,yDAAa,GAAG,6DAAM,CAAC,wDAAY,MAAM,EAAE,6CAA6C;AACnT;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,6DAAM;AACxB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,8BAA8B,EAAE;AAC5D;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,2CAA2C,EAAE;AACzE;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,8CAA8C,EAAE;AAChD;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,sDAAsD;AACtD,SAAS,OAAO,8DAAmB,EAAE;AACrC,SAAS;AACT,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,6DAAM;AACxB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,8BAA8B,EAAE;AAC5D;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,2CAA2C,EAAE;AACzE;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,sBAAsB,2DAAI;AAC1B;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,8BAA8B,wCAAG,eAAe,uDAAQ;AACxD,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,0EAA0E,qEAAc,CAAC,+CAAE;AAC3F,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,yBAAyB,qDAAM;AAC/B;AACA,yDAAyD;AACzD;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,+CAA+C,EAAE;AACjD;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,mCAAmC,EAAE;AACrC;AACA,uCAAuC,EAAE;AACzC;AACA;AACA,mCAAmC,EAAE;AACrC;AACA,uCAAuC,EAAE;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,wDAAwD;AACxD,SAAS,OAAO,8DAAmB,EAAE;AACrC,SAAS,uBAAuB;AAChC,SAAS,OAAO,uDAAY,EAAE;AAC9B,SAAS,OAAO,wDAAY,gBAAgB,OAAO,uDAAQ,EAAE;AAC7D,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,0BAA0B,2DAAY;AACtC,4BAA4B,2DAAY;AACxC,wBAAwB,2DAAY;AACpC,0BAA0B,2DAAY;AACtC,wBAAwB,2DAAY;AACpC,yBAAyB,2DAAY;AACrC,4BAA4B,2DAAY;AACxC,qCAAqC,2DAAY;AACjD,+BAA+B,2DAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,oBAAoB,OAAO,oDAAK,EAAE;AAClC,2BAA2B,OAAO,oDAAK,EAAE;AACzC,4BAA4B,OAAO,oDAAK,EAAE;AAC1C,kBAAkB,OAAO,qDAAM,EAAE;AACjC,oBAAoB,OAAO,qDAAM,EAAE;AACnC,gBAAgB,OAAO,qDAAM,EAAE;AAC/B,kBAAkB,OAAO,qDAAM,EAAE;AACjC,gBAAgB,OAAO,qDAAM,EAAE;AAC/B,iBAAiB,OAAO,qDAAM,EAAE;AAChC,oBAAoB,OAAO,qDAAM,EAAE;AACnC,6BAA6B,OAAO,qDAAM,EAAE;AAC5C,uBAAuB,OAAO,qDAAM,EAAE;AACtC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA,qBAAqB;AACrB,+BAA+B,EAAE;AACjC;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAkB,mEAAY;AAC9B;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,oDAAoD,EAAE;AAClF;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,8DAA8D;AAC9D,SAAS,2CAA2C,OAAO,mDAAI,EAAE,GAAG;AACpE,SAAS,uBAAuB;AAChC,SAAS,OAAO,qDAAU,EAAE;AAC5B,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,kEAAoB,EAAE;AACtC,SAAS,OAAO,0DAAc;AAC9B,MAAM;AACN;AACA,oBAAoB,OAAO,2DAAY,iCAAiC;AACxE,kBAAkB,OAAO,2DAAY,+BAA+B;AACpE,kBAAkB,OAAO,2DAAY,+BAA+B;AACpE,sBAAsB,OAAO,2DAAY,mCAAmC;AAC5E,yBAAyB,OAAO,2DAAY,sCAAsC;AAClF,+BAA+B,OAAO,2DAAY,4CAA4C;AAC9F,oBAAoB,OAAO,2DAAY,iCAAiC;AACxE,mBAAmB,OAAO,2DAAY,gCAAgC;AACtE;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2DAAY;AACpC,0BAA0B,2DAAY;AACtC,wBAAwB,2DAAY;AACpC,yBAAyB,2DAAY;AACrC,4BAA4B,2DAAY;AACxC,qCAAqC,2DAAY;AACjD,+BAA+B,2DAAY;AAC3C;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,kYAAkY,6EAA6E,sHAAsH,eAAe;AACplB,oCAAoC,gBAAgB,uBAAuB,cAAc,8BAA8B,oBAAoB,sDAAsD,UAAU,yDAAyD,eAAe,kBAAkB,sBAAsB;AAC3T,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,sDAAW;AAC3B,MAAM;AACN;AACA,mBAAmB,OAAO,oDAAK,EAAE;AACjC,mBAAmB,OAAO,oDAAK,EAAE;AACjC,gBAAgB,OAAO,qDAAM,EAAE;AAC/B,kBAAkB,OAAO,qDAAM,EAAE;AACjC,gBAAgB,OAAO,qDAAM,EAAE;AAC/B,iBAAiB,OAAO,qDAAM,EAAE;AAChC,oBAAoB,OAAO,qDAAM,EAAE;AACnC,6BAA6B,OAAO,qDAAM,EAAE;AAC5C,uBAAuB,OAAO,qDAAM,EAAE;AACtC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,2DAAY;AAC1C,yBAAyB,2DAAY;AACrC,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,qCAAqC;AACrC,iBAAiB,uDAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,sWAAsW,+DAA+D,2JAA2J,QAAQ,oZAAoZ,sDAAsD;AAClhC,mCAAmC,YAAY,YAAY,WAAW,wBAAwB,cAAc,gBAAgB,kBAAkB,WAAW;AACzJ,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,0DAAW;AAC3B,MAAM;AACN;AACA,yBAAyB,OAAO,oDAAK,EAAE;AACvC,mBAAmB,OAAO,oDAAK,EAAE;AACjC,oBAAoB,OAAO,oDAAK,EAAE;AAClC,sBAAsB,OAAO,qDAAM,EAAE;AACrC,iBAAiB,OAAO,qDAAM,EAAE;AAChC,kBAAkB,OAAO,qDAAM,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,8BAA8B,2DAAY;AAC1C;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,mBAAmB,OAAO,oDAAK,EAAE;AACjC,sBAAsB,OAAO,qDAAM,EAAE;AACrC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,iDAAiD,EAAE;AAC/E;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,8DAA8D;AAC9D,SAAS,2CAA2C,OAAO,mDAAI,EAAE,GAAG;AACpE,SAAS,uBAAuB;AAChC,SAAS,OAAO,0DAAc,EAAE;AAChC,SAAS,OAAO,2DAAe;AAC/B,MAAM;AACN;AACA,kBAAkB,OAAO,2DAAY,qCAAqC;AAC1E;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,iCAAiC,2DAAY;AAC7C,oCAAoC,2DAAY;AAChD,gCAAgC,2DAAY;AAC5C;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,2QAA2Q,sDAAsD,2FAA2F,wDAAwD,wFAAwF,qDAAqD,+aAA+a,uDAAuD,2KAA2K,6CAA6C,uFAAuF,8CAA8C,0OAA0O,+CAA+C,slBAAslB,mBAAmB;AACtyE,oCAAoC,YAAY,YAAY,WAAW,iBAAiB,yBAAyB,gBAAgB,YAAY;AAC7I,iBAAiB;AACjB;AACA;AACA,8DAA8D;AAC9D,SAAS,OAAO,0DAAW;AAC3B,MAAM;AACN;AACA,mBAAmB,OAAO,oDAAK,EAAE;AACjC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,yBAAyB,OAAO,qDAAM,EAAE;AACxC,4BAA4B,OAAO,qDAAM,EAAE;AAC3C,wBAAwB,OAAO,qDAAM,EAAE;AACvC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,qCAAqC,uDAAQ,0CAA0C,mBAAmB;AAC1G;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,gDAAgD,eAAe;AAC/D,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,iDAAiD,EAAE;AAC/E;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA,qBAAqB;AACrB;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,qEAAqE;AACrE,SAAS,kDAAkD,OAAO,mDAAI,EAAE,GAAG;AAC3E,SAAS,uBAAuB;AAChC,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,0DAAc;AAC9B,MAAM;AACN;AACA,2BAA2B,OAAO,2DAAY,wCAAwC;AACtF,8BAA8B,OAAO,2DAAY,2CAA2C;AAC5F,0BAA0B,OAAO,2DAAY,uCAAuC;AACpF;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,0DAAW;AACnC,wBAAwB,kEAAmB;AAC3C,wBAAwB,qEAAkB;AAC1C,wBAAwB,iEAAc;AACtC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,mEAAgB;AACxC,wBAAwB,gEAAa;AACrC,wBAAwB,oEAAiB;AACzC,wBAAwB,iEAAc;AACtC,wBAAwB,wDAAa;AACrC,wBAAwB,2DAAa;AACrC,wBAAwB,+DAAiB;AACzC,wBAAwB,kEAAoB;AAC5C,wBAAwB,sEAAwB;AAChD,wBAAwB,6DAAiB;AACzC;AACA,6BAA6B,uDAAQ;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,uDAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,sDAAsD,8DAA8D,2aAA2a,mDAAmD,kGAAkG,uDAAuD;AAC3uB,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS,OAAO,+DAAY;AAC5B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,4CAA4C,sBAAsB;AAClE;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,6DAA6D,WAAW,sCAAsC,sBAAsB,4CAA4C,yBAAyB,+CAA+C,gBAAgB;AACxQ,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS,OAAO,4DAAS,EAAE;AAC3B,SAAS,uBAAuB;AAChC,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,0DAAc;AAC9B,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,0CAAK;AACxB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,6CAA6C;AAC7C,SAAS,OAAO,+DAAU,EAAE;AAC5B,SAAS,OAAO,yDAAa;AAC7B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,sDAAsD,oDAAoD,iaAAia,mDAAmD,kGAAkG,uDAAuD;AACvtB,iBAAiB;AACjB;AACA;AACA,qDAAqD;AACrD,SAAS,OAAO,+DAAY;AAC5B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA,mCAAmC,EAAE;AACrC;AACA,mCAAmC,EAAE;AACrC;AACA;AACA,yBAAyB;AACzB;AACA;AACA,mCAAmC,EAAE;AACrC,oCAAoC;AACpC;AACA,sCAAsC,wBAAwB,EAAE;AAChE,qBAAqB;AACrB,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,yBAAyB,qDAAO;AAChC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,sBAAsB;AAC7D;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,oBAAoB,EAAE;AAC5C,mBAAmB,EAAE;AACrB,qBAAqB,0DAAU;AAC/B;AACA;AACA;AACA;AACA,oBAAoB,iDAAO;AAC3B,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,2OAA2O,mDAAmD,oXAAoX,aAAa;AAC/pB,yCAAyC,YAAY,sBAAsB,YAAY,cAAc,iCAAiC,YAAY,yEAAyE,YAAY,SAAS,kBAAkB,YAAY,sBAAsB,UAAU,gBAAgB,gBAAgB,uBAAuB,WAAW,WAAW,YAAY,uBAAuB,uBAAuB,aAAa;AAClc,iBAAiB;AACjB;AACA;AACA,qDAAqD;AACrD,SAAS,OAAO,4DAAS,EAAE;AAC3B,SAAS,OAAO,sDAAW,EAAE;AAC7B,SAAS,mBAAmB;AAC5B,SAAS,OAAO,0DAAc,EAAE;AAChC,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,kEAAoB;AACpC,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,sDAAsD,gDAAgD,4CAA4C,kDAAkD,IAAI,eAAe,eAAe,mDAAmD,IAAI,YAAY,eAAe,wDAAwD,IAAI,KAAK;AACzX,iBAAiB;AACjB;AACA;AACA,sDAAsD;AACtD,SAAS,OAAO,+DAAY,EAAE;AAC9B,SAAS,OAAO,sDAAW;AAC3B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,YAAY;AACZ;AACA;AACA,WAAW,mEAAO;AAClB,QAAQ,iEAAK,aAAa,iEAAK;AAC/B;AACA;AACA;AACA,SAAS;AACT,QAAQ,iEAAK,WAAW,iEAAK;AAC7B;AACA;AACA,SAAS;AACT,QAAQ,sEAAU,uBAAuB,mEAAO;AAChD,QAAQ,sEAAU,uBAAuB,mEAAO;AAChD;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,+CAA+C,sBAAsB;AACrE;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA;AACA,gEAAgE,sBAAsB,wCAAwC,yBAAyB,gCAAgC,WAAW,YAAY,kCAAkC,iBAAiB,WAAW,4EAA4E,kCAAkC,kBAAkB,SAAS,gCAAgC,YAAY,YAAY,kBAAkB,WAAW,+CAA+C,gBAAgB;AACziB,iBAAiB;AACjB;AACA;AACA,sDAAsD;AACtD,SAAS,OAAO,4DAAS,EAAE;AAC3B,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,sDAAW;AAC3B,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,6DAAiB;AACzC,wBAAwB,oEAAsB;AAC9C,wBAAwB,sEAAwB;AAChD,wBAAwB,wDAAa;AACrC,wBAAwB,0DAAW;AACnC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,kEAAe;AACvC,wBAAwB,kEAAe;AACvC,wBAAwB,mEAAgB;AACxC,wBAAwB,qEAAkB;AAC1C,wBAAwB,kEAAe;AACvC,wBAAwB,iEAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,EAAE;AAC1B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,oEAAoE;AACpE;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,oBAAoB,EAAE;AAC9C,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,qBAAqB,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,uDAAQ,yDAAyD,wBAAwB;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,kDAAkD;AAClD,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,uBAAuB;AAChC,SAAS,OAAO,0DAAc,EAAE;AAChC,SAAS,OAAO,6DAAkB,gBAAgB,OAAO,uDAAQ,EAAE,GAAG;AACtE,SAAS,OAAO,wDAAY,gBAAgB,OAAO,uDAAQ,EAAE;AAC7D,MAAM;AACN,yDAAyD,uEAAgB,EAAE,8CAA8C,4BAA4B,6DAAM,CAAC,yDAAa,GAAG,6DAAM,kBAAkB,6DAAM,CAAC,0DAAc,GAAG,6DAAM,CAAC,6DAAkB,MAAM,6DAAM,CAAC,wDAAY,MAAM,EAAE,8CAA8C;AACpU;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA,mBAAmB,EAAE;AACrB,qCAAqC;AACrC;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,qDAAS;AAClC;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,iBAAiB,wDAAI;AACrB,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,+YAA+Y,+DAA+D,oNAAoN,QAAQ,ySAAyS,6DAA6D,yPAAyP,6CAA6C,i4BAAi4B,2CAA2C;AACluE,iDAAiD,eAAe,WAAW,wBAAwB,cAAc,gBAAgB,kBAAkB,WAAW,aAAa,qBAAqB,sBAAsB,YAAY,wBAAwB,gBAAgB,YAAY,kBAAkB,iBAAiB,qBAAqB,mCAAmC,YAAY,eAAe,UAAU,qBAAqB,uBAAuB,kBAAkB,iBAAiB;AACre,iBAAiB;AACjB;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,0DAAc,EAAE;AAChC,SAAS,OAAO,sDAAW,EAAE;AAC7B,SAAS,wBAAwB;AACjC,SAAS,OAAO,0DAAW,EAAE;AAC7B,SAAS,OAAO,2DAAgB;AAChC,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,6BAA6B,OAAO,oDAAK,EAAE;AAC3C,6BAA6B,OAAO,oDAAK,EAAE;AAC3C;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B,wDAAwD,EAAE;AAC1D,2BAA2B,EAAE;AAC7B,4DAA4D,EAAE;AAC9D,2BAA2B,EAAE;AAC7B,4DAA4D,EAAE;AAC9D,2BAA2B,EAAE;AAC7B,4DAA4D,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,2DAA2D;AAC3D,SAAS,wCAAwC,OAAO,mDAAI,EAAE,GAAG;AACjE,SAAS,OAAO,2DAAgB,EAAE;AAClC,SAAS,OAAO,wDAAY,gBAAgB,OAAO,uDAAQ,EAAE;AAC7D,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,0DAAW;AACnC,wBAAwB,kEAAmB;AAC3C,wBAAwB,gEAAa;AACrC,wBAAwB,mEAAgB;AACxC,wBAAwB,qEAAkB;AAC1C,wBAAwB,iEAAc;AACtC,wBAAwB,kEAAe;AACvC,wBAAwB,6DAAiB;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,0BAA0B,0DAAe;AACzC;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,kCAAkC,oEAAc;AAChD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,aAAa;AACb,YAAY,mEAAgB,wBAAwB,wDAAa;AACjE;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,+2CAA+2C,6BAA6B;AAC54C,uIAAuI,sBAAsB,2BAA2B,8BAA8B,oCAAoC,yCAAyC,+BAA+B,4BAA4B,MAAM,sBAAsB,4BAA4B,oBAAoB,YAAY,YAAY,4EAA4E,YAAY,+BAA+B,qBAAqB,gBAAgB,yBAAyB,YAAY,kBAAkB,SAAS,OAAO,SAAS,uBAAuB,QAAQ,cAAc,6BAA6B,gBAAgB,+BAA+B,iBAAiB,uBAAuB,kBAAkB,SAAS,SAAS,QAAQ,cAAc,6BAA6B,UAAU,oCAAoC,WAAW;AAC/9B,iBAAiB;AACjB;AACA;AACA,mDAAmD;AACnD,SAAS,OAAO,gEAAK;AACrB,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,kBAAkB,OAAO,oDAAK,EAAE;AAChC,mBAAmB,OAAO,oDAAK,EAAE;AACjC,gBAAgB,OAAO,oDAAK,EAAE;AAC9B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,mEAAgB;AACxC,wBAAwB,mEAAgB;AACxC,wBAAwB,6DAAiB;AACzC,wBAAwB,4DAAc;AACtC,wBAAwB,+DAAiB;AACzC,wBAAwB,2DAAgB;AACxC;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAE0wC;;AAE1wC,wC;;;;;;;;;;;;AC9xHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyD;AACL;AACJ;AACyC;AAC2B;AACI;AACvE;AACqB;AACW;AACQ;AACrC;AACV;AAC6B;AAC+G;AACvI;;AAE/C;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,4BAA4B,oDAAe;AAC3C;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,iBAAiB,wDAAI;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,kDAAkD,WAAW;AAC7D,yDAAyD,uEAAgB,EAAE,8CAA8C,8BAA8B,EAAE,8CAA8C;AACvM;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,qCAAqC,+DAAQ;AAC7C,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,sDAAsD;AACtD,SAAS;AACT,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,sEAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,uDAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qCAAqC,+DAAU;AAC/C;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,sBAAsB,iEAAU;AAChC,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA,uBAAuB,uDAAU;AACjC,aAAa;AACb;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,+BAA+B,uDAAW;AAC1C;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,gDAAgD;AAChD,SAAS,OAAO,uDAAQ;AACxB,MAAM;AACN,uDAAuD,uEAAgB,EAAE,4CAA4C,0BAA0B,6DAAM,CAAC,uDAAQ,GAAG,EAAE,4CAA4C;AAC/M;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb,yBAAyB,6DAAc;AACvC;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB,oCAAoC,EAAE;AACvD;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,iBAAiB,8DAAe;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,0BAA0B,mFAAQ,IAAY,UAAU,OAAO,CAAC;AAChE,mBAAmB,EAAE;AACrB,yBAAyB,+CAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,sBAAsB,0DAAa;AACnC,4BAA4B,0DAAG;AAC/B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA;AACA,iBAAiB,mEAAe;AAChC;AACA,eAAe,+DAAU;AACzB;AACA;AACA;AACA,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA;AACA,iBAAiB,mEAAe;AAChC;AACA,eAAe,+DAAU;AACzB;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,mEAAe;AACvC;AACA,yCAAyC,6EAAyB;AAClE;AACA;AACA,yBAAyB;AACzB;AACA;AACA,8BAA8B,mEAAe;AAC7C,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,mCAAmC;AACnC,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,uEAAuE,gCAAgC;AACvG,iDAAiD,wCAAwC,SAAS,wBAAwB,gCAAgC,gBAAgB,kBAAkB,kBAAkB,mBAAmB,uCAAuC,kBAAkB,4EAA4E,wCAAwC,QAAQ,OAAO,WAAW,gCAAgC,iBAAiB,0CAA0C,iBAAiB,eAAe,gBAAgB,4CAA4C,iBAAiB,eAAe,sCAAsC,MAAM,OAAO,WAAW,YAAY,YAAY,+CAA+C,aAAa,mBAAmB,YAAY,eAAe,qCAAqC,gBAAgB,6BAA6B,uCAAuC,+BAA+B,eAAe,gBAAgB,UAAU,QAAQ,kBAAkB;AAC1hC,iBAAiB;AACjB;AACA;AACA,yDAAyD,WAAW;AACpE;AACA,mBAAmB,OAAO,oDAAK,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB,8BAA8B,6DAAY,EAAE,gFAAyB;AACrE;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,6BAA6B,oDAAe;AAC5C;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,oGAAoG,EAAE,kBAAkB,EAAE;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,EAAE,kBAAkB,EAAE;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,+BAA+B,KAAK;AACpC,+BAA+B,MAAM;AACrC,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,iDAAiD;AACjD,SAAS,OAAO,2EAAoB,EAAE;AACtC,SAAS;AACT,MAAM;AACN,wDAAwD,uEAAgB,EAAE,6CAA6C,2BAA2B,6DAAM,CAAC,2EAAoB,GAAG,6DAAM,iBAAiB,EAAE,6CAA6C;AACtP;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,kDAAkD;AAClD,SAAS,OAAO,oEAAgB;AAChC,MAAM;AACN,yDAAyD,uEAAgB,EAAE,8CAA8C,4BAA4B,6DAAM,CAAC,oEAAgB,GAAG,EAAE,8CAA8C;AAC/N;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,qCAAqC,iEAAU;AAC/C,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,sCAAsC,EAAE,IAAI,+DAAQ;AAC9E,oBAAoB;AACpB;AACA,qBAAqB,kCAAkC,EAAE,IAAI,+DAAQ;AACrE,oBAAoB;AACpB;AACA,qBAAqB,oCAAoC,EAAE;AAC3D;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,iCAAiC,sEAAiB;AAClD,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,iCAAiC,sEAAiB;AAClD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,eAAe,uDAAU;AACzB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,mDAAmD;AACnD,SAAS,uBAAuB;AAChC,SAAS,OAAO,uDAAQ;AACxB,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,sEAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,qEAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,gDAAgD;AAChD,SAAS,OAAO,iEAAe,EAAE;AACjC,SAAS,OAAO,sEAAY;AAC5B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,qCAAqC,0DAAG;AACxC,6CAA6C;AAC7C,6CAA6C;AAC7C;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,+BAA+B,iEAAY,qBAAqB,EAAE;AAC5F,4BAA4B;AAC5B,4BAA4B;AAC5B;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,wBAAwB,EAAE;AACpD;AACA,QAAQ,+DAAQ;AAChB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,sEAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb,gCAAgC,6DAAc;AAC9C;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS,OAAO,8DAAc,EAAE;AAChC,SAAS,gCAAgC,OAAO,qDAAM,kCAAkC,GAAG,OAAO,uDAAQ,EAAE;AAC5G,MAAM;AACN,sDAAsD,uEAAgB,EAAE,2CAA2C,yBAAyB,6DAAM,CAAC,8DAAc,GAAG,6DAAM,4BAA4B,EAAE,2CAA2C;AACnP;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE,mCAAmC,EAAE;AAC5D,mBAAmB,EAAE;AACrB,+BAA+B,EAAE;AACjC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,mDAAmD;AACnD,SAAS;AACT,MAAM;AACN,0DAA0D,uEAAgB,EAAE,+CAA+C,6BAA6B,6DAAM,iBAAiB,EAAE,+CAA+C;AAChO;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,0BAA0B,oDAAe;AACzC,gCAAgC,oDAAe;AAC/C;AACA,sBAAsB,+DAAW;AACjC;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,+DAAW;AAC/C,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,+DAAW;AAC/C,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,+DAAW;AAC/C,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,+DAAW;AAC/C,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,+DAAW;AAC/C,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS,OAAO,sEAAkB;AAClC,MAAM;AACN,sDAAsD,uEAAgB,EAAE,2CAA2C,yBAAyB,6DAAM,CAAC,sEAAkB,GAAG,EAAE,2CAA2C;AACrN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,2DAAY;AACvD;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,kCAAkC,sDAAS;AAC3C,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT,mCAAmC,sDAAS;AAC5C,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,qCAAqC,oBAAoB;AACzD;AACA,8CAA8C,mEAAY,OAAO,gEAAS;AAC1E;AACA,kDAAkD,mEAAY;AAC9D;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,iDAAiD;AACjD,SAAS,uBAAuB;AAChC,SAAS,OAAO,uDAAQ,EAAE;AAC1B,SAAS,OAAO,kEAAO,EAAE;AACzB,SAAS,OAAO,wDAAQ;AACxB,MAAM;AACN,wDAAwD,uEAAgB,EAAE,6CAA6C,2BAA2B,6DAAM,kBAAkB,6DAAM,CAAC,uDAAQ,GAAG,6DAAM,CAAC,kEAAS,GAAG,6DAAM,CAAC,wDAAQ,GAAG,EAAE,6CAA6C;AAChR;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,8BAA8B,6DAAY;AAC1C;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEy2B;;AAEz2B,qC;;;;;;;;;;;ACzlDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwC;AACA;AACgK;AAChK;AACU;AACR;AACI;AACM;AACN;AACM;AACU;AACjC;AACyB;AACd;AACQ;AACN;AACkB;AACjC;AACE;AACc;AACQ;AACG;AACZ;AACF;AACL;AACiB;AAChB;AACP;AACH;AACe;AACwC;AACvC;AACA;AACQ;AACJ;AACW;AACvB;AACA;AACJ;AACM;AACD;AACyB;AACvB;AACS;AACG;AACN;AACE;AACM;AACV;AACD;AACM;AACY;AACZ;AACF;AACR;AACL;AACa;AACb;AACI;AACiD;AACG;AACnD;AAC6C;AAC/B;AACW;AACoF;AACzG;AAC8D;AAC5D;AACwa;AACna;AAC0c;AAC3W;AACxG;AAC6E;AACnB;AACgL;AACrM;AACoC;AACnB;AACuE;;AAEnK;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,+CAA+C,EAAE;AACtE;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,kDAAkD,WAAW;AAC7D,yDAAyD,uEAAgB,EAAE,8CAA8C,8BAA8B,EAAE,8CAA8C;AACvM;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D;AACA,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS;AACT,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,mEAAgB;AACxC,wBAAwB,6DAAiB;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,6BAA6B,cAAc,EAAE;AAC7C;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,uBAAuB,EAAE,KAAK,2CAAG;AACjC;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,uBAAuB,EAAE,KAAK,2CAAG;AACjC;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,uBAAuB,EAAE,KAAK,2CAAG;AACjC;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,uBAAuB,EAAE,KAAK,2CAAG;AACjC;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,WAAW,yDAAI;AACf;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,yDAAc;AACjC;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,0BAA0B,kDAAO;AACjC;AACA;AACA,0BAA0B,uCAAQ;AAClC;AACA,gEAAgE,WAAW;AAC3E;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,4DAA4D,EAAE,EAAE,EAAE,EAAE,EAAE;AACtE,mBAAmB,qDAAW;AAC9B;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,qDAAW;AAC9B;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gCAAgC,oCAAoC;AACpE,mCAAmC,oCAAoC;AACvE,6BAA6B,4CAA4C;AACzE,oCAAoC,4CAA4C;AAChF,6CAA6C,4CAA4C;AACzF,iCAAiC,4CAA4C;AAC7E,0CAA0C,4CAA4C;AACtF,gCAAgC,4CAA4C;AAC5E,qBAAqB,oCAAoC;AACzD,6BAA6B,oCAAoC;AACjE,yBAAyB,mCAAmC;AAC5D,qBAAqB,mCAAmC;AACxD,uBAAuB;AACvB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,EAAE;AAC/B,mCAAmC,EAAE;AACrC;AACA;AACA;AACA,4BAA4B,6DAAI;AAChC;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,iCAAiC,4DAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,wBAAwB,qDAAW;AACnC,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qDAAqD,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB,0BAA0B,sDAAK;AAC/B;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,uBAAuB,6DAAI;AAC3B;AACA,uBAAuB,gEAAO;AAC9B;AACA,uBAAuB,iEAAQ;AAC/B;AACA,uBAAuB,+DAAM;AAC7B;AACA,uBAAuB,gEAAO;AAC9B;AACA,uBAAuB,oEAAW;AAClC;AACA,uBAAuB,6EAAoB;AAC3C;AACA,uBAAuB,mEAAU;AACjC;AACA,uBAAuB,+DAAM;AAC7B;AACA,uBAAuB,iEAAQ;AAC/B;AACA,uBAAuB,0EAAiB;AACxC;AACA,uBAAuB,6DAAI;AAC3B;AACA,uBAAuB,mEAAU;AACjC;AACA,uBAAuB,+DAAM;AAC7B;AACA;AACA,uBAAuB,oDAAG;AAC1B;AACA,uBAAuB,mDAAE;AACzB;AACA,uBAAuB,oDAAG;AAC1B;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C,+BAA+B,YAAY;AAC3C;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,+BAA+B,WAAW;AAC1C,uCAAuC,sBAAsB;AAC7D;AACA,kCAAkC;AAClC;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,sBAAsB,yDAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,gCAAgC,gBAAgB;AAChD,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,iBAAiB;AACjB;AACA;AACA,4DAA4D,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,gBAAgB;AAChD,mBAAmB,EAAE;AACrB;AACA;AACA,cAAc,yDAAI;AAClB,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,SAAS,uBAAuB,kCAAkC;AAClE;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA,+BAA+B,EAAE;AACjC,kDAAkD;AAClD,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,GAAG,wDAAwD;AAC/H;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,kCAAkC,+BAA+B,EAAE;AACnE;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,sCAAsC,gDAAgD,EAAE;AACxF;AACA;AACA;AACA;AACA,uCAAuC,0DAA0D;AACjG;AACA,aAAa;AACb;AACA,8GAA8G,wCAAwC;AACtJ;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,8FAA8F,EAAE;AAChG;AACA;AACA,8FAA8F,EAAE;AAChG;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb;AACA,WAAW,EAAE;AACb;AACA,WAAW,EAAE;AACb;AACA,WAAW,EAAE;AACb;AACA,WAAW,EAAE;AACb;AACA,WAAW,EAAE;AACb;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,GAAG;AACd,WAAW,GAAG;AACd,WAAW,GAAG;AACd,YAAY,EAAE,oBAAoB,oBAAoB;AACtD;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA,SAAS,4CAA4C;AACrD,SAAS,kCAAkC;AAC3C,SAAS,wCAAwC;AACjD,SAAS,4BAA4B;AACrC,SAAS,8BAA8B;AACvC,SAAS,4CAA4C;AACrD,SAAS,gDAAgD;AACzD,SAAS,sEAAsE;AAC/E,SAAS,4DAA4D;AACrE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY,EAAE,oBAAoB,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,sCAAsC,EAAE;AACxC,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,qBAAqB,EAAE;AACvB;AACA,yBAAyB,EAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,yDAAc;AACjC;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,iEAAiE,EAAE;AACnE,aAAa;AACb,sBAAsB,uDAAM;AAC5B,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,gCAAgC,EAAE;AACxD,mBAAmB,EAAE;AACrB;AACA;AACA,gDAAgD,0BAA0B,sBAAsB;AAChG;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,0BAA0B,kDAAO;AACjC;AACA;AACA,0BAA0B,8CAAG;AAC7B;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA,mCAAmC,EAAE;AACrC,oCAAoC;AACpC;AACA,uCAAuC,qCAAqC,EAAE;AAC9E;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,4BAA4B,yBAAyB;AACrD,kCAAkC,wBAAwB;AAC1D,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,gCAAgC,EAAE;AACxD,mBAAmB,EAAE;AACrB;AACA;AACA,2CAA2C,uBAAuB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,4BAA4B,8CAAG;AAC/B;AACA;AACA,4BAA4B,kDAAO;AACnC;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,iCAAiC;AACjC;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA,kCAAkC,uBAAuB,EAAE;AAC3D,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,6CAA6C;AAC7C,SAAS,OAAO,gEAAU;AAC1B,MAAM;AACN,oDAAoD,uEAAgB,EAAE,yCAAyC,uBAAuB,6DAAM,CAAC,gEAAU,GAAG,EAAE,yCAAyC;AACrM;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,aAAa,sCAAsC;AACnD;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,YAAY,wDAAW;AACvB;AACA,+CAA+C;AAC/C;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,mBAAmB,EAAE;AACrB,0CAA0C,EAAE;AAC5C,mBAAmB,EAAE;AACrB;AACA;AACA,yBAAyB,EAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,+BAA+B,4BAA4B;AAC3D;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE;AACjC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,gCAAgC,EAAE;AAClC,+BAA+B,EAAE;AACjC;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,gCAAgC,EAAE;AAClC,+BAA+B,EAAE;AACjC;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,8BAA8B,4BAA4B;AAC1D;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,gCAAgC,EAAE;AACxD;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,0DAAgB;AACnC;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB,4BAA4B,oDAAG,SAAS,oDAAG;AAC3C,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,eAAe,6DAAQ;AACvB,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA,eAAe,wDAAc;AAC7B,gBAAgB,+DAAU;AAC1B;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,wDAAwD,EAAE;AAC1D,SAAS;AACT,mBAAmB,sDAAY;AAC/B;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE;AACjC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,gCAAgC,EAAE;AAClC,+BAA+B,EAAE;AACjC;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,gCAAgC,EAAE;AAClC,+BAA+B,EAAE;AACjC;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,SAAS;AACT,mBAAmB,yDAAa;AAChC;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,uDAAQ,oCAAoC,iBAAiB;AAChG;AACA;AACA,mCAAmC,EAAE;AACrC;AACA,mCAAmC,EAAE;AACrC,kEAAkE;AAClE;AACA,uCAAuC,EAAE;AACzC;AACA,uCAAuC,EAAE;AACzC;AACA,2CAA2C,mBAAmB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,EAAE;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,iCAAiC,2DAAgB;AACjD,mBAAmB,yDAAc;AACjC;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,eAAe;AACzD,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb,sBAAsB,uDAAM;AAC5B,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,0BAA0B,uDAAQ,6BAA6B,UAAU;AACzE;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE;AACjC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,gCAAgC,EAAE;AAClC,+BAA+B,EAAE;AACjC;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,gCAAgC,EAAE;AAClC,+BAA+B,EAAE;AACjC;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,iEAAsB;AACzC;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,0BAA0B,uDAAQ,6BAA6B,UAAU;AACzE;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,4BAA4B,sDAAW,EAAE,eAAe,mDAAS,EAAE;AACnE;AACA,mBAAmB,6DAAkB;AACrC;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,yDAAI;AACvB;AACA,mBAAmB,EAAE;AACrB;AACA,2BAA2B,EAAE,KAAK,2CAAG;AACrC;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,0DAAe;AAClC;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,yDAAI;AACnB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,mBAAmB,yDAAI;AACvB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,iCAAiC,EAAE;AACzD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,+BAA+B,EAAE;AACvD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,+BAA+B,EAAE;AACvD;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,iCAAiC,EAAE;AACzD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,+BAA+B,EAAE;AACvD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,+BAA+B,EAAE;AACvD;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,0DAAa;AACnC;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,8BAA8B,0DAAa;AAC3C;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,oDAAO;;AAET;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,mBAAmB,yDAAI;AACvB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,iCAAiC,EAAE;AACzD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,+BAA+B,EAAE;AACvD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,+BAA+B,EAAE;AACvD;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,iCAAiC,EAAE;AACzD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,+BAA+B,EAAE;AACvD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,+BAA+B,EAAE;AACvD;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,0DAAa;AACnC;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,8BAA8B,0DAAa;AAC3C;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,oDAAO;;AAET;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,mBAAmB,yDAAI;AACvB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,oDAAO;;AAET;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY,EAAE;AACd;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,4BAA4B,uDAAQ,uCAAuC,kBAAkB;AAC7F;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,wCAAwC,uDAAQ,mDAAmD,sBAAsB;AACzH;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA,mBAAmB,QAAQ,gBAAgB;AAC3C;AACA;AACA;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,wCAAwC;AACxC,gCAAgC,EAAE;AAClC,SAAS;AACT,mBAAmB,EAAE;AACrB,wBAAwB,uDAAY;AACpC,mBAAmB,EAAE;AACrB;AACA;AACA,yBAAyB,EAAE;AAC3B,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,yBAAyB,EAAE;AAC3B;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB,8DAA8D,EAAE;AAChE,uBAAuB,EAAE;AACzB,oDAAoD,oBAAoB;AACxE,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,wCAAwC;AACxC,gCAAgC,EAAE;AAClC,SAAS;AACT,mBAAmB,sDAAW;AAC9B;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,yBAAyB,EAAE;AAC3B;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,wCAAwC;AACxC,gCAAgC,EAAE;AAClC,SAAS;AACT;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA,mBAAmB,wDAAa;AAChC;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,0BAA0B,0DAAO;AACjC,uBAAuB,EAAE;AACzB,2BAA2B,yDAAO;AAClC;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,iCAAiC,0DAAO;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,0DAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,0DAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,8DAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,yBAAyB,EAAE;AAC3B;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,wCAAwC;AACxC,gCAAgC,EAAE;AAClC,SAAS;AACT,mBAAmB,4DAAiB;AACpC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB,sCAAO;AAC3B;AACA,oBAAoB,sDAAY;AAChC;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,2BAA2B,UAAU;AACrC;AACA;AACA;AACA,gCAAgC,+CAAK;AACrC,2CAA2C,8CAAI;AAC/C;AACA;AACA,iCAAiC;AACjC,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,4BAA4B,+CAAK;AACjC,uCAAuC,gDAAM;AAC7C;AACA,4CAA4C,gDAAM;AAClD;AACA,iCAAiC;AACjC,0CAA0C,8CAAI;AAC9C;AACA,iCAAiC;AACjC,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+CAAK;AAC7B,mCAAmC,gDAAM;AACzC;AACA,wCAAwC,gDAAM;AAC9C;AACA,6BAA6B;AAC7B,sCAAsC,8CAAI;AAC1C;AACA,6BAA6B;AAC7B,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,2BAA2B,UAAU;AACrC;AACA;AACA,4BAA4B,+CAAK;AACjC,wCAAwC,gDAAM;AAC9C;AACA;AACA,6BAA6B;AAC7B,sCAAsC,8CAAI;AAC1C;AACA,6BAA6B;AAC7B,sCAAsC,8CAAI;AAC1C;AACA,4CAA4C,gDAAM;AAClD;AACA,iCAAiC;AACjC,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+CAAK;AAC7B,oCAAoC,gDAAM;AAC1C;AACA,yBAAyB;AACzB,kCAAkC,8CAAI;AACtC;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,+CAAK;AACzB,+BAA+B,gDAAM;AACrC;AACA,oCAAoC,gDAAM;AAC1C;AACA,yBAAyB;AACzB,kCAAkC,8CAAI;AACtC;AACA,yBAAyB;AACzB,qBAAqB;AACrB,8BAA8B,8CAAI;AAClC;AACA,kCAAkC,8CAAI;AACtC;AACA,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,wBAAwB,+CAAK;AAC7B,mCAAmC,8CAAI;AACvC;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA,wBAAwB,+CAAK;AAC7B,mCAAmC,gDAAM;AACzC;AACA,wCAAwC,gDAAM;AAC9C;AACA,6BAA6B;AAC7B,sCAAsC,8CAAI;AAC1C;AACA,6BAA6B;AAC7B,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C,WAAW;AAC1D,sDAAsD,uEAAgB,EAAE,2CAA2C,2BAA2B,EAAE,2CAA2C;AAC3L;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB,iCAAiC,EAAE;AACnC;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,+BAA+B,qDAAe;AAC9C,sCAAsC,qDAAe;AACrD,qCAAqC,qDAAe;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,+CAA+C,EAAE;AACtE;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,iCAAiC,EAAE;AACxD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,oCAAoC,EAAE;AAClE;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,yCAAyC,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,oXAAoX,aAAa,6mBAA6mB,wCAAwC;AACthC,qCAAqC,sEAAuB;AAC5D,oCAAoC,gBAAgB,6BAA6B,WAAW,qBAAqB,iCAAiC,kBAAkB,4BAA4B,kBAAkB,wBAAwB,qBAAqB,gBAAgB,WAAW,wBAAwB,YAAY,cAAc,4EAA4E,gBAAgB,UAAU,wBAAwB,YAAY,kBAAkB,sBAAsB,oCAAoC,eAAe;AACjjB,iBAAiB;AACjB;AACA;AACA,qDAAqD;AACrD,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,0CAA0C,OAAO,oDAAK,EAAE;AACxD,iCAAiC,OAAO,oDAAK,EAAE;AAC/C,0CAA0C,OAAO,oDAAK,EAAE;AACxD,qBAAqB,OAAO,oDAAK,EAAE;AACnC,sBAAsB,OAAO,oDAAK,EAAE;AACpC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qDAAe;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,mCAAmC,6CAA6C,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,uCAAuC,EAAE;AACzC;AACA,mBAAmB,gDAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,oCAAoC,EAAE;AAChE;AACA;AACA,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,8HAA8H,2ZAA2Z,gCAAgC,sGAAsG,yBAAyB,yEAAyE,uCAAuC,wBAAwB,+CAA+C,2QAA2Q,0CAA0C;AACpqC,qCAAqC,sEAAuB;AAC5D,2DAA2D,kBAAkB;AAC7E,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS;AACT,MAAM;AACN;AACA,0CAA0C,OAAO,oDAAK,EAAE;AACxD,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,mDAAmD,WAAW;AAC9D,0DAA0D,uEAAgB,EAAE,+CAA+C,+BAA+B,EAAE,+CAA+C;AAC3M;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qDAAe;AAC1C,2BAA2B,mDAAa;AACxC,gCAAgC,qDAAe;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,qBAAqB,EAAE;AAC5C;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,sCAAsC,EAAE;AAC7D;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,iDAAiD,EAAE;AACxE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,kDAAkD,EAAE;AAC9E;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0CAA0C,EAAE;AACjE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,qDAAqD,EAAE;AAC5E;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,sDAAsD,EAAE;AAClF;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0CAA0C,EAAE;AACjE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,qDAAqD,EAAE;AAC5E;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,sDAAsD,EAAE;AAClF;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0CAA0C,EAAE;AACjE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,qDAAqD,EAAE;AAC5E;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,sDAAsD,EAAE;AAClF;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,gEAAQ;AAC1B,oBAAoB;AACpB;AACA;AACA,+CAA+C,2CAAK,GAAG,mDAAK;AAC5D,SAAS;AACT,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,iBAAiB,EAAE;AAC7C;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB,2CAA2C,EAAE;AAC7C,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,gEAAgE,EAAE,OAAO;AACzE,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,+BAA+B,gCAAgC,EAAE;AACjE;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,8CAA8C,EAAE;AAC1E;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,mCAAmC,sCAAsC,EAAE;AAC3E;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,4CAA4C,EAAE;AACxE;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,yDAAyD,EAAE;AACrF;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,4BAA4B,EAAE;AACxD;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,yCAAyC,EAAE;AACrE;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,0lGAA0lG,aAAa;AACvmG,qCAAqC,sEAAuB;AAC5D,yDAAyD,yBAAyB,gBAAgB;AAClG,iBAAiB;AACjB;AACA;AACA,qDAAqD;AACrD,SAAS,OAAO,gEAAiB,EAAE;AACnC,SAAS;AACT,MAAM;AACN;AACA,gCAAgC,OAAO,2DAAY,kCAAkC;AACrF,kBAAkB,OAAO,oDAAK,EAAE;AAChC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,sBAAsB,OAAO,oDAAK,EAAE;AACpC,qCAAqC,OAAO,oDAAK,EAAE;AACnD,6BAA6B,OAAO,oDAAK,EAAE;AAC3C,0CAA0C,OAAO,oDAAK,EAAE;AACxD,uCAAuC,OAAO,oDAAK,EAAE;AACrD,0CAA0C,OAAO,oDAAK,EAAE;AACxD,sBAAsB,OAAO,oDAAK,EAAE;AACpC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,6CAA6C,WAAW;AACxD,oDAAoD,uEAAgB,EAAE,yCAAyC,yBAAyB,EAAE,yCAAyC;AACnL;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B,wDAAwD,EAAE;AAC1D,2BAA2B,EAAE;AAC7B,4DAA4D,EAAE;AAC9D,2BAA2B,EAAE;AAC7B,4DAA4D,EAAE;AAC9D,2BAA2B,EAAE;AAC7B,4DAA4D,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,4DAA4D;AAC5D,SAAS,yCAAyC,OAAO,mDAAI,EAAE,GAAG;AAClE,SAAS,mBAAmB;AAC5B,SAAS,yBAAyB;AAClC,SAAS,OAAO,wDAAY,gBAAgB,OAAO,uDAAQ,EAAE;AAC7D,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,gCAAgC,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,6BAA6B,gDAAgD,EAAE;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,gCAAgC,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,YAAY,8DAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,YAAY,8DAAO;AACnB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,4CAA4C,EAAE;AAC9C,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA,kCAAkC,kBAAkB;AACpD,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,gCAAgC,gCAAgC;AAChE,gCAAgC,yDAAW;AAC3C;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,0DAA0D,EAAE;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT,8BAA8B,EAAE;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,gCAAgC;AAChE,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC,CAAC,yDAAW;;AAEb;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA,CAAC,CAAC,+DAAoB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,yBAAyB,EAAE;AAChD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,mCAAmC,kBAAkB;AACrD,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa,QAAQ,2DAAG;AACxB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,gCAAgC;AAChC,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,+BAA+B,sBAAsB,EAAE,GAAG,EAAE;AAC5D,SAAS;AACT,wBAAwB,mDAAa,eAAe,uDAAQ,gBAAgB,oEAAY,MAAM,4DAAI;AAClG,QAAQ,2DAAG;AACX,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,6BAA6B;AAC7B,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,oBAAoB,EAAE,GAAG,EAAE;AACpD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,6BAA6B,0CAA0C,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,wCAAwC,uDAAQ,+DAA+D,0BAA0B;AACzI;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,kCAAkC,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,YAAY,8DAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,gCAAgC,uDAAQ;AACxC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,8BAA8B,0BAA0B,EAAE;AAC1D,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,4BAA4B,uCAAuC,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,iBAAiB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,qCAAqC,gBAAgB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY,EAAE;AACd;AACA;AACA,4BAA4B,yDAAW;AACvC,eAAe,EAAE;AACjB,uBAAuB,0DAAS;AAChC,eAAe,EAAE;AACjB;AACA;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB,oEAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,mBAAmB,uEAAiB;AACpC;AACA;AACA;AACA,qCAAqC,uEAAiB;AACtD;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY,EAAE;AACd;AACA;AACA,mCAAmC,6BAA6B;AAChE,eAAe,EAAE;AACjB,uBAAuB,0DAAS;AAChC,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;AACL,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK,KAAK;AACV,eAAe,EAAE;AACjB;AACA;AACA;AACA,KAAK;AACL,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB,mBAAmB,gEAAW;AAC9B,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,mBAAmB,gEAAe;AAClC;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,gEAAW;AAC5B;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,QAAQ,2DAAM;AACd,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,aAAa,qDAAM,CAAC,4DAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA,kBAAkB,sBAAsB,EAAE;AAC1C,eAAe,EAAE;AACjB,wDAAwD,EAAE;AAC1D,YAAY,mEAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,wBAAwB,4DAAO;AAC/B,eAAe,EAAE;AACjB,6BAA6B,4DAAO;AACpC;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,GAAG;AACd,WAAW,GAAG;AACd;AACA,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA,4BAA4B,gCAAgC;AAC5D,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,2BAA2B,+CAAK,GAAG;AACnC;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB,qBAAqB,gDAAM;AAC3B;AACA;AACA,KAAK;AACL,eAAe,EAAE;AACjB,mBAAmB,gDAAM;AACzB;AACA,KAAK;AACL,eAAe,+CAAK;AACpB;AACA;AACA,mBAAmB,gDAAM;AACzB;AACA;AACA;AACA,SAAS;AACT,kBAAkB,8CAAI;AACtB;AACA,sBAAsB,8CAAI,EAAE,gBAAgB;AAC5C,wBAAwB,gDAAM,EAAE,0BAA0B;AAC1D;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,WAAW,GAAG;AACd,YAAY,EAAE;AACd;AACA;AACA,2BAA2B,gBAAgB;AAC3C,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+CAAK;AACpB,mBAAmB,8CAAI;AACvB;AACA;AACA;AACA;AACA,SAAS;AACT,kBAAkB,8CAAI;AACtB;AACA,sBAAsB,8CAAI,EAAE,gBAAgB;AAC5C,wBAAwB,gDAAM,EAAE,0BAA0B;AAC1D;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE;AACjC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,gCAAgC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,gCAAgC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,gCAAgC,gCAAgC;AAChE,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,gCAAgC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,gCAAgC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;AACjB;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,kCAAkC,EAAE;AAC9D;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,kBAAkB,4EAAoB;AACtC;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,2BAA2B,0DAAa;AACxC;AACA;AACA,gCAAgC,0DAAa;AAC7C;AACA;AACA;AACA;AACA,+BAA+B,0DAAa;AAC5C;AACA;AACA,+BAA+B,0DAAa;AAC5C;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB,wCAAwC,EAAE;AAC1C,iBAAiB,0DAAa,UAAU,0DAAa;AACrD;AACA;AACA;AACA;AACA;AACA,yBAAyB,EAAE;AAC3B;AACA;AACA;AACA,CAAC,CAAC,oDAAO;;AAET;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,+BAA+B,MAAM,IAAI;AACzC,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,qCAAqC,IAAI;AACzC,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,2BAA2B,IAAI,kBAAkB,IAAI,wBAAwB,IAAI,aAAa,IAAI;AAClG,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,0CAA0C,IAAI;AAC9C,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,+BAA+B,IAAI;AACnC,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,gCAAgC,IAAI,SAAS,EAAE,KAAK,IAAI,SAAS,EAAE,KAAK,IAAI,WAAW,IAAI;AAC3F,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB,qDAAqD,IAAI,iCAAiC,IAAI,8DAA8D,IAAI,iCAAiC,IAAI,mFAAmF,IAAI;AAC5R,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,aAAa,qDAAM,aAAa;AAChC;AACA;AACA;AACA;AACA;AACA,aAAa,qDAAM;AACnB;AACA;AACA;AACA;AACA,aAAa,qDAAM;AACnB;AACA;AACA;AACA;AACA,aAAa,qDAAM;AACnB,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,aAAa,qDAAM,CAAC,sDAAK;AACzB;AACA;AACA,aAAa,qDAAM;AACnB;AACA;AACA;AACA;AACA,aAAa,qDAAM;AACnB;AACA;AACA;AACA;AACA,aAAa,qDAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qDAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,EAAE;AAC/B;AACA;AACA,6BAA6B,EAAE;AAC/B;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,qBAAqB,0DAAS;AAC9B;AACA;AACA,oBAAoB;AACpB;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY,EAAE;AACd;AACA;AACA,yBAAyB,UAAU;AACnC;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,GAAG;AACd,WAAW,GAAG;AACd,YAAY,EAAE;AACd;AACA;AACA,0BAA0B,YAAY;AACtC,yBAAyB,UAAU;AACnC,wBAAwB,wDAAe;AACvC;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,SAAS,2CAAG;AACZ;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,QAAQ,8DAAO,MAAM,EAAE;AAC/C;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qDAAe;AAC/C;AACA;AACA;AACA,2BAA2B,qDAAe;AAC1C;AACA;AACA;AACA,4BAA4B,6CAAO;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,6BAA6B,EAAE;AACpD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,8BAA8B,+BAA+B,EAAE;AAC/D;AACA;AACA,kBAAkB,oEAAY;AAC9B;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,qBAAqB,0DAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,qBAAqB,gEAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA,6BAA6B,UAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,oBAAoB,kDAAO;AAC3B,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,2BAA2B,6CAA6C;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,2BAA2B,6CAA6C;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mCAAmC,cAAc;AACjD;AACA;AACA,mCAAmC,+BAA+B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qDAAe;AAC1C,gCAAgC,qDAAe;AAC/C;AACA,uBAAuB;AACvB;AACA,uCAAuC;AACvC;AACA;AACA,QAAQ,+DAAQ,CAAC,8CAAK;AACtB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,iDAAiD,EAAE;AACnD;AACA;AACA,kCAAkC,+DAAa;AAC/C;AACA;AACA,2BAA2B,EAAE;AAC7B,+CAA+C,EAAE;AACjD;AACA;AACA,kCAAkC,6DAAkB;AACpD;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,+CAAK;AAC3B,0BAA0B,gEAAQ;AAClC;AACA,SAAS;AACT,4CAA4C;AAC5C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,yBAAyB,EAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,uBAAuB,gDAAM;AAC7B;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B,6BAA6B,2DAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uDAAQ,uCAAuC,UAAU;AACnF;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,iCAAiC,EAAE;AAC7D;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,oCAAoC,EAAE;AAChE;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,6CAA6C,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,gCAAgC,EAAE;AAC5D;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,4BAA4B,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,mCAAmC,EAAE;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,mCAAmC,EAAE;AAC/D;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,mCAAmC,sCAAsC,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,yBAAyB,EAAE;AACtD;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA,+CAA+C,mDAAS,EAAE,qBAAqB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mCAAmC,uDAAa;AAChD;AACA;AACA,aAAa;AACb;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,mBAAmB,EAAE;AAC1C;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,uBAAuB,0DAAa;AACpC;AACA;AACA,4BAA4B,0DAAa;AACzC;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,oCAAoC,kBAAkB,cAAc,8BAA8B,WAAW,YAAY,wBAAwB,kBAAkB,WAAW,UAAU,6BAA6B,kBAAkB,YAAY,UAAU,4BAA4B,kBAAkB,2BAA2B,UAAU,wBAAwB,kBAAkB,WAAW,uBAAuB,gCAAgC,kBAAkB,WAAW,SAAS,+CAA+C,UAAU,yBAAyB,4EAA4E,wBAAwB,aAAa,6BAA6B,WAAW,4BAA4B,2BAA2B,wBAAwB,uBAAuB,+CAA+C,WAAW,wBAAwB,SAAS,WAAW,gBAAgB,UAAU,kBAAkB,qCAAqC,yBAAyB,qCAAqC,eAAe,qCAAqC,eAAe,4CAA4C,uBAAuB,eAAe,+BAA+B,iCAAiC,yBAAyB,sBAAsB,eAAe,6BAA6B,WAAW,kBAAkB,uBAAuB,qCAAqC,WAAW,kCAAkC,0BAA0B,SAAS,eAAe,cAAc;AAC9hD,iBAAiB;AACjB;AACA;AACA,sDAAsD;AACtD,SAAS,OAAO,2DAAe;AAC/B,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,gBAAgB,OAAO,oDAAK,EAAE;AAC9B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,6CAA6C,EAAE;AAC/C;AACA;AACA;AACA,6CAA6C,EAAE;AAC/C;AACA;AACA,6CAA6C,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,sDAAsD;AACtD,SAAS,4BAA4B;AACrC,SAAS,OAAO,0DAAc;AAC9B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,QAAQ,8CAAK;AACb,QAAQ,+DAAQ,CAAC,8CAAK;AACtB,QAAQ,oDAAG;AACX;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,yDAAa;AAC7B,MAAM;AACN,2DAA2D,uEAAgB,EAAE,gDAAgD,8BAA8B,6DAAM,CAAC,yDAAa,GAAG,EAAE,gDAAgD;AACpO;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0CAA0C,EAAE;AACjE;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,6KAA6K,eAAe,qRAAqR,eAAe;AAChe,yDAAyD,WAAW,kCAAkC,sBAAsB,wCAAwC,yBAAyB,8CAA8C,kBAAkB,+CAA+C,gBAAgB;AAC5T,iBAAiB;AACjB;AACA;AACA,sDAAsD,WAAW;AACjE;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,8DAA8D,WAAW,sBAAsB,sCAAsC,yBAAyB,+CAA+C,gBAAgB;AAC7N,iBAAiB;AACjB;AACA;AACA,2DAA2D,WAAW;AACtE;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,YAAY;AACZ;AACA;AACA,WAAW,oEAAO;AAClB,QAAQ,kEAAK,iBAAiB,kEAAK;AACnC;AACA;AACA;AACA,SAAS;AACT,QAAQ,kEAAK,gBAAgB,kEAAK;AAClC;AACA;AACA,SAAS;AACT,QAAQ,kEAAK,WAAW,kEAAK;AAC7B;AACA,SAAS;AACT,QAAQ,uEAAU,uBAAuB,oEAAO;AAChD,QAAQ,uEAAU,uBAAuB,oEAAO;AAChD;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,sBAAsB,iDAAK;AAC3B;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,oBAAoB,EAAE;AAChD,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,mBAAmB,EAAE;AAC/C;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,6IAA6I,2BAA2B,0uBAA0uB;AACl5B;AACA,iEAAiE,YAAY,kBAAkB,kBAAkB,gBAAgB,eAAe,iBAAiB,WAAW,YAAY,sBAAsB,kBAAkB,eAAe,uBAAuB,yBAAyB,0CAA0C,WAAW,sBAAsB,gDAAgD,yBAAyB,+CAA+C,gBAAgB;AAClf,iBAAiB;AACjB;AACA;AACA,8DAA8D;AAC9D,SAAS,OAAO,wDAAY;AAC5B,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,yBAAyB,OAAO,oDAAK,EAAE;AACvC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,SAAS;AACT;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,8BAA8B,EAAE;AACrD;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,8BAA8B,EAAE;AACrD;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,4PAA4P,iBAAiB;AAC7Q,0DAA0D,qBAAqB,sBAAsB,uCAAuC,sBAAsB,oCAAoC,eAAe,eAAe,0DAA0D,WAAW,yBAAyB,gCAAgC,WAAW,YAAY,wBAAwB,kBAAkB,UAAU,YAAY,WAAW,kBAAkB,sBAAsB,WAAW,yBAAyB,mBAAmB,aAAa,qBAAqB,uBAAuB;AAC5lB,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS;AACT,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,qBAAqB,OAAO,oDAAK,EAAE;AACnC,oBAAoB,OAAO,oDAAK,EAAE;AAClC,mBAAmB,OAAO,oDAAK,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,6DAA6D,WAAW,sBAAsB,qCAAqC,yBAAyB,+CAA+C,gBAAgB,4EAA4E,iEAAiE,cAAc;AACtX,iBAAiB;AACjB;AACA;AACA,0DAA0D,WAAW;AACrE;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,4BAA4B,OAAO,oDAAK,EAAE;AAC1C,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,kBAAkB,wDAAe;AACjC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,+CAAK;AACxB,sBAAsB,8CAAI;AAC1B,0BAA0B,8CAAI;AAC9B;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,mDAAmD;AACnD,mBAAmB,EAAE;AACrB;AACA,mBAAmB,+CAAK;AACxB,uBAAuB,8CAAI;AAC3B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,uBAAuB,8CAAI;AAC3B;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,+CAAK;AACxB;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gDAAM;AACzB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,+CAAK;AACxB;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,uBAAuB,8CAAI;AAC3B;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,+CAAK;AAC5B,2BAA2B,gDAAM;AACjC;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,uBAAuB,+CAAK;AAC5B,2BAA2B,sDAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,uBAAuB,+CAAK;AAC5B,2BAA2B,sDAAY;AACvC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,uBAAuB,+CAAK;AAC5B,2BAA2B,sDAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,uBAAuB,+CAAK;AAC5B,2BAA2B,sDAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,uBAAuB,+CAAK;AAC5B,2BAA2B,sDAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,iDAAiD,QAAQ;AACzD,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,6DAA6D,QAAQ;AACrE,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,0BAA0B,sCAAsC;AAChE;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,oDAAoD,QAAQ;AAC5D,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,8CAA8C,QAAQ;AACtD,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA,+BAA+B,EAAE;AACjC;AACA,+DAA+D,QAAQ;AACvE,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,0DAAe;AACpC,sBAAsB,2DAAgB;AACtC;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,mCAAmC,EAAE;AACrC,8DAA8D,2DAAG;AACjE,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,sEAAsE,2DAAG;AACzE,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,mDAAmD,2DAAG;AACtD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,YAAY,EAAE,IAAI,kEAAU;AACpD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,mBAAmB,gDAAE;AACrB,SAAS;AACT,eAAe,sDAAQ,+BAA+B,2DAAG;AACzD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,eAAe,sDAAQ,mCAAmC,2DAAG;AAC7D,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,gEAAU;AACnC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,SAAS;AACT,4BAA4B,2DAAG;AAC/B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,kCAAkC,EAAE;AACpC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,sBAAsB,wDAAW;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT,eAAe,wDAAW;AAC1B;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,sBAAsB,8EAAuB;AAC7C;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,mBAAmB,EAAE;AACrB,sBAAsB,wDAAW;AACjC;AACA;AACA;AACA;AACA,SAAS;AACT,eAAe,wDAAW;AAC1B;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,+BAA+B,+DAAa;AAC5C;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB,sBAAsB,wDAAW;AACjC;AACA,SAAS;AACT,eAAe,wDAAW;AAC1B;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,+BAA+B,+DAAa;AAC5C;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qCAAqC;AACrC;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB,sBAAsB,wDAAW;AACjC;AACA;AACA;AACA;AACA,SAAS;AACT,eAAe,wDAAW;AAC1B;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,sDAAsD;AACtD,SAAS,OAAO,gEAAU;AAC1B,MAAM;AACN,6DAA6D,uEAAgB,EAAE,kDAAkD,gCAAgC,6DAAM,CAAC,gEAAU,GAAG,EAAE,kDAAkD;AACzO,IAAI,yDAAU;AACd,QAAQ,gEAAS;AACjB,QAAQ,yDAAU;AAClB,QAAQ,yDAAU;AAClB,QAAQ,yDAAU,sBAAsB,gDAAU;AAClD;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gCAAgC,qDAAe;AAC/C;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,kEAAkE,EAAE;AACpE;AACA;AACA,sEAAsE,EAAE;AACxE;AACA;AACA,kEAAkE,EAAE;AACpE;AACA;AACA,kEAAkE,EAAE;AACpE;AACA;AACA,mEAAmE,EAAE;AACrE;AACA;AACA,kEAAkE,EAAE;AACpE;AACA;AACA,oEAAoE,EAAE;AACtE;AACA;AACA,yEAAyE,EAAE;AAC3E;AACA;AACA,wEAAwE,EAAE;AAC1E;AACA;AACA,kEAAkE,EAAE;AACpE;AACA;AACA,6EAA6E,EAAE;AAC/E;AACA;AACA,sEAAsE,EAAE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,2CAA2C,EAAE;AACnE;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,+CAA+C,EAAE;AACvE;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,iDAAiD,EAAE;AACzE;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,2DAAG;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,sBAAsB,2DAAG;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,gCAAgC,oCAAoC,EAAE;AACtE;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,4CAA4C,EAAE;AACpE;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,2CAA2C,EAAE;AACnE;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,sBAAsB,2DAAG;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,gCAAgC,qCAAqC,EAAE;AACvE;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,6CAA6C,EAAE;AACrE;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,2CAA2C,EAAE;AACnE;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,gDAAU;AAC7B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,+CAA+C,EAAE;AACvE;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,oDAAoD;AACpD,SAAS,4BAA4B;AACrC,SAAS;AACT,MAAM;AACN,2DAA2D,uEAAgB,EAAE,gDAAgD,8BAA8B,6DAAM,uBAAuB,6DAAM,cAAc,EAAE,gDAAgD;AAC9P;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,wDAAW,wBAAwB,EAAE;AAChE,kBAAkB,oBAAoB;AACtC;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,EAAE;AAC7D;AACA;AACA,0DAA0D,EAAE;AAC5D;AACA;AACA,+DAA+D,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,gDAAU;AACjC,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,gDAAgD,EAAE;AAC5E;AACA;AACA;AACA,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,qCAAqC,EAAE;AACvC;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,mBAAmB,EAAE;AACrB,6CAA6C;AAC7C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,mBAAmB,EAAE;AACrB,6CAA6C;AAC7C;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS,qBAAqB;AAC9B,SAAS,0BAA0B;AACnC,SAAS,OAAO,yDAAa,gBAAgB,OAAO,uDAAQ,EAAE;AAC9D,MAAM;AACN,sDAAsD,uEAAgB,EAAE,2CAA2C,yBAAyB,6DAAM,gBAAgB,6DAAM,qBAAqB,6DAAM,CAAC,yDAAa,MAAM,EAAE,2CAA2C;AACpQ;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,oDAAoD,EAAE;AAChF;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,yCAAyC,EAAE;AACrE;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,gDAAE;AACrB;AACA,yBAAyB,EAAE;AAC3B,uBAAuB,EAAE;AACzB;AACA,0CAA0C,uBAAuB;AACjE,sBAAsB,gEAAQ;AAC9B,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,4CAA4C,uBAAuB;AACnE,0BAA0B,2DAAG;AAC7B,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,gCAAgC,iEAAiE,EAAE;AACnG,aAAa;AACb;AACA,mBAAmB,EAAE;AACrB,0CAA0C,uBAAuB;AACjE,4BAA4B,2DAAG;AAC/B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,oDAAoD,EAAE;AAC9E;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,uDAAY;AACrC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,yBAAyB,4DAAiB;AAC1C;AACA;AACA,mBAAmB,EAAE;AACrB,0BAA0B,wDAAe;AACzC,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,0BAA0B,qDAAY;AACtC,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,yBAAyB,gEAAW;AACpC,QAAQ,2DAAM;AACd,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,8CAAK;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,mDAAU;AAC/D;AACA;AACA,kDAAkD,gDAAO;AACzD;AACA;AACA,sCAAsC,qDAAY;AAClD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA;AACA,gCAAgC,uDAAQ,uCAAuC,kBAAkB;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA,mBAAmB,EAAE;AACrB;AACA,uCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,0CAA0C,EAAE;AAC5C,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,aAAa;AACb;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uCAAuC,oBAAoB;AAC3D,oBAAoB,yDAAI;AACxB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,uDAAY;AACrC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,yBAAyB,4DAAiB;AAC1C;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,uDAAY;AACrC,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,2DAAgB;AACzC,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,+CAA+C,EAAE;AAC7E;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,8CAAG;AAC5B,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,4BAA4B,EAAE;AAC9B;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,0CAA0C;AACvE,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,0CAA0C,EAAE;AAC5C,mBAAmB,EAAE;AACrB,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,yDAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mCAAmC,mBAAmB;AACtD,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,gDAAgD,EAAE;AAClD,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,kDAAkD,EAAE;AACpD,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,2DAA2D,EAAE;AAC7D,2BAA2B,EAAE;AAC7B,6BAA6B,mEAAc;AAC3C;AACA,6BAA6B,2DAAM;AACnC;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,eAAe;AACzD,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS,OAAO,gEAAU;AAC1B,MAAM;AACN,sDAAsD,uEAAgB,EAAE,2CAA2C,yBAAyB,6DAAM,CAAC,gEAAU,GAAG,EAAE,2CAA2C;AAC7M;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2DAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,gCAAgC,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,sCAAsC,uDAAQ;AAC9C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gCAAgC,yCAAG,eAAe,uDAAQ;AAC1D,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B,mDAAmD,uDAAQ;AAC3D,kCAAkC,mCAAmC;AACrE,aAAa;AACb;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA,sCAAsC,mCAAmC;AACzE,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT,eAAe,gDAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,0BAA0B,EAAE;AACpD;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,iDAAiD;AACjD,SAAS,0CAA0C,OAAO,mDAAI,EAAE,GAAG;AACnE,SAAS;AACT,MAAM;AACN;AACA,yBAAyB,OAAO,oDAAK,EAAE;AACvC,qCAAqC,OAAO,oDAAK,EAAE;AACnD,kCAAkC,OAAO,oDAAK,EAAE;AAChD,6BAA6B,OAAO,oDAAK,EAAE;AAC3C,iBAAiB,OAAO,qDAAM,EAAE;AAChC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,yDAAyD;AACzD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,wFAAwF,WAAW;AACnG;AACA,iBAAiB;AACjB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,8EAA8E,WAAW;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,uCAAuC,uBAAuB;AAC9D,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,oDAAoD;AACpD,SAAS,gCAAgC,OAAO,qDAAM,sBAAsB;AAC5E,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,gDAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,gDAAE;AAChC;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,kBAAkB,kEAAU;AAC5B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,6BAA6B,QAAQ,2CAAK,CAAC,EAAE;AAC7C;AACA;AACA;AACA,8BAA8B,gDAAE;AAChC;AACA,2BAA2B,EAAE,KAAK,4CAAM,eAAe,uDAAQ;AAC/D;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,iCAAiC,kDAAkD,EAAE;AACrF;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,4BAA4B,EAAE;AAC1D,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC,iDAAiD;AACjD;AACA;AACA,qBAAqB;AACrB,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA,oCAAoC,uDAAQ,GAAG;AAC/C;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,oDAAoD,EAAE,qBAAqB,4CAA4C,iBAAiB;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,iDAAiD,EAAE,MAAM,2BAA2B;AACpF;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uDAAQ,kCAAkC,UAAU;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,4BAA4B,4BAA4B,EAAE;AAC1D,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,yCAAyC;AACzC;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB,4CAA4C,EAAE,qBAAqB,4CAA4C,iBAAiB;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,2BAA2B,EAAE;AACtD;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,8BAA8B,EAAE;AAC1D;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,yCAAyC,EAAE;AACjE,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,wBAAwB,EAAE;AAChD,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA,yCAAyC,qCAAqC,EAAE;AAChF,gDAAgD,4CAA4C,EAAE,6BAA6B;AAC3H;AACA,iBAAiB;AACjB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,qCAAqC,qEAAqE,EAAE;AAC5G,4CAA4C,4EAA4E,EAAE,6BAA6B;AACvJ;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,iDAAiD;AACjD,SAAS,OAAO,gEAAU,EAAE;AAC5B,SAAS,OAAO,yDAAa,EAAE;AAC/B,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS;AACT,MAAM;AACN,wDAAwD,uEAAgB,EAAE,6CAA6C,2BAA2B,6DAAM,CAAC,gEAAU,GAAG,6DAAM,CAAC,yDAAa,GAAG,6DAAM,CAAC,2DAAe,GAAG,6DAAM,uBAAuB,EAAE,6CAA6C;AAClS;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mDAAmD,cAAc;AACjE;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,iCAAiC,mBAAmB,EAAE;AACtD,aAAa;AACb;AACA,2BAA2B,gEAAkB;AAC7C;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,wCAAwC,qBAAqB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,wCAAwC,qBAAqB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT,QAAQ,yCAAG,eAAe,uDAAQ;AAClC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,kDAAkD,cAAc;AAChE;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,6CAA6C,eAAe;AAC5D,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT,wCAAwC,EAAE;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT,6CAA6C,EAAE;AAC/C;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS,qBAAqB;AAC9B,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,mBAAmB,OAAO,oDAAK,EAAE;AACjC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,eAAe,OAAO,oDAAK,EAAE;AAC7B,gCAAgC,OAAO,oDAAK,EAAE;AAC9C;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,2DAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,QAAQ,oEAAc,aAAa,EAAE;AAC1D;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,QAAQ,mEAAa,yBAAyB,EAAE;AACrE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,+BAA+B,iCAAiC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,+BAA+B,kCAAkC;AACjE;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,0FAA0F,MAAM,mCAAmC,OAAO;AAC1I,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,+DAA+D,WAAW;AAC1E;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,uBAAuB,OAAO,qDAAM,EAAE;AACtC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yDAAW;AACpC;AACA;AACA;AACA;AACA,0BAA0B,qDAAe;AACzC;AACA;AACA;AACA;AACA,6BAA6B,qDAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,2DAAY;AAC3C;AACA;AACA;AACA,oCAAoC,2DAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,iCAAiC,mBAAmB,EAAE;AACtD,aAAa;AACb;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,6BAA6B,EAAE;AACxD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,6CAA6C,EAAE;AACxE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,wBAAwB,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,qTAAqT,OAAO,oDAAoD;AAChX,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,mBAAmB,OAAO,oDAAK,EAAE;AACjC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,qBAAqB,OAAO,oDAAK,EAAE;AACnC,2BAA2B,OAAO,oDAAK,EAAE;AACzC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,uBAAuB,OAAO,qDAAM,EAAE;AACtC,4BAA4B,OAAO,qDAAM,EAAE;AAC3C;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,kEAAe;AACvC,wBAAwB,gEAAa;AACrC,wBAAwB,gEAAa;AACrC,wBAAwB,mEAAgB;AACxC,wBAAwB,6DAAiB;AACzC,wBAAwB,2DAAa;AACrC,wBAAwB,kEAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,2DAAY;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,uCAAuC,mCAAmC;AAC1E;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,eAAe,OAAO,oDAAK,EAAE;AAC7B,+BAA+B,OAAO,qDAAM,EAAE;AAC9C;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,QAAQ,oEAAc,eAAe,EAAE;AAC5D;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,QAAQ,mEAAa,mCAAmC,EAAE;AAC/E;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,0FAA0F,MAAM,mCAAmC,OAAO;AAC1I,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,mBAAmB,OAAO,oDAAK,EAAE;AACjC,eAAe,OAAO,oDAAK,EAAE;AAC7B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,gEAAa;AACrC,wBAAwB,gEAAa;AACrC,wBAAwB,mEAAgB;AACxC,wBAAwB,2DAAa;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,gEAAa;AACrC,wBAAwB,gEAAa;AACrC,wBAAwB,mEAAgB;AACxC,wBAAwB,2DAAa;AACrC,wBAAwB,kEAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B,6CAA6C,EAAE;AAC/C;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B,6CAA6C,EAAE;AAC/C;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,mDAAI;AACpB;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,sBAAsB;AACtB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,sBAAsB;AACtB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,oDAAoD,WAAW;AAC/D;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,uCAAuC,wBAAwB;AAC/D;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,mDAAmD,WAAW;AAC9D;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,iCAAiC,EAAE;AACnC,6CAA6C,EAAE;AAC/C,8CAA8C,EAAE;AAChD;AACA;AACA,8CAA8C,EAAE;AAChD;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,8CAA8C,EAAE;AAChD,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA,gHAAgH,2DAAY,EAAE,6BAA6B;AAC3J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,kDAAkD;AAClD,SAAS,OAAO,0DAAc,EAAE;AAChC,SAAS,OAAO,2DAAe;AAC/B,MAAM;AACN,yDAAyD,uEAAgB,EAAE,8CAA8C,4BAA4B,6DAAM,CAAC,0DAAc,GAAG,6DAAM,CAAC,2DAAe,GAAG,EAAE,8CAA8C;AACtP;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D;AACA,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS;AACT,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,mEAAgB;AACxC,wBAAwB,6DAAiB;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,mBAAmB,oEAAc;AACjC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,mBAAmB,mEAAa;AAChC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,yCAAyC;AACzC;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,uYAAuY,MAAM,kJAAkJ,gBAAgB,sBAAsB,uCAAuC,GAAG,OAAO,qGAAqG,eAAe,sUAAsU,gBAAgB,qBAAqB,uCAAuC;AAC5nC,qCAAqC,sEAAuB;AAC5D,oCAAoC,WAAW,mBAAmB,SAAS,YAAY,OAAO,wBAAwB,WAAW,SAAS;AAC1I,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS,OAAO,gEAAiB,EAAE;AACnC,SAAS,OAAO,uEAAY;AAC5B,MAAM;AACN;AACA,mBAAmB,OAAO,oDAAK,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,gEAAa;AACrC,wBAAwB,6DAAiB;AACzC,wBAAwB,+DAAiB;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qDAAe;AAC3C;AACA;AACA;AACA,8BAA8B,2DAAY;AAC1C;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,yBAAyB,EAAE,kBAAkB,yDAAI;AACjD;AACA;AACA;AACA;AACA,0BAA0B,uEAAiB;AAC3C,aAAa;AACb;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,qBAAqB,qDAAM;AAC3B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,8BAA8B,EAAE;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,yBAAyB,EAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,oCAAoC,cAAc,SAAS,YAAY;AACvE,iBAAiB;AACjB;AACA;AACA,uDAAuD,WAAW;AAClE;AACA,gBAAgB,OAAO,oDAAK,EAAE;AAC9B,mBAAmB,OAAO,oDAAK,EAAE;AACjC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,sBAAsB,OAAO,qDAAM,EAAE;AACrC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,2DAAa;AACrC;AACA;AACA,wBAAwB,2DAAa;AACrC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC,8BAA8B,2DAAY;AAC1C;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA,mCAAmC,EAAE;AACrC;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,uBAAuB;AAC/D;AACA;AACA;AACA;AACA,wCAAwC,kBAAkB;AAC1D;AACA;AACA,4CAA4C,mBAAmB;AAC/D;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,4CAA4C,uBAAuB;AACnE;AACA;AACA;AACA,gDAAgD,kBAAkB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,oCAAoC;AAC3E,aAAa;AACb;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,EAAE;AACrC;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,EAAE;AACrC;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA,kCAAkC,eAAe;AACjD,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,eAAe,wDAAQ;AACvB;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,uVAAuV,MAAM,4IAA4I,uCAAuC,ihBAAihB,MAAM,gJAAgJ,4CAA4C,yjBAAyjB,MAAM,gJAAgJ,0CAA0C,ghBAAghB,uCAAuC,6JAA6J,MAAM,uOAAuO,4CAA4C,6KAA6K,WAAW,kMAAkM,0CAA0C,qKAAqK,SAAS,oTAAoT,MAAM,+SAA+S,uBAAuB,gHAAgH,UAAU;AACrxI,2DAA2D,iBAAiB,wCAAwC,WAAW,YAAY,cAAc,8CAA8C,cAAc,aAAa,UAAU,cAAc,4EAA4E,aAAa,UAAU,eAAe,gBAAgB,eAAe,eAAe,YAAY,SAAS,eAAe,kBAAkB;AAChd,iBAAiB;AACjB;AACA;AACA,0DAA0D,WAAW;AACrE;AACA,mBAAmB,OAAO,oDAAK,EAAE;AACjC,wBAAwB,OAAO,oDAAK,EAAE;AACtC,kBAAkB,OAAO,qDAAM,EAAE;AACjC,sBAAsB,OAAO,qDAAM,EAAE;AACrC,oBAAoB,OAAO,wDAAS,SAAS,4DAAS,IAAI;AAC1D;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE;AACjC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,kQAAkQ,aAAa;AAC/Q,oCAAoC,gBAAgB,kCAAkC,kBAAkB,WAAW,qBAAqB;AACxI,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS;AACT,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,kBAAkB,OAAO,oDAAK,EAAE;AAChC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,iEAAiE;AACjE,SAAS,8CAA8C,OAAO,mDAAI,EAAE,GAAG;AACvE,SAAS;AACT,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,qCAAqC,2BAA2B;AAChE,mBAAmB,sDAAK;AACxB;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,4BAA4B,gEAAe;AAC3C;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,aAAa;AAC9C,mBAAmB,EAAE;AACrB,oBAAoB,oDAAG;AACvB,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,aAAa;AAC9C,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,sBAAsB;AACtD;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,gBAAgB,qBAAqB;AACrC,gBAAgB,qBAAqB;AACrC,gBAAgB,qBAAqB;AACrC,gBAAgB,qBAAqB;AACrC,gBAAgB,qBAAqB;AACrC,gBAAgB,sBAAsB;AACtC,gBAAgB,uBAAuB;AACvC,gBAAgB,uBAAuB;AACvC,gBAAgB,uBAAuB;AACvC,iBAAiB;AACjB;AACA,mBAAmB,EAAE;AACrB;AACA,gBAAgB,mBAAmB;AACnC,gBAAgB,mBAAmB;AACnC,gBAAgB,mBAAmB;AACnC,gBAAgB,mBAAmB;AACnC,gBAAgB,mBAAmB;AACnC,gBAAgB,mBAAmB;AACnC,gBAAgB,mBAAmB;AACnC,gBAAgB,mBAAmB;AACnC,gBAAgB;AAChB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,+BAA+B,IAAI;AACnC,mBAAmB,EAAE;AACrB,gCAAgC,IAAI;AACpC,mBAAmB,EAAE;AACrB,8BAA8B,IAAI;AAClC,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,IAAI;AACpB,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0DAAS;AAChC,uBAAuB,0DAAS;AAChC,uBAAuB,0DAAS;AAChC,uBAAuB,0DAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,6CAA6C,WAAW;AACxD,oDAAoD,uEAAgB,EAAE,yCAAyC,yBAAyB,EAAE,yCAAyC;AACnL;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,0BAA0B,EAAE;AACtD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,mCAAmC;AACpE,6BAA6B,mCAAmC;AAChE;AACA;AACA;AACA;AACA,wCAAwC,oCAAoC;AAC5E,2CAA2C,oCAAoC;AAC/E,iCAAiC,mCAAmC;AACpE,6BAA6B,mCAAmC;AAChE;AACA;AACA;AACA;AACA,wCAAwC,oCAAoC;AAC5E,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,wCAAwC,oCAAoC;AAC5E,2CAA2C,oCAAoC;AAC/E,4CAA4C,4CAA4C;AACxF,qDAAqD,4CAA4C;AACjG,yCAAyC,4CAA4C;AACrF,kDAAkD,4CAA4C;AAC9F;AACA;AACA;AACA;AACA,wCAAwC,oCAAoC;AAC5E,2CAA2C,oCAAoC;AAC/E,iCAAiC,mCAAmC;AACpE,6BAA6B,mCAAmC;AAChE;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,uBAAuB,8EAA8E,EAAE;AACvG;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,oDAAoD,EAAE;AAC5E;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,uCAAuC,EAAE;AACnE;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,uCAAuC,EAAE;AACnE;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,uCAAuC,EAAE;AAC/D;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,uCAAuC,EAAE;AAC/D;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,+BAA+B,IAAI;AACnC,mBAAmB,EAAE;AACrB,gCAAgC,IAAI;AACpC,mBAAmB,EAAE;AACrB,8BAA8B,IAAI;AAClC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,uCAAuC,EAAE;AAC/D;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,yYAAyY,qCAAqC,kDAAkD,oCAAoC,0wBAA0wB,aAAa,2pCAA2pC,kDAAkD,44BAA44B,SAAS,w7BAAw7B,SAAS,4yCAA4yC,SAAS,y/BAAy/B,SAAS,81BAA81B,SAAS,k6BAAk6B,SAAS,wvBAAwvB,SAAS,q2BAAq2B,kDAAkD,igBAAigB,mEAAmE;AACnmV,oCAAoC,gBAAgB,eAAe,YAAY,2CAA2C,qBAAqB,SAAS,gBAAgB,iBAAiB,gBAAgB,kBAAkB,6BAA6B,WAAW,qBAAqB,iCAAiC,kBAAkB,wBAAwB,aAAa,cAAc,4EAA4E,wBAAwB,YAAY,kBAAkB,sBAAsB;AACthB,iBAAiB;AACjB;AACA;AACA,yDAAyD;AACzD,SAAS;AACT,MAAM;AACN;AACA,0BAA0B,OAAO,oDAAK,EAAE;AACxC,sBAAsB,OAAO,oDAAK,EAAE;AACpC,eAAe,OAAO,oDAAK,EAAE;AAC7B,yBAAyB,OAAO,oDAAK,EAAE;AACvC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,6DAA6D,WAAW;AACxE;AACA,sBAAsB,OAAO,oDAAK,EAAE;AACpC,eAAe,OAAO,oDAAK,EAAE;AAC7B,0BAA0B,OAAO,oDAAK,EAAE;AACxC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE;AACjC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,gCAAgC,EAAE;AAClC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA,8BAA8B,uBAAuB,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,4CAA4C,EAAE;AAC9C;AACA;AACA;AACA;AACA,8BAA8B,EAAE;AAChC,yBAAyB,EAAE;AAC3B,6CAA6C,EAAE;AAC/C;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,sEAAsE,EAAE;AACxE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,sBAAsB,0BAA0B,EAAE;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,uBAAuB,yEAAyE,EAAE;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA;AACA,qHAAqH,EAAE;AACvH;AACA,8DAA8D,EAAE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,yYAAyY,aAAa,26CAA26C,iDAAiD;AACl3D,oCAAoC,gBAAgB,kCAAkC,kBAAkB,WAAW,qBAAqB,kBAAkB,sBAAsB;AAChL,iBAAiB;AACjB;AACA;AACA,6DAA6D;AAC7D,SAAS,yBAAyB;AAClC,SAAS;AACT,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,eAAe,OAAO,oDAAK,EAAE;AAC7B,iCAAiC,OAAO,oDAAK,EAAE;AAC/C;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,6DAA6D,WAAW;AACxE;AACA,kBAAkB,OAAO,oDAAK,EAAE;AAChC,eAAe,OAAO,oDAAK,EAAE;AAC7B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,oEAAoE;AACpE,SAAS,iDAAiD,OAAO,mDAAI,EAAE,GAAG;AAC1E,SAAS;AACT,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,kaAAka,sCAAsC;AACxc,qCAAqC,sEAAuB;AAC5D;AACA,iBAAiB;AACjB;AACA;AACA,2DAA2D,WAAW;AACtE;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,eAAe,OAAO,oDAAK,EAAE;AAC7B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,8BAA8B,OAAO,oDAAK,EAAE;AAC5C;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,8BAA8B,+BAA+B,EAAE;AAC/D;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,kCAAkC,gDAAgD,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA,qCAAqC,0DAA0D;AAC/F;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,4CAA4C,EAAE,MAAM,sCAAsC;AAC1F;AACA;AACA,0DAA0D,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,6JAA6J,0BAA0B,4ZAA4Z,qBAAqB;AACxmB,yDAAyD,gBAAgB,yBAAyB,WAAW,eAAe;AAC5H,iBAAiB;AACjB;AACA;AACA,iEAAiE;AACjE,SAAS;AACT,MAAM;AACN;AACA,0BAA0B,OAAO,oDAAK,EAAE;AACxC,sBAAsB,OAAO,oDAAK,EAAE;AACpC,eAAe,OAAO,oDAAK,EAAE;AAC7B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,kEAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,2DAAW;AACnC,wBAAwB,mEAAmB;AAC3C,wBAAwB,wEAAqB;AAC7C,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,wEAAqB;AAC7C,wBAAwB,oEAAiB;AACzC,wBAAwB,kEAAe;AACvC,wBAAwB,uEAAoB;AAC5C,wBAAwB,qEAAkB;AAC1C,wBAAwB,iEAAc;AACtC,wBAAwB,kEAAe;AACvC,wBAAwB,kEAAe;AACvC,wBAAwB,gEAAa;AACrC,wBAAwB,mEAAgB;AACxC,wBAAwB,sEAAmB;AAC3C,wBAAwB,sEAAmB;AAC3C;AACA;AACA,wBAAwB,6DAAiB;AACzC,wBAAwB,kEAAoB;AAC5C,wBAAwB,2DAAa;AACrC,wBAAwB,+DAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,qDAAe;AAChD,8BAA8B,qDAAe;AAC7C,0BAA0B,qDAAe;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,iCAAiC,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,gCAAgC,EAAE;AAC5D;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,8BAA8B,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,6BAA6B,EAAE;AACzD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,msBAAmsB,sCAAsC,iKAAiK,qCAAqC,2JAA2J,wCAAwC,6eAA6e,sCAAsC;AACroD,qCAAqC,sEAAuB;AAC5D,oCAAoC,cAAc,WAAW,wCAAwC,WAAW,sBAAsB,aAAa,kBAAkB,2BAA2B,cAAc,kBAAkB,aAAa;AAC7O,iBAAiB;AACjB;AACA;AACA,6DAA6D;AAC7D,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,uBAAuB,OAAO,oDAAK,EAAE;AACrC,eAAe,OAAO,oDAAK,EAAE;AAC7B,wBAAwB,OAAO,oDAAK,EAAE;AACtC,6BAA6B,OAAO,oDAAK,EAAE;AAC3C,yBAAyB,OAAO,oDAAK,EAAE;AACvC,0BAA0B,OAAO,oDAAK,EAAE;AACxC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,gCAAgC,OAAO,oDAAK,EAAE;AAC9C,mBAAmB,OAAO,oDAAK,EAAE;AACjC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,wBAAwB,OAAO,oDAAK,EAAE;AACtC;AACA;AACA;AACA;AACA;AACA,iCAAiC,yDAAU;AAC3C,QAAQ,wEAAkB;AAC1B,QAAQ,yDAAU,uBAAuB,gEAAiB;AAC1D;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,4BAA4B,YAAY,EAAE;AAC1C;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,4BAA4B,YAAY,EAAE;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA,kBAAkB,wBAAwB,EAAE;AAC5C;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,EAAE;AACd;AACA;AACA,eAAe,+CAAK;AACpB,oBAAoB,gDAAM;AAC1B;AACA;AACA;AACA,SAAS;AACT,kBAAkB,8CAAI;AACtB;AACA,SAAS;AACT,mBAAmB,gDAAM;AACzB;AACA,wBAAwB,gDAAM;AAC9B;AACA,aAAa;AACb,sBAAsB,8CAAI;AAC1B;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,YAAY,EAAE;AACd;AACA;AACA,eAAe,+CAAK;AACpB,oBAAoB,gDAAM;AAC1B;AACA;AACA,SAAS;AACT,kBAAkB,8CAAI;AACtB;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,8BAA8B,sDAAO;AACrC;AACA;AACA;AACA;AACA;AACA,WAAW,4DAAS,cAAc,yBAAyB;AAC3D;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,8BAA8B,sDAAO,0BAA0B,2DAAY;AAC3E;AACA;AACA;AACA;AACA;AACA,WAAW,0DAAS,cAAc,yBAAyB;AAC3D;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,mBAAmB,4BAA4B;AAC/C,mBAAmB,EAAE;AACrB,4BAA4B,2DAAY;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,mBAAmB,qBAAqB;AACxC,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,4BAA4B,2DAAY;AACxC;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,iCAAiC,sDAAO;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,mBAAmB,qBAAqB;AACxC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,uDAAQ;AACpD;AACA;AACA,gCAAgC,wBAAwB;AACxD,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,2BAA2B,8DAAS;AACpC;AACA;AACA;AACA;AACA,uBAAuB,sDAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,eAAe,EAAE;AACjB,wBAAwB,mDAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,WAAW,GAAG;AACd,YAAY,EAAE;AACd;AACA;AACA;AACA,eAAe,+CAAK;AACpB,oBAAoB,gDAAM;AAC1B;AACA;AACA,SAAS;AACT,kBAAkB,8CAAI;AACtB;AACA,SAAS;AACT,mBAAmB,gDAAM;AACzB;AACA,wBAAwB,gDAAM;AAC9B;AACA,aAAa;AACb,sBAAsB,8CAAI;AAC1B;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,YAAY,EAAE;AACd;AACA;AACA,eAAe,+CAAK;AACpB,oBAAoB,gDAAM;AAC1B;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,8BAA8B,wDAAS;AACvC;AACA;AACA,mCAAmC,2DAAY;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,wBAAwB,0DAAS;AACjC,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,qDAAqD,QAAQ;AAC7D,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,sBAAsB,iEAAU;AAChC,mBAAmB,EAAE;AACrB,4BAA4B,4DAAa;AACzC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,wDAAS,kBAAkB,wDAAS;AACpD;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6CAAO;AACjC;AACA;AACA;AACA,wBAAwB,6CAAO;AAC/B;AACA;AACA;AACA,4BAA4B,6CAAO;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,wDAAa;AAChC,oEAAoE,yDAAc;AAClF;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oCAAoC,4DAAM;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,yBAAyB,cAAc,EAAE;AACzC,SAAS;AACT;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,iCAAiC,EAAE;AAC7D;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,+BAA+B,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8DAAO;AACf,QAAQ,8DAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,YAAY,8DAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,yBAAyB,uDAAS;AAClC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6CAAO;AACjC;AACA;AACA;AACA,wBAAwB,6CAAO;AAC/B;AACA;AACA;AACA,4BAA4B,6CAAO;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,4BAA4B,mDAAS,EAAE,uBAAuB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,wDAAa;AAChC,oEAAoE,yDAAc;AAClF;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,wDAAa;AAChC,wBAAwB,yDAAc;AACtC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,sCAAsC,8DAAQ;AAC9C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,mCAAmC,EAAE;AAC/D;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,iCAAiC,EAAE;AAC7D;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8DAAO;AACf,QAAQ,8DAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,YAAY,8DAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,yBAAyB,uDAAS;AAClC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,yCAAyC,iEAAW;AACpD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,sCAAsC,EAAE;AAClE;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,oCAAoC,EAAE;AAChE;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8DAAO;AACf,QAAQ,8DAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,YAAY,8DAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oCAAoC,4DAAM;AAC1C;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,6BAA6B,uDAAS;AACtC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uDAAuD,wDAAS;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,2BAA2B,uDAAS;AACpC,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,yCAAyC,+DAAoB;AAC7D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,iCAAiC,EAAE;AAC7D;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,+BAA+B,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,QAAQ,8DAAO;AACf,QAAQ,8DAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,YAAY,8DAAO;AACnB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,+BAA+B,2DAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,6CAAO;AAC/B;AACA;AACA;AACA,0BAA0B,6CAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,4BAA4B,mDAAS,EAAE,uBAAuB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,wDAAa;AAChC,oEAAoE,yDAAc;AAClF;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,sCAAsC,EAAE;AACnE;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,oCAAoC,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,sEAAsE,uDAAQ;AAC9E;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,+BAA+B,YAAY,mDAAS,aAAa,EAAE;AACnE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,mEAAmE,4CAA4C,mFAAmF,mDAAmD,mFAAmF,qDAAqD,uBAAuB,uDAAuD,oDAAoD,yDAAyD,uBAAuB,2DAA2D,oDAAoD,oDAAoD,uBAAuB,sDAAsD,oDAAoD,mDAAmD,uBAAuB,qDAAqD,gIAAgI,iDAAiD,mFAAmF,yDAAyD,uBAAuB,yDAAyD,oDAAoD,6DAA6D,uBAAuB,4DAA4D,oDAAoD,wDAAwD,uBAAuB,wDAAwD,oDAAoD,kDAAkD,uBAAuB,kDAAkD,oDAAoD,qDAAqD,uBAAuB,qDAAqD,oDAAoD,wDAAwD,uBAAuB,0DAA0D;AAC/xE,iCAAiC,kBAAkB,SAAS,MAAM,WAAW,aAAa,6BAA6B,kBAAkB;AACzI,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS,OAAO,+DAAY,EAAE;AAC9B,SAAS,gCAAgC,OAAO,qDAAM,SAAS,kEAAe,IAAI;AAClF,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA,mCAAmC,EAAE;AACrC;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA,mCAAmC,EAAE;AACrC;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qDAAe,GAAG;AAC9C;AACA;AACA;AACA;AACA,qCAAqC,qDAAe;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,yDAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,gCAAgC,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,kCAAkC,EAAE;AAC9D;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mDAAmD,aAAa;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS,QAAQ,4DAAI;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,+BAA+B,sBAAsB,EAAE;AACvD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,QAAQ,8DAAO;AACf,QAAQ,8DAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uDAAO,GAAG;AACtC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uDAAO,GAAG;AACtC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,4BAA4B,uDAAO,GAAG;AACtC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,+BAA+B,sCAAsC,EAAE;AACvE;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,+BAA+B,oCAAoC,EAAE;AACrE;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,+BAA+B,wCAAwC,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mEAAmE;AACnE;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oCAAoC,EAAE;AACtC;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,+BAA+B,wCAAwC,EAAE;AACzE;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,+BAA+B,sCAAsC,EAAE;AACvE;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,+BAA+B,0CAA0C,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,kCAAkC,wDAAS;AAC3C,sCAAsC;AACtC;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,0DAA0D,yDAAI;AAC9D,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,2BAA2B,0DAAS;AACpC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,2BAA2B,gCAAgC;AAC3D,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,iCAAiC,8CAA8C;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB,qCAAqC,EAAE;AACvC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qCAAqC,EAAE;AACvC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,uRAAuR,uDAAuD,sGAAsG,qDAAqD,sSAAsS,6CAA6C,sMAAsM,iDAAiD,kNAAkN,+CAA+C;AACpzC,qCAAqC,sEAAuB;AAC5D,mDAAmD,aAAa,kBAAkB,6CAA6C,WAAW,+DAA+D,UAAU,iBAAiB,kBAAkB,kCAAkC,WAAW,YAAY,sEAAsE,wBAAwB,eAAe,uBAAuB,WAAW,0BAA0B,6BAA6B,4CAA4C,iBAAiB;AACljB,iBAAiB;AACjB;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,4DAAS;AACzB,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,6BAA6B,OAAO,oDAAK,EAAE;AAC3C,4BAA4B,OAAO,oDAAK,EAAE;AAC1C,iBAAiB,OAAO,wDAAS,oBAAoB;AACrD;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,kCAAkC,kBAAkB;AACpD,iCAAiC,aAAa;AAC9C,mBAAmB,EAAE;AACrB;AACA;AACA,wDAAwD,EAAE;AAC1D;AACA;AACA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,mDAAI;AACpB;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,0DAAS;AACtC;AACA,yBAAyB,mDAAS;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,EAAE;AACvB;AACA,oBAAoB;AACpB;AACA,qBAAqB,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,2BAA2B,EAAE;AAClD;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,wBAAwB,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,oBAAoB,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,kCAAkC,wDAAa;AAC/C,wBAAwB,yDAAc;AACtC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,+BAA+B,2CAA2C,EAAE;AAC5E;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,mCAAmC,8CAA8C,EAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB,4BAA4B,mDAAS;AACrC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,6BAA6B,mDAAS;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,kEAAkE;AAClE,SAAS,OAAO,gEAAiB,EAAE;AACnC,SAAS,OAAO,yDAAS,gBAAgB,OAAO,uDAAQ,EAAE,GAAG,OAAO,mDAAI,EAAE;AAC1E,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,wBAAwB,OAAO,oDAAK,EAAE;AACtC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,mBAAmB,OAAO,oDAAK,EAAE;AACjC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,wBAAwB,OAAO,oDAAK,EAAE;AACtC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,2DAAW;AACnC,wBAAwB,mEAAmB;AAC3C,wBAAwB,gEAAa;AACrC,wBAAwB,qEAAkB;AAC1C,wBAAwB,iEAAc;AACtC,wBAAwB,kEAAe;AACvC,wBAAwB,wEAAqB;AAC7C,wBAAwB,6DAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA,+BAA+B,eAAe,EAAE;AAChD,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA,2BAA2B,4BAA4B,EAAE;AACzD,eAAe,EAAE;AACjB;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,qEAAqE,uEAAyB;AAC9F;AACA;AACA,4DAA4D,+DAAiB;AAC7E;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb,mBAAmB,4DAAO;;AAE1B;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,sCAAsC,4BAA4B;AAClE,uCAAuC,6BAA6B;AACpE,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,4BAA4B,6BAA6B,EAAE;AAC3D,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA,aAAa,IAAI,oCAAoC;AACrD,uBAAuB,mDAAS;AAChC,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,gDAAU;AAC7B;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,2BAA2B,uCAAQ;AACnC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,+BAA+B,kDAAO;AACtC;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,gDAAgD;AAChD,SAAS,OAAO,yDAAa;AAC7B,MAAM;AACN,uDAAuD,uEAAgB,EAAE,4CAA4C,0BAA0B,6DAAM,CAAC,yDAAa,GAAG,EAAE,4CAA4C;AACpN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA,wBAAwB,gDAAgD,EAAE;AAC1E,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB,qBAAqB,gDAAM;AAC3B;AACA;AACA,KAAK;AACL,eAAe,EAAE;AACjB,mBAAmB,8CAAI;AACvB;AACA,KAAK;AACL,eAAe,EAAE;AACjB;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA,mBAAmB,+CAAK;AACxB;AACA;AACA,uBAAuB,gDAAM;AAC7B;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,sCAAsC,4BAA4B;AAClE,uCAAuC,6BAA6B;AACpE;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,+BAA+B,uDAAQ;AACvC,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,gDAAU;AAC7B;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,cAAc,iEAAW,IAAI;AAC/D;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,sCAAsC,EAAE;AACxC;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,6BAA6B,kDAAO;AACpC,mBAAmB,EAAE;AACrB;AACA;AACA,yBAAyB,8CAAG;AAC5B;AACA;AACA,yBAAyB,8CAAG;AAC5B;AACA;AACA,yBAAyB,8CAAG;AAC5B;AACA;AACA;AACA;AACA,iCAAiC,8CAAG;AACpC;AACA;AACA,iCAAiC,8CAAG;AACpC;AACA;AACA,iCAAiC,8CAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,wBAAwB,yDAAI;AAC5B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,2BAA2B,kDAAO;AAClC,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,wBAAwB,yDAAI;AAC5B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,gDAAgD;AAChD,SAAS,OAAO,gEAAU,EAAE;AAC5B,SAAS,OAAO,yDAAa;AAC7B,MAAM;AACN,uDAAuD,uEAAgB,EAAE,4CAA4C,0BAA0B,6DAAM,CAAC,gEAAU,GAAG,6DAAM,CAAC,yDAAa,GAAG,EAAE,4CAA4C;AACxO;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uCAAuC,EAAE;AACzC;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,iCAAiC,kDAAkD,EAAE;AACrF,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,8BAA8B,6CAA6C,EAAE;AAC7E;AACA;AACA;AACA,+BAA+B,uDAAQ,oCAAoC,iBAAiB;AAC5F;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,EAAE;AACvB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,uCAAuC,EAAE;AACnE;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,0BAA0B,0DAAU;AACpC,yBAAyB,0DAAU;AACnC,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,8TAA8T,8DAA8D,kRAAkR,qDAAqD,4lBAA4lB,+DAA+D,uGAAuG,aAAa,qRAAqR,gEAAgE,uHAAuH,cAAc,4VAA4V,qDAAqD;AAC7zE,6CAA6C,WAAW,UAAU,YAAY,uBAAuB,kBAAkB,iBAAiB;AACxI,iBAAiB;AACjB;AACA;AACA,wDAAwD;AACxD,SAAS,sBAAsB;AAC/B,SAAS,sBAAsB;AAC/B,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,0DAAc,EAAE;AAChC,SAAS,OAAO,2DAAW;AAC3B,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,2DAAY;AAC7C,iCAAiC,2DAAY;AAC7C;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,iCAAiC,kDAAkD,EAAE;AACrF,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,8BAA8B,6CAA6C,EAAE;AAC7E;AACA;AACA;AACA,+BAA+B,uDAAQ,oCAAoC,iBAAiB;AAC5F;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS,4BAA4B;AACrC,SAAS,sBAAsB;AAC/B,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,0DAAc;AAC9B,MAAM;AACN;AACA,sBAAsB,OAAO,2DAAY,mCAAmC;AAC5E,uBAAuB,OAAO,2DAAY,oCAAoC;AAC9E,kBAAkB,OAAO,2DAAY,+BAA+B;AACpE;AACA;AACA,CAAC,CAAC,kEAAoB;;AAEtB;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,2DAAW;AACnC,wBAAwB,mEAAmB;AAC3C,wBAAwB,6DAAY;AACpC,wBAAwB,kEAAe;AACvC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,kEAAe;AACvC,wBAAwB,qEAAkB;AAC1C,wBAAwB,iEAAc;AACtC,wBAAwB,6DAAiB;AACzC,wBAAwB,+DAAiB;AACzC,wBAAwB,+DAAiB;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,iEAAc;AACtC,wBAAwB,qEAAkB;AAC1C,wBAAwB,6DAAY;AACpC,wBAAwB,2DAAW;AACnC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,mEAAgB;AACxC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,iEAAc;AACtC,wBAAwB,6DAAiB;AACzC,wBAAwB,2DAAa;AACrC,wBAAwB,kEAAoB;AAC5C,wBAAwB,4DAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,6DAAiB;AACzC,wBAAwB,oEAAsB;AAC9C,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,mEAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qDAAe;AAC3C;AACA;AACA;AACA;AACA,qCAAqC,2DAAY;AACjD;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,4BAA4B,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,mBAAmB,EAAE;AAC1C;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,4BAA4B,EAAE;AACxD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,0hBAA0hB,gDAAgD;AAC1kB,qCAAqC,sEAAuB;AAC5D,oCAAoC,aAAa,WAAW,iBAAiB,eAAe,aAAa,wBAAwB,WAAW,YAAY,YAAY,iBAAiB;AACrL,iBAAiB;AACjB;AACA;AACA,wDAAwD,WAAW;AACnE;AACA,uBAAuB,OAAO,oDAAK,EAAE;AACrC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,mBAAmB,OAAO,oDAAK,EAAE;AACjC,gBAAgB,OAAO,oDAAK,EAAE;AAC9B,uBAAuB,OAAO,oDAAK,EAAE;AACrC,6BAA6B,OAAO,qDAAM,EAAE;AAC5C;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,kEAAe;AACvC,wBAAwB,wEAAqB;AAC7C,wBAAwB,gEAAa;AACrC,wBAAwB,mEAAgB;AACxC,wBAAwB,qEAAkB;AAC1C,wBAAwB,iEAAc;AACtC,wBAAwB,kEAAe;AACvC,wBAAwB,uEAAoB;AAC5C,wBAAwB,6DAAiB;AACzC,wBAAwB,kEAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,6BAA6B,qDAAe;AAC5C;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,gCAAgC,6BAA6B;AAC7D;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,iDAAiD,WAAW;AAC5D,wDAAwD,uEAAgB,EAAE,6CAA6C,6BAA6B,EAAE,6CAA6C;AACnM;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,0BAA0B,0DAAS;AACnC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA,iCAAiC;AACjC;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,mDAAmD;AACnD,SAAS,0CAA0C,OAAO,mDAAI,EAAE,GAAG;AACnE,SAAS;AACT,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb,wBAAwB,4DAAO;AAC/B,WAAW,EAAE;AACb,uBAAuB,4DAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,uBAAuB,4DAAO;AAC9B,WAAW,EAAE;AACb,sBAAsB,4DAAO;AAC7B,WAAW,EAAE;AACb,2BAA2B,4DAAO;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb,kBAAkB,yCAAY;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,0BAA0B,6CAAO;AACjC,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,sBAAsB,mCAAK;AAC3B;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,2BAA2B,0DAAa;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0DAAa,oBAAoB,0DAAa;AACzE;AACA,6BAA6B,0DAAa;AAC1C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,+BAA+B,2BAA2B,EAAE;AAC5D;AACA;AACA,kDAAkD;AAClD;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA,gCAAgC,gBAAgB;AAChD,mBAAmB,EAAE;AACrB,0BAA0B,6CAAO;AACjC;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,8BAA8B,gBAAgB;AAC9C,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B,6BAA6B,0DAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA,6BAA6B,0DAAa;AAC1C;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,0BAA0B,gBAAgB;AAC1C,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,4CAA4C;AAC5C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,0BAA0B,6CAAO;AACjC,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,kCAAkC,0DAAa;AAC/C;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,6BAA6B,0DAAa;AAC1C;AACA;AACA;AACA;AACA,6BAA6B,0DAAa;AAC1C;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,6BAA6B,0DAAa;AAC1C;AACA;AACA;AACA;AACA,6BAA6B,0DAAa;AAC1C;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gCAAgC,gBAAgB;AAChD,oCAAoC,oBAAoB;AACxD,+BAA+B,eAAe;AAC9C,gCAAgC,gBAAgB;AAChD,+BAA+B,YAAY;AAC3C,iCAAiC,cAAc;AAC/C,mCAAmC,kBAAkB;AACrD,mBAAmB,EAAE;AACrB,0BAA0B,6CAAO;AACjC;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,yBAAyB,0DAAa;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0DAAa;AACtC;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,sCAAsC;AACtC,iBAAiB;AACjB;AACA;AACA,oBAAoB,0DAAM;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA,oBAAoB,0DAAM;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,+BAA+B,mCAAK;AACpC;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,oCAAoC,eAAe;AACnD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,YAAY,0DAAM;AAClB;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS,OAAO,0DAAc,EAAE;AAChC,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,2DAAe;AAC/B,MAAM;AACN,sDAAsD,uEAAgB,EAAE,2CAA2C,yBAAyB,6DAAM,CAAC,0DAAc,GAAG,6DAAM,CAAC,2DAAe,GAAG,6DAAM,CAAC,2DAAe,GAAG,EAAE,2CAA2C;AACnQ;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iDAAiD;AACjD,SAAS;AACT,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B,wBAAwB,OAAO,oDAAK,EAAE;AACtC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,sBAAsB,OAAO,oDAAK,EAAE;AACpC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA,gCAAgC,0DAAU;AAC1C,+BAA+B,0DAAU;AACzC,+BAA+B,0DAAU;AACzC,8BAA8B,0DAAU;AACxC,+BAA+B,0DAAU;AACzC;AACA;AACA;AACA,yBAAyB,8BAA8B;AACvD,SAAS;AACT;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,6CAA6C,iBAAiB;AAC9D,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,+CAA+C,iBAAiB;AAChE,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,sDAAsD,iBAAiB;AACvE,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,iDAAiD,iBAAiB;AAClE,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,kDAAkD,iBAAiB;AACnE,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,iDAAiD,iBAAiB;AAClE,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE,kBAAkB,EAAE;AACrD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,mPAAmP,uCAAuC,oNAAoN,yCAAyC,2SAA2S,gDAAgD,0LAA0L,2CAA2C,2LAA2L,4CAA4C,sPAAsP,2CAA2C,qQAAqQ,8CAA8C,mIAAmI,oBAAoB,4SAA4S,6CAA6C,8HAA8H,qEAAqE,4SAA4S,6CAA6C,8HAA8H,mBAAmB,wJAAwJ,sHAAsH,4CAA4C,2HAA2H,2BAA2B,4SAA4S,6CAA6C,8HAA8H,wDAAwD,2VAA2V,yCAAyC;AACl5I,6CAA6C,WAAW,8BAA8B,kBAAkB,+CAA+C,WAAW,YAAY,mFAAmF,wBAAwB,eAAe,cAAc,cAAc,kBAAkB,mBAAmB,0BAA0B,iBAAiB,UAAU,qBAAqB,uBAAuB,kBAAkB;AAC5d,iBAAiB;AACjB;AACA;AACA,qDAAqD;AACrD,SAAS,OAAO,2DAAW;AAC3B,MAAM;AACN;AACA,oBAAoB,OAAO,oDAAK,EAAE;AAClC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,wBAAwB,OAAO,oDAAK,EAAE;AACtC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,uBAAuB,OAAO,oDAAK,EAAE;AACrC,sBAAsB,OAAO,oDAAK,EAAE;AACpC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,mBAAmB,OAAO,oDAAK,EAAE;AACjC,0BAA0B,OAAO,oDAAK,EAAE;AACxC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,sBAAsB,OAAO,oDAAK,EAAE;AACpC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,kBAAkB,OAAO,qDAAM,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,2DAAW;AACnC,wBAAwB,mEAAmB;AAC3C,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,kEAAe;AACvC,wBAAwB,kEAAe;AACvC,wBAAwB,iEAAc;AACtC,wBAAwB,qEAAkB;AAC1C,wBAAwB,uEAAoB;AAC5C,wBAAwB,6DAAiB;AACzC,wBAAwB,+DAAiB;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,gGAAgG;AAChG;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yDAAa;AAC5B;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB,8BAA8B,6DAAY;AAC1C;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,gCAAgC,EAAE;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,6BAA6B,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,wBAAwB,EAAE;AAC1B;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA,wBAAwB,EAAE;AAC1B;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,EAAE;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,sCAAsC,EAAE,iBAAiB,EAAE;AAC3D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,sCAAsC,EAAE,iBAAiB,EAAE;AAC3D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,gDAAgD;AAChD,SAAS,4BAA4B;AACrC,SAAS;AACT,MAAM;AACN,uDAAuD,uEAAgB,EAAE,4CAA4C,0BAA0B,6DAAM,uBAAuB,6DAAM,cAAc,EAAE,4CAA4C;AAC9O;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,uBAAuB,EAAE;AACpD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,+CAA+C,EAAE;AAC5E;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,iDAAiD;AACjD,SAAS;AACT,MAAM;AACN,wDAAwD,uEAAgB,EAAE,6CAA6C,2BAA2B,6DAAM,wBAAwB,EAAE,6CAA6C;AAC/N;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,qDAAqD,WAAW;AAChE;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,6CAAO;AAClC;AACA;AACA;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,qEAAqE;AACrE,sEAAsE;AACtE;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,8BAA8B,sDAAM;AACpC;AACA,uBAAuB,gEAAW;AAClC;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB,gCAAgC,yDAAS;AACzC;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,mCAAmC,sDAAM;AACzC;AACA,uBAAuB,gEAAW;AAClC;AACA,SAAS;AACT,+BAA+B,sDAAM;AACrC;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,wCAAwC,0DAAS,cAAc,EAAE;AACjE;AACA,2BAA2B,EAAE;AAC7B;AACA,gDAAgD,qCAAqC;AACrF;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,kBAAkB,oEAAY;AAC9B;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,6BAA6B,EAAE;AACvD;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,4CAA4C,0DAAS;AACrD;AACA;AACA;AACA;AACA;AACA,6BAA6B,6CAA6C;AAC1E,0CAA0C,oBAAoB;AAC9D;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,kBAAkB,oEAAY,kBAAkB,4EAAoB;AACpE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,sCAAsC,EAAE;AACjE;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,yCAAyC,2BAA2B;AACpE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,+DAA+D,2DAAG;AAClE,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,UAAU,EAAE;AACtC,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA,kCAAkC,mCAAmC,EAAE;AACvE;AACA;AACA;AACA;AACA,uCAAuC,EAAE;AACzC,wCAAwC;AACxC;AACA,0CAA0C,eAAe,EAAE;AAC3D,yBAAyB;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,iCAAiC,kCAAkC;AACnE;AACA;AACA;AACA;AACA,mCAAmC,EAAE;AACrC;AACA,uCAAuC,oBAAoB;AAC3D,uCAAuC,EAAE;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,oEAAc;AACrD,yBAAyB;AACzB;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,0DAA0D,yBAAyB;AACnF,0DAA0D,oBAAoB;AAC9E;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,yCAAyC,uCAAuC;AAChF;AACA;AACA,yBAAyB,8CAA8C;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,+BAA+B,EAAE;AACjC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,oCAAoC,6BAA6B;AACjE;AACA;AACA;AACA;AACA,mCAAmC,0DAAU;AAC7C,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,4CAA4C,sCAAsC;AAClF;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,uBAAuB,aAAa;AACpC;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,kCAAkC,kBAAkB;AACpD,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,iBAAiB;AAClD;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,sCAAsC,sBAAsB;AAC5D;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,sCAAsC,sBAAsB;AAC5D;AACA,mBAAmB,EAAE;AACrB,+BAA+B,mDAAU;AACzC,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,mDAAmD,EAAE;AACrD,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,2BAA2B,8CAAK;AAChC,mBAAmB,EAAE;AACrB,0BAA0B,mDAAS,EAAE,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,+CAAK;AACzB;AACA,+BAA+B,gDAAM;AACrC;AACA,oCAAoC,gDAAM,EAAE,6BAA6B;AACzE,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,sCAAsC,sBAAsB;AAC5D,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,+BAA+B,mDAAU;AACzC,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,iCAAiC,mDAAS,EAAE,yBAAyB;AACrE;AACA,gBAAgB,+CAAK;AACrB,4BAA4B,gDAAM,EAAE,8BAA8B;AAClE,aAAa;AACb,gBAAgB,+CAAK;AACrB,4BAA4B,gDAAM,EAAE,6BAA6B;AACjE,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,sCAAsC,sBAAsB;AAC5D,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA,oDAAoD,EAAE;AACtD;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,gBAAgB,8DAAO;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,0BAA0B,EAAE;AACpD;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,sDAAS;AAClC;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,yBAAyB,sDAAS;AAClC;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA,kCAAkC,wBAAwB,EAAE;AAC5D;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA,mCAAmC,EAAE;AACrC,oCAAoC;AACpC;AACA,sCAAsC,oCAAoC,EAAE;AAC5E;AACA;AACA;AACA;AACA,2CAA2C,EAAE;AAC7C,4CAA4C;AAC5C;AACA,8CAA8C,eAAe,EAAE;AAC/D,6BAA6B;AAC7B;AACA,qBAAqB;AACrB;AACA;AACA,qCAAqC,mCAAmC;AACxE,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,sBAAsB,EAAE;AAClD;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,gCAAgC,EAAE;AAClC;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,oCAAoC,EAAE;AACtC;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA,6CAA6C,6BAA6B;AAC1E;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA,qBAAqB,+DAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,4CAA4C,oBAAoB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,+BAA+B,0DAAS;AACxC,4CAA4C,oCAAoC;AAChF;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,sCAAsC;AACtC,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,yCAAyC,wCAAwC;AACjF;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,2BAA2B,8CAAK,CAAC,0DAAS;AAC1C,mBAAmB,EAAE;AACrB,0BAA0B,mDAAS,EAAE,qBAAqB;AAC1D,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,qOAAqO,eAAe,6gBAA6gB,2DAA2D,gbAAgb,gBAAgB,+rGAA+rG,kDAAkD,yIAAyI,iBAAiB,gDAAgD,SAAS,KAAK,2CAA2C,IAAI,2CAA2C,4MAA4M,mBAAmB,iCAAiC,2CAA2C,IAAI,2CAA2C,6IAA6I,iBAAiB,uHAAuH,iCAAiC,8EAA8E,QAAQ,IAAI,uCAAuC,8CAA8C,oCAAoC;AACloL,6CAA6C,UAAU,eAAe,YAAY,UAAU,+BAA+B,+BAA+B,gBAAgB,iBAAiB,WAAW,gCAAgC,wBAAwB,WAAW,gCAAgC,wBAAwB,YAAY,iCAAiC,yBAAyB,YAAY,iCAAiC,yBAAyB,YAAY,iCAAiC,yBAAyB,cAAc,6BAA6B,qBAAqB;AACnlB,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,2DAAW,EAAE;AAC7B,SAAS,uBAAuB;AAChC,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,OAAO,0DAAc,EAAE;AAChC,SAAS,sBAAsB;AAC/B,SAAS,qBAAqB;AAC9B,SAAS,2BAA2B;AACpC,SAAS,OAAO,wDAAY,gBAAgB,OAAO,uDAAQ,EAAE;AAC7D,MAAM;AACN;AACA,gBAAgB,OAAO,oDAAK,EAAE;AAC9B,kBAAkB,OAAO,oDAAK,EAAE;AAChC,eAAe,OAAO,oDAAK,EAAE;AAC7B,kBAAkB,OAAO,qDAAM,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B,uDAAuD,EAAE;AACzD,2BAA2B,EAAE;AAC7B;AACA;AACA,+BAA+B,EAAE;AACjC,kEAAkE;AAClE;AACA,mCAAmC,EAAE;AACrC;AACA;AACA,mCAAmC,EAAE;AACrC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,uCAAuC,EAAE;AACzC;AACA;AACA;AACA,6CAA6C,0CAA0C;AACvF;AACA;AACA,6CAA6C,oCAAoC;AACjF;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,2BAA2B,mCAAmC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,6CAA6C;AAClF;AACA;AACA,qCAAqC,uCAAuC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,8DAA8D;AAC9D,SAAS,2CAA2C,OAAO,mDAAI,EAAE,GAAG;AACpE,SAAS,2BAA2B;AACpC,SAAS,OAAO,wDAAY,gBAAgB,OAAO,uDAAQ,EAAE;AAC7D,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,2DAAW;AACnC,wBAAwB,mEAAmB;AAC3C,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,gEAAa;AACrC,wBAAwB,mEAAgB;AACxC,wBAAwB,qEAAkB;AAC1C,wBAAwB,iEAAc;AACtC,wBAAwB,kEAAe;AACvC,wBAAwB,kEAAe;AACvC,wBAAwB,mEAAgB;AACxC,wBAAwB,wEAAqB;AAC7C,wBAAwB,6DAAiB;AACzC;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,gEAAgE;AAChE,SAAS,OAAO,2DAAe;AAC/B,MAAM;AACN;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,kEAAkE;AAClE;AACA,kCAAkC,iBAAiB;AACnD,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,6BAA6B,uCAAuC,EAAE;AACtE;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,gEAAU;AAC7B;AACA;AACA;AACA;AACA,aAAa,2DAA2D;AACxE,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,wDAAW;AACpC,0CAA0C,mBAAmB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,mEAAmE;AACnE;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,gEAAU,EAAE;AAC5B,SAAS,gCAAgC,OAAO,qDAAM,sBAAsB,GAAG;AAC/E,SAAS,oDAAoD,OAAO,qDAAM,0CAA0C;AACpH,MAAM;AACN;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oEAAoE;AACpE,8CAA8C,iBAAiB,OAAO,2DAAG;AACzE,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,gEAAU;AAC7B;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,wDAAW;AACpC;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,8DAA8D;AAC9D,SAAS,OAAO,gEAAU,EAAE;AAC5B,SAAS,gCAAgC,OAAO,qDAAM,sBAAsB;AAC5E,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,eAAe,2DAAe;AAC9B;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAU,EAAE,yDAAa;AACxC;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAU,EAAE,yDAAa;AACxC;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,mEAAmE;AACnE,SAAS,OAAO,2DAAe;AAC/B,MAAM;AACN;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA,eAAe,gDAAE;AACjB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,iEAAiE;AACjE,SAAS,gCAAgC,OAAO,qDAAM,sBAAsB;AAC5E,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,eAAe,2DAAe;AAC9B;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yDAAa;AAC5B;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,q0BAAq0B,4CAA4C;AACj3B,qCAAqC,sEAAuB;AAC5D,gGAAgG,gBAAgB,iCAAiC,oBAAoB,sBAAsB,kDAAkD,WAAW;AACxP,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS;AACT,MAAM;AACN;AACA,uBAAuB,OAAO,oDAAK,EAAE;AACrC,mBAAmB,OAAO,oDAAK,EAAE;AACjC,kBAAkB,OAAO,qDAAM,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,mEAAgB;AACxC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,gEAAa;AACrC,wBAAwB,iEAAc;AACtC,wBAAwB,gEAAa;AACrC,wBAAwB,oEAAiB;AACzC,wBAAwB,6DAAiB;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,0kCAA0kC,cAAc,4JAA4J,cAAc,8SAA8S,qEAAqE,kwBAAkwB,oBAAoB,knBAAknB,oBAAoB;AACjhG,qCAAqC,sEAAuB;AAC5D,gGAAgG,gBAAgB,iCAAiC,oBAAoB,sBAAsB,kDAAkD,WAAW,+CAA+C,oBAAoB,mCAAmC,oBAAoB,WAAW,gDAAgD,oBAAoB,gBAAgB,iBAAiB;AACle,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS;AACT,MAAM;AACN;AACA,kBAAkB,OAAO,qDAAM,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,mEAAgB;AACxC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,gEAAa;AACrC,wBAAwB,iEAAc;AACtC,wBAAwB,oEAAiB;AACzC,wBAAwB,6DAAiB;AACzC;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,6CAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA,oCAAoC,2DAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,gEAAQ;AAC1B,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,iCAAiC,2CAAK,GAAG,mDAAK;AAC9C,SAAS,IAAI,4EAAoB;AACjC;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,iCAAiC,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,0BAA0B,uCAAuC;AACjE;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,+BAA+B,0CAA0C,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,8NAA8N,4BAA4B,mZAAmZ,YAAY;AACzpB,qCAAqC,sEAAuB;AAC5D,8DAA8D,cAAc,wCAAwC,qBAAqB,kDAAkD,UAAU,yCAAyC,SAAS,UAAU,2BAA2B,6CAA6C,aAAa,0BAA0B,kBAAkB,WAAW,oBAAoB,gBAAgB,yCAAyC,8BAA8B,qDAAqD,wBAAwB,oBAAoB,kBAAkB,QAAQ,oBAAoB,MAAM,gDAAgD,WAAW,OAAO,QAAQ,4BAA4B,YAAY,wCAAwC,sBAAsB,MAAM,gBAAgB;AACn1B,iBAAiB;AACjB;AACA;AACA,qDAAqD;AACrD,SAAS;AACT,MAAM;AACN;AACA,gBAAgB,OAAO,oDAAK,EAAE;AAC9B,sBAAsB,OAAO,oDAAK,EAAE;AACpC,oBAAoB,OAAO,oDAAK,EAAE;AAClC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,oBAAoB,OAAO,oDAAK,EAAE;AAClC,qBAAqB,OAAO,oDAAK,EAAE;AACnC,sBAAsB,OAAO,oDAAK,EAAE;AACpC,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,uBAAuB,OAAO,oDAAK,EAAE;AACrC,kBAAkB,OAAO,qDAAM,EAAE;AACjC,kBAAkB,OAAO,qDAAM,EAAE;AACjC,4BAA4B,OAAO,qDAAM,EAAE;AAC3C,iBAAiB,OAAO,wDAAS,oBAAoB;AACrD,sBAAsB,OAAO,0DAAW,0BAA0B;AAClE;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B,sDAAsD,EAAE;AACxD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS,yCAAyC,OAAO,mDAAI,EAAE,GAAG;AAClE,SAAS,OAAO,gEAAiB,EAAE;AACnC,SAAS,OAAO,wDAAY,gBAAgB,OAAO,uDAAQ,EAAE;AAC7D,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,2DAAW;AACnC,wBAAwB,mEAAgB;AACxC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,gEAAa;AACrC,wBAAwB,iEAAc;AACtC,wBAAwB,qEAAkB;AAC1C,wBAAwB,iEAAc;AACtC,wBAAwB,6DAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,2DAAY;AAC3C;AACA;AACA;AACA,gCAAgC,2DAAY;AAC5C;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,2BAA2B,gEAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,yCAAyC,gBAAgB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,2CAA2C,gEAAQ;AACnD,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,0CAA0C,2CAAK,GAAG,mDAAK;AACvD,SAAS,IAAI,2DAAG;AAChB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,qPAAqP,iIAAiI,WAAW,uBAAuB,iJAAiJ,WAAW,uBAAuB;AAC3kB,qCAAqC,sEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,yDAAyD;AACzD,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,gBAAgB,OAAO,oDAAK,EAAE;AAC9B,uBAAuB,OAAO,qDAAM,EAAE;AACtC,wBAAwB,OAAO,qDAAM,EAAE;AACvC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,mBAAmB,oEAAc;AACjC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,mBAAmB,wEAAkB;AACrC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,mBAAmB,mEAAa;AAChC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,yGAAyG,MAAM,4HAA4H,OAAO;AAClP,qCAAqC,sEAAuB;AAC5D,gDAAgD,kBAAkB;AAClE,iBAAiB;AACjB;AACA;AACA,6DAA6D,WAAW;AACxE;AACA,kBAAkB,OAAO,oDAAK,EAAE;AAChC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,mEAAgB;AACxC,wBAAwB,gEAAa;AACrC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAoB;AAC5C,wBAAwB,2DAAa;AACrC,wBAAwB,6DAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA,0BAA0B,0DAAS;AACnC,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,QAAQ,oEAAc,eAAe,EAAE;AAC5D;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA;AACA,oCAAoC,kBAAkB,SAAS,WAAW,6BAA6B,sBAAsB,oCAAoC,WAAW;AAC5K,iBAAiB;AACjB;AACA;AACA,iDAAiD,WAAW;AAC5D;AACA,oBAAoB,OAAO,oDAAK,EAAE;AAClC,eAAe,OAAO,oDAAK,EAAE;AAC7B,mBAAmB,OAAO,oDAAK,EAAE;AACjC,kBAAkB,OAAO,qDAAM,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,gEAAa;AACrC,wBAAwB,kEAAe;AACvC,wBAAwB,4DAAc;AACtC,wBAAwB,+DAAiB;AACzC;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,2DAAY;AACxC;AACA;AACA;AACA,0BAA0B,2DAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,6OAA6O,mDAAmD;AAChS,qCAAqC,sEAAuB;AAC5D;AACA,iBAAiB;AACjB;AACA;AACA,qDAAqD;AACrD,SAAS,OAAO,gEAAiB;AACjC,MAAM;AACN;AACA,iBAAiB,OAAO,oDAAK,EAAE;AAC/B,eAAe,OAAO,oDAAK,EAAE;AAC7B,oBAAoB,OAAO,qDAAM,EAAE;AACnC,kBAAkB,OAAO,qDAAM,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,EAAE;AACb,0BAA0B,6DAAc;AACxC;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,eAAe,2DAAa;AAC5B;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,kEAAe;AACvC,wBAAwB,6DAAiB;AACzC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,2BAA2B,EAAE;AAClD;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,yBAAyB,EAAE;AAChD;AACA;AACA,KAAK;AACL;AACA,CAAC,CAAC,uDAAS;;AAEX;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,yDAAW;AACxC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,0CAA0C,cAAc;AACxD;AACA,mBAAmB,EAAE;AACrB,qEAAqE;AACrE,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,sDAAsD,WAAW;AACjE,6DAA6D,uEAAgB,EAAE,kDAAkD,kCAAkC,EAAE,kDAAkD;AACvN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,2BAA2B,EAAE;AAClD;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,yBAAyB,EAAE;AAChD;AACA;AACA,KAAK;AACL;AACA,CAAC,CAAC,uDAAS;;AAEX;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,yDAAW;AACxC,SAAS;AACT;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,sDAAsD,WAAW;AACjE,6DAA6D,uEAAgB,EAAE,kDAAkD,kCAAkC,EAAE,kDAAkD;AACvN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,kBAAkB,oEAAY;AAC9B;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,iBAAiB,EAAE;AAC7C,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,0CAA0C,EAAE;AACtE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,8BAA8B,gCAAgC,EAAE;AAChE,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,sEAAsE,iCAAiC;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,wEAAwE,EAAE;AAC1E;AACA;AACA,wEAAwE,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,gDAAgD,EAAE;AAClD,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAS;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,6DAA6D;AAC7D,SAAS,OAAO,wEAA0B,EAAE;AAC5C,SAAS,4BAA4B;AACrC,SAAS;AACT,MAAM;AACN;AACA,eAAe,OAAO,oDAAK,EAAE;AAC7B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA,wBAAwB,6DAAY;AACpC,wBAAwB,6DAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA,2BAA2B,qDAAe;AAC1C;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,iCAAiC,EAAE;AAC7D;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,wEAAwE;AACxE;AACA,kCAAkC,iBAAiB;AACnD,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,6BAA6B,uCAAuC,EAAE;AACtE;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,gEAAU;AAC7B;AACA;AACA,aAAa,mCAAmC;AAChD,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,iCAAiC,EAAE;AAC5D;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,EAAE;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,qCAAqC,EAAE;AACvC;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,wCAAwC,EAAE,iBAAiB,EAAE;AAC7D;AACA;AACA,+BAA+B,EAAE;AACjC,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,8BAA8B,uDAAQ,yCAAyC,UAAU;AACzF;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,qDAAqD;AACrD,SAAS,OAAO,gEAAU,EAAE;AAC5B,SAAS,OAAO,2DAAe,EAAE;AACjC,SAAS,gCAAgC,OAAO,qDAAM,sBAAsB;AAC5E,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAU,EAAE,2DAAe,EAAE,yDAAa;AACzD;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,wEAAwE;AACxE;AACA,kCAAkC,iBAAiB;AACnD,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,6BAA6B,uCAAuC,EAAE;AACtE;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,gEAAU;AAC7B;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,yBAAyB,iCAAiC,EAAE;AAC5D;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA,mCAAmC,EAAE;AACrC;AACA;AACA,mCAAmC,EAAE;AACrC,oCAAoC;AACpC;AACA;AACA;AACA,yBAAyB;AACzB;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,wDAAwD;AACxD,SAAS,OAAO,gEAAU,EAAE;AAC5B,SAAS,gCAAgC,OAAO,qDAAM,sBAAsB;AAC5E,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAU,EAAE,yDAAa;AACxC;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA,iDAAiD,EAAE;AACnD;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,iGAAiG,sCAAsC;AACvI;AACA,uGAAuG;AACvG;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iKAAiK;AACjK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iKAAiK;AACjK;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iKAAiK;AACjK;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,4DAA4D;AAC5D;AACA;AACA,sCAAsC,uCAAuC;AAC7E,sBAAsB,2DAAG;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,sCAAsC,iBAAiB;AACvD,sBAAsB,2DAAG;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,0BAA0B,kDAAO;AACjC;AACA;AACA,0BAA0B,8CAAG;AAC7B;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,sBAAsB,kDAAO;AAC7B,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,0BAA0B,uDAAQ;AAClC;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,gEAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gDAAgD;AAC7D,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,wDAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,4DAA4D;AAC5D,SAAS,OAAO,gEAAU,EAAE;AAC5B,SAAS,gCAAgC,OAAO,qDAAM,sBAAsB;AAC5E,MAAM;AACN;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,+JAA+J;AAC/J;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA,iDAAiD,EAAE;AACnD;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uGAAuG;AACvG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oEAAoE;AACpE;AACA;AACA,sCAAsC,uCAAuC;AAC7E,sBAAsB,2DAAG;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,sCAAsC,iBAAiB;AACvD,sBAAsB,2DAAG;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,0BAA0B,kDAAO;AACjC;AACA;AACA,0BAA0B,8CAAG;AAC7B;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,sBAAsB,kDAAO;AAC7B,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,gEAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,kDAAkD;AAC/D,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,yBAAyB,wDAAW;AACpC,0CAA0C,iCAAiC;AAC3E;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,mEAAmE;AACnE,SAAS,OAAO,gEAAU,EAAE;AAC5B,SAAS,gCAAgC,OAAO,qDAAM,sBAAsB;AAC5E,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAU,EAAE,yDAAa;AACxC;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAU,EAAE,yDAAa;AACxC;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,IAAI,wDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,sDAAsD;AACtD;AACA,SAAS;AACT,kBAAkB,2DAAG;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,qCAAqC,EAAE;AAC/D;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,gEAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,gBAAgB,yDAAI;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,yDAAU;AAC1B;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,gEAAU,EAAE;AAC5B,SAAS,OAAO,yDAAa;AAC7B,MAAM;AACN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAU,EAAE,yDAAa;AACxC;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEy9R;;AAEz9R,oC;;;;;;;;;;;;ACr/gCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AACmC;AAC7C;AACW;AAC4Z;AAC7Z;AACiB;AACC;AAC1B;AAC2G;AACsB;;AAExK;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA,iCAAiC,wDAAU;AAC3C,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qDAAO;AAClC;AACA;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,4CAA4C;AAC5C,SAAS,OAAO,yDAAW;AAC3B,MAAM;AACN,mDAAmD,sEAAgB,EAAE,wCAAwC,sBAAsB,4DAAM,CAAC,yDAAW,GAAG,EAAE,wCAAwC;AAClM;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,8DAA8D;AAC9D,SAAS;AACT,MAAM;AACN,kCAAkC,wDAAU;AAC5C,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU;AAClB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA,4CAA4C,wDAAU;AACtD,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gDAAM;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,kBAAkB,EAAE;AACzC;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,2CAA2C;AAC3C,SAAS,OAAO,oDAAU,EAAE;AAC5B,SAAS,OAAO,2DAAiB;AACjC,MAAM;AACN,kDAAkD,sEAAgB,EAAE,uCAAuC,qBAAqB,4DAAM,CAAC,oDAAU,GAAG,4DAAM,CAAC,2DAAiB,GAAG,EAAE,uCAAuC;AACxN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0BAA0B,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,4DAA4D;AAC5D,SAAS;AACT,MAAM;AACN;AACA,6BAA6B,OAAO,mDAAK,EAAE;AAC3C,6BAA6B,OAAO,mDAAK,EAAE;AAC3C;AACA,gCAAgC,wDAAU;AAC1C,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU;AAClB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB,8BAA8B,8DAAgB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,yDAAW;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,2BAA2B,EAAE;AAClD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,uDAAuD,EAAE;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C,WAAW;AAC1D,sDAAsD,sEAAgB,EAAE,2CAA2C,2BAA2B,EAAE,2CAA2C;AAC3L;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,qCAAqC,qEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,8DAA8D;AAC9D,SAAS,OAAO,wDAAc,EAAE;AAChC,SAAS,qBAAqB;AAC9B,SAAS;AACT,MAAM;AACN;AACA;AACA;AACA,kCAAkC,wDAAU;AAC5C,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU,uBAAuB,wDAAc;AACvD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA,wBAAwB,4DAAY;AACpC,wBAAwB,iEAAuB;AAC/C;AACA;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,oDAAe;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,uCAAuC,EAAE;AACpE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,oBAAoB,yDAAW;AAC/B;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,qCAAqC,qEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,8DAA8D;AAC9D,SAAS,OAAO,wDAAc,EAAE;AAChC,SAAS,qBAAqB;AAC9B,SAAS;AACT,MAAM;AACN;AACA,gCAAgC,OAAO,mDAAK,EAAE;AAC9C;AACA;AACA;AACA;AACA,kCAAkC,wDAAU;AAC5C,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU,uBAAuB,wDAAc;AACvD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA,wBAAwB,4DAAY;AACpC,wBAAwB,iEAAuB;AAC/C;AACA;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,0DAA0D;AAC1D,SAAS;AACT,MAAM;AACN,8BAA8B,wDAAU;AACxC,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU;AAClB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB,8BAA8B,0DAAgB;AAC9C;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0BAA0B,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,qCAAqC,qEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,4DAA4D;AAC5D,SAAS;AACT,MAAM;AACN,gCAAgC,wDAAU;AAC1C,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU;AAClB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB,8BAA8B,+DAAqB;AACnD;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,6BAA6B,+DAAqB;AAClD,aAAa;AACb;AACA,qBAAqB,+DAAqB;AAC1C,oDAAoD,+DAAqB;AACzE;AACA;AACA,qBAAqB,+DAAqB;AAC1C,oDAAoD,+DAAqB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,0CAA0C,OAAO,mDAAK,EAAE;AACxD,uCAAuC,OAAO,mDAAK,EAAE;AACrD,0CAA0C,OAAO,mDAAK,EAAE;AACxD,8BAA8B,OAAO,mDAAK,EAAE;AAC5C,6BAA6B,OAAO,mDAAK,EAAE;AAC3C,sBAAsB,OAAO,mDAAK,EAAE;AACpC;AACA,8BAA8B,wDAAU;AACxC,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,6BAA6B,+DAAqB;AAClD,aAAa;AACb;AACA,qBAAqB,+DAAqB;AAC1C,oDAAoD,+DAAqB;AACzE;AACA;AACA,qBAAqB,+DAAqB;AAC1C,oDAAoD,+DAAqB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,qCAAqC,qEAAuB;AAC5D,0FAA0F,YAAY;AACtG,iBAAiB;AACjB;AACA;AACA,0CAA0C,OAAO,mDAAK,EAAE;AACxD,uCAAuC,OAAO,mDAAK,EAAE;AACrD,0CAA0C,OAAO,mDAAK,EAAE;AACxD,8BAA8B,OAAO,mDAAK,EAAE;AAC5C,6BAA6B,OAAO,mDAAK,EAAE;AAC3C,sBAAsB,OAAO,mDAAK,EAAE;AACpC;AACA;AACA;AACA;AACA,uBAAuB,wDAAU;AACjC,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA,wBAAwB,+DAAa;AACrC,wBAAwB,4DAAiB;AACzC,wBAAwB,wDAAc;AACtC,wBAAwB,2DAAiB;AACzC,wBAAwB,2DAAiB;AACzC,wBAAwB,yDAAe;AACvC,wBAAwB,8DAAgB;AACxC;AACA;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,sDAAY;AACrC;AACA,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS;AACT,MAAM;AACN,sDAAsD,sEAAgB,EAAE,2CAA2C,yBAAyB,4DAAM,YAAY,EAAE,2CAA2C;AAC3M;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,gCAAgC,EAAE;AACvD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,0BAA0B,EAAE;AACjD;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,qCAAqC,qEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,wDAAwD;AACxD,SAAS,qBAAqB;AAC9B,SAAS;AACT,MAAM;AACN;AACA;AACA;AACA,4BAA4B,wDAAU;AACtC,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU;AAClB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA,wBAAwB,2DAAiB;AACzC;AACA;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qDAAqD;AACrD,SAAS;AACT,MAAM;AACN,yBAAyB,wDAAU;AACnC,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU;AAClB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB,8BAA8B,wDAAc;AAC5C;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yDAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,+BAA+B,qBAAqB,EAAE,gCAAgC,EAAE;AACxF,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,8CAA8C;AAC9C,SAAS,OAAO,6DAAmB;AACnC,MAAM;AACN,qDAAqD,sEAAgB,EAAE,0CAA0C,wBAAwB,4DAAM,CAAC,6DAAmB,GAAG,EAAE,0CAA0C;AAClN;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,yDAAe;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,kCAAkC,oEAAc;AAChD,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,wBAAwB,EAAE;AACpD,sBAAsB,0DAAG;AACzB,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA,uDAAuD,EAAE;AACzD;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,aAAa;AACb,YAAY,kEAAgB,wBAAwB,uDAAa;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,qCAAqC,iDAAO;AAC5C;AACA;AACA,mBAAmB,EAAE;AACrB,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA,gDAAgD,uDAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,+CAAK;AAC1C;AACA;AACA,mBAAmB,EAAE;AACrB,wCAAwC,EAAE;AAC1C;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,kCAAkC,EAAE;AAC9D;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,qCAAqC,qEAAuB;AAC5D,iBAAiB;AACjB;AACA;AACA,6DAA6D;AAC7D,SAAS,iBAAiB;AAC1B,SAAS,OAAO,sDAAY,EAAE;AAC9B,SAAS;AACT,MAAM;AACN;AACA;AACA;AACA,iCAAiC,wDAAU;AAC3C,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU;AAClB,YAAY,sDAAY;AACxB;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA,wBAAwB,4DAAY;AACpC,wBAAwB,+DAAa;AACrC,wBAAwB,iEAAe;AACvC,wBAAwB,0DAAgB;AACxC,wBAAwB,yDAAe;AACvC,wBAAwB,+DAAiB;AACzC,wBAAwB,4DAAc;AACtC,wBAAwB,iEAAuB;AAC/C;AACA;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,yDAAyD,WAAW;AACpE,6BAA6B,wDAAU;AACvC,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU;AAClB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,4DAA4D,WAAW;AACvE,gCAAgC,wDAAU;AAC1C,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU;AAClB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB,8BAA8B,yDAAe;AAC7C;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qDAAqD,WAAW;AAChE;AACA,gBAAgB,OAAO,mDAAK,EAAE;AAC9B;AACA,yBAAyB,wDAAU;AACnC,QAAQ,mEAAa;AACrB;AACA;AACA;AACA,SAAS;AACT,QAAQ,wDAAU;AAClB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB,8BAA8B,iEAAmB;AACjD;AACA;AACA;AACA,8BAA8B,oEAAsB;AACpD,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oDAAe;AAC3C;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,0CAA0C,wBAAwB,2BAA2B;AAC7F,uBAAuB,EAAE;AACzB,uCAAuC,0BAA0B,mBAAmB;AACpF;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C,SAAS,OAAO,4DAAc,EAAE;AAChC,SAAS,OAAO,yDAAW,EAAE;AAC7B,SAAS,kBAAkB;AAC3B,SAAS,OAAO,0DAAe;AAC/B,MAAM;AACN,sDAAsD,sEAAgB,EAAE,2CAA2C,yBAAyB,4DAAM,CAAC,4DAAc,GAAG,4DAAM,CAAC,yDAAW,GAAG,4DAAM,aAAa,4DAAM,CAAC,0DAAe,GAAG,EAAE,2CAA2C;AAClR;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oDAAe;AAC7C,0BAA0B,4DAAc;AACxC;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,2BAA2B,qCAAqC,EAAE;AAClE;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,oBAAoB,EAAE;AAC3C;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,iDAAiD,WAAW;AAC5D,wDAAwD,sEAAgB,EAAE,6CAA6C,6BAA6B,EAAE,6CAA6C;AACnM;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yDAAW;AACpC;AACA;AACA,SAAS,OAAO,wDAAU;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,6CAA6C,WAAW;AACxD,oDAAoD,sEAAgB,EAAE,yCAAyC,yBAAyB,EAAE,yCAAyC;AACnL;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEi+C;;AAEj+C,4C;;;;;;;;;;;;AC/iEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsC;AACa;AACpB;AACuB;;AAEtD;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,YAAY,0CAAG;AACf,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,cAAc,0CAAG,IAAI,8CAAO;AAC5B;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,iBAAiB,oDAAM;AACvB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,SAAS;AACT,4CAA4C;AAC5C,oCAAoC;AACpC;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB;AACnB;AACA,4BAA4B,gCAAgC;AAC5D;AACA,6GAA6G;AAC7G;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,aAAa,oDAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,wBAAwB,sDAAQ;AAChC,mBAAmB,EAAE;AACrB,wBAAwB,sDAAQ;AAChC;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,6BAA6B,EAAE;AACzD;AACA;AACA,6BAA6B,2BAA2B;AACxD;AACA,iBAAiB;AACjB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,mCAAmC,sDAAQ,gDAAgD,qBAAqB;AAChH;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,yBAAyB,yBAAyB;AAClD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,2BAA2B,sDAAQ;AACnC,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,yCAAyC,yBAAyB;AAClE,mBAAmB,EAAE;AACrB,qCAAqC;AACrC;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,4BAA4B,sDAAsD,EAAE;AACpF;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,4BAA4B,+BAA+B,EAAE;AAC7D;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,uCAAuC,EAAE;AACnE;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,4BAA4B,0BAA0B,EAAE;AACxD;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA,0BAA0B,kCAAkC,EAAE;AAC9D;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,mCAAmC,mBAAmB;AACtD,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mCAAmC,sDAAQ,gDAAgD,qBAAqB;AAChH;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,EAAE;AAClB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,wBAAwB,8BAA8B,EAAE;AACxD;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,4CAAO;AAClC;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,kBAAkB,2EAAoB;AACtC;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA,uBAAuB;AACvB;AACA,CAAC;;AAED;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAEA;AACA;AACA,cAAc,uFAAuF;AACrG;;AAE2H;;AAE3H,sC;;;;;;;;;;;ACnmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;AC/ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6E;;;;;;;;;;;ACpRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,4E;;;;;;;;;;;ACZA,gW;;;;;;;;;;;ACAA,yBAAyB,gBAAgB,iBAAiB,cAAc,qBAAqB,uBAAuB,mBAAmB,sDAAsD,oBAAoB,EAAE,wBAAwB,sBAAsB,sBAAsB,EAAE,wBAAwB,qBAAqB,EAAE,sCAAsC,uBAAuB,aAAa,eAAe,eAAe,EAAE,6HAA6H,gBAAgB,EAAE,+CAA+C,m5D;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA3jB;AACH;AAE4B;AAIH;AACjC;AAQ1C;IAKE,sBACY,eAAgC,EAClC,aAA4B,EAC5B,gBAAkC,EAClC,QAAmB,EACnB,YAAmB,EACnB,QAAkB,EAClB,kBAAsC;QANpC,oBAAe,GAAf,eAAe,CAAiB;QAClC,kBAAa,GAAb,aAAa,CAAe;QAC5B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,aAAQ,GAAR,QAAQ,CAAW;QACnB,iBAAY,GAAZ,YAAY,CAAO;QACnB,aAAQ,GAAR,QAAQ,CAAU;QAClB,uBAAkB,GAAlB,kBAAkB,CAAoB;QAVxC,eAAU,GAAG,YAAY,CAAC;QAYhC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAEvD,IAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,KAAK,EAAE;YACT,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACnC;QAED,IAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC;QACvE,IAAI,KAAK,EAAE;YACT,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SAC9C;IACH,CAAC;IAED,uCAAgB,GAAhB;QAAA,iBA6CC;QA5CC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACzB,IAAI,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;gBAC/B,IAAI,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;oBAC/B,IAAI,qBAAmB,GAAG,KAAK,CAAC;oBAChC,IAAI,oBAAkB,GAAG,KAAK,CAAC;oBAE/B,KAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,yCAAyC,CAAC,CAAC,IAAI,CACrF,gBAAM,IAAI,QAAC,qBAAmB,GAAG,MAAM,CAAC,aAAa,CAAC,EAA5C,CAA4C,EACtD,aAAG,IAAI,QAAC,qBAAmB,GAAG,KAAK,CAAC,EAA7B,CAA6B,CACrC,CAAC;oBACF,KAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,2CAA2C,CAAC,CAAC,IAAI,CACvF,gBAAM,IAAI,QAAC,qBAAmB,GAAG,MAAM,CAAC,aAAa,CAAC,EAA5C,CAA4C,EACtD,aAAG,IAAI,QAAC,qBAAmB,GAAG,KAAK,CAAC,EAA7B,CAA6B,CACrC,CAAC;oBACF,KAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,+CAA+C,CAAC,CAAC,IAAI,CAC3F,gBAAM,IAAI,QAAC,qBAAmB,GAAG,MAAM,CAAC,aAAa,CAAC,EAA5C,CAA4C,EACtD,aAAG,IAAI,QAAC,qBAAmB,GAAG,KAAK,CAAC,EAA7B,CAA6B,CACrC,CAAC;oBAEF,KAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,2CAA2C,CAAC,CAAC,IAAI,CACvF,gBAAM,IAAI,QAAC,oBAAkB,GAAG,MAAM,CAAC,aAAa,CAAC,EAA3C,CAA2C,EACrD,aAAG,IAAI,QAAC,oBAAkB,GAAG,KAAK,CAAC,EAA5B,CAA4B,CACpC,CAAC;oBACF,KAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,0CAA0C,CAAC,CAAC,IAAI,CACtF,gBAAM,IAAI,QAAC,oBAAkB,GAAG,MAAM,CAAC,aAAa,CAAC,EAA3C,CAA2C,EACrD,aAAG,IAAI,QAAC,oBAAkB,GAAG,KAAK,CAAC,EAA5B,CAA4B,CACpC,CAAC;oBAEF,IAAI,CAAC,qBAAmB,EAAE;wBACxB,KAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC;4BACzC,2CAA2C;4BAC3C,yCAAyC;4BACzC,+CAA+C;yBAAC,CACjD,CAAC;qBACH;oBAED,IAAI,oBAAkB,KAAK,KAAK,EAAE;wBAChC,KAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC;4BACzC,2CAA2C;4BAC3C,0CAA0C;yBAAC,CAAC,CAAC;qBAChD;iBACF;aACF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAzEU,YAAY;QALxB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;YACpB,yFAAmC;;SAEpC,CAAC;yCAO6B,0DAAe;YACnB,wDAAa;YACV,2DAAgB;YACxB,uDAAS;YACL,+DAAK;YACT,uDAAQ;YACE,wFAAkB;OAZrC,YAAY,CA0ExB;IAAD,mBAAC;CAAA;AA1EwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBiC;AACjB;AACM;AACgC;AAQ3D;AAEsD;AAC/B;AASxB;AAEiC;AAEM;AACE;AACb;AACO;AACkC;AACA;AACzB;AACY;AAqC3E;IAAA;IAAyB,CAAC;IAAb,SAAS;QAnCrB,8DAAQ,CAAC;YACR,YAAY,EAAE,CAAC,4DAAY,CAAC;YAC5B,OAAO,EAAE;gBACP,uEAAa;gBACb,4FAAuB;gBACvB,4DAAY,CAAC,OAAO,CAAC,EAAE,CAAC;gBACxB,wDAAa,CAAC,OAAO,EAAE;gBACvB,2DAAgB;gBAChB,6DAAgB;gBAChB,qEAAwB;gBACxB,yEAAY;gBACZ,qGAAmB;gBACnB,qGAAmB;gBACnB,wDAAc;aAEf;YACD,SAAS,EAAE;gBACT,uEAAoB,CAAC;oBACnB,OAAO,EAAE,qEAAW,CAAC,GAAG;oBACxB,IAAI,EAAE,sBAAsB;iBAC7B,CAAC;gBACF,uDAAY;gBACZ,mEAAW;gBACX,4EAAe;gBACf,8EAA4B,EAAE;gBAC9B,6EAA2B,EAAE;gBAC7B,oFAAkC,EAAE;gBACpC,uFAAqC,EAAE;gBACvC,2EAAyB,EAAE;gBAC3B,0EAAwB,EAAE;gBAC1B,yFAAkB;gBAClB,iEAAO;aACR;YACD,SAAS,EAAE,CAAC,4DAAY,CAAC;SAC1B,CAAC;OACW,SAAS,CAAI;IAAD,gBAAC;CAAA;AAAJ;;;;;;;;;;;;ACvEtB,syC;;;;;;;;;;;ACAA,+EAA+E,gBAAgB,iBAAiB,mBAAmB,EAAE,uCAAuC,4BAA4B,uBAAuB,cAAc,aAAa,eAAe,qBAAqB,EAAE,sDAAsD,qBAAqB,EAAE,0CAA0C,gBAAgB,iBAAiB,EAAE,4DAA4D,uBAAuB,gBAAgB,YAAY,cAAc,EAAE,2EAA2E,gBAAgB,8BAA8B,EAAE,6EAA6E,kBAAkB,EAAE,wCAAwC,4BAA4B,oBAAoB,uBAAuB,2BAA2B,aAAa,eAAe,sDAAsD,iBAAiB,kBAAkB,EAAE,kFAAkF,sBAAsB,gEAAgE,EAAE,EAAE,4CAA4C,iBAAiB,gBAAgB,8BAA8B,eAAe,mBAAmB,EAAE,kDAAkD,uBAAuB,cAAc,eAAe,qBAAqB,EAAE,0CAA0C,uBAAuB,cAAc,cAAc,wBAAwB,iBAAiB,eAAe,EAAE,kFAAkF,uBAAuB,iCAAiC,mBAAmB,uBAAuB,EAAE,EAAE,kFAAkF,uIAAuI,kBAAkB,cAAc,EAAE,EAAE,wBAAwB,wBAAwB,EAAE,+CAA+C,++S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA3/D;AAC/E;AAKiC;AACzC;AACgB;AAatC;AAO0B;AAGsB;AAQnE;IAmBE,gCACU,eAAgC,EACjC,KAAqB,EAClB,aAA4B,EAC/B,WAAwB,EACxB,YAA0B,EAC1B,aAA4B,EAC5B,cAA8B,EAC9B,UAAsB,EACtB,YAA0B,EAC1B,iBAAoC,EACpC,cAA8B,EAC9B,KAAwB,EACxB,mBAAwC,EACxC,cAA8B;QAdvC,iBA4CC;QA3CS,oBAAe,GAAf,eAAe,CAAiB;QACjC,UAAK,GAAL,KAAK,CAAgB;QAClB,kBAAa,GAAb,aAAa,CAAe;QAC/B,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,eAAU,GAAV,UAAU,CAAY;QACtB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,UAAK,GAAL,KAAK,CAAmB;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,mBAAc,GAAd,cAAc,CAAgB;QA5BvC,QAAG,GAAG,IAAI,gDAAM,CAAC;YACf,QAAQ,EAAE;gBACR,SAAS,EAAE,IAAI;gBACf,WAAW,EAAE;oBACX,SAAS,EAAE,IAAI;iBAChB;aACF;SACF,CAAC,CAAC;QAEI,SAAI,GAAG;YACZ,MAAM,EAAE,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC;YACnB,IAAI,EAAE,EAAE;SACT,CAAC;QAkBA;;;;;;;;;;;;;;;8BAesB;QACtB,IAAI,CAAC,iBAAiB;aACnB,qBAAqB,CAAC;YACrB,IAAI,EAAE,KAAK;SACZ,CAAC;aACD,SAAS,CAAC,oBAAU;YACnB,KAAI,CAAC,GAAG,CAAC,QAAQ,CACf,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC;gBAC5B,KAAK,EAAE,KAAK;gBACZ,MAAM,EAAE,UAAU;aACnB,CAAC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;IACP,CAAC;IAED,4CAAW,GAAX,UAAY,OAAsB;QAChC,KAAK,IAAM,QAAQ,IAAI,OAAO,EAAE;YAC9B,IAAI,QAAQ,KAAK,SAAS,EAAE;gBAC1B,IACE,IAAI,CAAC,OAAO,KAAK,SAAS;oBAC1B,IAAI,CAAC,OAAO,KAAK,IAAI,EACrB;oBACA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBAC/B;aACF;SACF;IACH,CAAC;IAED,yCAAQ,GAAR;QACE,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,EAAE;YACvD,sCAAsC;YACtC,mBAAmB;YACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC/B;IACH,CAAC;IAED,0CAAS,GAAT;QAAA,iBAOC;QANC,qCAAqC;QACrC,UAAU,CAAC;YACT,KAAI,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC;YACzB,KAAI,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACpB,2CAA2C;QAC7C,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,2CAAU,GAAV,UAAW,OAAY;QAAvB,iBAYC;QAVC,UAAU,CAAC;YACT,6CAA6C;YAC7C,KAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;YAC5B,KAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,EAAE,uDAAa,CAAC,kBAAkB,CAAC;YAC5E,KAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,IAAI,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;YACtF,KAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,IAAI,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;YACtG,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC;YACtC,KAAI,CAAC,SAAS,EAAE,CAAC;QACnB,CAAC,EAAE,IAAI,CAAC,CAAC;IAEX,CAAC;IAxGQ;QAAR,2DAAK,EAAE;;2DAAc;IAHX,sBAAsB;QANlC,+DAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;YAC9B,yIAA8C;YAE9C,UAAU,EAAE,CAAC,oFAAa,EAAE,EAAE,oFAAa,EAAE,EAAE,gFAAS,EAAE,EAAE,gFAAS,EAAE,CAAC;;SACzE,CAAC;yCAqB2B,2EAAe;YAC1B,8DAAc;YACH,wDAAa;YAClB,sDAAW;YACV,uDAAY;YACX,uDAAa;YACZ,wDAAc;YAClB,oDAAU;YACR,sDAAY;YACP,2DAAiB;YACpB,4DAAc;YACvB,+DAAiB;YACH,6DAAmB;YACxB,yDAAc;OAjC5B,sBAAsB,CA4GlC;IAAD,6BAAC;CAAA;AA5GkC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvCM;AACM;AAMpB;AAGgB;AAKrB;AACmB;AACQ;AACmB;AACiB;AAoBrF;IAAA;IAAmC,CAAC;IAAvB,mBAAmB;QAnB/B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,kEAAgB;gBAChB,iEAAe;gBACf,+DAAa;gBACb,kEAAgB;gBAChB,wDAAa;gBACb,2DAAc;gBACd,8DAAiB;gBACjB,8DAAiB;gBACjB,sDAAY;gBACZ,8DAAgB;gBAChB,6FAAgB;aACjB;YACD,OAAO,EAAE,CAAC,gFAAsB,CAAC;YACjC,YAAY,EAAE,CAAC,gFAAsB,CAAC;YACtC,eAAe,EAAE,CAAC,gFAAsB,CAAC;SAC1C,CAAC;OACW,mBAAmB,CAAI;IAAD,0BAAC;CAAA;AAAJ;;;;;;;;;;;;ACvChC,snCAAsnC,yDAAyD,06F;;;;;;;;;;;ACA/qC,+EAA+E,gBAAgB,iBAAiB,mBAAmB,EAAE,uCAAuC,4BAA4B,uBAAuB,cAAc,aAAa,eAAe,qBAAqB,EAAE,sDAAsD,qBAAqB,EAAE,0CAA0C,gBAAgB,iBAAiB,EAAE,4DAA4D,uBAAuB,gBAAgB,YAAY,cAAc,EAAE,2EAA2E,gBAAgB,8BAA8B,EAAE,6EAA6E,kBAAkB,EAAE,wCAAwC,4BAA4B,oBAAoB,uBAAuB,2BAA2B,aAAa,eAAe,sDAAsD,iBAAiB,kBAAkB,EAAE,kFAAkF,sBAAsB,gEAAgE,EAAE,EAAE,4CAA4C,iBAAiB,gBAAgB,8BAA8B,eAAe,mBAAmB,EAAE,kDAAkD,uBAAuB,cAAc,eAAe,qBAAqB,EAAE,0CAA0C,uBAAuB,cAAc,cAAc,wBAAwB,iBAAiB,eAAe,EAAE,kFAAkF,uBAAuB,iCAAiC,mBAAmB,uBAAuB,EAAE,EAAE,kFAAkF,uIAAuI,kBAAkB,cAAc,EAAE,EAAE,wBAAwB,wBAAwB,EAAE,+CAA+C,+/S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA1gE;AAChE;AAKiC;AACzC;AACe;AAWrC;AAO0B;AAEa;AAS1D;IAIE,gCACU,WAAwB,EACzB,KAAqB,EAClB,aAA4B,EAC/B,WAAwB,EACxB,YAA0B,EAC1B,aAA4B,EAC5B,cAA8B,EAC9B,UAAsB,EACtB,YAA0B,EAC1B,iBAAoC,EACpC,cAA8B,EAC9B,KAAwB,EACxB,mBAAwC,EACxC,cAA8B;QAb7B,gBAAW,GAAX,WAAW,CAAa;QACzB,UAAK,GAAL,KAAK,CAAgB;QAClB,kBAAa,GAAb,aAAa,CAAe;QAC/B,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,eAAU,GAAV,UAAU,CAAY;QACtB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,UAAK,GAAL,KAAK,CAAmB;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,mBAAc,GAAd,cAAc,CAAgB;IAgBvC,CAAC;IAED,0CAAS,GAAT;QAAA,iBAKC;QAJC,qCAAqC;QACrC,UAAU,CAAC;YACT,KAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC;QAC3C,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,sCAAK,GAAL;QACE,kCAAkC;IACpC,CAAC;IAED,2CAAU,GAAV;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;QACzG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;IAnDU,sBAAsB;QANlC,+DAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;YAC9B,yIAA8C;YAE9C,UAAU,EAAE,CAAC,oFAAa,EAAE,EAAE,oFAAa,EAAE,EAAE,gFAAS,EAAE,EAAE,gFAAS,EAAE,CAAC;;SACzE,CAAC;yCAMuB,kEAAW;YAClB,8DAAc;YACH,wDAAa;YAClB,sDAAW;YACV,uDAAY;YACX,uDAAa;YACZ,wDAAc;YAClB,oDAAU;YACR,sDAAY;YACP,2DAAiB;YACpB,4DAAc;YACvB,+DAAiB;YACH,6DAAmB;YACxB,yDAAc;OAlB5B,sBAAsB,CAoDlC;IAAD,6BAAC;CAAA;AApDkC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrCM;AACM;AAMpB;AAEgB;AAWrB;AASH;AAII;AAEkC;AAE2C;AACZ;AACX;AAET;AAoCpE;IAAA;IAAmC,CAAC;IAAvB,mBAAmB;QAlC/B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,kEAAgB;gBAChB,iEAAe;gBACf,+DAAa;gBACb,kEAAgB;gBAChB,wDAAa;gBACb,0DAAgB;gBAChB,+DAAqB;gBACrB,sDAAY;gBACZ,wDAAc,CAAC,OAAO,EAAE;gBACxB,yDAAe,CAAC,OAAO,EAAE;gBACzB,4DAAe;gBACf,+DAAkB;gBAClB,4DAAe;gBACf,+DAAqB;gBACrB,2DAAc;gBACd,0DAAa;gBACb,iEAAoB;gBACpB,8DAAiB;gBACjB,8DAAiB;gBACjB,sEAAoB;gBACpB,4GAAuB;gBACvB,gGAAmB;gBACnB,sFAAgB;gBAChB,qEAAuB;gBACvB,uEAAyB;gBACzB,iEAAoB;aACrB;YACD,OAAO,EAAE,CAAC,iFAAsB,CAAC;YACjC,YAAY,EAAE,CAAC,iFAAsB,CAAC;YACtC,eAAe,EAAE,CAAC,iFAAsB,CAAC;SAC1C,CAAC;OACW,mBAAmB,CAAI;IAAD,0BAAC;CAAA;AAAJ;;;;;;;;;;;;AC7EhC,2c;;;;;;;;;;;ACAA,4CAA4C,mBAAmB,iBAAiB,EAAE,eAAe,kBAAkB,EAAE,yEAAyE,yBAAyB,EAAE,UAAU,oBAAoB,EAAE,+CAA+C,2zI;;;;;;;;;;;;;;;;;;;;;;;;ACOjR;AAQvB;IAsBE;QAPU,mBAAc,GAAG,IAAI,0DAAY,EAAW,CAAC;IAOxC,CAAC;IApBhB,sBAAI,mDAAQ;aAAZ;YACE,OAAO,IAAI,CAAC,SAAS,CAAC;QACxB,CAAC;aACD,UAAa,KAAc;YACzB,IAAI,KAAK,KAAK,IAAI,CAAC,SAAS,EAAE;gBAC5B,OAAO;aACR;YAED,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3C,CAAC;;;OARA;IAcD,sBAAI,2DAAgB;aAApB;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC;QACvB,CAAC;;;OAAA;IAID,qDAAa,GAAb;QACE,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;IACjC,CAAC;IAxBD;QADC,2DAAK,EAAE;;;iEAGP;IAWS;QAAT,4DAAM,EAAE;;yEAA8C;IAGvD;QADC,iEAAW,CAAC,2CAA2C,CAAC;;;yEAGxD;IApBU,6BAA6B;QANzC,+DAAS,CAAC;YACT,QAAQ,EAAE,4BAA4B;YACtC,4JAAsD;YAEtD,eAAe,EAAE,qEAAuB,CAAC,MAAM;;SAChD,CAAC;;OACW,6BAA6B,CA2BzC;IAAD,oCAAC;CAAA;AA3ByC;;;;;;;;;;;;;ACf1C;AAAA;AAAA;AAO6B;AAEtB,SAAS,WAAW,CACzB,QAAkB,EAClB,KAAe,EACf,MAAsB;IAFtB,6CAAkB;IAClB,uCAAe;IACf,+CAAsB;IAEtB,OAAO,mEAAO,CAAC,aAAa,EAAE;QAC5B,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;YACJ,OAAO,EAAE,CAAC;YACV,OAAO,EAAE,OAAO;SACjB,CAAC,CACH;QACD,iEAAK,CACH,OAAO,EACP,iEAAK,CAAC;YACJ,OAAO,EAAE,CAAC;YACV,OAAO,EAAE,MAAM;SAChB,CAAC,CACH;QACD,sEAAU,CAAC,eAAe,EAAE,mEAAO,CAAI,QAAQ,SAAI,KAAK,SAAI,MAAQ,CAAC,CAAC;QACtE,sEAAU,CAAC,eAAe,EAAE,mEAAO,CAAC,KAAK,CAAC,CAAC;KAC5C,CAAC,CAAC;AACL,CAAC;;;;;;;;;;;;AChCD,ujB;;;;;;;;;;;ACAA,4CAA4C,2CAA2C,wCAAwC,EAAE,SAAS,mBAAmB,4BAA4B,iBAAiB,gBAAgB,oGAAoG,EAAE,kCAAkC,iBAAiB,gBAAgB,EAAE,sCAAsC,kBAAkB,gBAAgB,EAAE,kFAAkF,iDAAiD,4BAA4B,EAAE,EAAE,eAAe,iBAAiB,gBAAgB,EAAE,gCAAgC,8BAA8B,mBAAmB,iBAAiB,EAAE,gCAAgC,gCAAgC,EAAE,+CAA+C,miO;;;;;;;;;;;;;;;;;;;;;;;;;ACOl2B;AAEoC;AAS3D;IA+BE;QAPU,mBAAc,GAAG,IAAI,0DAAY,EAAW,CAAC;IAOxC,CAAC;IA7BhB,sBAAI,6CAAQ;aAAZ;YACE,OAAO,IAAI,CAAC,SAAS,CAAC;QACxB,CAAC;aACD,UAAa,KAAc;YACzB,IAAI,KAAK,KAAK,IAAI,CAAC,SAAS,EAAE;gBAC5B,OAAO;aACR;YAED,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3C,CAAC;;;OARA;IAYD,sBAAI,kDAAa;aAAjB;YACE,OAAO,IAAI,CAAC,cAAc,CAAC;QAC7B,CAAC;aACD,UAAkB,KAAc;YAC9B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC9B,CAAC;;;OAHA;IASD,sBAAI,qDAAgB;aAApB;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC;QACvB,CAAC;;;OAAA;IAID,iDAAe,GAAf;QACE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAlCD;QADC,2DAAK,EAAE;;;2DAGP;IAYD;QADC,2DAAK,EAAE;;;gEAGP;IAMS;QAAT,4DAAM,EAAE;;mEAA8C;IAGvD;QADC,iEAAW,CAAC,oCAAoC,CAAC;;;mEAGjD;IA7BU,uBAAuB;QAPnC,+DAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;YAC/B,8IAA+C;YAE/C,UAAU,EAAE,CAAC,+EAAW,EAAE,CAAC;YAC3B,eAAe,EAAE,qEAAuB,CAAC,MAAM;;SAChD,CAAC;;OACW,uBAAuB,CAqCnC;IAAD,8BAAC;CAAA;AArCmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBK;AACM;AAQpB;AAEoB;AACE;AAEqB;AACa;AAgBnF;IAAA;IAAsC,CAAC;IAA1B,uBAAuB;QAdnC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,iEAAe;gBACf,+DAAa;gBACb,+DAAa;gBACb,+DAAa;gBACb,iEAAe;gBACf,4DAAiB;gBACjB,8DAAiB;aAClB;YACD,OAAO,EAAE,CAAC,kFAAuB,CAAC;YAClC,YAAY,EAAE,CAAC,kFAAuB,EAAE,+FAA6B,CAAC;SACvE,CAAC;OACW,uBAAuB,CAAG;IAAD,8BAAC;CAAA;AAAH;;;;;;;;;;;;AC/BpC,mEAAmE,+bAA+b,wFAAwF,gBAAgB,sKAAsK,2BAA2B,+FAA+F,gBAAgB,0HAA0H,2BAA2B,sF;;;;;;;;;;;ACA/iC,yBAAyB,iBAAiB,WAAW,YAAY,aAAa,oBAAoB,yBAAyB,EAAE,wBAAwB,uBAAuB,wBAAwB,yBAAyB,EAAE,mBAAmB,cAAc,aAAa,EAAE,gBAAgB,WAAW,aAAa,EAAE,kBAAkB,cAAc,YAAY,EAAE,eAAe,WAAW,YAAY,EAAE,oBAAoB,cAAc,cAAc,kCAAkC,EAAE,iBAAiB,WAAW,cAAc,kCAAkC,EAAE,oBAAoB,aAAa,cAAc,kCAAkC,EAAE,mBAAmB,aAAa,aAAa,EAAE,kBAAkB,aAAa,YAAY,EAAE,+CAA+C,mjE;;;;;;;;;;;;;;;;;;;;;;;;;;ACA3sB;AAEZ;AACC;AASzD;IAME,6BACU,cAA8B,EAC9B,YAA0B,EAC1B,aAA4B;QAF5B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,kBAAa,GAAb,aAAa,CAAe;QAR/B,eAAU,GAAiB,EAAE,CAAC;IASjC,CAAC;IAEL,6CAAe,GAAf;QAAA,iBASC;QARC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,CAAC,iBAAO;YAC3D,KAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;YAClC,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,CAAC,CACJ,CAAC;QACF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC,eAAK;YACrD,YAAI,CAAC,mBAAmB,CAAC,KAAI,CAAC,OAAO,CAAC;QAAtC,CAAsC,CACvC,CAAC;IACJ,CAAC;IAED,yCAAW,GAAX;QACE,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;IAC7B,CAAC;IAEO,iDAAmB,GAA3B,UAA4B,OAAgB;QAC1C,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,IAAI,OAAO,KAAK,SAAS,EAAE;YACzB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YAErB,IAAI,OAAO,CAAC,YAAY,CAAC,EAAE;gBACzB,UAAU,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;aACpC;iBAAM,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE;gBACrD,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;aACzD;YACD,KAAsB,UAAU,EAAV,yBAAU,EAAV,wBAAU,EAAV,IAAU,EAAE;gBAA7B,IAAM,OAAO;gBAEhB,oGAAoG;gBACpG,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,SAAS,CAAC;oBAClE,CAAC,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE;oBACvE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBAC/B;aACF;SACF;IAEH,CAAC;IAhDU,mBAAmB;QAN/B,+DAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;YAC3B,kIAA2C;;SAE5C,CAAC;yCAS0B,4DAAc;YAChB,uDAAY;YACX,wDAAa;OAT3B,mBAAmB,CAiD/B;IAAD,0BAAC;CAAA;AAjD+B;;;;;;;;;;;;;;;;;;;;;;;;ACZS;AACM;AAGe;AAU9D;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAR5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;aACb;YACD,OAAO,EAAE,CAAC,0EAAmB,CAAC;YAC9B,YAAY,EAAE,CAAC,0EAAmB,CAAC;YACnC,eAAe,EAAE,CAAC,0EAAmB,CAAC;SACvC,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;;ACd7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO6B;AAEtB,SAAS,uBAAuB;IACrC,OAAO,mEAAO,CAAC,oBAAoB,EAAE;QACnC,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;YACJ,IAAI,EAAE,KAAK;YACX,WAAW,EAAE,MAAM;SACpB,CAAC,CACH;QACD,iEAAK,CACH,SAAS,EACT,iEAAK,CAAC;YACJ,IAAI,EAAE,OAAO;YACb,WAAW,EAAE,oBAAoB;SAClC,CAAC,CACH;QACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;KACvC,CAAC,CAAC;AACL,CAAC;AAEM,SAAS,mBAAmB;IACjC,OAAO;QACL,mEAAO,CAAC,mBAAmB,EAAE;YAC3B,iEAAK,CACH,OAAO,EACP,iEAAK,CAAC;gBACJ,IAAI,EAAE,KAAK;aACZ,CAAC,CACH;YACD,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;gBACJ,IAAI,EAAE,mBAAmB;aAC1B,CAAC,CACH;YACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;SACvC,CAAC;QACF,mEAAO,CAAC,mBAAmB,EAAE;YAC3B,iEAAK,CACH,OAAO,EACP,iEAAK,CAAC;gBACJ,MAAM,EAAE,GAAG;aACZ,CAAC,CACH;YACD,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;gBACJ,MAAM,EAAE,OAAO;aAChB,CAAC,CACH;YACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;SACvC,CAAC;KACH,CAAC;AACJ,CAAC;AAEM,SAAS,mBAAmB;IACjC,OAAO;QACL,mEAAO,CAAC,kBAAkB,EAAE;YAC1B,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;gBACJ,IAAI,EAAE,KAAK;aACZ,CAAC,CACH;YACD,iEAAK,CACH,OAAO,EACP,iEAAK,CAAC;gBACJ,IAAI,EAAE,OAAO;aACd,CAAC,CACH;YACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;SACvC,CAAC;QACF,mEAAO,CAAC,kBAAkB,EAAE;YAC1B,iEAAK,CAAC,OAAO,EAAE,iEAAK,CAAC,EAAE,CAAC,CAAC;YACzB,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;gBACJ,MAAM,EAAE,MAAM;aACf,CAAC,CACH;YACD,iEAAK,CACH,IAAI,EACJ,iEAAK,CAAC;gBACJ,MAAM,EAAE,OAAO;aAChB,CAAC,CACH;YACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;SACvC,CAAC;KACH,CAAC;AACJ,CAAC;AAEM,SAAS,kBAAkB;IAChC,OAAO;QACL,mEAAO,CAAC,iBAAiB,EAAE;YACzB,iEAAK,CACH,OAAO,EACP,iEAAK,CAAC;gBACJ,IAAI,EAAE,KAAK;aACZ,CAAC,CACH;YACD,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;gBACJ,IAAI,EAAE,OAAO;aACd,CAAC,CACH;YACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;SACvC,CAAC;QACF,mEAAO,CAAC,iBAAiB,EAAE;YACzB,iEAAK,CAAC,OAAO,EAAE,iEAAK,CAAC,EAAE,CAAC,CAAC;YACzB,iEAAK,CACH,OAAO,EACP,iEAAK,CAAC;gBACJ,MAAM,EAAE,KAAK;aACd,CAAC,CACH;YACD,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;gBACJ,MAAM,EAAE,OAAO;aAChB,CAAC,CACH;YACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;SACvC,CAAC;KACH,CAAC;AACJ,CAAC;AAEM,SAAS,aAAa;IAC3B,OAAO,mEAAO,CAAC,eAAe,EAAE;QAC9B,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;YACJ,IAAI,EAAE,MAAM;SACb,CAAC,CACH;QACD,iEAAK,CACH,OAAO,EACP,iEAAK,CAAC;YACJ,IAAI,EAAE,OAAO;SACd,CAAC,CACH;QACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;KACvC,CAAC,CAAC;AACL,CAAC;AAEM,SAAS,aAAa;IAC3B,OAAO,mEAAO,CAAC,eAAe,EAAE;QAC9B,iEAAK,CAAC,OAAO,EAAE,iEAAK,CAAC,EAAE,CAAC,CAAC;QACzB,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;YACJ,MAAM,EAAE,KAAK;YACb,aAAa,EAAE,KAAK;SACrB,CAAC,CACH;QACD,iEAAK,CACH,IAAI,EACJ,iEAAK,CAAC;YACJ,MAAM,EAAE,OAAO;YACf,aAAa,EAAE,OAAO;SACvB,CAAC,CACH;QACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;KACvC,CAAC,CAAC;AACL,CAAC;AAEM,SAAS,SAAS;IACvB,OAAO,mEAAO,CAAC,WAAW,EAAE;QAC1B,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;YACJ,IAAI,EAAE,GAAG;SACV,CAAC,CACH;QACD,iEAAK,CACH,OAAO,EACP,iEAAK,CAAC;YACJ,IAAI,EAAE,GAAG;SACV,CAAC,CACH;QACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;KACvC,CAAC,CAAC;AACL,CAAC;AACM,SAAS,SAAS;IACvB,OAAO,mEAAO,CAAC,WAAW,EAAE;QAC1B,iEAAK,CACH,OAAO,EACP,iEAAK,CAAC;YACJ,MAAM,EAAE,GAAG;SACZ,CAAC,CACH;QACD,iEAAK,CACH,MAAM,EACN,iEAAK,CAAC;YACJ,MAAM,EAAE,GAAG;SACZ,CAAC,CACH;QACD,iEAAK,CACH,IAAI,EACJ,iEAAK,CAAC;YACJ,MAAM,EAAE,GAAG;SACZ,CAAC,CACH;QACD,sEAAU,CAAC,QAAQ,EAAE,mEAAO,CAAC,OAAO,CAAC,CAAC;KACvC,CAAC,CAAC;AACL,CAAC;;;;;;;;;;;;ACtND,8jCAA8jC,yDAAyD,uqE;;;;;;;;;;;ACAvnC,4DAA4D,gBAAgB,iBAAiB,mBAAmB,EAAE,uCAAuC,4BAA4B,uBAAuB,cAAc,aAAa,eAAe,qBAAqB,EAAE,sDAAsD,qBAAqB,EAAE,0CAA0C,gBAAgB,iBAAiB,EAAE,4DAA4D,uBAAuB,gBAAgB,YAAY,cAAc,EAAE,2EAA2E,gBAAgB,8BAA8B,EAAE,6EAA6E,kBAAkB,EAAE,wCAAwC,4BAA4B,oBAAoB,uBAAuB,2BAA2B,aAAa,eAAe,sDAAsD,iBAAiB,kBAAkB,EAAE,kFAAkF,sBAAsB,gEAAgE,EAAE,EAAE,4CAA4C,iBAAiB,gBAAgB,8BAA8B,eAAe,mBAAmB,EAAE,kDAAkD,uBAAuB,cAAc,eAAe,qBAAqB,EAAE,0CAA0C,uBAAuB,cAAc,cAAc,wBAAwB,iBAAiB,eAAe,EAAE,kFAAkF,uBAAuB,iCAAiC,mBAAmB,uBAAuB,EAAE,EAAE,kFAAkF,uIAAuI,kBAAkB,cAAc,EAAE,EAAE,wBAAwB,wBAAwB,EAAE,+CAA+C,mrS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACOjlE;AAC0B;AACT;AAIN;AAE8B;AAU1C;AACmB;AAkBtB;AASQ;AAWC;AAiB5B;IAwIE,yBACU,KAAqB,EACrB,aAA4B;IACpC,0CAA0C;IACnC,WAAwB,EACxB,YAA0B,EAC1B,YAA0B,EAC1B,iBAAoC,EACpC,KAAwB,EACxB,mBAAwC,EACvC,YAA0B,EAC1B,QAAkB,EAClB,WAAwB,EACxB,UAAsB,EACtB,SAAoB,EACpB,mBAAwC,EACxC,aAA4B;QAf5B,UAAK,GAAL,KAAK,CAAgB;QACrB,kBAAa,GAAb,aAAa,CAAe;QAE7B,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,UAAK,GAAL,KAAK,CAAmB;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACvC,iBAAY,GAAZ,YAAY,CAAc;QAC1B,aAAQ,GAAR,QAAQ,CAAU;QAClB,gBAAW,GAAX,WAAW,CAAa;QACxB,eAAU,GAAV,UAAU,CAAY;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,kBAAa,GAAb,aAAa,CAAe;QAvJ/B,wBAAmB,GAAG,CAAC,CAAC;QACxB,2BAAsB,GAAG,KAAK,CAAC;QAC/B,sBAAiB,GAAG,IAAI,CAAC;QACzB,kBAAa,GAAG,KAAK,CAAC;QACtB,kBAAa,GAAG,EAAE,CAAC;QAEnB,qBAAgB,GAAG,IAAI,wDAAW,CAAC,EAAE,CAAC,CAAC;QAGtC,kBAAa,GAAG,KAAK,CAAC;QAS9B,wCAAwC;QACxC,8BAA8B;QAEvB,eAAU,GAAG,IAAI,wDAAW,CAAC,EAAE,CAAC,CAAC;QACjC,kBAAa,GAAG;YACrB,SAAS,EAAE,IAAI;YACf,IAAI,EAAE,IAAI;YACV,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,IAAI;oBACV,KAAK,EAAE,IAAI;iBACZ;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,MAAM;iBACd;gBACD;oBACE,IAAI,EAAE,aAAa;oBACnB,KAAK,EAAE,aAAa;iBACrB;aACF;SACF,CAAC;IAiHC,CAAC;IA/GJ,sBAAI,gCAAG;aAAP;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;QAC3B,CAAC;;;OAAA;IAED,sBAAI,0CAAa;aAAjB;YACE,OAAO,CACL,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,KAAK,gDAAK,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,CACtE,CAAC;QACJ,CAAC;;;OAAA;IAED,sBAAI,4CAAe;aAAnB;YACE,OAAO,IAAI,CAAC;YACZ,WAAW;YACX,2EAA2E;YAC3E,KAAK;QACP,CAAC;;;OAAA;IAED,sBAAI,wDAA2B;aAA/B;YACE,OAAO,KAAK,CAAC;YACb,WAAW;YACX,mCAAmC;YACnC,6BAA6B;YAC7B,oDAAoD;YACpD,KAAK;QACP,CAAC;;;OAAA;IAeD,sBAAI,wCAAW;QAbf,uCAAuC;QACvC,2DAA2D;QAC3D,oCAAoC;QACpC,MAAM;QACN,uCAAuC;QACvC,2BAA2B;QAC3B,+BAA+B;QAC/B,IAAI;QACJ,EAAE;QACF,sCAAsC;QACtC,yDAAyD;QACzD,IAAI;aAEJ;YACE,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QAChC,CAAC;;;OAAA;IAED,sBAAI,uCAAU;aAAd;YACE,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QAC/B,CAAC;;;OAAA;IAED,sBAAI,oCAAO;aAAX;YACE,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;QAChC,CAAC;;;OAAA;IAgED,kCAAQ,GAAR;QAAA,iBAqDC;QApDC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QAErB,oEAAoE;QAEpE,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CACtC,cAAM,QAAC,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC,EAA5B,CAA4B,CACnC,CAAC;QAEF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CACnD,UAAC,OAAwB,IAAK,YAAI,CAAC,eAAe,CAAC,OAAO,CAAC,EAA7B,CAA6B,CAC5D,CAAC;QAEF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;YACzB;gBACE,EAAE,EAAE,aAAa;gBACjB,KAAK,EAAE,aAAa;gBACpB,OAAO,EAAE,cAAM,YAAI,CAAC,gBAAgB,CAAC,KAAI,CAAC,gBAAgB,CAAC,EAA5C,CAA4C;aAC5D;YACD;gBACE,EAAE,EAAE,YAAY;gBAChB,KAAK,EAAE,WAAW;gBAClB,OAAO,EAAE,cAAM,YAAI,CAAC,cAAc,CAAC,KAAI,CAAC,gBAAgB,CAAC,EAA1C,CAA0C;aAC1D;YACD;gBACE,EAAE,EAAE,kBAAkB;gBACtB,KAAK,EAAE,kBAAkB;gBACzB,OAAO,EAAE,cAAM,YAAI,CAAC,oBAAoB,CAAC,KAAI,CAAC,gBAAgB,CAAC,EAAhD,CAAgD;aAChE;SACF,CAAC,CAAC;QAEH,0DAA0D;QAC1D,eAAe;QACf,4EAA4E;QAC5E,MAAM;QACN,yDAAyD;QACzD,yDAAyD;QACzD,wCAAwC;QACxC,QAAQ;QAER,uEAAuE;QACvE,qCAAqC;QACrC,0BAA0B;QAC1B,MAAM;QACN,MAAM;QAEN,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACnB,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE;YACzD,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE;YACzD,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE;YACzD,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE;YACzD,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE;SAC1D,CAAC,CAAC;IACL,CAAC;IAED,qCAAW,GAAX;QACE,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC;QACnC,IAAI,CAAC,qBAAqB,CAAC,WAAW,EAAE,CAAC;IAC3C,CAAC;IAED,yCAAe,GAAf;QACE,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,8CAAoB,GAApB;QACE,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,oCAAU,GAAV,UAAW,KAA+D;QAA1E,iBAyBC;QAxBC,IAAM,qBAAqB,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC1D,IAAM,sBAAsB,GAAwB,EAAE,CAAC;QAEvD,IAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,OAAgB;YAClD,IAAI,iBAAiB,GAAG,sBAAsB,CAAC,IAAI,CACjD,WAAC,IAAI,QAAC,CAAC,KAAK,KAAK,OAAO,CAAC,IAAI,CAAC,WAAW,EAApC,CAAoC,CAC1C,CAAC;YACF,IAAI,CAAC,iBAAiB,EAAE;gBACtB,iBAAiB,GAAG,IAAI,2DAAiB,CAAC;oBACxC,KAAK,EAAE,OAAO,CAAC,IAAI,CAAC,WAAW;iBAChC,CAAC,CAAC;gBACH,sBAAsB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;aAChD;YACD,OAAO,uEAAqB,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;QAEH,IAAM,QAAQ,GAAG;YACf,OAAO,EAAE,+CAAE,CAAC,OAAO,CAAC;YACpB,OAAO,EAAE,KAAK;YACd,MAAM,EAAE,qBAAqB;SAC9B,CAAC;QACF,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,UAAC,YAAqC;YAC/D,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4CAAkB,GAAlB,UAAmB,IAAa;QAC9B,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,KAAK,EAAE,EAAE;YACrC,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,OAAO;SACR;QACD,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,kCAAQ,GAAR,UAAS,KAAsD;QAC7D,IAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;QAE9B,qCAAqC;QACrC,IAAM,aAAa,GACjB,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QAC1D,IAAM,cAAc,GAAG,IAAI,CAAC,mBAAmB;aAC5C,iBAAiB,EAAE;aACnB,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,aAAa,EAAvD,CAAuD,CAAC,CAAC;QAExE,IAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK;aAChD,MAAM,CACL,UAAC,MAAoB;YACnB,aAAM,CAAC,MAAM,KAAK,KAAK,CAAC,QAAQ,CAAC,MAAM;gBACvC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC;QADtC,CACsC,CACzC;aACA,MAAM,CAAC,OAAO,CAAC,CAAC;QACnB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACpC,CAAC;IAEO,sCAAY,GAApB;QACE,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAEO,qCAAW,GAAnB;QACE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IAEO,uCAAa,GAArB;QACE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;IAChE,CAAC;IAEO,yCAAe,GAAvB,UAAwB,OAAwB;QAC9C,IAAI,OAAO,KAAK,SAAS,EAAE;YACzB,OAAO;SACR;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;SACnD;QAED,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IAEO,wCAAc,GAAtB;QACE,yDAAyD;QACzD,4BAA4B;QAC5B,IAAI;QAEJ,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACrD,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,0DAA0D;IAC1D,4BAA4B;IAC5B,2BAA2B;IAC3B,yEAAyE;IACzE,IAAI;IACJ,IAAI;IAEJ,sDAAsD;IACtD,8BAA8B;IAC9B,4BAA4B;IAC5B,mCAAmC;IACnC,YAAY;IACZ,IAAI;IACJ,EAAE;IACF,0CAA0C;IAC1C,2DAA2D;IAC3D,2BAA2B;IAC3B,MAAM;IACN,EAAE;IACF,gCAAgC;IAChC,2BAA2B;IAC3B,WAAW;IACX,mCAAmC;IACnC,IAAI;IACJ,IAAI;IAEI,yCAAe,GAAvB,UAAwB,MAA6B;QACnD,IAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC;QAE5B,4EAA4E;QAC5E,IAAI,OAAO,CAAC,QAAQ,KAAK,SAAS,EAAE;YAClC,OAAO;SACR;QAED,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,EAAE,uDAAa,CAAC,OAAO,CAAC,CAAC;IACjE,CAAC;IAEO,uCAAa,GAArB;QACE,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;QACzB,0BAA0B;IAC5B,CAAC;IAEO,8CAAoB,GAA5B;QACE,OAAO,IAAI,CAAC,mBAAmB;aAC5B,UAAU,EAAE;aACZ,IAAI,CACH,UAAC,YAA0B;YACzB,mBAAY,YAAY,2DAAiB;QAAzC,CAAyC,CAC5C,CAAC;IACN,CAAC;IAED,2CAAiB,GAAjB,UAAkB,KAA+B;QAC/C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;IACzD,CAAC;IAEO,4CAAkB,GAA1B,UAA2B,KAA+B;QACxD,IAAM,gBAAgB,GAAG,KAAK,CAAC;QAC/B,IAAM,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;QACjF,gBAAgB,CAAC,CAAC;YAChB,gBAAgB,CAAC,CAAC,GAAG,kBAAkB,CAAC,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC;QAC/D,gBAAgB,CAAC,CAAC;YAChB,gBAAgB,CAAC,CAAC,GAAG,kBAAkB,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC;QAChE,IAAM,KAAK,GAAG,CAAC,gBAAgB,CAAC,CAAC,EAAE,gBAAgB,CAAC,CAAC,CAAC,CAAC;QAEvD,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;QACxD,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC;QACjC,OAAO,iDAAgB,CAAC,KAAK,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;IACpD,CAAC;IAEO,wCAAc,GAAtB,UAAuB,KAAuB;QAC5C,MAAM,CAAC,IAAI,CAAC,qDAAW,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjE,CAAC;IAEO,8CAAoB,GAA5B,UAA6B,KAAuB;QAClD,MAAM,CAAC,IAAI,CAAC,qDAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC;IAEO,0CAAgB,GAAxB,UAAyB,KAAuB;QAAhD,iBAUC;QATC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtC,IAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAExD,IAAI,CAAC,cAAc,EAAE,CAAC;gCACX,CAAC;YACV,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,UAAC,QAAiC;gBAC7D,KAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,CAAC;YAC7D,CAAC,CAAC,CAAC;;QAHL,KAAK,IAAM,CAAC,IAAI,OAAO;oBAAZ,CAAC;SAIX;IACH,CAAC;IAED,+CAAqB,GAArB,UAAsB,CAAC;QACrB,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;QAC/C,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;IAC/C,CAAC;IAED,+CAAqB,GAArB,UAAsB,CAAC;QACrB,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC/B,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;SAC7C;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;SAC3C;IACH,CAAC;IAxR8C;QAA9C,+DAAS,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,wDAAU,EAAE,CAAC;kCAAa,wDAAU;uDAAC;IAtI3D,eAAe;QAf3B,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YACtB,4GAAsC;YAEtC,UAAU,EAAE;gBACV,iFAAuB,EAAE;gBACzB,6EAAmB,EAAE;gBACrB,6EAAmB,EAAE;gBACrB,4EAAkB,EAAE;gBACpB,uEAAa,EAAE;gBACf,uEAAa,EAAE;gBACf,mEAAS,EAAE;gBACX,mEAAS,EAAE;aACZ;;SACF,CAAC;yCA0IiB,8DAAc;YACN,wDAAa;YAEhB,sDAAW;YACV,uDAAY;YACZ,sDAAY;YACP,2DAAiB;YAC7B,+DAAiB;YACH,6DAAmB;YACzB,8DAAY;YAChB,0DAAQ;YACL,6DAAW;YACZ,4DAAU;YACX,2DAAS;YACC,6DAAmB;YACzB,uDAAa;OAxJ3B,eAAe,CA4d3B;IAAD,sBAAC;CAAA;AA5d2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjFa;AACM;AAMpB;AAE+B;AAWpC;AASH;AAII;AAEkC;AAE0B;AACZ;AACX;AAEP;AAmCrD;IAAA;IAA4B,CAAC;IAAhB,YAAY;QAjCxB,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,kEAAgB;gBAChB,iEAAe;gBACf,+DAAa;gBACb,kEAAgB;gBAChB,wDAAa;gBACb,0DAAgB;gBAChB,+DAAqB;gBACrB,sDAAY;gBACZ,wDAAc,CAAC,OAAO,EAAE;gBACxB,yDAAe,CAAC,OAAO,EAAE;gBACzB,4DAAe;gBACf,+DAAkB;gBAClB,4DAAe;gBACf,+DAAqB;gBACrB,2DAAc;gBACd,0DAAa;gBACb,iEAAoB;gBACpB,8DAAiB;gBACjB,8DAAiB;gBACjB,sEAAoB;gBACpB,+FAAuB;gBACvB,mFAAmB;gBACnB,yEAAgB;gBAChB,qEAAuB;gBACvB,uEAAyB;gBACzB,iEAAoB;aACrB;YACD,OAAO,EAAE,CAAC,kEAAe,CAAC;YAC1B,YAAY,EAAE,CAAC,kEAAe,CAAC;SAChC,CAAC;OACW,YAAY,CAAI;IAAD,mBAAC;CAAA;AAAJ;;;;;;;;;;;;AC5EzB,2MAA2M,yCAAyC,2+C;;;;;;;;;;;ACApP,kDAAkD,2CAA2C,wCAAwC,EAAE,SAAS,4BAA4B,EAAE,+BAA+B,0BAA0B,EAAE,eAAe,iBAAiB,iBAAiB,EAAE,kFAAkF,mBAAmB,uCAAuC,EAAE,EAAE,2BAA2B,iBAAiB,EAAE,wBAAwB,qBAAqB,8BAA8B,EAAE,kFAAkF,4BAA4B,kCAAkC,EAAE,EAAE,0CAA0C,uBAAuB,EAAE,gEAAgE,eAAe,uBAAuB,iBAAiB,EAAE,eAAe,uBAAuB,cAAc,cAAc,8BAA8B,iBAAiB,qBAAqB,iBAAiB,gBAAgB,EAAE,+CAA+C,mxO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACQxjC;AAE8B;AACL;AAE4B;AACT;AACrB;AAQ9C;IA0DE,0BAAoB,SAAoB;QAApB,cAAS,GAAT,SAAS,CAAW;QAzDxC,WAAM,GAA4B,IAAI,oDAAe,CAAS,SAAS,CAAC,CAAC;QACzE,kBAAa,GAAkB,SAAS,CAAC;QAGjC,WAAM,GAAG,IAAI,yDAAe,EAAE,CAAC;QAuC7B,iBAAY,GAAG,IAAI,0DAAY,EAAW,CAAC;IAcV,CAAC;IAlD5C,sBAAI,iCAAG;aAAP;YACE,OAAO,IAAI,CAAC,IAAI,CAAC;QACnB,CAAC;aACD,UAAQ,KAAa;YACnB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QACpB,CAAC;;;OAHA;IAOD,sBAAI,0CAAY;aAAhB;YACE,OAAO,IAAI,CAAC,aAAa,CAAC;QAC5B,CAAC;aACD,UAAiB,KAAmB;YAClC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,KAAK,EAAE;gBACV,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;aAChC;iBAAM,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;gBAC3C,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC;aAClC;QACH,CAAC;;;OARA;IAYD,sBAAI,oCAAM;aAAV;YACE,OAAO,IAAI,CAAC,OAAO,CAAC;QACtB,CAAC;aACD,UAAW,KAAc;YACvB,IAAI,KAAK,KAAK,IAAI,CAAC,OAAO,EAAE;gBAC1B,OAAO;aACR;YAED,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACvC,CAAC;;;OARA;IAaD,sBAAI,qCAAO;aAAX;YACE,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;QAChC,CAAC;;;OAAA;IAED,sBAAI,wCAAU;aAAd;YACE,IAAI,KAAK,CAAC;YACV,IAAI,IAAI,CAAC,YAAY,KAAK,SAAS,EAAE;gBACnC,KAAK,GAAG,mEAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC3C;YACD,OAAO,KAAK,CAAC;QACf,CAAC;;;OAAA;IAID,mCAAQ,GAAR;QAAA,iBAIC;QAHC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,IAAU;YAChE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sCAAW,GAAX;QACE,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;IAED,gDAAqB,GAArB;QACE,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC;IACtC,CAAC;IAED,gDAAqB,GAArB;QACE,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;IAChC,CAAC;IAED,8CAAmB,GAAnB;QACE,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE;YACnC,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE;gBAChE,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU;gBAC1D,iBAAiB,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU;aACvC,CAAC,CAAC;YACH,kEAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;SACvC;IACH,CAAC;IAED,yCAAc,GAAd;QACE,IAAI,IAAI,CAAC,aAAa,KAAK,WAAW,EAAE;YACtC,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC;SACjC;aAAM;YACL,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC;SAClC;IACH,CAAC;IAtFD;QADC,2DAAK,EAAE;kCAIO,gDAAM;yCAAN,gDAAM;+CADpB;IAOD;QADC,2DAAK,EAAE;;;wDAGP;IAYD;QADC,2DAAK,EAAE;;;kDAGP;IAWS;QAAT,4DAAM,EAAE;;0DAA4C;IA5C1C,gBAAgB;QAN5B,+DAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,sHAAuC;YAEvC,eAAe,EAAE,qEAAuB,CAAC,MAAM;;SAChD,CAAC;yCA2D+B,2DAAS;OA1D7B,gBAAgB,CA+F5B;IAAD,uBAAC;CAAA;AA/F4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBY;AACM;AAMpB;AAEoB;AACiC;AACnC;AACW;AAEE;AACH;AAoBvD;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAlB5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,+DAAa;gBACb,iEAAe;gBACf,kEAAgB;gBAChB,kEAAgB;gBAChB,4DAAiB;gBACjB,2DAAc;gBACd,8DAAiB;gBACjB,qEAAuB;gBACvB,0DAAa;gBACb,0DAAgB;gBAChB,qEAAa;aACd;YACD,OAAO,EAAE,CAAC,mEAAgB,CAAC;YAC3B,YAAY,EAAE,CAAC,mEAAgB,CAAC;SACjC,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;ACnC7B,y2D;;;;;;;;;;;ACAA,4CAA4C,2CAA2C,wCAAwC,EAAE,SAAS,4BAA4B,iBAAiB,sBAAsB,0DAA0D,iBAAiB,EAAE,gCAAgC,iBAAiB,sBAAsB,EAAE,kFAAkF,oCAAoC,oBAAoB,EAAE,EAAE,+CAA+C,oBAAoB,EAAE,2BAA2B,iBAAiB,gBAAgB,EAAE,aAAa,iBAAiB,EAAE,0BAA0B,kBAAkB,EAAE,wCAAwC,iBAAiB,cAAc,EAAE,0IAA0I,cAAc,EAAE,0CAA0C,sBAAsB,EAAE,+CAA+C,+qO;;;;;;;;;;;;;;;;;;;;;;;;;;ACQ//B;AACgB;AAEoB;AAS3D;IA0CE;QA7BU,iBAAY,GAAG,IAAI,0DAAY,EAAyB,CAAC;QACzD,gBAAW,GAAG,IAAI,0DAAY,EAAyB,CAAC;QASlE,oBAAe,GAAG,IAAI,oDAAe,CAAwB,SAAS,CAAC,CAAC;QAEhE,WAAM,GAAG,IAAI,CAAC;IAiBP,CAAC;4BA1CL,mBAAmB;IAE9B,sBAAI,sCAAK;aAAT;YACE,OAAO,IAAI,CAAC,MAAM,CAAC;QACrB,CAAC;aACD,UAAU,KAAyC;YAAnD,iBAKC;YAJC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,mBAAS;gBACtC,KAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC,CAAC,CAAC;QACL,CAAC;;;OANA;IAwBD,sBAAI,+CAAc;aAAlB;YACE,OAAO,IAAI,CAAC,MAAM,CAAC;QACrB,CAAC;;;OAAA;IAGD,sBAAI,6CAAY;aAAhB;YACE,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC;QACpD,CAAC;;;OAAA;IAED,sBAAI,wCAAO;aAAX;YACE,2EAA2E;YAC3E,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;QAC1B,CAAC;;;OAAA;IAID,sCAAQ,GAAR,UAAS,MAAoB;QAC3B,OAAO,mEAAc,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;IAED,yCAAW,GAAX,UAAY,MAA6B;QACvC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;IAED,0CAAY,GAAZ,UAAa,MAA6B;QACxC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CACrB,MAAM,EACN;YACE,OAAO,EAAE,IAAI;YACb,QAAQ,EAAE,IAAI;SACf,EACD,IAAI,CACL,CAAC;QACF,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAClC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC;IAED,4CAAc,GAAd;QACE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACrC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;IAC3B,CAAC;IAED,mCAAK,GAAL;QACE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QACnB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAGD,4CAAc,GAAd;QACE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE;YAC/B,OAAO;SACR;QACD,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QACzD,IAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;QACzC,IAAI,cAAc,EAAE;YAClB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;SACnC;IACH,CAAC;IAGD,wCAAU,GAAV;QACE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE;YAC/B,OAAO;SACR;QACD,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QACzD,IAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;QACrC,IAAI,UAAU,EAAE;YACd,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;SAC/B;IACH,CAAC;IAED,mCAAK,GAAL,UAAM,MAAc;QAClB,IAAI,MAAM,KAAK,qBAAmB,CAAC,YAAY,CAAC,IAAI,EAAE;YACpD,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;aAAM,IAAI,MAAM,KAAK,qBAAmB,CAAC,YAAY,CAAC,KAAK,EAAE;YAC5D,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;aAAM,IAAI,MAAM,KAAK,qBAAmB,CAAC,YAAY,CAAC,EAAE,EAAE;YACzD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACpB;aAAM,IAAI,MAAM,KAAK,qBAAmB,CAAC,YAAY,CAAC,IAAI,EAAE;YAC3D,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACrB;IACH,CAAC;IAED,2CAAa,GAAb,UAAc,CAAa;QACzB,IAAI,CAAC,CAAC,UAAU,CAAC,SAAS,KAAK,iBAAiB,EAAE;YAChD,OAAO;SACR;QACD,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;IAC7B,CAAC;;IApGM,gCAAY,GAAG;QACpB,KAAK,EAAE,YAAY;QACnB,IAAI,EAAE,WAAW;QACjB,EAAE,EAAE,SAAS;QACb,IAAI,EAAE,WAAW;KAClB,CAAC;IAnBF;QADC,2DAAK,EAAE;kCAIS,wDAAW;yCAAX,wDAAW;oDAD3B;IASS;QAAT,4DAAM,EAAE;;6DAA0D;IACzD;QAAT,4DAAM,EAAE;;4DAAyD;IAclE;QADC,iEAAW,CAAC,8BAA8B,CAAC;;;6DAG3C;IAGD;QADC,iEAAW,CAAC,kBAAkB,CAAC;;;2DAG/B;IAyCD;QADC,kEAAY,CAAC,4BAA4B,CAAC;;;;6DAU1C;IAGD;QADC,kEAAY,CAAC,6BAA6B,CAAC;;;;yDAU3C;IAjGU,mBAAmB;QAN/B,+DAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;YAC3B,kIAA2C;YAE3C,eAAe,EAAE,qEAAuB,CAAC,MAAM;;SAChD,CAAC;;OACW,mBAAmB,CAqH/B;IAAD,0BAAC;CAAA;AArH+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBS;AACM;AACoB;AAEK;AACzB;AACsB;AAEP;AAgB9D;IAAA;IAAkC,CAAC;IAAtB,mBAAmB;QAd/B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,+DAAa;gBACb,iEAAe;gBACf,4DAAiB;gBACjB,2DAAc;gBACd,qEAAwB;gBACxB,0DAAgB;gBAChB,gEAAsB;aACvB;YACD,OAAO,EAAE,CAAC,0EAAmB,CAAC;YAC9B,YAAY,EAAE,CAAC,0EAAmB,CAAC;SACpC,CAAC;OACW,mBAAmB,CAAG;IAAD,0BAAC;CAAA;AAAH;;;;;;;;;;;;;ACxBhC;AAAA;AAAA;AAO6B;AAEtB,SAAS,cAAc,CAC5B,KAAe,EACf,IAAoB;IADpB,uCAAe;IACf,2CAAoB;IAEpB,OAAO,mEAAO,CAAC,gBAAgB,EAAE;QAC/B,iEAAK,CACH,OAAO,EACP,iEAAK,CAAC;YACJ,SAAS,EAAE,sBAAsB;SAClC,CAAC,CACH;QACD,sEAAU,CAAC,eAAe,EAAE,mEAAO,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;KACzD,CAAC,CAAC;AACL,CAAC;;;;;;;;;;;;ACtBD,sUAAsU,oGAAoG,qT;;;;;;;;;;;ACA1a,yBAAyB,mBAAmB,uBAAuB,qBAAqB,gBAAgB,iBAAiB,EAAE,4DAA4D,uBAAuB,WAAW,cAAc,YAAY,aAAa,EAAE,wCAAwC,uCAAuC,EAAE,sCAAsC,eAAe,EAAE,mBAAmB,iBAAiB,EAAE,8BAA8B,gBAAgB,mBAAmB,EAAE,oCAAoC,gBAAgB,qBAAqB,2CAA2C,wCAAwC,EAAE,sCAAsC,sBAAsB,EAAE,wBAAwB,mBAAmB,EAAE,+CAA+C,2hE;;;;;;;;;;;;;;;;;;;;;;;;;;;ACMpxB;AAE8B;AAEa;AACb;AASrD;IAPA;QAQE;;WAEG;QACH,gBAAW,GAA0B,IAAI,oDAAe,CAAC,SAAS,CAAC,CAAC;QAEpE;;WAEG;QACH,gBAAW,GAAgB,IAAI,wDAAW,CAAC,EAAE,CAAC,CAAC;QAE/C;;WAEG;QACH,eAAU,GAA4B,IAAI,oDAAe,CAAC,MAAM,CAAC,CAAC;QAElE;;WAEG;QACH,aAAQ,GAA8B,IAAI,oDAAe,CAAC,EAAE,CAAC,CAAC;QAY9D;;;;WAIG;QACK,eAAU,GAAG,IAAI,oDAAe,CAAU,KAAK,CAAC,CAAC;QAYzD;;WAEG;QACM,YAAO,GAAY,KAAK,CAAC;IAoJpC,CAAC;IA/IC,sBAAI,8CAAgB;QAHpB;;WAEG;aACH;YACE,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,KAAK,SAAS,CAAC;QAC9C,CAAC;;;OAAA;IAED;;;OAGG;IACH,mCAAQ,GAAR;QAAA,iBAOC;QANC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAC,OAAiB;YACjE,YAAI,CAAC,eAAe,CAAC,OAAO,CAAC;QAA7B,CAA6B,CAC9B,CAAC;QACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,IAAU;YAChE,YAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;QAA7B,CAA6B,CAC9B,CAAC;IACJ,CAAC;IAED;;;OAGG;IACH,sCAAW,GAAX;QACE,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED;;;OAGG;IACH,2CAAgB,GAAhB;QACE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED;;;OAGG;IACH,8CAAmB,GAAnB;QACE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED;;;;;OAKG;IACH,wCAAa,GAAb,UAAc,IAAU;QACtB,OAAO,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;IAC5B,CAAC;IAED;;;OAGG;IACK,0CAAe,GAAvB,UAAwB,OAAiB;QACvC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC3B,CAAC;IAED;;;OAGG;IACK,6CAAkB,GAA1B,UAA2B,IAAU;QAArC,iBAMC;QALC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACjB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACzB,OAAO;SACR;QACD,IAAI,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAxB,CAAwB,CAAC,CAAC;IACjD,CAAC;IAED;;;OAGG;IACK,wCAAa,GAArB,UAAsB,IAAsB;QAC1C,IAAI,IAAI,KAAK,SAAS,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;SACrD;aAAM;YACL,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC/C,IAAI,MAAM,KAAK,SAAS,EAAE;gBACxB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;aAC/D;SACF;QAED,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC/B;IACH,CAAC;IAED;;OAEG;IACK,qCAAU,GAAlB,UAAmB,OAAiB;QAApC,iBAsBC;QArBC,IAAM,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,UAAC,GAAa,EAAE,QAAgB;YAC7D,IAAM,IAAI,GAAG,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAC5C,IAAI,IAAI,KAAK,SAAS,EAAE;gBACtB,OAAO,GAAG,CAAC;aACZ;YAED,GAAG,CAAC,IAAI,CAAC;gBACP,EAAE,EAAE,IAAI,CAAC,IAAI;gBACb,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,6BAA6B;gBAC7B,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,IAAI,EAAE,CAAC,IAAI,EAAE,KAAI,CAAC,OAAO,CAAC;gBAC1B,OAAO,EAAE,UAAC,KAAW,EAAE,QAAiB;oBACtC,QAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBACpC,CAAC;aACF,CAAC,CAAC;YACH,OAAO,GAAG,CAAC;QACb,CAAC,EAAE,EAAE,CAAC,CAAC;QACP,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;IAED;;;;OAIG;IACK,oCAAS,GAAjB,UAAkB,QAAoB;QAAtC,iBAQC;QAPC,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAC,SAAkB;YAC9D,IAAI,CAAC,SAAS,EAAE;gBACd,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBACpB,KAAI,CAAC,SAAS,EAAE,CAAC;aAClB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;OAEG;IACK,oCAAS,GAAjB;QACE,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;SAChC;IACH,CAAC;IAxJQ;QAAR,2DAAK,EAAE;kCAAU,oDAAO;qDAAC;IAKjB;QAAR,2DAAK,EAAE;;qDAA0B;IAnDvB,gBAAgB;QAP5B,+DAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,sHAAqC;YAErC,UAAU,EAAE,CAAC,yEAAc,EAAE,CAAC;YAC9B,eAAe,EAAE,qEAAuB,CAAC,MAAM;;SAChD,CAAC;OACW,gBAAgB,CAuM5B;IAAD,uBAAC;CAAA;AAvM4B;;;;;;;;;;;;;;;;;;;;;;;;;ACpBY;AACM;AAMzB;AAEiC;AAEvD;;GAEG;AAWH;IAAA;IAA4B,CAAC;IAAhB,aAAa;QAVzB,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,4DAAe;gBACf,sEAAyB;gBACzB,2DAAc;aACf;YACD,OAAO,EAAE,CAAC,mEAAgB,CAAC;YAC3B,YAAY,EAAE,CAAC,mEAAgB,CAAC;SACjC,CAAC;OACW,aAAa,CAAG;IAAD,oBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBiB;AACJ;AAMvC;IAKE;QAHA,SAAI,GAAQ,IAAI,CAAC;QAIf,IAAI,CAAC,cAAc,GAAG,IAAI,oDAAe,CAAM,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5D,CAAC;IAED,iCAAW,GAAX;QACE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAED,6BAAO,GAAP,UAAQ,IAAS;QACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,6BAAO,GAAP;QACE,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC;IApBU,WAAW;QAHvB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;;OACW,WAAW,CAqBvB;IAAD,kBAAC;CAAA;AArBuB;;;;;;;;;;;;;;;;;;;;;;;;;ACPmB;AAM3C;IAIE;IAAgB,CAAC;IAEjB,gCAAM,GAAN,UAAO,GAAW;QAChB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;IAED,gCAAM,GAAN;QACE,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAZU,eAAe;QAH3B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;;OACW,eAAe,CAa3B;IAAD,sBAAC;CAAA;AAb2B;;;;;;;;;;;;;ACN5B;AAAA;AAAA,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;AAkBzE,IAAM,WAAW,GAAgB;IACtC,UAAU,EAAE,KAAK;IACjB,GAAG,EAAE;QACH,IAAI,EAAE;YACJ,GAAG,EAAE,aAAa;YAClB,QAAQ,EAAE,cAAc;YACxB,cAAc,EAAE,IAAI;SACrB;QACD,aAAa,EAAE;YACb,SAAS,EAAE;gBACT,SAAS,EAAE,KAAK;aACjB;YACD,QAAQ,EAAE;gBACR,SAAS,EAAE,mBAAmB;gBAC9B,MAAM,EAAE;oBACN,KAAK,EAAE,GAAG;iBACX;aACF;YACD,eAAe,EAAE;gBACf,SAAS,EAAE,cAAc;gBACzB,MAAM,EAAE;oBACN,KAAK,EAAE,GAAG;iBACX;aACF;YACD,MAAM,EAAE;gBACN,SAAS,EAAE,qBAAqB;gBAChC,MAAM,EAAE;oBACN,KAAK,EAAE,GAAG;iBACX;aACF;SACF;QACD,QAAQ,EAAE;YACR,MAAM,EAAE,WAAW;SACpB;KACF;CACF,CAAC;;;;;;;;;;;;;ACxDF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAC4B;AAE9B;AACY;AAEvC;AAElB,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,gGAAsB,EAAE;KACrB,eAAe,CAAC,yDAAS,CAAC;KAC1B,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC","file":"main.js","sourcesContent":["import { BehaviorSubject, of } from 'rxjs';\nimport { Base64 } from '@igo2/utils';\nimport jwtDecode from 'jwt-decode';\nimport { tap, filter, map } from 'rxjs/operators';\nimport { Router, NavigationStart, RouterModule } from '@angular/router';\nimport { Injectable, Injector, Component, ChangeDetectionStrategy, ApplicationRef, Output, EventEmitter, Input, Optional, NgModule, Directive, ElementRef, defineInjectable, inject, INJECTOR } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClient, HttpHeaders, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { Validators, FormBuilder, ReactiveFormsModule } from '@angular/forms';\nimport { MatFormFieldModule, MatInputModule, MatButtonModule } from '@angular/material';\nimport { ConfigService, LanguageService, IgoLanguageModule } from '@igo2/core';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TokenService = /** @class */ (function () {\r\n    function TokenService(injector) {\r\n        this.injector = injector;\r\n    }\r\n    /**\r\n     * @param {?} token\r\n     * @return {?}\r\n     */\r\n    TokenService.prototype.set = /**\r\n     * @param {?} token\r\n     * @return {?}\r\n     */\r\n    function (token) {\r\n        localStorage.setItem(this.tokenKey, token);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TokenService.prototype.remove = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        localStorage.removeItem(this.tokenKey);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TokenService.prototype.get = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return localStorage.getItem(this.tokenKey);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TokenService.prototype.decode = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var token = this.get();\r\n        if (!token) {\r\n            return;\r\n        }\r\n        return jwtDecode(token);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TokenService.prototype.isExpired = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var jwt = this.decode();\r\n        /** @type {?} */\r\n        var currentTime = new Date().getTime() / 1000;\r\n        if (jwt && currentTime < jwt.exp) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(TokenService.prototype, \"tokenKey\", {\r\n        get: /**\r\n         * @private\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var config = this.injector.get(ConfigService);\r\n            this.options = config.getConfig('auth') || {};\r\n            return this.options.tokenKey;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TokenService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    TokenService.ctorParameters = function () { return [\r\n        { type: Injector }\r\n    ]; };\r\n    /** @nocollapse */ TokenService.ngInjectableDef = defineInjectable({ factory: function TokenService_Factory() { return new TokenService(inject(INJECTOR)); }, token: TokenService, providedIn: \"root\" });\r\n    return TokenService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar AuthService = /** @class */ (function () {\r\n    function AuthService(http, tokenService, config, languageService, router) {\r\n        this.http = http;\r\n        this.tokenService = tokenService;\r\n        this.config = config;\r\n        this.languageService = languageService;\r\n        this.router = router;\r\n        this.authenticate$ = new BehaviorSubject(undefined);\r\n        this.anonymous = false;\r\n        this.options = this.config.getConfig('auth') || {};\r\n        this.authenticate$.next(this.authenticated);\r\n    }\r\n    /**\r\n     * @param {?} username\r\n     * @param {?} password\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.login = /**\r\n     * @param {?} username\r\n     * @param {?} password\r\n     * @return {?}\r\n     */\r\n    function (username, password) {\r\n        /** @type {?} */\r\n        var myHeader = new HttpHeaders();\r\n        myHeader.append('Content-Type', 'application/json');\r\n        /** @type {?} */\r\n        var body = JSON.stringify({\r\n            username: username,\r\n            password: this.encodePassword(password)\r\n        });\r\n        return this.loginCall(body, myHeader);\r\n    };\r\n    /**\r\n     * @param {?} token\r\n     * @param {?} type\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.loginWithToken = /**\r\n     * @param {?} token\r\n     * @param {?} type\r\n     * @return {?}\r\n     */\r\n    function (token, type) {\r\n        /** @type {?} */\r\n        var myHeader = new HttpHeaders();\r\n        myHeader.append('Content-Type', 'application/json');\r\n        /** @type {?} */\r\n        var body = JSON.stringify({\r\n            token: token,\r\n            typeConnection: type\r\n        });\r\n        return this.loginCall(body, myHeader);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.loginAnonymous = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.anonymous = true;\r\n        return of(true);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.logout = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.anonymous = false;\r\n        this.tokenService.remove();\r\n        this.authenticate$.next(false);\r\n        return of(true);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.isAuthenticated = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return !this.tokenService.isExpired();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.getToken = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.tokenService.get();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.decodeToken = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.isAuthenticated()) {\r\n            return this.tokenService.decode();\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.goToRedirectUrl = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (!this.router) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var redirectUrl = this.redirectUrl || this.router.url;\r\n        if (redirectUrl === this.options.loginRoute) {\r\n            /** @type {?} */\r\n            var homeRoute = this.options.homeRoute || '/';\r\n            this.router.navigateByUrl(homeRoute);\r\n        }\r\n        else if (redirectUrl) {\r\n            this.router.navigateByUrl(redirectUrl);\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.getUserInfo = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var url = this.options.url + '/info';\r\n        return this.http.get(url);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.getProfils = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.http.get(this.options.url + \"/profils\");\r\n    };\r\n    /**\r\n     * @param {?} user\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.updateUser = /**\r\n     * @param {?} user\r\n     * @return {?}\r\n     */\r\n    function (user) {\r\n        /** @type {?} */\r\n        var url = this.options.url;\r\n        return this.http.patch(url, JSON.stringify(user));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} password\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.encodePassword = /**\r\n     * @private\r\n     * @param {?} password\r\n     * @return {?}\r\n     */\r\n    function (password) {\r\n        return Base64.encode(password);\r\n    };\r\n    Object.defineProperty(AuthService.prototype, \"logged\", {\r\n        // authenticated or anonymous\r\n        get: \r\n        // authenticated or anonymous\r\n        /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.authenticated || this.isAnonymous;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AuthService.prototype, \"isAnonymous\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.anonymous;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AuthService.prototype, \"authenticated\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.isAuthenticated();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @private\r\n     * @param {?} body\r\n     * @param {?} headers\r\n     * @return {?}\r\n     */\r\n    AuthService.prototype.loginCall = /**\r\n     * @private\r\n     * @param {?} body\r\n     * @param {?} headers\r\n     * @return {?}\r\n     */\r\n    function (body, headers) {\r\n        var _this = this;\r\n        return this.http\r\n            .post(this.options.url + \"/login\", body, { headers: headers })\r\n            .pipe(tap((/**\r\n         * @param {?} data\r\n         * @return {?}\r\n         */\r\n        function (data) {\r\n            _this.tokenService.set(data.token);\r\n            /** @type {?} */\r\n            var tokenDecoded = _this.decodeToken();\r\n            if (tokenDecoded && tokenDecoded.user && tokenDecoded.user.locale) {\r\n                _this.languageService.setLanguage(tokenDecoded.user.locale);\r\n            }\r\n            _this.authenticate$.next(true);\r\n        })));\r\n    };\r\n    AuthService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    AuthService.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: TokenService },\r\n        { type: ConfigService },\r\n        { type: LanguageService },\r\n        { type: Router, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    /** @nocollapse */ AuthService.ngInjectableDef = defineInjectable({ factory: function AuthService_Factory() { return new AuthService(inject(HttpClient), inject(TokenService), inject(ConfigService), inject(LanguageService), inject(Router, 8)); }, token: AuthService, providedIn: \"root\" });\r\n    return AuthService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar AuthFormComponent = /** @class */ (function () {\r\n    function AuthFormComponent(auth, config, router) {\r\n        this.auth = auth;\r\n        this.config = config;\r\n        this.router = router;\r\n        this._backgroundDisable = true;\r\n        this._hasAlreadyConnectedDiv = true;\r\n        this._hasLogoutDiv = true;\r\n        this._showAlreadyConnectedDiv = false;\r\n        this._showLogoutDiv = false;\r\n        this.visible = true;\r\n        this.options = this.config.getConfig('auth') || {};\r\n        this.visible = Object.getOwnPropertyNames(this.options).length !== 0;\r\n    }\r\n    Object.defineProperty(AuthFormComponent.prototype, \"backgroundDisable\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (this.isLogoutRoute || this.isLogoutRoute) {\r\n                return false;\r\n            }\r\n            return this._backgroundDisable;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._backgroundDisable = value.toString() === 'true';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AuthFormComponent.prototype, \"hasAlreadyConnectedDiv\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._hasAlreadyConnectedDiv;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._hasAlreadyConnectedDiv = value.toString() === 'true';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AuthFormComponent.prototype, \"hasLogoutDiv\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._hasLogoutDiv;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._hasLogoutDiv = value.toString() === 'true';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AuthFormComponent.prototype, \"showAlreadyConnectedDiv\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (this.isLogoutRoute) {\r\n                return this.hasAlreadyConnectedDiv;\r\n            }\r\n            return this._showAlreadyConnectedDiv;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._showAlreadyConnectedDiv = value.toString() === 'true';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AuthFormComponent.prototype, \"showLogoutDiv\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (this.isLogoutRoute) {\r\n                return this.hasLogoutDiv;\r\n            }\r\n            return this._showLogoutDiv;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._showLogoutDiv = value.toString() === 'true';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AuthFormComponent.prototype, \"showLoginDiv\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (!this.isLogoutRoute) {\r\n                return true;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthFormComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.analyzeRoute();\r\n        this.getName();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthFormComponent.prototype.login = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.auth.goToRedirectUrl();\r\n        this.getName();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthFormComponent.prototype.logout = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.auth.logout().subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.user = undefined;\r\n            if (_this.router) {\r\n                if (_this.options.logoutRoute) {\r\n                    _this.router.navigate([_this.options.logoutRoute]);\r\n                }\r\n                else if (_this.options.homeRoute) {\r\n                    _this.router.navigate([_this.options.homeRoute]);\r\n                }\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthFormComponent.prototype.home = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.router && this.options.homeRoute) {\r\n            this.router.navigate([this.options.homeRoute]);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    AuthFormComponent.prototype.getName = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.auth.decodeToken()) {\r\n            /** @type {?} */\r\n            var tokenDecoded = this.auth.decodeToken();\r\n            this.user = {\r\n                name: tokenDecoded.user.firstName || tokenDecoded.user.sourceId\r\n            };\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    AuthFormComponent.prototype.analyzeRoute = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (!this.router) {\r\n            return;\r\n        }\r\n        this.router.events\r\n            .pipe(filter((/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return event instanceof NavigationStart; })))\r\n            .subscribe((/**\r\n         * @param {?} changeEvent\r\n         * @return {?}\r\n         */\r\n        function (changeEvent) {\r\n            if (changeEvent.url) {\r\n                /** @type {?} */\r\n                var currentRoute = changeEvent.url;\r\n                /** @type {?} */\r\n                var logoutRoute = _this.options.logoutRoute;\r\n                /** @type {?} */\r\n                var loginRoute = _this.options.loginRoute;\r\n                _this.isLogoutRoute = currentRoute === logoutRoute;\r\n                _this.isLoginRoute = currentRoute === loginRoute;\r\n                if (_this.isLogoutRoute) {\r\n                    _this.auth.logout();\r\n                }\r\n            }\r\n        }));\r\n    };\r\n    AuthFormComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-auth-form',\r\n                    template: \"<div *ngIf=\\\"visible\\\">\\r\\n  <div *ngIf=\\\"!auth.logged && backgroundDisable\\\" class=\\\"backgroundDisable\\\"></div>\\r\\n\\r\\n  <div *ngIf=\\\"!auth.logged && showLoginDiv\\\" class=\\\"login center-block\\\">\\r\\n    <h1>{{'igo.auth.connection' | translate}}</h1>\\r\\n\\r\\n    <igo-auth-google\\r\\n      *ngIf=\\\"options.google && options.google.enabled !== false\\\"\\r\\n      (login)=\\\"login()\\\">\\r\\n    </igo-auth-google>\\r\\n    <igo-auth-facebook\\r\\n      *ngIf=\\\"options.facebook && options.facebook.enabled !== false\\\"\\r\\n      (login)=\\\"login()\\\">\\r\\n    </igo-auth-facebook>\\r\\n    <igo-auth-intern\\r\\n      *ngIf=\\\"!options.intern || options.intern.enabled !== false\\\"\\r\\n      [allowAnonymous]=\\\"options.allowAnonymous\\\"\\r\\n      (login)=\\\"login()\\\">\\r\\n    </igo-auth-intern>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"auth.logged && showAlreadyConnectedDiv\\\" class=\\\"login center-block\\\">\\r\\n    <p>{{'igo.auth.welcome' |\\u00A0translate: user}}</p>\\r\\n    <button mat-raised-button type=\\\"button\\\" (click)=\\\"logout()\\\">{{'igo.auth.signOut' |\\u00A0translate}}</button>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"showLogoutDiv\\\" class=\\\"login center-block\\\">\\r\\n    <p>{{'igo.auth.deconnection' |\\u00A0translate}}</p>\\r\\n    <button *ngIf=\\\"options.homeRoute\\\" mat-raised-button type=\\\"button\\\" (click)=\\\"home()\\\">{{'igo.auth.home' |\\u00A0translate}}</button>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.Default,\r\n                    styles: [\":host{z-index:999}div.login{z-index:200;width:90%;min-width:360px;max-width:600px;padding:25px 50px;border:1px solid #888;background-color:#fff}.center-block{position:fixed;top:20%;left:50%;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.backgroundDisable{position:fixed;top:0;left:0;background:#000;opacity:.8;z-index:100;height:100%;width:100%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    AuthFormComponent.ctorParameters = function () { return [\r\n        { type: AuthService },\r\n        { type: ConfigService },\r\n        { type: Router, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    AuthFormComponent.propDecorators = {\r\n        backgroundDisable: [{ type: Input }],\r\n        hasAlreadyConnectedDiv: [{ type: Input }],\r\n        hasLogoutDiv: [{ type: Input }],\r\n        showAlreadyConnectedDiv: [{ type: Input }],\r\n        showLogoutDiv: [{ type: Input }]\r\n    };\r\n    return AuthFormComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar AuthInternComponent = /** @class */ (function () {\r\n    function AuthInternComponent(auth, fb) {\r\n        this.auth = auth;\r\n        this._allowAnonymous = true;\r\n        this.error = '';\r\n        this.login = new EventEmitter();\r\n        this.form = fb.group({\r\n            username: ['', Validators.required],\r\n            password: ['', Validators.required]\r\n        });\r\n    }\r\n    Object.defineProperty(AuthInternComponent.prototype, \"allowAnonymous\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._allowAnonymous;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._allowAnonymous = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} values\r\n     * @return {?}\r\n     */\r\n    AuthInternComponent.prototype.loginUser = /**\r\n     * @param {?} values\r\n     * @return {?}\r\n     */\r\n    function (values) {\r\n        var _this = this;\r\n        this.auth.login(values.username, values.password).subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.login.emit(true);\r\n        }), (/**\r\n         * @param {?} error\r\n         * @return {?}\r\n         */\r\n        function (error) {\r\n            _this.error = error.error.message;\r\n        }));\r\n        return false;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthInternComponent.prototype.loginAnonymous = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.auth.loginAnonymous().subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.login.emit(true);\r\n        }));\r\n    };\r\n    AuthInternComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-auth-intern',\r\n                    template: \"<form [formGroup]=\\\"form\\\" role=\\\"form\\\" (ngSubmit)=\\\"loginUser(form.value)\\\">\\r\\n  <div>\\r\\n    <mat-form-field class=\\\"full-width\\\">\\r\\n      <input matInput required placeholder=\\\"{{'igo.auth.user' | translate}}\\\" formControlName=\\\"username\\\">\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div>\\r\\n    <mat-form-field class=\\\"full-width\\\">\\r\\n      <input matInput required type=\\\"password\\\" placeholder=\\\"{{'igo.auth.password' | translate}}\\\" formControlName=\\\"password\\\">\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <button mat-raised-button type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\">{{'igo.auth.login' | translate}}</button>\\r\\n  <button *ngIf=\\\"allowAnonymous\\\" mat-raised-button type=\\\"button\\\" (click)=\\\"loginAnonymous()\\\">{{'igo.auth.accessAnonymous' | translate }}</button>\\r\\n  <div *ngIf=\\\"error\\\">\\r\\n    <br/>\\r\\n    <font size=\\\"3\\\" color=\\\"red\\\">{{error}}</font>\\r\\n  </div>\\r\\n</form>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.Default,\r\n                    styles: [\".full-width{width:100%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    AuthInternComponent.ctorParameters = function () { return [\r\n        { type: AuthService },\r\n        { type: FormBuilder }\r\n    ]; };\r\n    AuthInternComponent.propDecorators = {\r\n        allowAnonymous: [{ type: Input }],\r\n        login: [{ type: Output }]\r\n    };\r\n    return AuthInternComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar AuthFacebookComponent = /** @class */ (function () {\r\n    function AuthFacebookComponent(authService, config, appRef) {\r\n        this.authService = authService;\r\n        this.config = config;\r\n        this.appRef = appRef;\r\n        this.login = new EventEmitter();\r\n        this.options = this.config.getConfig('auth.facebook') || {};\r\n        if (this.options.apiKey) {\r\n            this.loadSDKFacebook();\r\n        }\r\n    }\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    AuthFacebookComponent.prototype.subscribeEvents = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        ((/** @type {?} */ (window))).FB.Event.subscribe('auth.statusChange', (/**\r\n         * @param {?} rep\r\n         * @return {?}\r\n         */\r\n        function (rep) {\r\n            _this.statusChangeCallback(rep);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    AuthFacebookComponent.prototype.statusChangeCallback = /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    function (response) {\r\n        if (response.status === 'connected') {\r\n            /** @type {?} */\r\n            var accessToken = response.authResponse.accessToken;\r\n            this.loginFacebook(accessToken);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} token\r\n     * @return {?}\r\n     */\r\n    AuthFacebookComponent.prototype.loginFacebook = /**\r\n     * @private\r\n     * @param {?} token\r\n     * @return {?}\r\n     */\r\n    function (token) {\r\n        var _this = this;\r\n        this.authService.loginWithToken(token, 'facebook').subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.appRef.tick();\r\n            _this.login.emit(true);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    AuthFacebookComponent.prototype.loadSDKFacebook = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (document.getElementById('facebook-jssdk')) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var urlSDK = 'https://connect.facebook.net/fr_CA/sdk.js#xfbml=1&version=v2.9';\r\n        /** @type {?} */\r\n        var fjs = document.getElementsByTagName('script')[0];\r\n        /** @type {?} */\r\n        var js = document.createElement('script');\r\n        js.id = 'facebook-jssdk';\r\n        js.src = urlSDK + \"&appId=\" + this.options.apiKey;\r\n        js.onload = (/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.subscribeEvents();\r\n        });\r\n        fjs.parentNode.insertBefore(js, fjs);\r\n    };\r\n    AuthFacebookComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-auth-facebook',\r\n                    template: \"<div scope=\\\"public_profile,email\\\"\\r\\n     class=\\\"fb-login-button\\\" data-max-rows=\\\"1\\\" data-size=\\\"large\\\"\\r\\n     data-button-type=\\\"continue_with\\\" data-show-faces=\\\"false\\\"\\r\\n     data-auto-logout-link=\\\"false\\\" data-use-continue-as=\\\"false\\\">\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\".fb-login-button{padding:10px 0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    AuthFacebookComponent.ctorParameters = function () { return [\r\n        { type: AuthService },\r\n        { type: ConfigService },\r\n        { type: ApplicationRef }\r\n    ]; };\r\n    AuthFacebookComponent.propDecorators = {\r\n        login: [{ type: Output }]\r\n    };\r\n    return AuthFacebookComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar AuthGoogleComponent = /** @class */ (function () {\r\n    function AuthGoogleComponent(authService, config, appRef) {\r\n        this.authService = authService;\r\n        this.config = config;\r\n        this.appRef = appRef;\r\n        this.login = new EventEmitter();\r\n        this.options = this.config.getConfig('auth.google') || {};\r\n        if (this.options.apiKey && this.options.clientId) {\r\n            this.loadSDKGoogle();\r\n            this.loadPlatform();\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthGoogleComponent.prototype.handleSignInClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        ((/** @type {?} */ (window))).gapi.auth2.getAuthInstance().signIn();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    AuthGoogleComponent.prototype.handleSignOutClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        ((/** @type {?} */ (window))).gapi.auth2.getAuthInstance().signOut();\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    AuthGoogleComponent.prototype.handleClientLoad = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        ((/** @type {?} */ (window))).gapi.load('client:auth2', (/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.initClient(); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    AuthGoogleComponent.prototype.initClient = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        ((/** @type {?} */ (window))).gapi.client\r\n            .init({\r\n            apiKey: this.options.apiKey,\r\n            clientId: this.options.clientId,\r\n            discoveryDocs: [\r\n                'https://people.googleapis.com/$discovery/rest?version=v1'\r\n            ],\r\n            scope: 'profile'\r\n        })\r\n            .then((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.handleSignOutClick();\r\n            ((/** @type {?} */ (window))).gapi.auth2.getAuthInstance().isSignedIn.listen((/**\r\n             * @param {?} rep\r\n             * @return {?}\r\n             */\r\n            function (rep) {\r\n                _this.updateSigninStatus(rep);\r\n            }));\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} isSignedIn\r\n     * @return {?}\r\n     */\r\n    AuthGoogleComponent.prototype.updateSigninStatus = /**\r\n     * @private\r\n     * @param {?} isSignedIn\r\n     * @return {?}\r\n     */\r\n    function (isSignedIn) {\r\n        if (isSignedIn) {\r\n            this.loginGoogle(((/** @type {?} */ (window))).gapi.client.getToken().access_token);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} token\r\n     * @return {?}\r\n     */\r\n    AuthGoogleComponent.prototype.loginGoogle = /**\r\n     * @private\r\n     * @param {?} token\r\n     * @return {?}\r\n     */\r\n    function (token) {\r\n        var _this = this;\r\n        this.authService.loginWithToken(token, 'google').subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.appRef.tick();\r\n            _this.login.emit(true);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    AuthGoogleComponent.prototype.loadSDKGoogle = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var fjs = document.getElementsByTagName('script')[0];\r\n        /** @type {?} */\r\n        var js = document.createElement('script');\r\n        js.id = 'google-jssdk';\r\n        js.src = 'https://apis.google.com/js/api.js';\r\n        js.onload = (/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.handleClientLoad();\r\n        });\r\n        fjs.parentNode.insertBefore(js, fjs);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    AuthGoogleComponent.prototype.loadPlatform = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var fjs = document.getElementsByTagName('script')[0];\r\n        /** @type {?} */\r\n        var js = document.createElement('script');\r\n        js.id = 'google-platform';\r\n        js.src = 'https://apis.google.com/js/platform.js';\r\n        fjs.parentNode.insertBefore(js, fjs);\r\n    };\r\n    AuthGoogleComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-auth-google',\r\n                    template: \"<div class=\\\"g-signin2 google-login-button\\\" data-height=\\\"40\\\" data-width=\\\"265\\\" data-longtitle=\\\"true\\\">\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\".google-login-button{padding:10px 0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    AuthGoogleComponent.ctorParameters = function () { return [\r\n        { type: AuthService },\r\n        { type: ConfigService },\r\n        { type: ApplicationRef }\r\n    ]; };\r\n    AuthGoogleComponent.propDecorators = {\r\n        login: [{ type: Output }]\r\n    };\r\n    return AuthGoogleComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LoggedGuard = /** @class */ (function () {\r\n    function LoggedGuard(authService, config, router) {\r\n        this.authService = authService;\r\n        this.config = config;\r\n        this.router = router;\r\n    }\r\n    /**\r\n     * @param {?} route\r\n     * @param {?} state\r\n     * @return {?}\r\n     */\r\n    LoggedGuard.prototype.canActivate = /**\r\n     * @param {?} route\r\n     * @param {?} state\r\n     * @return {?}\r\n     */\r\n    function (route, state) {\r\n        if (this.authService.logged) {\r\n            return true;\r\n        }\r\n        this.authService.redirectUrl = state.url;\r\n        /** @type {?} */\r\n        var authConfig = this.config.getConfig('auth');\r\n        if (authConfig && authConfig.loginRoute) {\r\n            this.router.navigateByUrl(authConfig.loginRoute);\r\n        }\r\n        return false;\r\n    };\r\n    LoggedGuard.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    LoggedGuard.ctorParameters = function () { return [\r\n        { type: AuthService },\r\n        { type: ConfigService },\r\n        { type: Router }\r\n    ]; };\r\n    /** @nocollapse */ LoggedGuard.ngInjectableDef = defineInjectable({ factory: function LoggedGuard_Factory() { return new LoggedGuard(inject(AuthService), inject(ConfigService), inject(Router)); }, token: LoggedGuard, providedIn: \"root\" });\r\n    return LoggedGuard;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar AuthGuard = /** @class */ (function () {\r\n    function AuthGuard(authService, config, router) {\r\n        this.authService = authService;\r\n        this.config = config;\r\n        this.router = router;\r\n    }\r\n    /**\r\n     * @param {?} route\r\n     * @param {?} state\r\n     * @return {?}\r\n     */\r\n    AuthGuard.prototype.canActivate = /**\r\n     * @param {?} route\r\n     * @param {?} state\r\n     * @return {?}\r\n     */\r\n    function (route, state) {\r\n        if (this.authService.authenticated) {\r\n            return true;\r\n        }\r\n        this.authService.redirectUrl = state.url;\r\n        /** @type {?} */\r\n        var authConfig = this.config.getConfig('auth');\r\n        if (authConfig && authConfig.loginRoute) {\r\n            this.router.navigateByUrl(authConfig.loginRoute);\r\n        }\r\n        return false;\r\n    };\r\n    AuthGuard.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    AuthGuard.ctorParameters = function () { return [\r\n        { type: AuthService },\r\n        { type: ConfigService },\r\n        { type: Router }\r\n    ]; };\r\n    /** @nocollapse */ AuthGuard.ngInjectableDef = defineInjectable({ factory: function AuthGuard_Factory() { return new AuthGuard(inject(AuthService), inject(ConfigService), inject(Router)); }, token: AuthGuard, providedIn: \"root\" });\r\n    return AuthGuard;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar AdminGuard = /** @class */ (function () {\r\n    function AdminGuard(authService, config, router) {\r\n        this.authService = authService;\r\n        this.config = config;\r\n        this.router = router;\r\n    }\r\n    /**\r\n     * @param {?} route\r\n     * @param {?} state\r\n     * @return {?}\r\n     */\r\n    AdminGuard.prototype.canActivate = /**\r\n     * @param {?} route\r\n     * @param {?} state\r\n     * @return {?}\r\n     */\r\n    function (route, state) {\r\n        /** @type {?} */\r\n        var token = this.authService.decodeToken();\r\n        if (token && token.user && token.user.isAdmin) {\r\n            return true;\r\n        }\r\n        this.authService.redirectUrl = state.url;\r\n        /** @type {?} */\r\n        var authConfig = this.config.getConfig('auth');\r\n        if (authConfig && authConfig.loginRoute) {\r\n            this.router.navigateByUrl(authConfig.loginRoute);\r\n        }\r\n        return false;\r\n    };\r\n    AdminGuard.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    AdminGuard.ctorParameters = function () { return [\r\n        { type: AuthService },\r\n        { type: ConfigService },\r\n        { type: Router }\r\n    ]; };\r\n    /** @nocollapse */ AdminGuard.ngInjectableDef = defineInjectable({ factory: function AdminGuard_Factory() { return new AdminGuard(inject(AuthService), inject(ConfigService), inject(Router)); }, token: AdminGuard, providedIn: \"root\" });\r\n    return AdminGuard;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ProfilsGuard = /** @class */ (function () {\r\n    function ProfilsGuard(authService, config, router) {\r\n        this.authService = authService;\r\n        this.config = config;\r\n        this.router = router;\r\n    }\r\n    /**\r\n     * @param {?} route\r\n     * @param {?} state\r\n     * @return {?}\r\n     */\r\n    ProfilsGuard.prototype.canActivate = /**\r\n     * @param {?} route\r\n     * @param {?} state\r\n     * @return {?}\r\n     */\r\n    function (route, state) {\r\n        var _this = this;\r\n        return this.authService.getProfils().pipe(map((/**\r\n         * @param {?} profils\r\n         * @return {?}\r\n         */\r\n        function (profils) {\r\n            /** @type {?} */\r\n            var authConfig = _this.config.getConfig('auth');\r\n            if (profils &&\r\n                profils.some((/**\r\n                 * @param {?} v\r\n                 * @return {?}\r\n                 */\r\n                function (v) { return authConfig.profilsGuard.indexOf(v) !== -1; }))) {\r\n                return true;\r\n            }\r\n            _this.authService.redirectUrl = state.url;\r\n            if (authConfig && authConfig.loginRoute) {\r\n                _this.router.navigateByUrl(authConfig.loginRoute);\r\n            }\r\n            return false;\r\n        })));\r\n    };\r\n    ProfilsGuard.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ProfilsGuard.ctorParameters = function () { return [\r\n        { type: AuthService },\r\n        { type: ConfigService },\r\n        { type: Router }\r\n    ]; };\r\n    /** @nocollapse */ ProfilsGuard.ngInjectableDef = defineInjectable({ factory: function ProfilsGuard_Factory() { return new ProfilsGuard(inject(AuthService), inject(ConfigService), inject(Router)); }, token: ProfilsGuard, providedIn: \"root\" });\r\n    return ProfilsGuard;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar AuthInterceptor = /** @class */ (function () {\r\n    function AuthInterceptor(config, tokenService) {\r\n        this.config = config;\r\n        this.tokenService = tokenService;\r\n        this.trustHosts = [];\r\n        this.trustHosts = this.config.getConfig('auth.trustHosts') || [];\r\n        this.trustHosts.push(window.location.hostname);\r\n    }\r\n    /**\r\n     * @param {?} req\r\n     * @param {?} next\r\n     * @return {?}\r\n     */\r\n    AuthInterceptor.prototype.intercept = /**\r\n     * @param {?} req\r\n     * @param {?} next\r\n     * @return {?}\r\n     */\r\n    function (req, next) {\r\n        /** @type {?} */\r\n        var token = this.tokenService.get();\r\n        /** @type {?} */\r\n        var element = document.createElement('a');\r\n        element.href = req.url;\r\n        if (!token && this.trustHosts.indexOf(element.hostname) === -1) {\r\n            return next.handle(req);\r\n        }\r\n        /** @type {?} */\r\n        var authHeader = \"Bearer \" + token;\r\n        /** @type {?} */\r\n        var authReq = req.clone({\r\n            headers: req.headers.set('Authorization', authHeader)\r\n        });\r\n        return next.handle(authReq);\r\n    };\r\n    AuthInterceptor.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    AuthInterceptor.ctorParameters = function () { return [\r\n        { type: ConfigService },\r\n        { type: TokenService }\r\n    ]; };\r\n    /** @nocollapse */ AuthInterceptor.ngInjectableDef = defineInjectable({ factory: function AuthInterceptor_Factory() { return new AuthInterceptor(inject(ConfigService), inject(TokenService)); }, token: AuthInterceptor, providedIn: \"root\" });\r\n    return AuthInterceptor;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ProtectedDirective = /** @class */ (function () {\r\n    function ProtectedDirective(authentication, el) {\r\n        if (!authentication.isAuthenticated()) {\r\n            el.nativeElement.parentNode.removeChild(el.nativeElement);\r\n        }\r\n    }\r\n    ProtectedDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoProtected]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ProtectedDirective.ctorParameters = function () { return [\r\n        { type: AuthService },\r\n        { type: ElementRef }\r\n    ]; };\r\n    return ProtectedDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar routes = [\r\n    { path: 'login', component: AuthFormComponent },\r\n    { path: 'logout', component: AuthFormComponent }\r\n];\r\nvar AuthRoutingModule = /** @class */ (function () {\r\n    function AuthRoutingModule() {\r\n    }\r\n    AuthRoutingModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [RouterModule.forChild(routes)],\r\n                    exports: [RouterModule],\r\n                    providers: []\r\n                },] }\r\n    ];\r\n    return AuthRoutingModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAuthModule = /** @class */ (function () {\r\n    function IgoAuthModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoAuthModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoAuthModule,\r\n            providers: [\r\n                {\r\n                    provide: HTTP_INTERCEPTORS,\r\n                    useClass: AuthInterceptor,\r\n                    multi: true\r\n                }\r\n            ]\r\n        };\r\n    };\r\n    IgoAuthModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        ReactiveFormsModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatButtonModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    declarations: [\r\n                        AuthFormComponent,\r\n                        AuthGoogleComponent,\r\n                        AuthInternComponent,\r\n                        AuthFacebookComponent,\r\n                        ProtectedDirective\r\n                    ],\r\n                    exports: [AuthFormComponent, ProtectedDirective]\r\n                },] }\r\n    ];\r\n    return IgoAuthModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { AuthFormComponent, AuthService, LoggedGuard, AuthGuard, AdminGuard, ProfilsGuard, AuthInterceptor, ProtectedDirective, TokenService, AuthRoutingModule, IgoAuthModule, AuthFacebookComponent as ɵd, AuthFormComponent as ɵa, AuthGoogleComponent as ɵb, AuthInternComponent as ɵc };\n\n//# sourceMappingURL=igo2-auth.js.map","import { TemplatePortal } from '@angular/cdk/portal';\nimport { Overlay } from '@angular/cdk/overlay';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport t from 'typy';\nimport { HttpClient } from '@angular/common/http';\nimport { FormsModule, ReactiveFormsModule, FormBuilder } from '@angular/forms';\nimport { IgoLanguageModule, MediaService, ActivityService } from '@igo2/core';\nimport { MatButtonModule, MatIconModule, MatTooltipModule, MatListModule, MatMenuModule, MatCardModule, MatDialogRef, MatDialog, MatDialogModule, MatInputModule, MatFormFieldModule, MatSelectModule, MatTableModule, MatSortModule, MatCheckboxModule, MatSidenav, MatProgressSpinnerModule, MatSort } from '@angular/material';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { DataSource, CdkTableModule } from '@angular/cdk/table';\nimport { ObjectUtils } from '@igo2/utils';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { CommonModule } from '@angular/common';\nimport { Component, Input, Output, EventEmitter, ChangeDetectionStrategy, ChangeDetectorRef, HostBinding, NgModule, Directive, ElementRef, HostListener, Pipe, Renderer2, Injectable, ViewContainerRef, ComponentFactoryResolver, Self, ViewChild, ContentChildren, defineInjectable, inject } from '@angular/core';\nimport { ReplaySubject, BehaviorSubject, combineLatest, of, fromEvent, Observable, merge, Subject } from 'rxjs';\nimport { debounceTime, map, skip, catchError, tap, filter, take, switchMap, distinctUntilChanged } from 'rxjs/operators';\nimport { __values, __decorate, __spread, __extends, __read } from 'tslib';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar EntityOperationType = {\r\n    Insert: 'Insert',\r\n    Update: 'Update',\r\n    Delete: 'Delete',\r\n};\r\n/** @enum {string} */\r\nvar EntityTableColumnRenderer = {\r\n    Default: 'Default',\r\n    HTML: 'HTML',\r\n    UnsanitizedHTML: 'UnsanitizedHTML',\r\n    Icon: 'Icon',\r\n    ButtonGroup: 'ButtonGroup',\r\n};\r\n/** @enum {string} */\r\nvar EntityTableScrollBehavior = {\r\n    Auto: 'auto',\r\n    Instant: 'instant',\r\n    Smooth: 'smooth',\r\n};\r\n/** @enum {string} */\r\nvar EntityTableSelectionState = {\r\n    None: 'None',\r\n    All: 'All',\r\n    Some: 'Some',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Get an entity's named property. Nested properties are supported\r\n * with the dotted notation. (i.e 'author.name')\r\n *\r\n * Note: this method is a 'best attempt' at getting an entity's property.\r\n * It fits the most common cases but you might need to explicitely define\r\n * a property getter when using an EntityStore, for example.\r\n * @param {?} entity Entity\r\n * @param {?} property Property name\r\n * @return {?} Property value\r\n */\r\nfunction getEntityProperty(entity, property) {\r\n    return t(entity, property).safeObject;\r\n}\r\n/**\r\n * Get an entity's id. An entity's id can be one of:\r\n * 'entity.meta.id', 'entity.meta.idProperty' or 'entity.id'.\r\n *\r\n * Note: See the note in the 'getEntityProperty' documentation.\r\n * @param {?} entity Entity\r\n * @return {?} Entity id\r\n */\r\nfunction getEntityId(entity) {\r\n    /** @type {?} */\r\n    var meta = ((/** @type {?} */ (entity))).meta || {};\r\n    return meta.id ? meta.id : getEntityProperty(entity, meta.idProperty || 'id');\r\n}\r\n/**\r\n * Get an entity's title. An entity's title can be one of:\r\n * 'entity.meta.title', 'entity.meta.titleProperty' or 'entity.title'.\r\n * @param {?} entity Entity\r\n * @return {?} Entity title\r\n */\r\nfunction getEntityTitle(entity) {\r\n    /** @type {?} */\r\n    var meta = ((/** @type {?} */ (entity))).meta || {};\r\n    return meta.title ? meta.title : getEntityProperty(entity, meta.titleProperty || 'title');\r\n}\r\n/**\r\n * Get an entity's HTML title. An entity's HTML title can be one of:\r\n * 'entity.meta.titleHtml', 'entity.meta.titleHtmlProperty' or 'entity.titleHtml'.\r\n * @param {?} entity Entity\r\n * @return {?} Entity HTML title\r\n */\r\nfunction getEntityTitleHtml(entity) {\r\n    /** @type {?} */\r\n    var meta = ((/** @type {?} */ (entity))).meta || {};\r\n    return meta.titleHtml ? meta.titleHtml : getEntityProperty(entity, meta.titleHtmlProperty || 'titleHtml');\r\n}\r\n/**\r\n * Get an entity's icon. An entity's icon can be one of:\r\n * 'entity.meta.icon', 'entity.meta.iconProperty' or 'entity.icon'.\r\n * @param {?} entity Entity\r\n * @return {?} Entity icon\r\n */\r\nfunction getEntityIcon(entity) {\r\n    /** @type {?} */\r\n    var meta = ((/** @type {?} */ (entity))).meta || {};\r\n    return meta.icon ? meta.icon : getEntityProperty(entity, meta.iconProperty || 'icon');\r\n}\r\n/**\r\n * Get an entity's revision.\r\n * @param {?} entity Entity\r\n * @return {?} Entity revision\r\n */\r\nfunction getEntityRevision(entity) {\r\n    /** @type {?} */\r\n    var meta = ((/** @type {?} */ (entity))).meta || {};\r\n    return meta.revision || 0;\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This class is used to track a store's entities state\r\n * @template E, S\r\n */\r\nvar  /**\r\n * This class is used to track a store's entities state\r\n * @template E, S\r\n */\r\nEntityStateManager = /** @class */ (function () {\r\n    function EntityStateManager(options) {\r\n        if (options === void 0) { options = {}; }\r\n        /**\r\n         * State index\r\n         */\r\n        this.index = new Map();\r\n        /**\r\n         * Change emitter\r\n         */\r\n        this.change$ = new ReplaySubject(1);\r\n        this.store = options.store ? options.store : undefined;\r\n        this.getKey = options.getKey\r\n            ? options.getKey\r\n            : (this.store ? this.store.getKey : getEntityId);\r\n        this.next();\r\n    }\r\n    /**\r\n     * Clear state\r\n     */\r\n    /**\r\n     * Clear state\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.clear = /**\r\n     * Clear state\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.index.size > 0) {\r\n            this.index.clear();\r\n            this.next();\r\n        }\r\n    };\r\n    /**\r\n     * Get an entity's state\r\n     * @param entity Entity\r\n     * @returns State\r\n     */\r\n    /**\r\n     * Get an entity's state\r\n     * @param {?} entity Entity\r\n     * @return {?} State\r\n     */\r\n    EntityStateManager.prototype.get = /**\r\n     * Get an entity's state\r\n     * @param {?} entity Entity\r\n     * @return {?} State\r\n     */\r\n    function (entity) {\r\n        return (/** @type {?} */ ((this.index.get(this.getKey(entity)) || {})));\r\n    };\r\n    /**\r\n     * Set an entity's state\r\n     * @param entity Entity\r\n     * @param state State\r\n     */\r\n    /**\r\n     * Set an entity's state\r\n     * @param {?} entity Entity\r\n     * @param {?} state State\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.set = /**\r\n     * Set an entity's state\r\n     * @param {?} entity Entity\r\n     * @param {?} state State\r\n     * @return {?}\r\n     */\r\n    function (entity, state$$1) {\r\n        this.setMany([entity], state$$1);\r\n    };\r\n    /**\r\n     * Set many entitie's state\r\n     * @param entitie Entities\r\n     * @param state State\r\n     */\r\n    /**\r\n     * Set many entitie's state\r\n     * @param {?} entities\r\n     * @param {?} state State\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.setMany = /**\r\n     * Set many entitie's state\r\n     * @param {?} entities\r\n     * @param {?} state State\r\n     * @return {?}\r\n     */\r\n    function (entities, state$$1) {\r\n        var _this = this;\r\n        entities.forEach((/**\r\n         * @param {?} entity\r\n         * @return {?}\r\n         */\r\n        function (entity) {\r\n            _this.index.set(_this.getKey(entity), Object.assign({}, state$$1));\r\n        }));\r\n        this.next();\r\n    };\r\n    /**\r\n     * Set state of all entities that already have a state. This is not\r\n     * the same as setting the state of all the store's entities.\r\n     * @param state State\r\n     */\r\n    /**\r\n     * Set state of all entities that already have a state. This is not\r\n     * the same as setting the state of all the store's entities.\r\n     * @param {?} state State\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.setAll = /**\r\n     * Set state of all entities that already have a state. This is not\r\n     * the same as setting the state of all the store's entities.\r\n     * @param {?} state State\r\n     * @return {?}\r\n     */\r\n    function (state$$1) {\r\n        var _this = this;\r\n        Array.from(this.index.keys()).forEach((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        function (key) {\r\n            _this.index.set(key, Object.assign({}, state$$1));\r\n        }));\r\n        this.next();\r\n    };\r\n    /**\r\n     * Update an entity's state\r\n     * @param entity Entity\r\n     * @param changes State changes\r\n     */\r\n    /**\r\n     * Update an entity's state\r\n     * @param {?} entity Entity\r\n     * @param {?} changes State changes\r\n     * @param {?=} exclusive\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.update = /**\r\n     * Update an entity's state\r\n     * @param {?} entity Entity\r\n     * @param {?} changes State changes\r\n     * @param {?=} exclusive\r\n     * @return {?}\r\n     */\r\n    function (entity, changes, exclusive) {\r\n        if (exclusive === void 0) { exclusive = false; }\r\n        this.updateMany([entity], changes, exclusive);\r\n    };\r\n    /**\r\n     * Update many entitie's state\r\n     * @param entitie Entities\r\n     * @param changes State changes\r\n     */\r\n    /**\r\n     * Update many entitie's state\r\n     * @param {?} entities\r\n     * @param {?} changes State changes\r\n     * @param {?=} exclusive\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.updateMany = /**\r\n     * Update many entitie's state\r\n     * @param {?} entities\r\n     * @param {?} changes State changes\r\n     * @param {?=} exclusive\r\n     * @return {?}\r\n     */\r\n    function (entities, changes, exclusive) {\r\n        var _this = this;\r\n        if (exclusive === void 0) { exclusive = false; }\r\n        if (exclusive === true) {\r\n            return this.updateManyExclusive(entities, changes);\r\n        }\r\n        entities.forEach((/**\r\n         * @param {?} entity\r\n         * @return {?}\r\n         */\r\n        function (entity) {\r\n            /** @type {?} */\r\n            var state$$1 = Object.assign({}, _this.get(entity), changes);\r\n            _this.index.set(_this.getKey(entity), state$$1);\r\n        }));\r\n        this.next();\r\n    };\r\n    /**\r\n     * Reversee an entity's state\r\n     * @param entity Entity\r\n     * @param keys State keys to reverse\r\n     */\r\n    /**\r\n     * Reversee an entity's state\r\n     * @param {?} entity Entity\r\n     * @param {?} keys State keys to reverse\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.reverse = /**\r\n     * Reversee an entity's state\r\n     * @param {?} entity Entity\r\n     * @param {?} keys State keys to reverse\r\n     * @return {?}\r\n     */\r\n    function (entity, keys) {\r\n        this.reverseMany([entity], keys);\r\n    };\r\n    /**\r\n     * Reverse many entitie's state\r\n     * @param entitie Entities\r\n     * @param keys State keys to reverse\r\n     */\r\n    /**\r\n     * Reverse many entitie's state\r\n     * @param {?} entities\r\n     * @param {?} keys State keys to reverse\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.reverseMany = /**\r\n     * Reverse many entitie's state\r\n     * @param {?} entities\r\n     * @param {?} keys State keys to reverse\r\n     * @return {?}\r\n     */\r\n    function (entities, keys) {\r\n        var _this = this;\r\n        entities.forEach((/**\r\n         * @param {?} entity\r\n         * @return {?}\r\n         */\r\n        function (entity) {\r\n            /** @type {?} */\r\n            var currentState = _this.get(entity);\r\n            /** @type {?} */\r\n            var changes = keys.reduce((/**\r\n             * @param {?} acc\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (acc, key) {\r\n                acc[key] = currentState[key] || false;\r\n                return acc;\r\n            }), {});\r\n            /** @type {?} */\r\n            var reversedChanges = _this.reverseChanges(changes);\r\n            /** @type {?} */\r\n            var state$$1 = Object.assign({}, currentState, reversedChanges);\r\n            _this.index.set(_this.getKey(entity), state$$1);\r\n        }));\r\n        this.next();\r\n    };\r\n    /**\r\n     * Update state of all entities that already have a state. This is not\r\n     * the same as updating the state of all the store's entities.\r\n     * @param changes State\r\n     */\r\n    /**\r\n     * Update state of all entities that already have a state. This is not\r\n     * the same as updating the state of all the store's entities.\r\n     * @param {?} changes State\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.updateAll = /**\r\n     * Update state of all entities that already have a state. This is not\r\n     * the same as updating the state of all the store's entities.\r\n     * @param {?} changes State\r\n     * @return {?}\r\n     */\r\n    function (changes) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var allKeys = this.getAllKeys();\r\n        Array.from(allKeys).forEach((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        function (key) {\r\n            /** @type {?} */\r\n            var state$$1 = Object.assign({}, _this.index.get(key), changes);\r\n            _this.index.set(key, state$$1);\r\n        }));\r\n        this.next();\r\n    };\r\n    /**\r\n     * When some state changes are flagged as 'exclusive', reverse\r\n     * the state of all other entities. Changes are reversable when\r\n     * they are boolean.\r\n     * @param entitie Entities\r\n     * @param changes State changes\r\n     */\r\n    /**\r\n     * When some state changes are flagged as 'exclusive', reverse\r\n     * the state of all other entities. Changes are reversable when\r\n     * they are boolean.\r\n     * @private\r\n     * @param {?} entities\r\n     * @param {?} changes State changes\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.updateManyExclusive = /**\r\n     * When some state changes are flagged as 'exclusive', reverse\r\n     * the state of all other entities. Changes are reversable when\r\n     * they are boolean.\r\n     * @private\r\n     * @param {?} entities\r\n     * @param {?} changes State changes\r\n     * @return {?}\r\n     */\r\n    function (entities, changes) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var reverseChanges = this.reverseChanges(changes);\r\n        /** @type {?} */\r\n        var keys = entities.map((/**\r\n         * @param {?} entity\r\n         * @return {?}\r\n         */\r\n        function (entity) { return _this.getKey(entity); }));\r\n        /** @type {?} */\r\n        var allKeys = new Set(keys.concat(Array.from(this.getAllKeys())));\r\n        allKeys.forEach((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        function (key) {\r\n            /** @type {?} */\r\n            var state$$1 = _this.index.get(key) || (/** @type {?} */ ({}));\r\n            if (keys.indexOf(key) >= 0) {\r\n                _this.index.set(key, Object.assign({}, state$$1, changes));\r\n            }\r\n            else {\r\n                _this.index.set(key, Object.assign({}, state$$1, reverseChanges));\r\n            }\r\n        }));\r\n        this.next();\r\n    };\r\n    /**\r\n     * Compute a 'reversed' version of some state changes.\r\n     * Changes are reversable when they are boolean.\r\n     * @param changes State changes\r\n     * @returns Reversed state changes\r\n     */\r\n    /**\r\n     * Compute a 'reversed' version of some state changes.\r\n     * Changes are reversable when they are boolean.\r\n     * @private\r\n     * @param {?} changes State changes\r\n     * @return {?} Reversed state changes\r\n     */\r\n    EntityStateManager.prototype.reverseChanges = /**\r\n     * Compute a 'reversed' version of some state changes.\r\n     * Changes are reversable when they are boolean.\r\n     * @private\r\n     * @param {?} changes State changes\r\n     * @return {?} Reversed state changes\r\n     */\r\n    function (changes) {\r\n        return Object.entries(changes).reduce((/**\r\n         * @param {?} reverseChanges\r\n         * @param {?} bunch\r\n         * @return {?}\r\n         */\r\n        function (reverseChanges, bunch) {\r\n            var _a = __read(bunch, 2), changeKey = _a[0], value = _a[1];\r\n            if (typeof value === typeof true) {\r\n                reverseChanges[changeKey] = !value;\r\n            }\r\n            return reverseChanges;\r\n        }), {});\r\n    };\r\n    /**\r\n     * Return all the keys in that state and in the store it's bound to, if any.\r\n     * @returns Set of keys\r\n     */\r\n    /**\r\n     * Return all the keys in that state and in the store it's bound to, if any.\r\n     * @private\r\n     * @return {?} Set of keys\r\n     */\r\n    EntityStateManager.prototype.getAllKeys = /**\r\n     * Return all the keys in that state and in the store it's bound to, if any.\r\n     * @private\r\n     * @return {?} Set of keys\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var storeKeys = this.store ? Array.from(this.store.index.keys()) : [];\r\n        return new Set(Array.from(this.index.keys()).concat(storeKeys));\r\n    };\r\n    /**\r\n     * Emit 'change' event\r\n     */\r\n    /**\r\n     * Emit 'change' event\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EntityStateManager.prototype.next = /**\r\n     * Emit 'change' event\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.change$.next();\r\n    };\r\n    return EntityStateManager;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * An entity view streams entities from an observable source. These entities\r\n * can be filtered or sorted without affecting the source. A view can also\r\n * combine data from multiple sources, joined together.\r\n * @template E, V\r\n */\r\nvar  /**\r\n * An entity view streams entities from an observable source. These entities\r\n * can be filtered or sorted without affecting the source. A view can also\r\n * combine data from multiple sources, joined together.\r\n * @template E, V\r\n */\r\nEntityView = /** @class */ (function () {\r\n    function EntityView(source$) {\r\n        this.source$ = source$;\r\n        /**\r\n         * Observable stream of values\r\n         */\r\n        this.values$ = new BehaviorSubject([]);\r\n        /**\r\n         * Whether this view has been lifted\r\n         */\r\n        this.lifted = false;\r\n        /**\r\n         * Join clauses\r\n         */\r\n        this.joins = [];\r\n        /**\r\n         * Observable of a filter clause\r\n         */\r\n        this.filter$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Observable of a sort clause\r\n         */\r\n        this.sort$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Number of entities\r\n         */\r\n        this.count$ = new BehaviorSubject(0);\r\n        /**\r\n         * Whether the store is empty\r\n         */\r\n        this.empty$ = new BehaviorSubject(true);\r\n    }\r\n    Object.defineProperty(EntityView.prototype, \"count\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.count$.value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EntityView.prototype, \"empty\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.empty$.value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Get all the values\r\n     * @returns Array of values\r\n     */\r\n    /**\r\n     * Get all the values\r\n     * @return {?} Array of values\r\n     */\r\n    EntityView.prototype.all = /**\r\n     * Get all the values\r\n     * @return {?} Array of values\r\n     */\r\n    function () {\r\n        return this.values$.value;\r\n    };\r\n    /**\r\n     * Observe all the values\r\n     * @returns Observable of values\r\n     */\r\n    /**\r\n     * Observe all the values\r\n     * @return {?} Observable of values\r\n     */\r\n    EntityView.prototype.all$ = /**\r\n     * Observe all the values\r\n     * @return {?} Observable of values\r\n     */\r\n    function () {\r\n        return this.values$;\r\n    };\r\n    /**\r\n     * Get the first value that respects a criteria\r\n     * @returns A value\r\n     */\r\n    /**\r\n     * Get the first value that respects a criteria\r\n     * @param {?} clause\r\n     * @return {?} A value\r\n     */\r\n    EntityView.prototype.firstBy = /**\r\n     * Get the first value that respects a criteria\r\n     * @param {?} clause\r\n     * @return {?} A value\r\n     */\r\n    function (clause) {\r\n        return this.values$.value.find(clause);\r\n    };\r\n    /**\r\n     * Observe the first value that respects a criteria\r\n     * @returns Observable of a value\r\n     */\r\n    /**\r\n     * Observe the first value that respects a criteria\r\n     * @param {?} clause\r\n     * @return {?} Observable of a value\r\n     */\r\n    EntityView.prototype.firstBy$ = /**\r\n     * Observe the first value that respects a criteria\r\n     * @param {?} clause\r\n     * @return {?} Observable of a value\r\n     */\r\n    function (clause) {\r\n        return this.values$.pipe(map((/**\r\n         * @param {?} values\r\n         * @return {?}\r\n         */\r\n        function (values) { return values.find(clause); })));\r\n    };\r\n    /**\r\n     * Get all the values that respect a criteria\r\n     * @returns Array of values\r\n     */\r\n    /**\r\n     * Get all the values that respect a criteria\r\n     * @param {?} clause\r\n     * @return {?} Array of values\r\n     */\r\n    EntityView.prototype.manyBy = /**\r\n     * Get all the values that respect a criteria\r\n     * @param {?} clause\r\n     * @return {?} Array of values\r\n     */\r\n    function (clause) {\r\n        return this.values$.value.filter(clause);\r\n    };\r\n    /**\r\n     * Observe all the values that respect a criteria\r\n     * @returns Observable of values\r\n     */\r\n    /**\r\n     * Observe all the values that respect a criteria\r\n     * @param {?} clause\r\n     * @return {?} Observable of values\r\n     */\r\n    EntityView.prototype.manyBy$ = /**\r\n     * Observe all the values that respect a criteria\r\n     * @param {?} clause\r\n     * @return {?} Observable of values\r\n     */\r\n    function (clause) {\r\n        return this.values$.pipe(map((/**\r\n         * @param {?} values\r\n         * @return {?}\r\n         */\r\n        function (values) { return values.filter(clause); })));\r\n    };\r\n    /**\r\n     * Clear the filter and sort and unsubscribe from the source\r\n     */\r\n    /**\r\n     * Clear the filter and sort and unsubscribe from the source\r\n     * @return {?}\r\n     */\r\n    EntityView.prototype.clear = /**\r\n     * Clear the filter and sort and unsubscribe from the source\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.filter(undefined);\r\n        this.sort(undefined);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    EntityView.prototype.destroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.values$$ !== undefined) {\r\n            this.values$$.unsubscribe();\r\n        }\r\n        this.clear();\r\n    };\r\n    /**\r\n     * Join another source to the stream (chainable)\r\n     * @param clause Join clause\r\n     * @returns The view\r\n     */\r\n    /**\r\n     * Join another source to the stream (chainable)\r\n     * @param {?} clause Join clause\r\n     * @return {?} The view\r\n     */\r\n    EntityView.prototype.join = /**\r\n     * Join another source to the stream (chainable)\r\n     * @param {?} clause Join clause\r\n     * @return {?} The view\r\n     */\r\n    function (clause) {\r\n        if (this.lifted === true) {\r\n            throw new Error('This view has already been lifted, therefore, no join is allowed.');\r\n        }\r\n        this.joins.push(clause);\r\n        return this;\r\n    };\r\n    /**\r\n     * Filter values (chainable)\r\n     * @param clause Filter clause\r\n     * @returns The view\r\n     */\r\n    /**\r\n     * Filter values (chainable)\r\n     * @param {?} clause Filter clause\r\n     * @return {?} The view\r\n     */\r\n    EntityView.prototype.filter = /**\r\n     * Filter values (chainable)\r\n     * @param {?} clause Filter clause\r\n     * @return {?} The view\r\n     */\r\n    function (clause) {\r\n        this.filter$.next(clause);\r\n        return this;\r\n    };\r\n    /**\r\n     * Sort values (chainable)\r\n     * @param clauseSort clause\r\n     * @returns The view\r\n     */\r\n    /**\r\n     * Sort values (chainable)\r\n     * @param {?} clause\r\n     * @return {?} The view\r\n     */\r\n    EntityView.prototype.sort = /**\r\n     * Sort values (chainable)\r\n     * @param {?} clause\r\n     * @return {?} The view\r\n     */\r\n    function (clause) {\r\n        this.sort$.next(clause);\r\n        return this;\r\n    };\r\n    /**\r\n     * Create the final observable\r\n     * @returns Observable\r\n     */\r\n    /**\r\n     * Create the final observable\r\n     * @return {?} Observable\r\n     */\r\n    EntityView.prototype.lift = /**\r\n     * Create the final observable\r\n     * @return {?} Observable\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.lifted = true;\r\n        /** @type {?} */\r\n        var source$ = this.joins.length > 0 ? this.liftJoinedSource() : this.liftSource();\r\n        this.values$$ = combineLatest(source$, this.filter$, this.sort$)\r\n            .pipe(skip(1), debounceTime(25))\r\n            .subscribe((/**\r\n         * @param {?} bunch\r\n         * @return {?}\r\n         */\r\n        function (bunch) {\r\n            var _a = __read(bunch, 3), _values = _a[0], filter$$1 = _a[1], sort = _a[2];\r\n            /** @type {?} */\r\n            var values = _this.processValues(_values, filter$$1, sort);\r\n            _this.setValues(values);\r\n        }));\r\n    };\r\n    /**\r\n     * Create the source observable when no joins are defined\r\n     * @returns Observable\r\n     */\r\n    /**\r\n     * Create the source observable when no joins are defined\r\n     * @private\r\n     * @return {?} Observable\r\n     */\r\n    EntityView.prototype.liftSource = /**\r\n     * Create the source observable when no joins are defined\r\n     * @private\r\n     * @return {?} Observable\r\n     */\r\n    function () {\r\n        return (/** @type {?} */ ((/** @type {?} */ (this.source$))));\r\n    };\r\n    /**\r\n     * Create the source observable when joins are defined\r\n     * @returns Observable\r\n     */\r\n    /**\r\n     * Create the source observable when joins are defined\r\n     * @private\r\n     * @return {?} Observable\r\n     */\r\n    EntityView.prototype.liftJoinedSource = /**\r\n     * Create the source observable when joins are defined\r\n     * @private\r\n     * @return {?} Observable\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var sources$ = [this.source$, combineLatest.apply(void 0, __spread(this.joins.map((/**\r\n             * @param {?} join\r\n             * @return {?}\r\n             */\r\n            function (join) { return join.source; }))))];\r\n        return combineLatest.apply(void 0, __spread(sources$)).pipe(map((/**\r\n         * @param {?} bunch\r\n         * @return {?}\r\n         */\r\n        function (bunch) {\r\n            var _a = __read(bunch, 2), entities = _a[0], joinData = _a[1];\r\n            return entities.reduce((/**\r\n             * @param {?} values\r\n             * @param {?} entity\r\n             * @return {?}\r\n             */\r\n            function (values, entity) {\r\n                /** @type {?} */\r\n                var value = _this.computeJoinedValue(entity, joinData);\r\n                if (value !== undefined) {\r\n                    values.push(value);\r\n                }\r\n                return values;\r\n            }), []);\r\n        })));\r\n    };\r\n    /**\r\n     * Apply joins to a source's entity and return the final value\r\n     * @returns Final value\r\n     */\r\n    /**\r\n     * Apply joins to a source's entity and return the final value\r\n     * @private\r\n     * @param {?} entity\r\n     * @param {?} joinData\r\n     * @return {?} Final value\r\n     */\r\n    EntityView.prototype.computeJoinedValue = /**\r\n     * Apply joins to a source's entity and return the final value\r\n     * @private\r\n     * @param {?} entity\r\n     * @param {?} joinData\r\n     * @return {?} Final value\r\n     */\r\n    function (entity, joinData) {\r\n        /** @type {?} */\r\n        var value = (/** @type {?} */ (entity));\r\n        /** @type {?} */\r\n        var joinIndex = 0;\r\n        while (value !== undefined && joinIndex < this.joins.length) {\r\n            value = this.joins[joinIndex].reduce(value, joinData[joinIndex]);\r\n            joinIndex += 1;\r\n        }\r\n        return (/** @type {?} */ (value));\r\n    };\r\n    /**\r\n     * Filter and sort values before streaming them\r\n     * @param values Values\r\n     * @param filter Filter clause\r\n     * @param sort Sort clause\r\n     * @returns Filtered and sorted values\r\n     */\r\n    /**\r\n     * Filter and sort values before streaming them\r\n     * @private\r\n     * @param {?} values Values\r\n     * @param {?} filter Filter clause\r\n     * @param {?} sort Sort clause\r\n     * @return {?} Filtered and sorted values\r\n     */\r\n    EntityView.prototype.processValues = /**\r\n     * Filter and sort values before streaming them\r\n     * @private\r\n     * @param {?} values Values\r\n     * @param {?} filter Filter clause\r\n     * @param {?} sort Sort clause\r\n     * @return {?} Filtered and sorted values\r\n     */\r\n    function (values, filter$$1, sort) {\r\n        values = values.slice(0);\r\n        values = this.filterValues(values, filter$$1);\r\n        values = this.sortValues(values, sort);\r\n        return values;\r\n    };\r\n    /**\r\n     * Filter values\r\n     * @param values Values\r\n     * @param filter Filter clause\r\n     * @returns Filtered values\r\n     */\r\n    /**\r\n     * Filter values\r\n     * @private\r\n     * @param {?} values Values\r\n     * @param {?} clause\r\n     * @return {?} Filtered values\r\n     */\r\n    EntityView.prototype.filterValues = /**\r\n     * Filter values\r\n     * @private\r\n     * @param {?} values Values\r\n     * @param {?} clause\r\n     * @return {?} Filtered values\r\n     */\r\n    function (values, clause) {\r\n        if (clause === undefined) {\r\n            return values;\r\n        }\r\n        return values.filter((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { return clause(value); }));\r\n    };\r\n    /**\r\n     * Sort values\r\n     * @param values Values\r\n     * @param sort Sort clause\r\n     * @returns Sorted values\r\n     */\r\n    /**\r\n     * Sort values\r\n     * @private\r\n     * @param {?} values Values\r\n     * @param {?} clause\r\n     * @return {?} Sorted values\r\n     */\r\n    EntityView.prototype.sortValues = /**\r\n     * Sort values\r\n     * @private\r\n     * @param {?} values Values\r\n     * @param {?} clause\r\n     * @return {?} Sorted values\r\n     */\r\n    function (values, clause) {\r\n        if (clause === undefined) {\r\n            return values;\r\n        }\r\n        return values.sort((/**\r\n         * @param {?} v1\r\n         * @param {?} v2\r\n         * @return {?}\r\n         */\r\n        function (v1, v2) {\r\n            return ObjectUtils.naturalCompare(clause.valueAccessor(v1), clause.valueAccessor(v2), clause.direction);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} values\r\n     * @return {?}\r\n     */\r\n    EntityView.prototype.setValues = /**\r\n     * @private\r\n     * @param {?} values\r\n     * @return {?}\r\n     */\r\n    function (values) {\r\n        this.values$.next(values);\r\n        /** @type {?} */\r\n        var count = values.length;\r\n        /** @type {?} */\r\n        var empty = count === 0;\r\n        this.count$.next(count);\r\n        this.empty$.next(empty);\r\n    };\r\n    return EntityView;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * An entity store class holds any number of entities\r\n * as well as their state. It can be observed, filtered and sorted and\r\n * provides methods to insert, update or delete entities.\r\n * @template E, S\r\n */\r\nvar  /**\r\n * An entity store class holds any number of entities\r\n * as well as their state. It can be observed, filtered and sorted and\r\n * provides methods to insert, update or delete entities.\r\n * @template E, S\r\n */\r\nEntityStore = /** @class */ (function () {\r\n    function EntityStore(entities, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        /**\r\n         * Observable of the raw entities\r\n         */\r\n        this.entities$ = new BehaviorSubject([]);\r\n        /**\r\n         * Number of entities\r\n         */\r\n        this.count$ = new BehaviorSubject(0);\r\n        /**\r\n         * Whether the store is empty\r\n         */\r\n        this.empty$ = new BehaviorSubject(true);\r\n        this._pristine = true;\r\n        this.getKey = options.getKey ? options.getKey : getEntityId;\r\n        this.getProperty = options.getProperty ? options.getProperty : getEntityProperty;\r\n        this.state = new EntityStateManager({ store: this });\r\n        this.view = new EntityView(this.entities$);\r\n        this.stateView = new EntityView(this.view.all$()).join({\r\n            source: this.state.change$,\r\n            reduce: (/**\r\n             * @param {?} entity\r\n             * @return {?}\r\n             */\r\n            function (entity) {\r\n                return { entity: entity, state: _this.state.get(entity) };\r\n            })\r\n        });\r\n        this.view.lift();\r\n        this.stateView.lift();\r\n        if (entities.length > 0) {\r\n            this.load(entities);\r\n        }\r\n        else {\r\n            this._index = this.generateIndex(entities);\r\n        }\r\n    }\r\n    Object.defineProperty(EntityStore.prototype, \"count\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.count$.value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EntityStore.prototype, \"empty\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.empty$.value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EntityStore.prototype, \"index\", {\r\n        /**\r\n         * Store index\r\n         */\r\n        get: /**\r\n         * Store index\r\n         * @return {?}\r\n         */\r\n        function () { return this._index; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EntityStore.prototype, \"pristine\", {\r\n        /**\r\n         * Store index\r\n         */\r\n        get: /**\r\n         * Store index\r\n         * @return {?}\r\n         */\r\n        function () { return this._pristine; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Get an entity from the store by key\r\n     * @param key Key\r\n     * @returns Entity\r\n     */\r\n    /**\r\n     * Get an entity from the store by key\r\n     * @param {?} key Key\r\n     * @return {?} Entity\r\n     */\r\n    EntityStore.prototype.get = /**\r\n     * Get an entity from the store by key\r\n     * @param {?} key Key\r\n     * @return {?} Entity\r\n     */\r\n    function (key) {\r\n        return this.index.get(key);\r\n    };\r\n    /**\r\n     * Get all entities in the store\r\n     * @returns Array of entities\r\n     */\r\n    /**\r\n     * Get all entities in the store\r\n     * @return {?} Array of entities\r\n     */\r\n    EntityStore.prototype.all = /**\r\n     * Get all entities in the store\r\n     * @return {?} Array of entities\r\n     */\r\n    function () {\r\n        return this.entities$.value;\r\n    };\r\n    /**\r\n     * Set this store's entities\r\n     * @param entities Entities\r\n     */\r\n    /**\r\n     * Set this store's entities\r\n     * @param {?} entities Entities\r\n     * @param {?=} pristine\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.load = /**\r\n     * Set this store's entities\r\n     * @param {?} entities Entities\r\n     * @param {?=} pristine\r\n     * @return {?}\r\n     */\r\n    function (entities, pristine) {\r\n        if (pristine === void 0) { pristine = true; }\r\n        this._index = this.generateIndex(entities);\r\n        this._pristine = pristine;\r\n        this.next();\r\n    };\r\n    /**\r\n     * Clear the store's entities but keep the state and views intact.\r\n     * Views won't return any data but future data will be subject to the\r\n     * current views filter and sort\r\n     */\r\n    /**\r\n     * Clear the store's entities but keep the state and views intact.\r\n     * Views won't return any data but future data will be subject to the\r\n     * current views filter and sort\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.softClear = /**\r\n     * Clear the store's entities but keep the state and views intact.\r\n     * Views won't return any data but future data will be subject to the\r\n     * current views filter and sort\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.index && this.index.size > 0) {\r\n            this.index.clear();\r\n            this._pristine = true;\r\n            this.next();\r\n        }\r\n        else if (this.index) {\r\n            this.updateCount();\r\n        }\r\n    };\r\n    /**\r\n     * Clear the store's entities, state and views\r\n     */\r\n    /**\r\n     * Clear the store's entities, state and views\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.clear = /**\r\n     * Clear the store's entities, state and views\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.stateView.clear();\r\n        this.view.clear();\r\n        this.state.clear();\r\n        this.softClear();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.destroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.stateView.destroy();\r\n        this.view.destroy();\r\n        this.clear();\r\n    };\r\n    /**\r\n     * Insert an entity into the store\r\n     * @param entity Entity\r\n     */\r\n    /**\r\n     * Insert an entity into the store\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.insert = /**\r\n     * Insert an entity into the store\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    function (entity) {\r\n        this.insertMany([entity]);\r\n    };\r\n    /**\r\n     * Insert many entities into the store\r\n     * @param entities Entities\r\n     */\r\n    /**\r\n     * Insert many entities into the store\r\n     * @param {?} entities Entities\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.insertMany = /**\r\n     * Insert many entities into the store\r\n     * @param {?} entities Entities\r\n     * @return {?}\r\n     */\r\n    function (entities) {\r\n        var _this = this;\r\n        entities.forEach((/**\r\n         * @param {?} entity\r\n         * @return {?}\r\n         */\r\n        function (entity) { return _this.index.set(_this.getKey(entity), entity); }));\r\n        this._pristine = false;\r\n        this.next();\r\n    };\r\n    /**\r\n     * Update or insert an entity into the store\r\n     * @param entity Entity\r\n     */\r\n    /**\r\n     * Update or insert an entity into the store\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.update = /**\r\n     * Update or insert an entity into the store\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    function (entity) {\r\n        this.updateMany([entity]);\r\n    };\r\n    /**\r\n     * Update or insert many entities into the store\r\n     * @param entities Entities\r\n     */\r\n    /**\r\n     * Update or insert many entities into the store\r\n     * @param {?} entities Entities\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.updateMany = /**\r\n     * Update or insert many entities into the store\r\n     * @param {?} entities Entities\r\n     * @return {?}\r\n     */\r\n    function (entities) {\r\n        var _this = this;\r\n        entities.forEach((/**\r\n         * @param {?} entity\r\n         * @return {?}\r\n         */\r\n        function (entity) { return _this.index.set(_this.getKey(entity), entity); }));\r\n        this._pristine = false;\r\n        this.next();\r\n    };\r\n    /**\r\n     * Delete an entity from the store\r\n     * @param entity Entity\r\n     */\r\n    /**\r\n     * Delete an entity from the store\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.delete = /**\r\n     * Delete an entity from the store\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    function (entity) {\r\n        this.deleteMany([entity]);\r\n    };\r\n    /**\r\n     * Delete many entities from the store\r\n     * @param entities Entities\r\n     */\r\n    /**\r\n     * Delete many entities from the store\r\n     * @param {?} entities Entities\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.deleteMany = /**\r\n     * Delete many entities from the store\r\n     * @param {?} entities Entities\r\n     * @return {?}\r\n     */\r\n    function (entities) {\r\n        var _this = this;\r\n        entities.forEach((/**\r\n         * @param {?} entity\r\n         * @return {?}\r\n         */\r\n        function (entity) { return _this.index.delete(_this.getKey(entity)); }));\r\n        this._pristine = false;\r\n        this.next();\r\n    };\r\n    /**\r\n     * Generate a complete index of all the entities\r\n     * @param entities Entities\r\n     * @returns Index\r\n     */\r\n    /**\r\n     * Generate a complete index of all the entities\r\n     * @private\r\n     * @param {?} entities Entities\r\n     * @return {?} Index\r\n     */\r\n    EntityStore.prototype.generateIndex = /**\r\n     * Generate a complete index of all the entities\r\n     * @private\r\n     * @param {?} entities Entities\r\n     * @return {?} Index\r\n     */\r\n    function (entities) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var entries = entities.map((/**\r\n         * @param {?} entity\r\n         * @return {?}\r\n         */\r\n        function (entity) { return [_this.getKey(entity), entity]; }));\r\n        return new Map((/** @type {?} */ (entries)));\r\n    };\r\n    /**\r\n     * Push the index's entities into the entities$ observable\r\n     */\r\n    /**\r\n     * Push the index's entities into the entities$ observable\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.next = /**\r\n     * Push the index's entities into the entities$ observable\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.entities$.next(Array.from(this.index.values()));\r\n        this.updateCount();\r\n    };\r\n    /**\r\n     * Update the store's count and empty\r\n     */\r\n    /**\r\n     * Update the store's count and empty\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EntityStore.prototype.updateCount = /**\r\n     * Update the store's count and empty\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var count = this.index.size;\r\n        /** @type {?} */\r\n        var empty = count === 0;\r\n        this.count$.next(count);\r\n        this.empty$.next(empty);\r\n    };\r\n    return EntityStore;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This class is used to synchronize a component's changes\r\n * detection with an EntityStore changes. For example, it is frequent\r\n * to have a component subscribe to a store's selected entity and, at the same time,\r\n * this component provides a way to select an entity with, let's say, a click.\r\n *\r\n * This class automatically handles those case and triggers the compoent's\r\n * change detection when needed.\r\n *\r\n * Note: If the component observes the store's stateView, a workspace is\r\n * probably not required because the stateView catches any changes to the\r\n * entities and their state.\r\n * @template E\r\n */\r\nvar  /**\r\n * This class is used to synchronize a component's changes\r\n * detection with an EntityStore changes. For example, it is frequent\r\n * to have a component subscribe to a store's selected entity and, at the same time,\r\n * this component provides a way to select an entity with, let's say, a click.\r\n *\r\n * This class automatically handles those case and triggers the compoent's\r\n * change detection when needed.\r\n *\r\n * Note: If the component observes the store's stateView, a workspace is\r\n * probably not required because the stateView catches any changes to the\r\n * entities and their state.\r\n * @template E\r\n */\r\nEntityStoreWatcher = /** @class */ (function () {\r\n    function EntityStoreWatcher(store, cdRef) {\r\n        /**\r\n         * Component inner state\r\n         */\r\n        this.innerStateIndex = new Map();\r\n        this.setChangeDetector(cdRef);\r\n        this.setStore(store);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    EntityStoreWatcher.prototype.destroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.setChangeDetector(undefined);\r\n        this.setStore(undefined);\r\n    };\r\n    /**\r\n     * Bind this workspace to a store and start watching for changes\r\n     * @param store Entity store\r\n     */\r\n    /**\r\n     * Bind this workspace to a store and start watching for changes\r\n     * @param {?=} store Entity store\r\n     * @return {?}\r\n     */\r\n    EntityStoreWatcher.prototype.setStore = /**\r\n     * Bind this workspace to a store and start watching for changes\r\n     * @param {?=} store Entity store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        if (store === undefined) {\r\n            this.teardownObservers();\r\n            this.innerStateIndex.clear();\r\n            this.store = undefined;\r\n            return;\r\n        }\r\n        this.setStore(undefined);\r\n        this.store = store;\r\n        this.setupObservers();\r\n        this.detectChanges();\r\n    };\r\n    /**\r\n     * Bind this workspace to a component's change detector\r\n     * @param cdRef Change detector\r\n     */\r\n    /**\r\n     * Bind this workspace to a component's change detector\r\n     * @param {?=} cdRef Change detector\r\n     * @return {?}\r\n     */\r\n    EntityStoreWatcher.prototype.setChangeDetector = /**\r\n     * Bind this workspace to a component's change detector\r\n     * @param {?=} cdRef Change detector\r\n     * @return {?}\r\n     */\r\n    function (cdRef) {\r\n        this.cdRef = cdRef;\r\n    };\r\n    /**\r\n     * Set up observers on a store's entities and their state\r\n     * @param store Entity store\r\n     */\r\n    /**\r\n     * Set up observers on a store's entities and their state\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EntityStoreWatcher.prototype.setupObservers = /**\r\n     * Set up observers on a store's entities and their state\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.teardownObservers();\r\n        this.entities$$ = this.store.entities$\r\n            .subscribe((/**\r\n         * @param {?} entities\r\n         * @return {?}\r\n         */\r\n        function (entities) { return _this.onEntitiesChange(entities); }));\r\n        this.state$$ = this.store.state.change$\r\n            .pipe(skip(1))\r\n            .subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.onStateChange(); }));\r\n    };\r\n    /**\r\n     * Teardown store observers\r\n     */\r\n    /**\r\n     * Teardown store observers\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EntityStoreWatcher.prototype.teardownObservers = /**\r\n     * Teardown store observers\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.entities$$ !== undefined) {\r\n            this.entities$$.unsubscribe();\r\n        }\r\n        if (this.state$$ !== undefined) {\r\n            this.state$$.unsubscribe();\r\n        }\r\n        this.entities$$ = undefined;\r\n        this.state$$ = undefined;\r\n    };\r\n    /**\r\n     * When the entities change, always trigger the changes detection\r\n     */\r\n    /**\r\n     * When the entities change, always trigger the changes detection\r\n     * @private\r\n     * @param {?} entities\r\n     * @return {?}\r\n     */\r\n    EntityStoreWatcher.prototype.onEntitiesChange = /**\r\n     * When the entities change, always trigger the changes detection\r\n     * @private\r\n     * @param {?} entities\r\n     * @return {?}\r\n     */\r\n    function (entities) {\r\n        this.detectChanges();\r\n    };\r\n    /**\r\n     * When the entities state change, trigger the change detection\r\n     * only if the component has not handled these changes yet. For example,\r\n     * the component might have initiated thoses changes itself.\r\n     */\r\n    /**\r\n     * When the entities state change, trigger the change detection\r\n     * only if the component has not handled these changes yet. For example,\r\n     * the component might have initiated thoses changes itself.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EntityStoreWatcher.prototype.onStateChange = /**\r\n     * When the entities state change, trigger the change detection\r\n     * only if the component has not handled these changes yet. For example,\r\n     * the component might have initiated thoses changes itself.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var e_1, _a;\r\n        /** @type {?} */\r\n        var changesDetected = false;\r\n        /** @type {?} */\r\n        var storeIndex = this.store.state.index;\r\n        /** @type {?} */\r\n        var innerIndex = this.innerStateIndex;\r\n        if (storeIndex.size !== innerIndex.size) {\r\n            changesDetected = this.detectChanges();\r\n        }\r\n        /** @type {?} */\r\n        var storeKeys = Array.from(storeIndex.keys());\r\n        try {\r\n            for (var storeKeys_1 = __values(storeKeys), storeKeys_1_1 = storeKeys_1.next(); !storeKeys_1_1.done; storeKeys_1_1 = storeKeys_1.next()) {\r\n                var key = storeKeys_1_1.value;\r\n                /** @type {?} */\r\n                var storeValue = storeIndex.get(key);\r\n                /** @type {?} */\r\n                var innerValue = innerIndex.get(key);\r\n                if (changesDetected === false) {\r\n                    if (innerValue === undefined) {\r\n                        changesDetected = this.detectChanges();\r\n                    }\r\n                    else if (!ObjectUtils.objectsAreEquivalent(storeValue, innerValue)) {\r\n                        changesDetected = this.detectChanges();\r\n                    }\r\n                }\r\n                this.innerStateIndex.set(key, Object.assign({}, storeValue));\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (storeKeys_1_1 && !storeKeys_1_1.done && (_a = storeKeys_1.return)) _a.call(storeKeys_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    };\r\n    /**\r\n     * Trigger the change detection of the workspace is bound to a change detector\r\n     */\r\n    /**\r\n     * Trigger the change detection of the workspace is bound to a change detector\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EntityStoreWatcher.prototype.detectChanges = /**\r\n     * Trigger the change detection of the workspace is bound to a change detector\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.cdRef !== undefined) {\r\n            this.cdRef.detectChanges();\r\n        }\r\n        return true;\r\n    };\r\n    return EntityStoreWatcher;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This class holds a reference to the insert, update and delete\r\n * operations performed on a store. This is useful to commit\r\n * these operations in a single pass or to cancel them.\r\n */\r\nvar  /**\r\n * This class holds a reference to the insert, update and delete\r\n * operations performed on a store. This is useful to commit\r\n * these operations in a single pass or to cancel them.\r\n */\r\nEntityTransaction = /** @class */ (function () {\r\n    function EntityTransaction(options) {\r\n        if (options === void 0) { options = {}; }\r\n        this._inCommitPhase = false;\r\n        this.getKey = options.getKey ? options.getKey : getEntityId;\r\n        this.operations = new EntityStore([], {\r\n            getKey: (/**\r\n             * @param {?} operation\r\n             * @return {?}\r\n             */\r\n            function (operation) { return operation.key; })\r\n        });\r\n    }\r\n    Object.defineProperty(EntityTransaction.prototype, \"empty\", {\r\n        /**\r\n         * Whether there are pending operations\r\n         */\r\n        get: /**\r\n         * Whether there are pending operations\r\n         * @return {?}\r\n         */\r\n        function () { return this.operations.entities$.value.length === 0; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EntityTransaction.prototype, \"inCommitPhase\", {\r\n        /**\r\n         * Whether thise store is in commit phase\r\n         */\r\n        get: /**\r\n         * Whether thise store is in commit phase\r\n         * @return {?}\r\n         */\r\n        function () { return this._inCommitPhase; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.destroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.operations.destroy();\r\n    };\r\n    /**\r\n     * Insert an entity into a store. If no store is specified, an insert\r\n     * operation is still created but the transaction won't add the new\r\n     * entity to the store.\r\n     * @param current The entity to insert\r\n     * @param store Optional: The store to insert the entity into\r\n     * @param meta Optional: Any metadata on the operation\r\n     */\r\n    /**\r\n     * Insert an entity into a store. If no store is specified, an insert\r\n     * operation is still created but the transaction won't add the new\r\n     * entity to the store.\r\n     * @param {?} current The entity to insert\r\n     * @param {?=} store Optional: The store to insert the entity into\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.insert = /**\r\n     * Insert an entity into a store. If no store is specified, an insert\r\n     * operation is still created but the transaction won't add the new\r\n     * entity to the store.\r\n     * @param {?} current The entity to insert\r\n     * @param {?=} store Optional: The store to insert the entity into\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    function (current, store, meta) {\r\n        /** @type {?} */\r\n        var existingOperation = this.getOperationByEntity(current);\r\n        if (existingOperation !== undefined) {\r\n            this.removeOperation(existingOperation);\r\n        }\r\n        this.doInsert(current, store, meta);\r\n    };\r\n    /**\r\n     * Update an entity in a store. If no store is specified, an update\r\n     * operation is still created but the transaction won't update the\r\n     * entity into the store.\r\n     * @param previous The entity before update\r\n     * @param current The entity after update\r\n     * @param store Optional: The store to update the entity into\r\n     * @param meta Optional: Any metadata on the operation\r\n     */\r\n    /**\r\n     * Update an entity in a store. If no store is specified, an update\r\n     * operation is still created but the transaction won't update the\r\n     * entity into the store.\r\n     * @param {?} previous The entity before update\r\n     * @param {?} current The entity after update\r\n     * @param {?=} store Optional: The store to update the entity into\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.update = /**\r\n     * Update an entity in a store. If no store is specified, an update\r\n     * operation is still created but the transaction won't update the\r\n     * entity into the store.\r\n     * @param {?} previous The entity before update\r\n     * @param {?} current The entity after update\r\n     * @param {?=} store Optional: The store to update the entity into\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    function (previous, current, store, meta) {\r\n        /** @type {?} */\r\n        var existingOperation = this.getOperationByEntity(current);\r\n        if (existingOperation !== undefined) {\r\n            this.removeOperation(existingOperation);\r\n            if (existingOperation.type === EntityOperationType.Insert) {\r\n                this.doInsert(current, store, meta);\r\n                return;\r\n            }\r\n        }\r\n        this.doUpdate(previous, current, store, meta);\r\n    };\r\n    /**\r\n     * Delete an entity from a store. If no store is specified, a delete\r\n     * operation is still created but the transaction won't remove the\r\n     * entity from the store.\r\n     * @param previous The entity before delete\r\n     * @param store Optional: The store to delete the entity from\r\n     * @param meta Optional: Any metadata on the operation\r\n     */\r\n    /**\r\n     * Delete an entity from a store. If no store is specified, a delete\r\n     * operation is still created but the transaction won't remove the\r\n     * entity from the store.\r\n     * @param {?} previous The entity before delete\r\n     * @param {?=} store Optional: The store to delete the entity from\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.delete = /**\r\n     * Delete an entity from a store. If no store is specified, a delete\r\n     * operation is still created but the transaction won't remove the\r\n     * entity from the store.\r\n     * @param {?} previous The entity before delete\r\n     * @param {?=} store Optional: The store to delete the entity from\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    function (previous, store, meta) {\r\n        /** @type {?} */\r\n        var existingOperation = this.getOperationByEntity(previous);\r\n        if (existingOperation !== undefined) {\r\n            this.removeOperation(existingOperation);\r\n            if (existingOperation.type === EntityOperationType.Insert) {\r\n                if (store !== undefined) {\r\n                    store.delete(previous);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        this.doDelete(previous, store, meta);\r\n    };\r\n    /**\r\n     * Commit operations the transaction. This method doesn't do much\r\n     * in itself. The handler it receives does the hard work and it's\r\n     * implementation is left to the caller. This method simply wraps\r\n     * the handler into an error catching mechanism to update\r\n     * the transaction afterward. The caller needs to subscribe to this\r\n     * method's output (observable) for the commit to be performed.\r\n     * @param operations Operations to commit\r\n     * @param handler Function that handles the commit operation\r\n     * @returns The handler output (observable)\r\n     */\r\n    /**\r\n     * Commit operations the transaction. This method doesn't do much\r\n     * in itself. The handler it receives does the hard work and it's\r\n     * implementation is left to the caller. This method simply wraps\r\n     * the handler into an error catching mechanism to update\r\n     * the transaction afterward. The caller needs to subscribe to this\r\n     * method's output (observable) for the commit to be performed.\r\n     * @param {?} operations Operations to commit\r\n     * @param {?} handler Function that handles the commit operation\r\n     * @return {?} The handler output (observable)\r\n     */\r\n    EntityTransaction.prototype.commit = /**\r\n     * Commit operations the transaction. This method doesn't do much\r\n     * in itself. The handler it receives does the hard work and it's\r\n     * implementation is left to the caller. This method simply wraps\r\n     * the handler into an error catching mechanism to update\r\n     * the transaction afterward. The caller needs to subscribe to this\r\n     * method's output (observable) for the commit to be performed.\r\n     * @param {?} operations Operations to commit\r\n     * @param {?} handler Function that handles the commit operation\r\n     * @return {?} The handler output (observable)\r\n     */\r\n    function (operations, handler) {\r\n        var _this = this;\r\n        this._inCommitPhase = true;\r\n        return handler(this, operations)\r\n            .pipe(catchError((/**\r\n         * @return {?}\r\n         */\r\n        function () { return of(new Error()); })), tap((/**\r\n         * @param {?} result\r\n         * @return {?}\r\n         */\r\n        function (result) {\r\n            if (result instanceof Error) {\r\n                _this.onCommitError(operations);\r\n            }\r\n            else {\r\n                _this.onCommitSuccess(operations);\r\n            }\r\n        })));\r\n    };\r\n    /**\r\n     * Commit all the operations of the transaction.\r\n     * @param handler Function that handles the commit operation\r\n     * @returns The handler output (observable)\r\n     */\r\n    /**\r\n     * Commit all the operations of the transaction.\r\n     * @param {?} handler Function that handles the commit operation\r\n     * @return {?} The handler output (observable)\r\n     */\r\n    EntityTransaction.prototype.commitAll = /**\r\n     * Commit all the operations of the transaction.\r\n     * @param {?} handler Function that handles the commit operation\r\n     * @return {?} The handler output (observable)\r\n     */\r\n    function (handler) {\r\n        /** @type {?} */\r\n        var operations = this.getOperationsInCommit();\r\n        return this.commit(operations, handler);\r\n    };\r\n    /**\r\n     * Rollback this transaction\r\n     */\r\n    /**\r\n     * Rollback this transaction\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.rollback = /**\r\n     * Rollback this transaction\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.rollbackOperations(this.operations.all());\r\n    };\r\n    /**\r\n     * Rollback specific operations\r\n     */\r\n    /**\r\n     * Rollback specific operations\r\n     * @param {?} operations\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.rollbackOperations = /**\r\n     * Rollback specific operations\r\n     * @param {?} operations\r\n     * @return {?}\r\n     */\r\n    function (operations) {\r\n        var e_1, _a;\r\n        this.checkInCommitPhase();\r\n        /** @type {?} */\r\n        var operationsFactory = (/**\r\n         * @return {?}\r\n         */\r\n        function () { return new Map([\r\n            [EntityOperationType.Delete, []],\r\n            [EntityOperationType.Update, []],\r\n            [EntityOperationType.Insert, []]\r\n        ]); });\r\n        /** @type {?} */\r\n        var storesOperations = new Map();\r\n        try {\r\n            // Group operations by store and by operation type.\r\n            // Grouping operations allows us to revert them in bacth, thus, triggering\r\n            // observables only one per operation type.\r\n            for (var operations_1 = __values(operations), operations_1_1 = operations_1.next(); !operations_1_1.done; operations_1_1 = operations_1.next()) {\r\n                var operation = operations_1_1.value;\r\n                /** @type {?} */\r\n                var store = operation.store;\r\n                if (operation.store === undefined) {\r\n                    continue;\r\n                }\r\n                /** @type {?} */\r\n                var storeOperations = storesOperations.get(store);\r\n                if (storeOperations === undefined) {\r\n                    storeOperations = operationsFactory();\r\n                    storesOperations.set(store, storeOperations);\r\n                }\r\n                storeOperations.get(operation.type).push(operation);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (operations_1_1 && !operations_1_1.done && (_a = operations_1.return)) _a.call(operations_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        Array.from(storesOperations.keys()).forEach((/**\r\n         * @param {?} store\r\n         * @return {?}\r\n         */\r\n        function (store) {\r\n            /** @type {?} */\r\n            var storeOperations = storesOperations.get(store);\r\n            /** @type {?} */\r\n            var deletes = storeOperations.get(EntityOperationType.Delete);\r\n            store.insertMany(deletes.map((/**\r\n             * @param {?} _delete\r\n             * @return {?}\r\n             */\r\n            function (_delete) { return _delete.previous; })));\r\n            /** @type {?} */\r\n            var updates = storeOperations.get(EntityOperationType.Update);\r\n            store.updateMany(updates.map((/**\r\n             * @param {?} _update\r\n             * @return {?}\r\n             */\r\n            function (_update) { return _update.previous; })));\r\n            /** @type {?} */\r\n            var inserts = storeOperations.get(EntityOperationType.Insert);\r\n            store.deleteMany(inserts.map((/**\r\n             * @param {?} _insert\r\n             * @return {?}\r\n             */\r\n            function (_insert) { return _insert.current; })));\r\n        }));\r\n        this.operations.deleteMany(operations);\r\n        this._inCommitPhase = false;\r\n    };\r\n    /**\r\n     * Clear this transaction\r\n     * @todo Raise event and synchronize stores?\r\n     */\r\n    /**\r\n     * Clear this transaction\r\n     * \\@todo Raise event and synchronize stores?\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.clear = /**\r\n     * Clear this transaction\r\n     * \\@todo Raise event and synchronize stores?\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.operations.clear();\r\n        this._inCommitPhase = false;\r\n    };\r\n    /**\r\n     * Merge another transaction in this one\r\n     * @param transaction Another transaction\r\n     */\r\n    /**\r\n     * Merge another transaction in this one\r\n     * @param {?} transaction Another transaction\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.mergeTransaction = /**\r\n     * Merge another transaction in this one\r\n     * @param {?} transaction Another transaction\r\n     * @return {?}\r\n     */\r\n    function (transaction) {\r\n        var _this = this;\r\n        this.checkInCommitPhase();\r\n        /** @type {?} */\r\n        var operations = transaction.operations.all();\r\n        operations.forEach((/**\r\n         * @param {?} operation\r\n         * @return {?}\r\n         */\r\n        function (operation) {\r\n            _this.addOperation(operation);\r\n        }));\r\n    };\r\n    /**\r\n     * Create an insert operation and add an entity to the store\r\n     * @param current The entity to insert\r\n     * @param store Optional: The store to insert the entity into\r\n     * @param meta Optional: Any metadata on the operation\r\n     */\r\n    /**\r\n     * Create an insert operation and add an entity to the store\r\n     * @private\r\n     * @param {?} current The entity to insert\r\n     * @param {?=} store Optional: The store to insert the entity into\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.doInsert = /**\r\n     * Create an insert operation and add an entity to the store\r\n     * @private\r\n     * @param {?} current The entity to insert\r\n     * @param {?=} store Optional: The store to insert the entity into\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    function (current, store, meta) {\r\n        this.addOperation({\r\n            key: this.getKey(current),\r\n            type: EntityOperationType.Insert,\r\n            previous: undefined,\r\n            current: current,\r\n            store: store,\r\n            meta: meta\r\n        });\r\n        if (store !== undefined) {\r\n            store.insert(current);\r\n        }\r\n    };\r\n    /**\r\n     * Create an update operation and update an entity into the store\r\n     * @param previous The entity before update\r\n     * @param current The entity after update\r\n     * @param store Optional: The store to update the entity into\r\n     * @param meta Optional: Any metadata on the operation\r\n     */\r\n    /**\r\n     * Create an update operation and update an entity into the store\r\n     * @private\r\n     * @param {?} previous The entity before update\r\n     * @param {?} current The entity after update\r\n     * @param {?=} store Optional: The store to update the entity into\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.doUpdate = /**\r\n     * Create an update operation and update an entity into the store\r\n     * @private\r\n     * @param {?} previous The entity before update\r\n     * @param {?} current The entity after update\r\n     * @param {?=} store Optional: The store to update the entity into\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    function (previous, current, store, meta) {\r\n        this.addOperation({\r\n            key: this.getKey(current),\r\n            type: EntityOperationType.Update,\r\n            previous: previous,\r\n            current: current,\r\n            store: store,\r\n            meta: meta\r\n        });\r\n        if (store !== undefined) {\r\n            store.update(current);\r\n        }\r\n    };\r\n    /**\r\n     * Create a delete operation and delete an entity from the store\r\n     * @param previous The entity before delete\r\n     * @param store Optional: The store to delete the entity from\r\n     * @param meta Optional: Any metadata on the operation\r\n     */\r\n    /**\r\n     * Create a delete operation and delete an entity from the store\r\n     * @private\r\n     * @param {?} previous The entity before delete\r\n     * @param {?=} store Optional: The store to delete the entity from\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.doDelete = /**\r\n     * Create a delete operation and delete an entity from the store\r\n     * @private\r\n     * @param {?} previous The entity before delete\r\n     * @param {?=} store Optional: The store to delete the entity from\r\n     * @param {?=} meta Optional: Any metadata on the operation\r\n     * @return {?}\r\n     */\r\n    function (previous, store, meta) {\r\n        this.addOperation({\r\n            key: this.getKey(previous),\r\n            type: EntityOperationType.Delete,\r\n            previous: previous,\r\n            current: undefined,\r\n            store: store,\r\n            meta: meta\r\n        });\r\n        if (store !== undefined) {\r\n            store.delete(previous);\r\n        }\r\n    };\r\n    /**\r\n     * Remove committed operations from store\r\n     * @param operations Commited operations\r\n     * @todo Raise event and synchronize stores?\r\n     */\r\n    /**\r\n     * Remove committed operations from store\r\n     * \\@todo Raise event and synchronize stores?\r\n     * @private\r\n     * @param {?} operations Commited operations\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.resolveOperations = /**\r\n     * Remove committed operations from store\r\n     * \\@todo Raise event and synchronize stores?\r\n     * @private\r\n     * @param {?} operations Commited operations\r\n     * @return {?}\r\n     */\r\n    function (operations) {\r\n        this.operations.deleteMany(operations);\r\n    };\r\n    /**\r\n     * On commit success, resolve commited operations and exit commit phase\r\n     * @param operations Commited operations\r\n     */\r\n    /**\r\n     * On commit success, resolve commited operations and exit commit phase\r\n     * @private\r\n     * @param {?} operations Commited operations\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.onCommitSuccess = /**\r\n     * On commit success, resolve commited operations and exit commit phase\r\n     * @private\r\n     * @param {?} operations Commited operations\r\n     * @return {?}\r\n     */\r\n    function (operations) {\r\n        this.resolveOperations(operations);\r\n        this._inCommitPhase = false;\r\n    };\r\n    /**\r\n     * On commit error, abort transaction\r\n     * @param operations Commited operations\r\n     */\r\n    /**\r\n     * On commit error, abort transaction\r\n     * @private\r\n     * @param {?} operations Commited operations\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.onCommitError = /**\r\n     * On commit error, abort transaction\r\n     * @private\r\n     * @param {?} operations Commited operations\r\n     * @return {?}\r\n     */\r\n    function (operations) {\r\n        this._inCommitPhase = false;\r\n    };\r\n    /**\r\n     * Add an operation to the operations store\r\n     * @param operation Operation to add\r\n     */\r\n    /**\r\n     * Add an operation to the operations store\r\n     * @private\r\n     * @param {?} operation Operation to add\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.addOperation = /**\r\n     * Add an operation to the operations store\r\n     * @private\r\n     * @param {?} operation Operation to add\r\n     * @return {?}\r\n     */\r\n    function (operation) {\r\n        this.checkInCommitPhase();\r\n        this.operations.insert(operation);\r\n        this.operations.state.update(operation, { added: true });\r\n    };\r\n    /**\r\n     * Remove an operation from the operations store\r\n     * @param operation Operation to remove\r\n     */\r\n    /**\r\n     * Remove an operation from the operations store\r\n     * @private\r\n     * @param {?} operation Operation to remove\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.removeOperation = /**\r\n     * Remove an operation from the operations store\r\n     * @private\r\n     * @param {?} operation Operation to remove\r\n     * @return {?}\r\n     */\r\n    function (operation) {\r\n        this.checkInCommitPhase();\r\n        this.operations.delete(operation);\r\n        this.operations.state.update(operation, { added: false });\r\n    };\r\n    /**\r\n     * Get the any existing operation an entity\r\n     * @param entity Entity\r\n     * @returns Either an insert, update or delete operation\r\n     */\r\n    /**\r\n     * Get the any existing operation an entity\r\n     * @private\r\n     * @param {?} entity Entity\r\n     * @return {?} Either an insert, update or delete operation\r\n     */\r\n    EntityTransaction.prototype.getOperationByEntity = /**\r\n     * Get the any existing operation an entity\r\n     * @private\r\n     * @param {?} entity Entity\r\n     * @return {?} Either an insert, update or delete operation\r\n     */\r\n    function (entity) {\r\n        return this.operations.get(this.getKey(entity));\r\n    };\r\n    /**\r\n     * Get all the operations to commit\r\n     * @returns Operations to commit\r\n     */\r\n    /**\r\n     * Get all the operations to commit\r\n     * @private\r\n     * @return {?} Operations to commit\r\n     */\r\n    EntityTransaction.prototype.getOperationsInCommit = /**\r\n     * Get all the operations to commit\r\n     * @private\r\n     * @return {?} Operations to commit\r\n     */\r\n    function () {\r\n        return this.operations.stateView\r\n            .manyBy((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            return value.state.added === true;\r\n        }))\r\n            .map((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { return value.entity; }));\r\n    };\r\n    /**\r\n     * Check if the transaction is in the commit phase and throw an error if it is\r\n     */\r\n    /**\r\n     * Check if the transaction is in the commit phase and throw an error if it is\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EntityTransaction.prototype.checkInCommitPhase = /**\r\n     * Check if the transaction is in the commit phase and throw an error if it is\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.inCommitPhase === true) {\r\n            throw new Error('This transaction is in the commit phase. Cannot complete this operation.');\r\n        }\r\n    };\r\n    return EntityTransaction;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar EntitySelectorComponent = /** @class */ (function () {\r\n    function EntitySelectorComponent(cdRef) {\r\n        this.cdRef = cdRef;\r\n        /**\r\n         * The selected entity\r\n         * \\@internal\r\n         */\r\n        this.selected$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * The current multi select option text\r\n         * \\@internal\r\n         */\r\n        this.multiText$ = new BehaviorSubject(undefined);\r\n        this.multiSelectValue = { id: 'IGO_MULTI_SELECT' };\r\n        /**\r\n         * Title accessor\r\n         */\r\n        this.titleAccessor = getEntityTitle;\r\n        /**\r\n         * Text to display when nothing is selected\r\n         */\r\n        this.emptyText = undefined;\r\n        /**\r\n         * Wheter selecting many entities is allowed\r\n         */\r\n        this.multi = false;\r\n        /**\r\n         * Text to display for the select all option\r\n         */\r\n        this.multiAllText = 'All';\r\n        /**\r\n         * Text to display for the select none option\r\n         */\r\n        this.multiNoneText = 'None';\r\n        /**\r\n         * Event emitted when the selection changes\r\n         */\r\n        this.selectedChange = new EventEmitter();\r\n    }\r\n    /**\r\n     * Create a store watcher and subscribe to the selected entity\r\n     * @internal\r\n     */\r\n    /**\r\n     * Create a store watcher and subscribe to the selected entity\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    EntitySelectorComponent.prototype.ngOnInit = /**\r\n     * Create a store watcher and subscribe to the selected entity\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.watcher = new EntityStoreWatcher(this.store, this.cdRef);\r\n        this.selected$$ = this.store.stateView\r\n            .manyBy$((/**\r\n         * @param {?} record\r\n         * @return {?}\r\n         */\r\n        function (record) { return record.state.selected === true; }))\r\n            .subscribe((/**\r\n         * @param {?} records\r\n         * @return {?}\r\n         */\r\n        function (records) {\r\n            /** @type {?} */\r\n            var entities = records.map((/**\r\n             * @param {?} record\r\n             * @return {?}\r\n             */\r\n            function (record) { return record.entity; }));\r\n            _this.onSelectFromStore(entities);\r\n        }));\r\n    };\r\n    /**\r\n     * Unsubscribe to the selected entity and destroy the store watcher\r\n     * @internal\r\n     */\r\n    /**\r\n     * Unsubscribe to the selected entity and destroy the store watcher\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    EntitySelectorComponent.prototype.ngOnDestroy = /**\r\n     * Unsubscribe to the selected entity and destroy the store watcher\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.watcher.destroy();\r\n        this.selected$$.unsubscribe();\r\n    };\r\n    /**\r\n     * On selection change, update the store's state and emit an event\r\n     * @internal\r\n     */\r\n    /**\r\n     * On selection change, update the store's state and emit an event\r\n     * \\@internal\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    EntitySelectorComponent.prototype.onSelectionChange = /**\r\n     * On selection change, update the store's state and emit an event\r\n     * \\@internal\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var values = event.value instanceof Array ? event.value : [event.value];\r\n        /** @type {?} */\r\n        var multiSelect = values.find((/**\r\n         * @param {?} _value\r\n         * @return {?}\r\n         */\r\n        function (_value) { return _value === _this.multiSelectValue; }));\r\n        /** @type {?} */\r\n        var entities = values.filter((/**\r\n         * @param {?} _value\r\n         * @return {?}\r\n         */\r\n        function (_value) { return _value !== _this.multiSelectValue; }));\r\n        if (multiSelect !== undefined) {\r\n            if (entities.length === this.store.count) {\r\n                entities = [];\r\n            }\r\n            else if (entities.length < this.store.count) {\r\n                entities = this.store.all();\r\n            }\r\n        }\r\n        if (entities.length === 0) {\r\n            this.store.state.updateAll({ selected: false });\r\n        }\r\n        else {\r\n            this.store.state.updateMany(entities, { selected: true }, true);\r\n        }\r\n        /** @type {?} */\r\n        var value = this.multi ? entities : event.value;\r\n        this.selectedChange.emit({ selected: true, value: value });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} entities\r\n     * @return {?}\r\n     */\r\n    EntitySelectorComponent.prototype.onSelectFromStore = /**\r\n     * @private\r\n     * @param {?} entities\r\n     * @return {?}\r\n     */\r\n    function (entities) {\r\n        if (this.multi === true) {\r\n            this.selected$.next(entities);\r\n        }\r\n        else {\r\n            /** @type {?} */\r\n            var entity = entities.length > 0 ? entities[0] : undefined;\r\n            this.selected$.next(entity);\r\n        }\r\n        this.updateMultiToggleWithEntities(entities);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} entities\r\n     * @return {?}\r\n     */\r\n    EntitySelectorComponent.prototype.updateMultiToggleWithEntities = /**\r\n     * @private\r\n     * @param {?} entities\r\n     * @return {?}\r\n     */\r\n    function (entities) {\r\n        if (entities.length === this.store.count && this.multiText$.value !== this.multiNoneText) {\r\n            this.multiText$.next(this.multiNoneText);\r\n        }\r\n        else if (entities.length < this.store.count && this.multiText$.value !== this.multiAllText) {\r\n            this.multiText$.next(this.multiAllText);\r\n        }\r\n    };\r\n    EntitySelectorComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-entity-selector',\r\n                    template: \"<mat-form-field class=\\\"igo-entity-selector\\\">\\r\\n  <mat-select\\r\\n    [value]=\\\"selected$ | async\\\"\\r\\n    [multiple]=\\\"multi\\\"\\r\\n    [placeholder]=\\\"placeholder\\\"\\r\\n    (selectionChange)=\\\"onSelectionChange($event)\\\">\\r\\n    <mat-option *ngIf=\\\"emptyText !== undefined\\\">{{emptyText}}</mat-option>\\r\\n    <mat-option *ngIf=\\\"multi === true\\\" [value]=\\\"multiSelectValue\\\">{{multiText$ | async}}</mat-option>\\r\\n    <ng-template ngFor let-entity [ngForOf]=\\\"store.view.all$() | async\\\">\\r\\n      <mat-option [value]=\\\"entity\\\">\\r\\n        {{titleAccessor(entity)}}\\r\\n      </mat-option>\\r\\n    </ng-template>\\r\\n  </mat-select>\\r\\n</mat-form-field>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"mat-form-field{width:100%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    EntitySelectorComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    EntitySelectorComponent.propDecorators = {\r\n        store: [{ type: Input }],\r\n        titleAccessor: [{ type: Input }],\r\n        emptyText: [{ type: Input }],\r\n        multi: [{ type: Input }],\r\n        multiAllText: [{ type: Input }],\r\n        multiNoneText: [{ type: Input }],\r\n        placeholder: [{ type: Input }],\r\n        selectedChange: [{ type: Output }]\r\n    };\r\n    return EntitySelectorComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar EntityTableComponent = /** @class */ (function () {\r\n    function EntityTableComponent(cdRef) {\r\n        this.cdRef = cdRef;\r\n        /**\r\n         * Reference to the column renderer types\r\n         * \\@internal\r\n         */\r\n        this.entityTableColumnRenderer = EntityTableColumnRenderer;\r\n        /**\r\n         * Reference to the selection states\r\n         * \\@internal\r\n         */\r\n        this.entityTableSelectionState = EntityTableSelectionState;\r\n        /**\r\n         * Observable of the selection,s state\r\n         * \\@internal\r\n         */\r\n        this.selectionState$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Scroll behavior on selection\r\n         */\r\n        this.scrollBehavior = EntityTableScrollBehavior.Auto;\r\n        /**\r\n         * Event emitted when an entity (row) is clicked\r\n         */\r\n        this.entityClick = new EventEmitter();\r\n        /**\r\n         * Event emitted when an entity (row) is selected\r\n         */\r\n        this.entitySelectChange = new EventEmitter();\r\n    }\r\n    Object.defineProperty(EntityTableComponent.prototype, \"headers\", {\r\n        /**\r\n         * Table headers\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Table headers\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var columns = this.template.columns\r\n                .filter((/**\r\n             * @param {?} column\r\n             * @return {?}\r\n             */\r\n            function (column) { return column.visible !== false; }))\r\n                .map((/**\r\n             * @param {?} column\r\n             * @return {?}\r\n             */\r\n            function (column) { return column.name; }));\r\n            if (this.selectionCheckbox === true) {\r\n                columns = ['selectionCheckbox'].concat(columns);\r\n            }\r\n            return columns;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EntityTableComponent.prototype, \"dataSource\", {\r\n        /**\r\n         * Data source consumable by the underlying material table\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Data source consumable by the underlying material table\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.store.view.all$(); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EntityTableComponent.prototype, \"selection\", {\r\n        /**\r\n         * Whether selection is supported\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Whether selection is supported\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.template.selection || false; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EntityTableComponent.prototype, \"selectionCheckbox\", {\r\n        /**\r\n         * Whether a selection checkbox should be displayed\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Whether a selection checkbox should be displayed\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.template.selectionCheckbox || false; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EntityTableComponent.prototype, \"selectMany\", {\r\n        /**\r\n         * Whether selection many entities should eb supported\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Whether selection many entities should eb supported\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.template.selectMany || false; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EntityTableComponent.prototype, \"fixedHeader\", {\r\n        /**\r\n         * Whether selection many entities should eb supported\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Whether selection many entities should eb supported\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.template.fixedHeader === undefined ? true : this.template.fixedHeader; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Track the selection state to properly display the selection checkboxes\r\n     * @internal\r\n     */\r\n    /**\r\n     * Track the selection state to properly display the selection checkboxes\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    EntityTableComponent.prototype.ngOnInit = /**\r\n     * Track the selection state to properly display the selection checkboxes\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.selection$$ = this.store.stateView\r\n            .manyBy$((/**\r\n         * @param {?} record\r\n         * @return {?}\r\n         */\r\n        function (record) { return record.state.selected === true; }))\r\n            .subscribe((/**\r\n         * @param {?} records\r\n         * @return {?}\r\n         */\r\n        function (records) {\r\n            _this.selectionState$.next(_this.computeSelectionState(records));\r\n        }));\r\n    };\r\n    /**\r\n     * When the store change, create a new watcher\r\n     * @internal\r\n     */\r\n    /**\r\n     * When the store change, create a new watcher\r\n     * \\@internal\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    EntityTableComponent.prototype.ngOnChanges = /**\r\n     * When the store change, create a new watcher\r\n     * \\@internal\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    function (changes) {\r\n        /** @type {?} */\r\n        var store = changes.store;\r\n        if (store && store.currentValue !== store.previousValue) {\r\n            if (this.watcher !== undefined) {\r\n                this.watcher.destroy();\r\n            }\r\n            this.watcher = new EntityStoreWatcher(this.store, this.cdRef);\r\n        }\r\n    };\r\n    /**\r\n     * Unbind the store watcher\r\n     * @internal\r\n     */\r\n    /**\r\n     * Unbind the store watcher\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    EntityTableComponent.prototype.ngOnDestroy = /**\r\n     * Unbind the store watcher\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.watcher !== undefined) {\r\n            this.watcher.destroy();\r\n        }\r\n        this.selection$$.unsubscribe();\r\n    };\r\n    /**\r\n     * Trigger a refresh of thre table. This can be useful when\r\n     * the data source doesn't emit a new value but for some reason\r\n     * the records need an update.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Trigger a refresh of thre table. This can be useful when\r\n     * the data source doesn't emit a new value but for some reason\r\n     * the records need an update.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    EntityTableComponent.prototype.refresh = /**\r\n     * Trigger a refresh of thre table. This can be useful when\r\n     * the data source doesn't emit a new value but for some reason\r\n     * the records need an update.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.cdRef.detectChanges();\r\n    };\r\n    /**\r\n     * On sort, sort the store\r\n     * @param event Sort event\r\n     * @internal\r\n     */\r\n    /**\r\n     * On sort, sort the store\r\n     * \\@internal\r\n     * @param {?} event Sort event\r\n     * @return {?}\r\n     */\r\n    EntityTableComponent.prototype.onSort = /**\r\n     * On sort, sort the store\r\n     * \\@internal\r\n     * @param {?} event Sort event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var direction = event.direction;\r\n        /** @type {?} */\r\n        var column = this.template.columns\r\n            .find((/**\r\n         * @param {?} c\r\n         * @return {?}\r\n         */\r\n        function (c) { return c.name === event.active; }));\r\n        if (direction === 'asc' || direction === 'desc') {\r\n            this.store.view.sort({\r\n                valueAccessor: (/**\r\n                 * @param {?} entity\r\n                 * @return {?}\r\n                 */\r\n                function (entity) { return _this.getValue(entity, column); }),\r\n                direction: direction\r\n            });\r\n        }\r\n        else {\r\n            this.store.view.sort(undefined);\r\n        }\r\n    };\r\n    /**\r\n     * When an entity is clicked, emit an event\r\n     * @param entity Entity\r\n     * @internal\r\n     */\r\n    /**\r\n     * When an entity is clicked, emit an event\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    EntityTableComponent.prototype.onRowClick = /**\r\n     * When an entity is clicked, emit an event\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    function (entity) {\r\n        this.entityClick.emit(entity);\r\n    };\r\n    /**\r\n     * When an entity is selected, select it in the store and emit an event. Even if\r\n     * \"many\" is set to true, this method always select a single, exclusive row. Selecting\r\n     * multiple rows should be achieved by using the checkboxes.\r\n     * @param entity Entity\r\n     * @internal\r\n     */\r\n    /**\r\n     * When an entity is selected, select it in the store and emit an event. Even if\r\n     * \"many\" is set to true, this method always select a single, exclusive row. Selecting\r\n     * multiple rows should be achieved by using the checkboxes.\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    EntityTableComponent.prototype.onRowSelect = /**\r\n     * When an entity is selected, select it in the store and emit an event. Even if\r\n     * \"many\" is set to true, this method always select a single, exclusive row. Selecting\r\n     * multiple rows should be achieved by using the checkboxes.\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    function (entity) {\r\n        if (this.selection === false) {\r\n            return;\r\n        }\r\n        // Selecting a\r\n        this.store.state.update(entity, { selected: true }, true);\r\n        this.entitySelectChange.emit({ added: [entity] });\r\n    };\r\n    /**\r\n     * Select or unselect all rows at once. On select, emit an event.\r\n     * @param toggle Select or unselect\r\n     * @internal\r\n     */\r\n    /**\r\n     * Select or unselect all rows at once. On select, emit an event.\r\n     * \\@internal\r\n     * @param {?} toggle Select or unselect\r\n     * @return {?}\r\n     */\r\n    EntityTableComponent.prototype.onToggleRows = /**\r\n     * Select or unselect all rows at once. On select, emit an event.\r\n     * \\@internal\r\n     * @param {?} toggle Select or unselect\r\n     * @return {?}\r\n     */\r\n    function (toggle) {\r\n        if (this.selection === false) {\r\n            return;\r\n        }\r\n        this.store.state.updateAll({ selected: toggle });\r\n        if (toggle === true) {\r\n            this.entitySelectChange.emit({ added: [this.store.view.all()] });\r\n        }\r\n    };\r\n    /**\r\n     * When an entity is toggled, select or unselect it in the store. On select,\r\n     * emit an event.\r\n     * @param toggle Select or unselect\r\n     * @param entity Entity\r\n     * @internal\r\n     */\r\n    /**\r\n     * When an entity is toggled, select or unselect it in the store. On select,\r\n     * emit an event.\r\n     * \\@internal\r\n     * @param {?} toggle Select or unselect\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    EntityTableComponent.prototype.onToggleRow = /**\r\n     * When an entity is toggled, select or unselect it in the store. On select,\r\n     * emit an event.\r\n     * \\@internal\r\n     * @param {?} toggle Select or unselect\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    function (toggle, entity) {\r\n        if (this.selection === false) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var exclusive = toggle === true && !this.selectMany;\r\n        this.store.state.update(entity, { selected: toggle }, exclusive);\r\n        if (toggle === true) {\r\n            this.entitySelectChange.emit({ added: [entity] });\r\n        }\r\n    };\r\n    /**\r\n     * Compute the selection state\r\n     * @returns Whether all, some or no rows are selected\r\n     * @internal\r\n     */\r\n    /**\r\n     * Compute the selection state\r\n     * \\@internal\r\n     * @private\r\n     * @param {?} selectedRecords\r\n     * @return {?} Whether all, some or no rows are selected\r\n     */\r\n    EntityTableComponent.prototype.computeSelectionState = /**\r\n     * Compute the selection state\r\n     * \\@internal\r\n     * @private\r\n     * @param {?} selectedRecords\r\n     * @return {?} Whether all, some or no rows are selected\r\n     */\r\n    function (selectedRecords) {\r\n        /** @type {?} */\r\n        var states = EntityTableSelectionState;\r\n        /** @type {?} */\r\n        var selectionCount = selectedRecords.length;\r\n        return selectionCount === 0 ?\r\n            states.None :\r\n            (selectionCount === this.store.view.count ? states.All : states.Some);\r\n    };\r\n    /**\r\n     * Whether a column is sortable\r\n     * @param column Column\r\n     * @returns True if a column is sortable\r\n     * @internal\r\n     */\r\n    /**\r\n     * Whether a column is sortable\r\n     * \\@internal\r\n     * @param {?} column Column\r\n     * @return {?} True if a column is sortable\r\n     */\r\n    EntityTableComponent.prototype.columnIsSortable = /**\r\n     * Whether a column is sortable\r\n     * \\@internal\r\n     * @param {?} column Column\r\n     * @return {?} True if a column is sortable\r\n     */\r\n    function (column) {\r\n        /** @type {?} */\r\n        var sortable = column.sort;\r\n        if (sortable === undefined) {\r\n            sortable = this.template.sort === undefined ? false : this.template.sort;\r\n        }\r\n        return sortable;\r\n    };\r\n    /**\r\n     * Whether a row is should be selected based on the underlying entity state\r\n     * @param entity Entity\r\n     * @returns True if a row should be selected\r\n     * @internal\r\n     */\r\n    /**\r\n     * Whether a row is should be selected based on the underlying entity state\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @return {?} True if a row should be selected\r\n     */\r\n    EntityTableComponent.prototype.rowIsSelected = /**\r\n     * Whether a row is should be selected based on the underlying entity state\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @return {?} True if a row should be selected\r\n     */\r\n    function (entity) {\r\n        /** @type {?} */\r\n        var state$$1 = this.store.state.get(entity);\r\n        return state$$1.selected ? state$$1.selected : false;\r\n    };\r\n    /**\r\n     * Method to access an entity's values\r\n     * @param entity Entity\r\n     * @param column Column\r\n     * @returns Any value\r\n     * @internal\r\n     */\r\n    /**\r\n     * Method to access an entity's values\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @param {?} column Column\r\n     * @return {?} Any value\r\n     */\r\n    EntityTableComponent.prototype.getValue = /**\r\n     * Method to access an entity's values\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @param {?} column Column\r\n     * @return {?} Any value\r\n     */\r\n    function (entity, column) {\r\n        if (column.valueAccessor !== undefined) {\r\n            return column.valueAccessor(entity);\r\n        }\r\n        if (this.template.valueAccessor !== undefined) {\r\n            return this.template.valueAccessor(entity, column.name);\r\n        }\r\n        return this.store.getProperty(entity, column.name);\r\n    };\r\n    /**\r\n     * Return the type of renderer of a column\r\n     * @param column Column\r\n     * @returns Renderer type\r\n     * @internal\r\n     */\r\n    /**\r\n     * Return the type of renderer of a column\r\n     * \\@internal\r\n     * @param {?} column Column\r\n     * @return {?} Renderer type\r\n     */\r\n    EntityTableComponent.prototype.getColumnRenderer = /**\r\n     * Return the type of renderer of a column\r\n     * \\@internal\r\n     * @param {?} column Column\r\n     * @return {?} Renderer type\r\n     */\r\n    function (column) {\r\n        if (column.renderer !== undefined) {\r\n            return column.renderer;\r\n        }\r\n        return EntityTableColumnRenderer.Default;\r\n    };\r\n    /**\r\n     * Return the table ngClass\r\n     * @returns ngClass\r\n     * @internal\r\n     */\r\n    /**\r\n     * Return the table ngClass\r\n     * \\@internal\r\n     * @return {?} ngClass\r\n     */\r\n    EntityTableComponent.prototype.getTableClass = /**\r\n     * Return the table ngClass\r\n     * \\@internal\r\n     * @return {?} ngClass\r\n     */\r\n    function () {\r\n        return {\r\n            'igo-entity-table-with-selection': this.selection\r\n        };\r\n    };\r\n    /**\r\n     * Return a header ngClass\r\n     * @returns ngClass\r\n     * @internal\r\n     */\r\n    /**\r\n     * Return a header ngClass\r\n     * \\@internal\r\n     * @return {?} ngClass\r\n     */\r\n    EntityTableComponent.prototype.getHeaderClass = /**\r\n     * Return a header ngClass\r\n     * \\@internal\r\n     * @return {?} ngClass\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var func = this.template.headerClassFunc;\r\n        if (func instanceof Function) {\r\n            return func();\r\n        }\r\n        return {};\r\n    };\r\n    /**\r\n     * Return a row ngClass\r\n     * @param entity Entity\r\n     * @returns ngClass\r\n     * @internal\r\n     */\r\n    /**\r\n     * Return a row ngClass\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @return {?} ngClass\r\n     */\r\n    EntityTableComponent.prototype.getRowClass = /**\r\n     * Return a row ngClass\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @return {?} ngClass\r\n     */\r\n    function (entity) {\r\n        /** @type {?} */\r\n        var func = this.template.rowClassFunc;\r\n        if (func instanceof Function) {\r\n            return func(entity);\r\n        }\r\n        return {};\r\n    };\r\n    /**\r\n     * Return a row ngClass\r\n     * @param entity Entity\r\n     * @param column Column\r\n     * @returns ngClass\r\n     * @internal\r\n     */\r\n    /**\r\n     * Return a row ngClass\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @param {?} column Column\r\n     * @return {?} ngClass\r\n     */\r\n    EntityTableComponent.prototype.getCellClass = /**\r\n     * Return a row ngClass\r\n     * \\@internal\r\n     * @param {?} entity Entity\r\n     * @param {?} column Column\r\n     * @return {?} ngClass\r\n     */\r\n    function (entity, column) {\r\n        /** @type {?} */\r\n        var cls = {};\r\n        /** @type {?} */\r\n        var tableFunc = this.template.cellClassFunc;\r\n        if (tableFunc instanceof Function) {\r\n            Object.assign(cls, tableFunc(entity, column));\r\n        }\r\n        /** @type {?} */\r\n        var columnFunc = column.cellClassFunc;\r\n        if (columnFunc instanceof Function) {\r\n            Object.assign(cls, columnFunc(entity));\r\n        }\r\n        return cls;\r\n    };\r\n    /**\r\n     * When a button is clicked\r\n     * @param func Function\r\n     * @param entity Entity\r\n     * @internal\r\n     */\r\n    /**\r\n     * When a button is clicked\r\n     * \\@internal\r\n     * @param {?} clickFunc\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    EntityTableComponent.prototype.onButtonClick = /**\r\n     * When a button is clicked\r\n     * \\@internal\r\n     * @param {?} clickFunc\r\n     * @param {?} entity Entity\r\n     * @return {?}\r\n     */\r\n    function (clickFunc, entity) {\r\n        if (typeof clickFunc === 'function') {\r\n            clickFunc(entity);\r\n        }\r\n    };\r\n    EntityTableComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-entity-table',\r\n                    template: \"<div class=\\\"table-container\\\">\\r\\n  <table\\r\\n    mat-table\\r\\n    matSort\\r\\n    [ngClass]=\\\"getTableClass()\\\"\\r\\n    [dataSource]=\\\"dataSource\\\"\\r\\n    (matSortChange)=\\\"onSort($event)\\\">\\r\\n\\r\\n    <ng-container matColumnDef=\\\"selectionCheckbox\\\" class=\\\"mat-cell-checkbox\\\">\\r\\n      <th mat-header-cell *matHeaderCellDef>\\r\\n        <ng-container *ngIf=\\\"selectMany\\\">\\r\\n          <ng-container *ngIf=\\\"selectionState$ | async as selectionState\\\">\\r\\n            <mat-checkbox (change)=\\\"onToggleRows($event.checked)\\\"\\r\\n                          [checked]=\\\"selectionState === entityTableSelectionState.All\\\"\\r\\n                          [indeterminate]=\\\"selectionState === entityTableSelectionState.Some\\\">\\r\\n            </mat-checkbox>\\r\\n          </ng-container>\\r\\n        </ng-container>\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\\\"let entity\\\">\\r\\n        <mat-checkbox (click)=\\\"$event.stopPropagation()\\\"\\r\\n                      (change)=\\\"onToggleRow($event.checked, entity)\\\"\\r\\n                      [checked]=\\\"rowIsSelected(entity)\\\">\\r\\n        </mat-checkbox>\\r\\n      </td>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container [matColumnDef]=\\\"column.name\\\" *ngFor=\\\"let column of template.columns\\\">\\r\\n      <ng-container *ngIf=\\\"columnIsSortable(column)\\\">\\r\\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>\\r\\n          {{column.title}}\\r\\n        </th>\\r\\n      </ng-container>\\r\\n\\r\\n      <ng-container *ngIf=\\\"!columnIsSortable(column)\\\">\\r\\n        <th mat-header-cell *matHeaderCellDef>\\r\\n          {{column.title}}\\r\\n        </th>\\r\\n      </ng-container>\\r\\n\\r\\n      <ng-container *ngIf=\\\"getColumnRenderer(column) as columnRenderer\\\">\\r\\n        <ng-container *ngIf=\\\"columnRenderer === entityTableColumnRenderer.Default\\\">\\r\\n            <td mat-cell *matCellDef=\\\"let entity\\\" class=\\\"mat-cell-text\\\"\\r\\n              [ngClass]=\\\"getCellClass(entity, column)\\\">\\r\\n              {{getValue(entity, column)}}\\r\\n            </td>\\r\\n          </ng-container>\\r\\n          <ng-container *ngIf=\\\"columnRenderer === entityTableColumnRenderer.HTML\\\">\\r\\n            <td mat-cell *matCellDef=\\\"let entity\\\" class=\\\"mat-cell-text\\\"\\r\\n              [ngClass]=\\\"getCellClass(entity, column)\\\"\\r\\n              [innerHTML]=\\\"getValue(entity, column)\\\">\\r\\n            </td>\\r\\n          </ng-container>\\r\\n          <ng-container *ngIf=\\\"columnRenderer === entityTableColumnRenderer.UnsanitizedHTML\\\">\\r\\n              <td mat-cell *matCellDef=\\\"let entity\\\" class=\\\"mat-cell-text\\\"\\r\\n                [ngClass]=\\\"getCellClass(entity, column)\\\"\\r\\n                [innerHTML]=\\\"getValue(entity, column) | sanitizeHtml\\\">\\r\\n              </td>\\r\\n            </ng-container>\\r\\n          <ng-container *ngIf=\\\"columnRenderer === entityTableColumnRenderer.Icon\\\">\\r\\n            <td mat-cell *matCellDef=\\\"let entity\\\" class=\\\"mat-cell-text\\\"\\r\\n              [ngClass]=\\\"getCellClass(entity, column)\\\">\\r\\n              <mat-icon svgIcon=\\\"{{getValue(entity, column)}}\\\"></mat-icon>\\r\\n            </td>\\r\\n          </ng-container>\\r\\n          <ng-container *ngIf=\\\"columnRenderer === entityTableColumnRenderer.ButtonGroup\\\">\\r\\n            <td mat-cell *matCellDef=\\\"let entity\\\" class=\\\"mat-cell-text\\\"\\r\\n              [ngClass]=\\\"getCellClass(entity, column)\\\">\\r\\n              <span *ngFor=\\\"let button of getValue(entity, column)\\\">\\r\\n                <button *ngIf=\\\"button.style === 'mat-icon-button'\\\"\\r\\n                  igoStopPropagation\\r\\n                  mat-icon-button\\r\\n                  [color]=\\\"button.color\\\"\\r\\n                  (click)=\\\"onButtonClick(button.click, entity)\\\">\\r\\n                  <mat-icon svgIcon=\\\"{{button.icon}}\\\"></mat-icon>\\r\\n                </button>\\r\\n                <button *ngIf=\\\"button.style !== 'mat-icon-button'\\\"\\r\\n                  igoStopPropagation\\r\\n                  mat-mini-fab\\r\\n                  [color]=\\\"button.color\\\"\\r\\n                  (click)=\\\"onButtonClick(button.click, entity)\\\">\\r\\n                  <mat-icon svgIcon=\\\"{{button.icon}}\\\"></mat-icon>\\r\\n                </button>\\r\\n              </span>\\r\\n            </td>\\r\\n          </ng-container>\\r\\n      </ng-container>\\r\\n    </ng-container>\\r\\n\\r\\n    <tr\\r\\n      mat-header-row\\r\\n      *matHeaderRowDef=\\\"headers; sticky: fixedHeader;\\\"\\r\\n      [ngClass]=\\\"getHeaderClass()\\\">\\r\\n    </tr>\\r\\n    <tr\\r\\n      mat-row\\r\\n      igoEntityTableRow\\r\\n      *matRowDef=\\\"let entity; columns: headers;\\\"\\r\\n      [scrollBehavior]=\\\"scrollBehavior\\\"\\r\\n      [ngClass]=\\\"getRowClass(entity)\\\"\\r\\n      [selection]=\\\"selection\\\"\\r\\n      [selected]=\\\"rowIsSelected(entity)\\\"\\r\\n      (select)=\\\"onRowSelect(entity)\\\"\\r\\n      (click)=\\\"onRowClick(entity)\\\">\\r\\n    </tr>\\r\\n\\r\\n  </table>\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{width:100%;height:100%;display:block}:host.table-compact ::ng-deep .mat-checkbox .mat-checkbox-ripple,:host.table-compact tr.mat-header-row{height:36px}:host.table-compact ::ng-deep .mat-checkbox .mat-checkbox-ripple,:host.table-compact tr.mat-row{height:28px}.table-container{display:flex;flex-direction:column;height:100%;overflow:auto;flex:1 1 auto}.mat-cell-text{overflow:hidden;word-wrap:break-word}entity-table table.igo-entity-table-with-selection tr:hover{-o-box-shadow:2px 0 2px 0 #ddd;box-shadow:2px 0 2px 0 #ddd;cursor:pointer}table button{margin:7px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    EntityTableComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    EntityTableComponent.propDecorators = {\r\n        store: [{ type: Input }],\r\n        template: [{ type: Input }],\r\n        scrollBehavior: [{ type: Input }],\r\n        entityClick: [{ type: Output }],\r\n        entitySelectChange: [{ type: Output }]\r\n    };\r\n    return EntityTableComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar ActionbarMode = {\r\n    Dock: 'dock',\r\n    Overlay: 'overlay',\r\n    Context: 'context',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * The class is a specialized version of an EntityStore that stores\r\n * actions.\r\n */\r\nvar  /**\r\n * The class is a specialized version of an EntityStore that stores\r\n * actions.\r\n */\r\nActionStore = /** @class */ (function (_super) {\r\n    __extends(ActionStore, _super);\r\n    function ActionStore() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Update actions availability. That means disabling or enabling some\r\n     * actions based on the conditions they define.\r\n     */\r\n    /**\r\n     * Update actions availability. That means disabling or enabling some\r\n     * actions based on the conditions they define.\r\n     * @return {?}\r\n     */\r\n    ActionStore.prototype.updateActionsAvailability = /**\r\n     * Update actions availability. That means disabling or enabling some\r\n     * actions based on the conditions they define.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var availables = [];\r\n        /** @type {?} */\r\n        var unavailables = [];\r\n        this.entities$.value.forEach((/**\r\n         * @param {?} action\r\n         * @return {?}\r\n         */\r\n        function (action) {\r\n            /** @type {?} */\r\n            var conditions = action.conditions || [];\r\n            /** @type {?} */\r\n            var args = action.conditionArgs || [];\r\n            /** @type {?} */\r\n            var available = conditions.every((/**\r\n             * @param {?} condition\r\n             * @return {?}\r\n             */\r\n            function (condition) {\r\n                return condition.apply(void 0, __spread(args));\r\n            }));\r\n            available ? availables.push(action) : unavailables.push(action);\r\n        }));\r\n        if (unavailables.length > 0) {\r\n            this.state.updateMany(unavailables, {\r\n                disabled: true,\r\n                active: false\r\n            });\r\n        }\r\n        if (availables.length > 0) {\r\n            this.state.updateMany(availables, {\r\n                disabled: false\r\n            });\r\n        }\r\n    };\r\n    return ActionStore;\r\n}(EntityStore));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * A list of action buttons.\r\n * This component can be displayed in one of two way: 'dock' or 'overlay'\r\n */\r\nvar ActionbarComponent = /** @class */ (function () {\r\n    function ActionbarComponent(cdRef, overlay) {\r\n        var _this = this;\r\n        this.cdRef = cdRef;\r\n        this.overlay = overlay;\r\n        /**\r\n         * Reference to the ActionbarMode enum for use in the template\r\n         * \\@internal\r\n         */\r\n        this.actionbarMode = ActionbarMode;\r\n        /**\r\n         * Whether the actionbar is collapsed (Dock mode)\r\n         * \\@internal\r\n         */\r\n        this.collapsed = false;\r\n        /**\r\n         * Toggle collapse action (Dock)\r\n         * \\@internal\r\n         */\r\n        this.toggleCollapseAction = {\r\n            id: 'actionbar_toggle',\r\n            icon: 'dots-vertical',\r\n            handler: (/**\r\n             * @return {?}\r\n             */\r\n            function () {\r\n                _this.collapsed = !_this.collapsed;\r\n            })\r\n        };\r\n        /**\r\n         * Actionbar mode\r\n         */\r\n        this.mode = ActionbarMode.Dock;\r\n        /**\r\n         * Whether a toggle button should be displayed (Dock mode)\r\n         */\r\n        this.withToggleButton = false;\r\n        /**\r\n         * Whether a the actionbar should display buttons horizontally\r\n         */\r\n        this.horizontal = false;\r\n        /**\r\n         * Color\r\n         */\r\n        this.color = 'default';\r\n        /**\r\n         * Whether action titles are displayed\r\n         */\r\n        this.withTitle = true;\r\n        /**\r\n         * Whether action icons are displayed\r\n         */\r\n        this.withIcon = true;\r\n        /**\r\n         * Overlay X position\r\n         */\r\n        this.xPosition = 'before';\r\n        /**\r\n         * Overlay X position\r\n         */\r\n        this.yPosition = 'above';\r\n        this._overlayClass = '';\r\n        /**\r\n         * Function to add class to item actionbar\r\n         */\r\n        this.itemClassFunc = ActionbarComponent.defaultItemClassFunc;\r\n    }\r\n    Object.defineProperty(ActionbarComponent.prototype, \"overlayClass\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return [this._overlayClass, 'igo-actionbar-overlay'].join(' ');\r\n        },\r\n        /**\r\n         * Class to add to the actionbar overlay\r\n         */\r\n        set: /**\r\n         * Class to add to the actionbar overlay\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._overlayClass = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ActionbarComponent.prototype, \"withTitleClass\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: /**\r\n         * @ignore\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.withTitle;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ActionbarComponent.prototype, \"withIconClass\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: /**\r\n         * @ignore\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.withIcon;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ActionbarComponent.prototype, \"horizontalClass\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: /**\r\n         * @ignore\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.horizontal;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} action\r\n     * @return {?}\r\n     */\r\n    ActionbarComponent.defaultItemClassFunc = /**\r\n     * @param {?} action\r\n     * @return {?}\r\n     */\r\n    function (action) {\r\n        return {};\r\n    };\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    ActionbarComponent.prototype.ngOnChanges = /**\r\n     * \\@internal\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    function (changes) {\r\n        /** @type {?} */\r\n        var store = changes.store;\r\n        if (store && store.currentValue !== store.previousValue) {\r\n            if (this.watcher !== undefined) {\r\n                this.watcher.destroy();\r\n            }\r\n            this.watcher = new EntityStoreWatcher(this.store, this.cdRef);\r\n        }\r\n    };\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    ActionbarComponent.prototype.ngOnDestroy = /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.watcher.destroy();\r\n    };\r\n    /**\r\n     * Invoke the action handler\r\n     * @internal\r\n     */\r\n    /**\r\n     * Invoke the action handler\r\n     * \\@internal\r\n     * @param {?} action\r\n     * @return {?}\r\n     */\r\n    ActionbarComponent.prototype.onTriggerAction = /**\r\n     * Invoke the action handler\r\n     * \\@internal\r\n     * @param {?} action\r\n     * @return {?}\r\n     */\r\n    function (action) {\r\n        /** @type {?} */\r\n        var args = action.args || [];\r\n        action.handler.apply(action, __spread(args));\r\n    };\r\n    ActionbarComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-actionbar',\r\n                    template: \"<mat-list *ngIf=\\\"mode === actionbarMode.Dock\\\">\\r\\n\\r\\n  <igo-actionbar-item\\r\\n    *ngIf=\\\"withToggleButton\\\"\\r\\n    color=\\\"accent\\\"\\r\\n    [withTitle]=\\\"false\\\"\\r\\n    [withIcon]=\\\"true\\\"\\r\\n    [color]=\\\"color\\\"\\r\\n    [disabled]=\\\"store.view.empty\\\"\\r\\n    [action]=\\\"toggleCollapseAction\\\"\\r\\n    (trigger)=\\\"onTriggerAction(toggleCollapseAction)\\\">\\r\\n  </igo-actionbar-item>\\r\\n\\r\\n  <ng-template *ngIf=\\\"!collapsed\\\" ngFor let-action [ngForOf]=\\\"store.view.all$() | async\\\">\\r\\n    <igo-actionbar-item\\r\\n      [ngClass]=\\\"itemClassFunc(action)\\\"\\r\\n      color=\\\"accent\\\"\\r\\n      [withTitle]=\\\"withTitle\\\"\\r\\n      [withIcon]=\\\"withIcon\\\"\\r\\n      [color]=\\\"color\\\"\\r\\n      [disabled]=\\\"store.state.get(action).disabled\\\"\\r\\n      [action]=\\\"action\\\"\\r\\n      (trigger)=\\\"onTriggerAction(action)\\\">\\r\\n    </igo-actionbar-item>\\r\\n  </ng-template>\\r\\n</mat-list>\\r\\n\\r\\n<div *ngIf=\\\"mode === actionbarMode.Overlay\\\">\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    [matMenuTriggerFor]=\\\"actionbarMenu\\\"\\r\\n    [disabled]=\\\"store.view.empty\\\">\\r\\n    <mat-icon svgIcon=\\\"dots-horizontal\\\"></mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <mat-menu\\r\\n    #actionbarMenu=\\\"matMenu\\\"\\r\\n    class=\\\"igo-compact-menu igo-no-min-width-menu\\\"\\r\\n    overlapTrigger=\\\"true\\\"\\r\\n    [xPosition]=\\\"xPosition\\\"\\r\\n    [yPosition]=\\\"yPosition\\\"\\r\\n    [class]=\\\"overlayClass\\\">\\r\\n\\r\\n    <mat-list>\\r\\n      <ng-template ngFor let-action [ngForOf]=\\\"store.view.all$() | async\\\">\\r\\n        <igo-actionbar-item\\r\\n          color=\\\"accent\\\"\\r\\n          [withTitle]=\\\"withTitle\\\"\\r\\n          [withIcon]=\\\"withIcon\\\"\\r\\n          [color]=\\\"color\\\"\\r\\n          [disabled]=\\\"store.state.get(action).disabled\\\"\\r\\n          [action]=\\\"action\\\"\\r\\n          (trigger)=\\\"onTriggerAction(action)\\\">\\r\\n        </igo-actionbar-item>\\r\\n      </ng-template>\\r\\n    </mat-list>\\r\\n  </mat-menu>\\r\\n</div>\\r\\n<mat-card *ngIf=\\\"mode === actionbarMode.Context\\\" class=\\\"context-menu-card mat-elevation-z4\\\">\\r\\n  <mat-list>\\r\\n      <ng-template ngFor let-action [ngForOf]=\\\"store.view.all$() | async\\\">\\r\\n          <igo-actionbar-item\\r\\n            color=\\\"accent\\\"\\r\\n            [withTitle]=\\\"withTitle\\\"\\r\\n            [withIcon]=\\\"withIcon\\\"\\r\\n            [color]=\\\"color\\\"\\r\\n            [disabled]=\\\"store.state.get(action).disabled\\\"\\r\\n            [action]=\\\"action\\\"\\r\\n            (trigger)=\\\"onTriggerAction(action)\\\">\\r\\n          </igo-actionbar-item>\\r\\n        <br/>\\r\\n      </ng-template>\\r\\n  </mat-list>\\r\\n</mat-card>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{display:block;height:100%;overflow:auto;position:relative}button{margin:4px}mat-list{padding-top:0}:host.horizontal{max-width:100%;overflow:hidden}:host.horizontal mat-list{width:auto;white-space:nowrap}:host.horizontal igo-actionbar-item{display:inline-block}:host ::ng-deep .mat-list .mat-list-item .mat-list-text>*{white-space:normal;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;max-height:36px;line-height:18px;-webkit-line-clamp:2}:host ::ng-deep .mat-list-base .mat-list-item.mat-list-item-with-avatar{height:46px}:host ::ng-deep .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content{display:-webkit-flex;height:46px;padding:3px}:host ::ng-deep .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content>mat-icon{padding:8px}igo-actionbar-item ::ng-deep mat-list-item [mat-list-avatar]{height:auto;width:40px}igo-actionbar-item ::ng-deep mat-list-item:hover{cursor:pointer}.context-menu-card{padding:8px 3px;margin:10px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ActionbarComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef },\r\n        { type: Overlay }\r\n    ]; };\r\n    ActionbarComponent.propDecorators = {\r\n        store: [{ type: Input }],\r\n        mode: [{ type: Input }],\r\n        withToggleButton: [{ type: Input }],\r\n        horizontal: [{ type: Input }],\r\n        color: [{ type: Input }],\r\n        withTitle: [{ type: Input }],\r\n        withIcon: [{ type: Input }],\r\n        xPosition: [{ type: Input }],\r\n        yPosition: [{ type: Input }],\r\n        overlayClass: [{ type: Input }],\r\n        itemClassFunc: [{ type: Input }],\r\n        withTitleClass: [{ type: HostBinding, args: ['class.with-title',] }],\r\n        withIconClass: [{ type: HostBinding, args: ['class.with-icon',] }],\r\n        horizontalClass: [{ type: HostBinding, args: ['class.horizontal',] }]\r\n    };\r\n    return ActionbarComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * An action button\r\n */\r\nvar ActionbarItemComponent = /** @class */ (function () {\r\n    function ActionbarItemComponent() {\r\n        /**\r\n         * Color\r\n         */\r\n        this.color = 'default';\r\n        /**\r\n         * Whether the action title is displayed\r\n         */\r\n        this.withTitle = true;\r\n        /**\r\n         * Whether the action icon is displayed\r\n         */\r\n        this.withIcon = true;\r\n        /**\r\n         * Whether the action is disabled\r\n         */\r\n        this.disabled = false;\r\n        /**\r\n         * Event emitted when the action button is clicked\r\n         */\r\n        this.trigger = new EventEmitter();\r\n    }\r\n    Object.defineProperty(ActionbarItemComponent.prototype, \"title\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.action.title; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ActionbarItemComponent.prototype, \"tooltip\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.action.tooltip || this.title; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ActionbarItemComponent.prototype, \"icon\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.action.icon; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * When the action button is clicked, emit the 'trigger' event but don't\r\n     * invoke the action handler. This is handled by the parent component.\r\n     * @internal\r\n     */\r\n    /**\r\n     * When the action button is clicked, emit the 'trigger' event but don't\r\n     * invoke the action handler. This is handled by the parent component.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    ActionbarItemComponent.prototype.onClick = /**\r\n     * When the action button is clicked, emit the 'trigger' event but don't\r\n     * invoke the action handler. This is handled by the parent component.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.disabled === true) {\r\n            return;\r\n        }\r\n        this.trigger.emit(this.action);\r\n    };\r\n    ActionbarItemComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-actionbar-item',\r\n                    template: \"<mat-list-item\\r\\n  matTooltipClass=\\\"actionbarItemTooltip\\\"\\r\\n  matTooltipShowDelay=\\\"500\\\"\\r\\n  [matTooltip]=\\\"tooltip | translate\\\"\\r\\n  [ngClass]=\\\"{'igo-actionbar-item-disabled': disabled}\\\"\\r\\n  (click)=\\\"onClick()\\\">\\r\\n  <button *ngIf=\\\"withIcon\\\"\\r\\n    mat-list-avatar\\r\\n    mat-icon-button\\r\\n    [color]=\\\"color\\\"\\r\\n    [disabled]=\\\"disabled\\\">\\r\\n    <mat-icon *ngIf=\\\"withIcon\\\" svgIcon=\\\"{{icon}}\\\"></mat-icon>\\r\\n  </button>\\r\\n  <h4 *ngIf=\\\"withTitle\\\" matLine>{{title | translate}}</h4>\\r\\n</mat-list-item>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"mat-list-item.igo-actionbar-item-disabled{color:rgba(0,0,0,.26);cursor:default!important}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ActionbarItemComponent.ctorParameters = function () { return []; };\r\n    ActionbarItemComponent.propDecorators = {\r\n        action: [{ type: Input }],\r\n        color: [{ type: Input }],\r\n        withTitle: [{ type: Input }],\r\n        withIcon: [{ type: Input }],\r\n        disabled: [{ type: Input }],\r\n        trigger: [{ type: Output }]\r\n    };\r\n    return ActionbarItemComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoActionbarModule = /** @class */ (function () {\r\n    function IgoActionbarModule() {\r\n    }\r\n    IgoActionbarModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoLanguageModule,\r\n                        MatButtonModule,\r\n                        MatIconModule,\r\n                        MatTooltipModule,\r\n                        MatMenuModule,\r\n                        MatListModule,\r\n                        MatCardModule\r\n                    ],\r\n                    exports: [ActionbarComponent],\r\n                    declarations: [ActionbarComponent, ActionbarItemComponent]\r\n                },] }\r\n    ];\r\n    return IgoActionbarModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoActionModule = /** @class */ (function () {\r\n    function IgoActionModule() {\r\n    }\r\n    IgoActionModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoActionbarModule\r\n                    ],\r\n                    exports: [\r\n                        IgoActionbarModule\r\n                    ],\r\n                    declarations: [],\r\n                    providers: []\r\n                },] }\r\n    ];\r\n    return IgoActionModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar BackdropComponent = /** @class */ (function () {\r\n    function BackdropComponent() {\r\n    }\r\n    Object.defineProperty(BackdropComponent.prototype, \"shown\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._shown;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._shown = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BackdropComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-backdrop',\r\n                    template: \"<div [ngClass]=\\\"{'igo-backdrop-shown': shown}\\\"></div>\\r\\n\",\r\n                    styles: [\":host>div{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(100,100,100,.5);z-index:2;display:none}:host>div.igo-backdrop-shown{display:block}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    BackdropComponent.ctorParameters = function () { return []; };\r\n    BackdropComponent.propDecorators = {\r\n        shown: [{ type: Input }]\r\n    };\r\n    return BackdropComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoBackdropModule = /** @class */ (function () {\r\n    function IgoBackdropModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoBackdropModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoBackdropModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoBackdropModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [CommonModule],\r\n                    declarations: [BackdropComponent],\r\n                    exports: [BackdropComponent]\r\n                },] }\r\n    ];\r\n    return IgoBackdropModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ClickoutDirective = /** @class */ (function () {\r\n    function ClickoutDirective(el) {\r\n        this.el = el;\r\n        this.clickout = new EventEmitter();\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\r\n    ClickoutDirective.prototype.handleMouseClick = /**\r\n     * @param {?} event\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\r\n    function (event, target) {\r\n        if (!target) {\r\n            return;\r\n        }\r\n        if (!this.el.nativeElement.contains(target)) {\r\n            this.clickout.emit(event);\r\n        }\r\n    };\r\n    ClickoutDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoClickout]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ClickoutDirective.ctorParameters = function () { return [\r\n        { type: ElementRef }\r\n    ]; };\r\n    ClickoutDirective.propDecorators = {\r\n        clickout: [{ type: Output }],\r\n        handleMouseClick: [{ type: HostListener, args: ['document:click', ['$event', '$event.target'],] }]\r\n    };\r\n    return ClickoutDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoClickoutModule = /** @class */ (function () {\r\n    function IgoClickoutModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoClickoutModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoClickoutModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoClickoutModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [ClickoutDirective],\r\n                    exports: [ClickoutDirective]\r\n                },] }\r\n    ];\r\n    return IgoClickoutModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ClonePipe = /** @class */ (function () {\r\n    function ClonePipe() {\r\n    }\r\n    /**\r\n     * @param {?} value\r\n     * @param {?=} args\r\n     * @return {?}\r\n     */\r\n    ClonePipe.prototype.transform = /**\r\n     * @param {?} value\r\n     * @param {?=} args\r\n     * @return {?}\r\n     */\r\n    function (value, args) {\r\n        if (value === undefined) {\r\n            return value;\r\n        }\r\n        if (value instanceof Array) {\r\n            return value.map((/**\r\n             * @param {?} obj\r\n             * @return {?}\r\n             */\r\n            function (obj) { return Object.assign(Object.create(obj), obj); }));\r\n        }\r\n        else {\r\n            return Object.assign(Object.create(value), value);\r\n        }\r\n    };\r\n    ClonePipe.decorators = [\r\n        { type: Pipe, args: [{\r\n                    name: 'clone'\r\n                },] }\r\n    ];\r\n    return ClonePipe;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoCloneModule = /** @class */ (function () {\r\n    function IgoCloneModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoCloneModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoCloneModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoCloneModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [ClonePipe],\r\n                    exports: [ClonePipe]\r\n                },] }\r\n    ];\r\n    return IgoCloneModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar CollapseDirective = /** @class */ (function () {\r\n    function CollapseDirective(renderer, el) {\r\n        this.renderer = renderer;\r\n        this.el = el;\r\n        this._collapsed = false;\r\n        this.toggle = new EventEmitter();\r\n    }\r\n    Object.defineProperty(CollapseDirective.prototype, \"target\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._target;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._target = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CollapseDirective.prototype, \"collapsed\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._collapsed;\r\n        },\r\n        set: /**\r\n         * @param {?} collapsed\r\n         * @return {?}\r\n         */\r\n        function (collapsed) {\r\n            collapsed ? this.collapseTarget() : this.expandTarget();\r\n            this._collapsed = collapsed;\r\n            this.toggle.emit(collapsed);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CollapseDirective.prototype.click = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.collapsed = !this.collapsed;\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    CollapseDirective.prototype.collapseTarget = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.renderer.addClass(this.target, 'igo-collapsed');\r\n        this.renderer.addClass(this.el.nativeElement, 'collapsed');\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    CollapseDirective.prototype.expandTarget = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.renderer.removeClass(this.target, 'igo-collapsed');\r\n        this.renderer.removeClass(this.el.nativeElement, 'collapsed');\r\n    };\r\n    CollapseDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoCollapse]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    CollapseDirective.ctorParameters = function () { return [\r\n        { type: Renderer2 },\r\n        { type: ElementRef }\r\n    ]; };\r\n    CollapseDirective.propDecorators = {\r\n        target: [{ type: Input }],\r\n        collapsed: [{ type: Input }],\r\n        toggle: [{ type: Output }],\r\n        click: [{ type: HostListener, args: ['click',] }]\r\n    };\r\n    return CollapseDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar CollapsibleComponent = /** @class */ (function () {\r\n    function CollapsibleComponent() {\r\n        this._title = '';\r\n        this._collapsed = false;\r\n    }\r\n    Object.defineProperty(CollapsibleComponent.prototype, \"title\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._title;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._title = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CollapsibleComponent.prototype, \"collapsed\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._collapsed;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._collapsed = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CollapsibleComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-collapsible',\r\n                    template: \"<mat-list-item>\\r\\n  <mat-icon\\r\\n    svgIcon=\\\"chevron-up\\\" \\r\\n    class=\\\"igo-chevron\\\"\\r\\n    mat-list-avatar\\r\\n    igoCollapse\\r\\n    [target]=\\\"content\\\"\\r\\n    [collapsed]=\\\"collapsed\\\">\\r\\n  </mat-icon>\\r\\n  <h4 matLine>{{title}}</h4>\\r\\n</mat-list-item>\\r\\n\\r\\n<div #content>\\r\\n  <ng-content></ng-content>\\r\\n</div>\\r\\n\",\r\n                    styles: [\":host>>>.mat-list .mat-list-item.mat-list-avatar{height:auto;width:auto;padding:0}mat-list-item{overflow:hidden}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    CollapsibleComponent.ctorParameters = function () { return []; };\r\n    CollapsibleComponent.propDecorators = {\r\n        title: [{ type: Input }],\r\n        collapsed: [{ type: Input }]\r\n    };\r\n    return CollapsibleComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoCollapsibleModule = /** @class */ (function () {\r\n    function IgoCollapsibleModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoCollapsibleModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoCollapsibleModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoCollapsibleModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [MatIconModule, MatListModule],\r\n                    declarations: [CollapsibleComponent, CollapseDirective],\r\n                    exports: [CollapsibleComponent, CollapseDirective]\r\n                },] }\r\n    ];\r\n    return IgoCollapsibleModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ConfirmDialogComponent = /** @class */ (function () {\r\n    function ConfirmDialogComponent(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n    }\r\n    ConfirmDialogComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-confirm-dialog',\r\n                    template: \"<h2 mat-dialog-title>{{'igo.common.confirmDialog.title' |\\u00A0translate}}</h2>\\r\\n<div mat-dialog-content>{{confirmMessage}}</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button color=\\\"primary\\\" (click)=\\\"dialogRef.close(true)\\\">{{'igo.common.confirmDialog.confirmBtn' | translate}}</button>\\r\\n  <button mat-button (click)=\\\"dialogRef.close(false)\\\">{{'igo.common.confirmDialog.cancelBtn' |\\u00A0translate}}</button>\\r\\n</div>\\r\\n\",\r\n                    styles: [\"h2{margin:5px 0 10px}div[mat-dialog-content]{max-width:200px}div[mat-dialog-actions]{margin:10px 0 0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ConfirmDialogComponent.ctorParameters = function () { return [\r\n        { type: MatDialogRef }\r\n    ]; };\r\n    return ConfirmDialogComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ConfirmDialogService = /** @class */ (function () {\r\n    function ConfirmDialogService(dialog) {\r\n        this.dialog = dialog;\r\n    }\r\n    /**\r\n     * @param {?} message\r\n     * @return {?}\r\n     */\r\n    ConfirmDialogService.prototype.open = /**\r\n     * @param {?} message\r\n     * @return {?}\r\n     */\r\n    function (message) {\r\n        /** @type {?} */\r\n        var dialogRef = this.dialog.open(ConfirmDialogComponent, {\r\n            disableClose: false\r\n        });\r\n        dialogRef.componentInstance.confirmMessage = message;\r\n        return dialogRef.afterClosed();\r\n    };\r\n    ConfirmDialogService.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    ConfirmDialogService.ctorParameters = function () { return [\r\n        { type: MatDialog }\r\n    ]; };\r\n    return ConfirmDialogService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoConfirmDialogModule = /** @class */ (function () {\r\n    function IgoConfirmDialogModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoConfirmDialogModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoConfirmDialogModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoConfirmDialogModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [MatButtonModule, MatDialogModule, IgoLanguageModule],\r\n                    declarations: [ConfirmDialogComponent],\r\n                    exports: [ConfirmDialogComponent],\r\n                    providers: [ConfirmDialogService],\r\n                    entryComponents: [ConfirmDialogComponent]\r\n                },] }\r\n    ];\r\n    return IgoConfirmDialogModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextMenuDirective = /** @class */ (function () {\r\n    function ContextMenuDirective(overlay, viewContainerRef, elementRef) {\r\n        this.overlay = overlay;\r\n        this.viewContainerRef = viewContainerRef;\r\n        this.elementRef = elementRef;\r\n        this.menuPosition = new EventEmitter();\r\n    }\r\n    /**\r\n     * @param {?} __0\r\n     * @return {?}\r\n     */\r\n    ContextMenuDirective.prototype.onContextMenu = /**\r\n     * @param {?} __0\r\n     * @return {?}\r\n     */\r\n    function (_a) {\r\n        var _this = this;\r\n        var x = _a.x, y = _a.y;\r\n        this.close();\r\n        event.preventDefault();\r\n        this.menuPosition.emit({ x: x, y: y });\r\n        this.overlayRef = null;\r\n        /** @type {?} */\r\n        var positionStrategy = this.overlay\r\n            .position()\r\n            .flexibleConnectedTo({ x: x, y: y })\r\n            .withPositions([\r\n            {\r\n                originX: 'end',\r\n                originY: 'bottom',\r\n                overlayX: 'start',\r\n                overlayY: 'top'\r\n            }\r\n        ]);\r\n        this.overlayRef = this.overlay.create({\r\n            positionStrategy: positionStrategy,\r\n            scrollStrategy: this.overlay.scrollStrategies.close()\r\n        });\r\n        this.overlayRef.attach(new TemplatePortal(this.menuContext, this.viewContainerRef, {\r\n            $implicit: undefined\r\n        }));\r\n        this.sub = fromEvent(document, 'click')\r\n            .pipe(filter((/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            /** @type {?} */\r\n            var clickTarget = (/** @type {?} */ (event.target));\r\n            _this.close();\r\n            return (!!_this.overlayRef &&\r\n                !_this.overlayRef.overlayElement.contains(clickTarget));\r\n        })), take(1))\r\n            .subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.close(); }));\r\n        this.sub = fromEvent(document, 'contextmenu')\r\n            .pipe(filter((/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            /** @type {?} */\r\n            var clickTarget = (/** @type {?} */ (event.target));\r\n            if (clickTarget &&\r\n                !_this.elementRef.nativeElement.contains(clickTarget) &&\r\n                !_this.overlayRef.overlayElement.contains(clickTarget)) {\r\n                return true;\r\n            }\r\n            else {\r\n                event.preventDefault();\r\n            }\r\n        })), take(1))\r\n            .subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.close(); }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextMenuDirective.prototype.close = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.overlayRef) {\r\n            this.overlayRef.dispose();\r\n            this.overlayRef = null;\r\n        }\r\n    };\r\n    ContextMenuDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoContextMenu]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextMenuDirective.ctorParameters = function () { return [\r\n        { type: Overlay },\r\n        { type: ViewContainerRef },\r\n        { type: ElementRef }\r\n    ]; };\r\n    ContextMenuDirective.propDecorators = {\r\n        menuContext: [{ type: Input, args: ['igoContextMenu',] }],\r\n        menuPosition: [{ type: Output }],\r\n        onContextMenu: [{ type: HostListener, args: ['contextmenu', ['$event'],] }]\r\n    };\r\n    return ContextMenuDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoContextMenuModule = /** @class */ (function () {\r\n    function IgoContextMenuModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoContextMenuModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoContextMenuModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoContextMenuModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [ContextMenuDirective],\r\n                    exports: [ContextMenuDirective]\r\n                },] }\r\n    ];\r\n    return IgoContextMenuModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar CustomHtmlComponent = /** @class */ (function () {\r\n    function CustomHtmlComponent() {\r\n        this._html = '';\r\n    }\r\n    Object.defineProperty(CustomHtmlComponent.prototype, \"html\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._html;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._html = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CustomHtmlComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-custom-html',\r\n                    template: \"<div class=\\\"custom-html\\\" [innerHTML]=\\\"html | sanitizeHtml \\\"></div>\\r\\n\",\r\n                    styles: [\".custom-html{padding:20px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    CustomHtmlComponent.ctorParameters = function () { return []; };\r\n    CustomHtmlComponent.propDecorators = {\r\n        html: [{ type: Input }]\r\n    };\r\n    return CustomHtmlComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar SanitizeHtmlPipe = /** @class */ (function () {\r\n    function SanitizeHtmlPipe(_sanitizer) {\r\n        this._sanitizer = _sanitizer;\r\n    }\r\n    /**\r\n     * @param {?} v\r\n     * @return {?}\r\n     */\r\n    SanitizeHtmlPipe.prototype.transform = /**\r\n     * @param {?} v\r\n     * @return {?}\r\n     */\r\n    function (v) {\r\n        return this._sanitizer.bypassSecurityTrustHtml(v);\r\n    };\r\n    SanitizeHtmlPipe.decorators = [\r\n        { type: Pipe, args: [{ name: 'sanitizeHtml' },] }\r\n    ];\r\n    /** @nocollapse */\r\n    SanitizeHtmlPipe.ctorParameters = function () { return [\r\n        { type: DomSanitizer }\r\n    ]; };\r\n    return SanitizeHtmlPipe;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoCustomHtmlModule = /** @class */ (function () {\r\n    function IgoCustomHtmlModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoCustomHtmlModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoCustomHtmlModule\r\n        };\r\n    };\r\n    IgoCustomHtmlModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatIconModule,\r\n                        MatTooltipModule,\r\n                        MatInputModule,\r\n                        MatButtonModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    exports: [SanitizeHtmlPipe, CustomHtmlComponent],\r\n                    declarations: [SanitizeHtmlPipe, CustomHtmlComponent]\r\n                },] }\r\n    ];\r\n    return IgoCustomHtmlModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar DragAndDropDirective = /** @class */ (function () {\r\n    function DragAndDropDirective() {\r\n        this.allowedExtensions = [];\r\n        this.filesDropped = new EventEmitter();\r\n        this.filesInvalid = new EventEmitter();\r\n        this.background = 'inherit';\r\n    }\r\n    /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    DragAndDropDirective.prototype.onDragOver = /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    function (evt) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n        this.background = '#999';\r\n    };\r\n    /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    DragAndDropDirective.prototype.onDragLeave = /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    function (evt) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n        this.background = 'inherit';\r\n    };\r\n    /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    DragAndDropDirective.prototype.onDrop = /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    function (evt) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n        this.background = 'inherit';\r\n        /** @type {?} */\r\n        var filesObj = this.validExtensions(evt);\r\n        if (filesObj.valid.length) {\r\n            this.filesDropped.emit(filesObj.valid);\r\n        }\r\n        if (filesObj.invalid.length) {\r\n            this.filesInvalid.emit(filesObj.invalid);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    DragAndDropDirective.prototype.validExtensions = /**\r\n     * @private\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    function (evt) {\r\n        var e_1, _a;\r\n        /** @type {?} */\r\n        var files = evt.dataTransfer.files;\r\n        /** @type {?} */\r\n        var filesObj = {\r\n            valid: [],\r\n            invalid: []\r\n        };\r\n        if (files.length > 0) {\r\n            try {\r\n                for (var files_1 = __values(files), files_1_1 = files_1.next(); !files_1_1.done; files_1_1 = files_1.next()) {\r\n                    var file = files_1_1.value;\r\n                    /** @type {?} */\r\n                    var ext = file.name.split('.')[file.name.split('.').length - 1];\r\n                    if (this.allowedExtensions.length === 0 ||\r\n                        (this.allowedExtensions.lastIndexOf(ext) !== -1 &&\r\n                            file.size !== 0)) {\r\n                        filesObj.valid.push(file);\r\n                    }\r\n                    else {\r\n                        filesObj.invalid.push(file);\r\n                    }\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (files_1_1 && !files_1_1.done && (_a = files_1.return)) _a.call(files_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        }\r\n        return filesObj;\r\n    };\r\n    DragAndDropDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoDragAndDrop]'\r\n                },] }\r\n    ];\r\n    DragAndDropDirective.propDecorators = {\r\n        allowedExtensions: [{ type: Input }],\r\n        filesDropped: [{ type: Output }],\r\n        filesInvalid: [{ type: Output }],\r\n        background: [{ type: HostBinding, args: ['style.background',] }],\r\n        onDragOver: [{ type: HostListener, args: ['dragover', ['$event'],] }],\r\n        onDragLeave: [{ type: HostListener, args: ['dragleave', ['$event'],] }],\r\n        onDrop: [{ type: HostListener, args: ['drop', ['$event'],] }]\r\n    };\r\n    return DragAndDropDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoDrapDropModule = /** @class */ (function () {\r\n    function IgoDrapDropModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoDrapDropModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoDrapDropModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoDrapDropModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [DragAndDropDirective],\r\n                    exports: [DragAndDropDirective]\r\n                },] }\r\n    ];\r\n    return IgoDrapDropModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This class is used in the DynamicComponentOutlet component. It holds\r\n * a reference to a component factory and can render that component\r\n * in a target element on demand. It's also possible to set inputs\r\n * and to subscribe to outputs.\r\n * @template C\r\n */\r\nvar  /**\r\n * This class is used in the DynamicComponentOutlet component. It holds\r\n * a reference to a component factory and can render that component\r\n * in a target element on demand. It's also possible to set inputs\r\n * and to subscribe to outputs.\r\n * @template C\r\n */\r\nDynamicComponent = /** @class */ (function () {\r\n    function DynamicComponent(componentFactory) {\r\n        this.componentFactory = componentFactory;\r\n        /**\r\n         * Subscriptions to the component's outputs. Those need\r\n         * to be unsubscribed when the component is destroyed.\r\n         */\r\n        this.subscriptions = [];\r\n        /**\r\n         * Component inputs\r\n         */\r\n        this.inputs = {};\r\n        /**\r\n         * Subscribers to the component's outputs\r\n         */\r\n        this.subscribers = {};\r\n    }\r\n    /**\r\n     * Render the component to a target element.\r\n     * Set it's inputs and subscribe to it's outputs.\r\n     * @param target Target element\r\n     */\r\n    /**\r\n     * Render the component to a target element.\r\n     * Set it's inputs and subscribe to it's outputs.\r\n     * @param {?} target Target element\r\n     * @return {?}\r\n     */\r\n    DynamicComponent.prototype.setTarget = /**\r\n     * Render the component to a target element.\r\n     * Set it's inputs and subscribe to it's outputs.\r\n     * @param {?} target Target element\r\n     * @return {?}\r\n     */\r\n    function (target) {\r\n        this.target = target;\r\n        this.componentRef = target.createComponent(this.componentFactory);\r\n        this.updateInputs(this.inputs);\r\n        this.updateSubscribers(this.subscribers);\r\n    };\r\n    /**\r\n     * Destroy this component. That means, removing from it's target\r\n     * element and unsubscribing to it's outputs.\r\n     */\r\n    /**\r\n     * Destroy this component. That means, removing from it's target\r\n     * element and unsubscribing to it's outputs.\r\n     * @return {?}\r\n     */\r\n    DynamicComponent.prototype.destroy = /**\r\n     * Destroy this component. That means, removing from it's target\r\n     * element and unsubscribing to it's outputs.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.target !== undefined) {\r\n            this.target.clear();\r\n        }\r\n        if (this.componentRef !== undefined) {\r\n            this.componentRef.destroy();\r\n            this.componentRef = undefined;\r\n        }\r\n        this.unsubscribeAll();\r\n    };\r\n    /**\r\n     * Update the component inputs. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     */\r\n    /**\r\n     * Update the component inputs. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     * @param {?} inputs\r\n     * @return {?}\r\n     */\r\n    DynamicComponent.prototype.updateInputs = /**\r\n     * Update the component inputs. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     * @param {?} inputs\r\n     * @return {?}\r\n     */\r\n    function (inputs) {\r\n        this.inputs = inputs;\r\n        if (this.componentRef === undefined) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var instance = this.componentRef.instance;\r\n        /** @type {?} */\r\n        var allowedInputs = this.componentFactory.inputs;\r\n        allowedInputs.forEach((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            /** @type {?} */\r\n            var key = value.propName;\r\n            if (inputs.hasOwnProperty(key)) {\r\n                instance[key] = inputs[key];\r\n            }\r\n        }));\r\n        if (typeof ((/** @type {?} */ (instance))).onUpdateInputs === 'function') {\r\n            ((/** @type {?} */ (instance))).onUpdateInputs();\r\n        }\r\n    };\r\n    /**\r\n     * Update the component subscribers. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     */\r\n    /**\r\n     * Update the component subscribers. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     * @param {?} subscribers\r\n     * @return {?}\r\n     */\r\n    DynamicComponent.prototype.updateSubscribers = /**\r\n     * Update the component subscribers. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     * @param {?} subscribers\r\n     * @return {?}\r\n     */\r\n    function (subscribers) {\r\n        var _this = this;\r\n        this.subscribers = subscribers;\r\n        if (this.componentRef === undefined) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var instance = this.componentRef.instance;\r\n        /** @type {?} */\r\n        var allowedSubscribers = this.componentFactory.outputs;\r\n        allowedSubscribers.forEach((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            /** @type {?} */\r\n            var key = value.propName;\r\n            if (subscribers.hasOwnProperty(key)) {\r\n                /** @type {?} */\r\n                var emitter_1 = instance[key];\r\n                /** @type {?} */\r\n                var subscriber = subscribers[key];\r\n                if (Array.isArray(subscriber)) {\r\n                    subscriber.forEach((/**\r\n                     * @param {?} _subscriber\r\n                     * @return {?}\r\n                     */\r\n                    function (_subscriber) {\r\n                        _this.subscriptions.push(emitter_1.subscribe(_subscriber));\r\n                    }));\r\n                }\r\n                else {\r\n                    _this.subscriptions.push(emitter_1.subscribe(subscriber));\r\n                }\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * Unsubscribe to all outputs.\r\n     */\r\n    /**\r\n     * Unsubscribe to all outputs.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DynamicComponent.prototype.unsubscribeAll = /**\r\n     * Unsubscribe to all outputs.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.subscriptions.forEach((/**\r\n         * @param {?} s\r\n         * @return {?}\r\n         */\r\n        function (s) { return s.unsubscribe(); }));\r\n        this.subscriptions = [];\r\n    };\r\n    return DynamicComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service to creates DynamicComponent instances from base component classes\r\n */\r\nvar DynamicComponentService = /** @class */ (function () {\r\n    function DynamicComponentService(resolver) {\r\n        this.resolver = resolver;\r\n    }\r\n    /**\r\n     * Creates a DynamicComponent instance from a base component class\r\n     * @param componentCls The component class\r\n     * @returns DynamicComponent instance\r\n     */\r\n    /**\r\n     * Creates a DynamicComponent instance from a base component class\r\n     * @param {?} componentCls The component class\r\n     * @return {?} DynamicComponent instance\r\n     */\r\n    DynamicComponentService.prototype.create = /**\r\n     * Creates a DynamicComponent instance from a base component class\r\n     * @param {?} componentCls The component class\r\n     * @return {?} DynamicComponent instance\r\n     */\r\n    function (componentCls) {\r\n        /** @type {?} */\r\n        var factory = this.resolver.resolveComponentFactory((/** @type {?} */ (componentCls)));\r\n        return new DynamicComponent(factory);\r\n    };\r\n    DynamicComponentService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    DynamicComponentService.ctorParameters = function () { return [\r\n        { type: ComponentFactoryResolver }\r\n    ]; };\r\n    /** @nocollapse */ DynamicComponentService.ngInjectableDef = defineInjectable({ factory: function DynamicComponentService_Factory() { return new DynamicComponentService(inject(ComponentFactoryResolver)); }, token: DynamicComponentService, providedIn: \"root\" });\r\n    return DynamicComponentService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar DynamicOutletComponent = /** @class */ (function () {\r\n    function DynamicOutletComponent(dynamicComponentService, cdRef) {\r\n        this.dynamicComponentService = dynamicComponentService;\r\n        this.cdRef = cdRef;\r\n        /**\r\n         * The dynamic component inputs\r\n         */\r\n        this.inputs = {};\r\n        /**\r\n         * The subscribers to the dynamic component outputs\r\n         */\r\n        this.subscribers = {};\r\n    }\r\n    /**\r\n     * If the dynamic component changes, create it.\r\n     * If the inputs or subscribers change, update the current component's\r\n     * inputs or subscribers.\r\n     * @internal\r\n     */\r\n    /**\r\n     * If the dynamic component changes, create it.\r\n     * If the inputs or subscribers change, update the current component's\r\n     * inputs or subscribers.\r\n     * \\@internal\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    DynamicOutletComponent.prototype.ngOnChanges = /**\r\n     * If the dynamic component changes, create it.\r\n     * If the inputs or subscribers change, update the current component's\r\n     * inputs or subscribers.\r\n     * \\@internal\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    function (changes) {\r\n        /** @type {?} */\r\n        var component = changes.component;\r\n        /** @type {?} */\r\n        var inputs = changes.inputs;\r\n        /** @type {?} */\r\n        var subscribers = changes.subscribers;\r\n        /** @type {?} */\r\n        var eq = ObjectUtils.objectsAreEquivalent;\r\n        if (component && component.currentValue !== component.previousValue) {\r\n            this.createComponent(component.currentValue);\r\n        }\r\n        else {\r\n            /** @type {?} */\r\n            var inputsAreEquivalents = inputs && eq(inputs.currentValue || {}, inputs.previousValue || {});\r\n            /** @type {?} */\r\n            var subscribersAreEquivalents = subscribers &&\r\n                eq(subscribers.currentValue || {}, subscribers.previousValue || {});\r\n            if (inputsAreEquivalents === false) {\r\n                this.updateInputs();\r\n            }\r\n            if (subscribersAreEquivalents === false) {\r\n                this.updateSubscribers();\r\n            }\r\n        }\r\n        this.cdRef.detectChanges();\r\n    };\r\n    /**\r\n     * Destroy the dynamic component and all it's subscribers\r\n     * @internal\r\n     */\r\n    /**\r\n     * Destroy the dynamic component and all it's subscribers\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    DynamicOutletComponent.prototype.ngOnDestroy = /**\r\n     * Destroy the dynamic component and all it's subscribers\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.dynamicComponent) {\r\n            this.dynamicComponent.destroy();\r\n        }\r\n    };\r\n    /**\r\n     * Create a  DynamicComponent out of the component class and render it.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Create a  DynamicComponent out of the component class and render it.\r\n     * \\@internal\r\n     * @private\r\n     * @param {?} component\r\n     * @return {?}\r\n     */\r\n    DynamicOutletComponent.prototype.createComponent = /**\r\n     * Create a  DynamicComponent out of the component class and render it.\r\n     * \\@internal\r\n     * @private\r\n     * @param {?} component\r\n     * @return {?}\r\n     */\r\n    function (component) {\r\n        if (this.dynamicComponent !== undefined) {\r\n            this.dynamicComponent.destroy();\r\n        }\r\n        this.dynamicComponent =\r\n            component instanceof DynamicComponent\r\n                ? component\r\n                : this.dynamicComponentService.create(component);\r\n        this.renderComponent();\r\n    };\r\n    /**\r\n     * Create and render the dynamic component. Set it's inputs and subscribers\r\n     * @internal\r\n     */\r\n    /**\r\n     * Create and render the dynamic component. Set it's inputs and subscribers\r\n     * \\@internal\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DynamicOutletComponent.prototype.renderComponent = /**\r\n     * Create and render the dynamic component. Set it's inputs and subscribers\r\n     * \\@internal\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.updateInputs();\r\n        this.updateSubscribers();\r\n        this.dynamicComponent.setTarget(this.target);\r\n    };\r\n    /**\r\n     * Update the dynamic component inputs. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Update the dynamic component inputs. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     * \\@internal\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DynamicOutletComponent.prototype.updateInputs = /**\r\n     * Update the dynamic component inputs. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     * \\@internal\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.dynamicComponent.updateInputs(this.inputs);\r\n    };\r\n    /**\r\n     * Update the dynamic component subscribers. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Update the dynamic component subscribers. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     * \\@internal\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DynamicOutletComponent.prototype.updateSubscribers = /**\r\n     * Update the dynamic component subscribers. This is an update so any\r\n     * key not defined won't be overwritten.\r\n     * \\@internal\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.dynamicComponent.updateSubscribers(this.subscribers);\r\n    };\r\n    DynamicOutletComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-dynamic-outlet',\r\n                    template: \"<ng-template #target></ng-template>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{display:block;width:100%;height:100%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    DynamicOutletComponent.ctorParameters = function () { return [\r\n        { type: DynamicComponentService },\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    DynamicOutletComponent.propDecorators = {\r\n        component: [{ type: Input }],\r\n        inputs: [{ type: Input }],\r\n        subscribers: [{ type: Input }],\r\n        target: [{ type: ViewChild, args: ['target', { read: ViewContainerRef },] }]\r\n    };\r\n    return DynamicOutletComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoDynamicOutletModule = /** @class */ (function () {\r\n    function IgoDynamicOutletModule() {\r\n    }\r\n    IgoDynamicOutletModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [\r\n                        DynamicOutletComponent\r\n                    ],\r\n                    declarations: [\r\n                        DynamicOutletComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoDynamicOutletModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoDynamicComponentModule = /** @class */ (function () {\r\n    function IgoDynamicComponentModule() {\r\n    }\r\n    IgoDynamicComponentModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoDynamicOutletModule\r\n                    ],\r\n                    exports: [\r\n                        IgoDynamicOutletModule\r\n                    ],\r\n                    providers: [\r\n                        DynamicComponentService\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoDynamicComponentModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar FlexibleComponent = /** @class */ (function () {\r\n    function FlexibleComponent(el, mediaService) {\r\n        this.el = el;\r\n        this.mediaService = mediaService;\r\n        this._initial = '0';\r\n        this._collapsed = '0';\r\n        this._expanded = '100%';\r\n        this._initialMobile = this.expanded;\r\n        this._collapsedMobile = this.collapsed;\r\n        this._expandedMobile = this.expanded;\r\n        this._direction = 'column';\r\n        this._state = 'initial';\r\n    }\r\n    Object.defineProperty(FlexibleComponent.prototype, \"initial\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._initial;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._initial = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlexibleComponent.prototype, \"collapsed\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._collapsed;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._collapsed = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlexibleComponent.prototype, \"expanded\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._expanded;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._expanded = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlexibleComponent.prototype, \"initialMobile\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._initialMobile;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._initialMobile = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlexibleComponent.prototype, \"collapsedMobile\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._collapsedMobile;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._collapsedMobile = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlexibleComponent.prototype, \"expandedMobile\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._expandedMobile;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._expandedMobile = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlexibleComponent.prototype, \"direction\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._direction;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._direction = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlexibleComponent.prototype, \"state\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._state;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            var _this = this;\r\n            /** @type {?} */\r\n            var sizes = {\r\n                initial: this.initial,\r\n                collapsed: this.collapsed,\r\n                expanded: this.expanded\r\n            };\r\n            /** @type {?} */\r\n            var media = this.mediaService.media$.value;\r\n            if (media === 'mobile') {\r\n                Object.assign(sizes, {\r\n                    initial: this.initialMobile,\r\n                    collapsed: this.collapsedMobile,\r\n                    expanded: this.expandedMobile\r\n                });\r\n            }\r\n            /** @type {?} */\r\n            var size = sizes[value];\r\n            if (size !== undefined) {\r\n                this.setSize(size);\r\n                setTimeout((/**\r\n                 * @return {?}\r\n                 */\r\n                function () {\r\n                    _this._state = value;\r\n                }), FlexibleComponent.transitionTime);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FlexibleComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.el.nativeElement.className += this.direction;\r\n        // Since this component supports different sizes\r\n        // on mobile, force a redraw when the media changes\r\n        this.mediaService.media$.subscribe((/**\r\n         * @param {?} media\r\n         * @return {?}\r\n         */\r\n        function (media) { return (_this.state = _this.state); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} size\r\n     * @return {?}\r\n     */\r\n    FlexibleComponent.prototype.setSize = /**\r\n     * @private\r\n     * @param {?} size\r\n     * @return {?}\r\n     */\r\n    function (size) {\r\n        this._state = 'transition';\r\n        if (this.direction === 'column') {\r\n            this.main.nativeElement.style.height = size;\r\n        }\r\n        else if (this.direction === 'row') {\r\n            this.main.nativeElement.style.width = size;\r\n        }\r\n    };\r\n    FlexibleComponent.transitionTime = 250;\r\n    FlexibleComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-flexible',\r\n                    template: \"<div #flexibleMain class=\\\"igo-flexible-main {{state}} {{direction}}\\\">\\r\\n  <div class=\\\"igo-container\\\">\\r\\n    <ng-content></ng-content>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"igo-flexible-fill\\\">\\r\\n  <div>\\r\\n  \\t<div class=\\\"igo-container\\\">\\r\\n      <ng-content select=\\\"[igoFlexibleFill]\\\"></ng-content>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\",\r\n                    styles: [\":host{display:flex;height:100%;width:100%}:host.column{flex-direction:column}:host.row{flex-direction:row}.igo-flexible-main{flex:0 0 auto;overflow:hidden}.igo-flexible-main.column{transition:height .25s ease-in}.igo-flexible-main.row{transition:width .25s ease-in}.igo-flexible-fill>div{position:absolute;top:0;bottom:0;left:0;right:0}.igo-container{width:calc(100% - 2 * 5px);height:100%;padding:5px 0;margin:0 5px;overflow:hidden;position:relative}::ng-deep .igo-flexible-fill{flex:1 1 auto;overflow:hidden;position:relative}::ng-deep .igo-content{height:100%;width:100%;overflow:auto}::ng-deep igo-panel{height:100%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    FlexibleComponent.ctorParameters = function () { return [\r\n        { type: ElementRef },\r\n        { type: MediaService }\r\n    ]; };\r\n    FlexibleComponent.propDecorators = {\r\n        main: [{ type: ViewChild, args: ['flexibleMain',] }],\r\n        initial: [{ type: Input }],\r\n        collapsed: [{ type: Input }],\r\n        expanded: [{ type: Input }],\r\n        initialMobile: [{ type: Input }],\r\n        collapsedMobile: [{ type: Input }],\r\n        expandedMobile: [{ type: Input }],\r\n        direction: [{ type: Input }],\r\n        state: [{ type: Input }]\r\n    };\r\n    return FlexibleComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoFlexibleModule = /** @class */ (function () {\r\n    function IgoFlexibleModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoFlexibleModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoFlexibleModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoFlexibleModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [FlexibleComponent],\r\n                    exports: [FlexibleComponent]\r\n                },] }\r\n    ];\r\n    return IgoFlexibleModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @param {?} control\r\n * @return {?}\r\n */\r\nfunction formControlIsRequired(control) {\r\n    if (control.validator) {\r\n        /** @type {?} */\r\n        var validator = control.validator((/** @type {?} */ ({})));\r\n        if (validator && validator.required) {\r\n            return true;\r\n        }\r\n    }\r\n    if (((/** @type {?} */ (control))).controls) {\r\n        /** @type {?} */\r\n        var requiredControl = Object.keys(((/** @type {?} */ (control))).controls).find((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        function (key) {\r\n            return formControlIsRequired(((/** @type {?} */ (control))).controls[key]);\r\n        }));\r\n        return requiredControl !== undefined;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @return {?}\r\n */\r\nfunction getDefaultErrorMessages() {\r\n    return {\r\n        required: 'igo.common.form.errors.required'\r\n    };\r\n}\r\n/**\r\n * @param {?} control\r\n * @param {?} messages\r\n * @return {?}\r\n */\r\nfunction getControlErrorMessage(control, messages) {\r\n    /** @type {?} */\r\n    var errors = control.errors || {};\r\n    /** @type {?} */\r\n    var errorKeys = Object.keys(errors);\r\n    /** @type {?} */\r\n    var errorMessages = errorKeys\r\n        .map((/**\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (key) { return messages[key]; }))\r\n        .filter((/**\r\n     * @param {?} message\r\n     * @return {?}\r\n     */\r\n    function (message) { return message !== undefined; }));\r\n    return errorMessages.length > 0 ? errorMessages[0] : '';\r\n}\r\n/**\r\n * @param {?} form\r\n * @return {?}\r\n */\r\nfunction getAllFormFields(form) {\r\n    return form.groups.reduce((/**\r\n     * @param {?} acc\r\n     * @param {?} group\r\n     * @return {?}\r\n     */\r\n    function (acc, group) {\r\n        return acc.concat(group.fields);\r\n    }), [].concat(form.fields));\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * A configurable form\r\n */\r\nvar FormComponent = /** @class */ (function () {\r\n    function FormComponent() {\r\n        /**\r\n         * Event emitted when the form is submitted\r\n         */\r\n        this.submitForm = new EventEmitter();\r\n    }\r\n    Object.defineProperty(FormComponent.prototype, \"hasButtons\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.buttons.nativeElement.children.length !== 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Is the entity or the template change, recreate the form or repopulate it.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Is the entity or the template change, recreate the form or repopulate it.\r\n     * \\@internal\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    FormComponent.prototype.ngOnChanges = /**\r\n     * Is the entity or the template change, recreate the form or repopulate it.\r\n     * \\@internal\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    function (changes) {\r\n        /** @type {?} */\r\n        var formData = changes.formData;\r\n        if (formData && formData.currentValue !== formData.previousValue) {\r\n            if (formData.currentValue === undefined) {\r\n                this.clear();\r\n            }\r\n            else {\r\n                this.setData(formData.currentValue);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Transform the form data to a feature and emit an event\r\n     * @param event Form submit event\r\n     * @internal\r\n     */\r\n    /**\r\n     * Transform the form data to a feature and emit an event\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    FormComponent.prototype.onSubmit = /**\r\n     * Transform the form data to a feature and emit an event\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.submitForm.emit(this.getData());\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    FormComponent.prototype.setData = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        this.form.fields.forEach((/**\r\n         * @param {?} field\r\n         * @return {?}\r\n         */\r\n        function (field) {\r\n            field.control.setValue(t(data, field.name).safeObject);\r\n        }));\r\n        this.form.groups.forEach((/**\r\n         * @param {?} group\r\n         * @return {?}\r\n         */\r\n        function (group) {\r\n            group.fields.forEach((/**\r\n             * @param {?} field\r\n             * @return {?}\r\n             */\r\n            function (field) {\r\n                field.control.setValue(t(data, field.name).safeObject);\r\n            }));\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FormComponent.prototype.getData = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var data = {};\r\n        getAllFormFields(this.form).forEach((/**\r\n         * @param {?} field\r\n         * @return {?}\r\n         */\r\n        function (field) {\r\n            _this.updateDataWithFormField(data, field);\r\n        }));\r\n        return data;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @param {?} field\r\n     * @return {?}\r\n     */\r\n    FormComponent.prototype.updateDataWithFormField = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @param {?} field\r\n     * @return {?}\r\n     */\r\n    function (data, field) {\r\n        /** @type {?} */\r\n        var control = field.control;\r\n        if (!control.disabled) {\r\n            data[field.name] = control.value;\r\n        }\r\n    };\r\n    /**\r\n     * Clear form\r\n     */\r\n    /**\r\n     * Clear form\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FormComponent.prototype.clear = /**\r\n     * Clear form\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.form.control.reset();\r\n    };\r\n    FormComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-form',\r\n                    template: \"\\r\\n<form\\r\\n  [formGroup]=\\\"form.control\\\"\\r\\n  (ngSubmit)=\\\"onSubmit()\\\">\\r\\n  <div class=\\\"igo-form-body\\\" [ngClass]=\\\"{'igo-form-body-with-buttons': hasButtons}\\\">\\r\\n    <div class=\\\"igo-form-content\\\">\\r\\n      <ng-content></ng-content>\\r\\n    </div>\\r\\n    <div #buttons class=\\\"igo-form-buttons\\\">\\r\\n      <ng-content select=\\\"[formButtons]\\\"></ng-content>\\r\\n    </div>\\r\\n  </div>\\r\\n</form>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{display:block}form{width:100%;height:100%}.igo-form-body,.igo-form-content{height:100%}.igo-form-body-with-buttons .igo-form-content{height:calc(100% - 56px)}.igo-form-content{display:flex}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    FormComponent.ctorParameters = function () { return []; };\r\n    FormComponent.propDecorators = {\r\n        form: [{ type: Input }],\r\n        formData: [{ type: Input }],\r\n        submitForm: [{ type: Output }],\r\n        buttons: [{ type: ViewChild, args: ['buttons',] }]\r\n    };\r\n    return FormComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoFormFormModule = /** @class */ (function () {\r\n    function IgoFormFormModule() {\r\n    }\r\n    IgoFormFormModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule\r\n                    ],\r\n                    exports: [\r\n                        FormComponent,\r\n                        FormsModule,\r\n                        ReactiveFormsModule\r\n                    ],\r\n                    declarations: [\r\n                        FormComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoFormFormModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service where all available form fields are registered.\r\n */\r\nvar FormFieldService = /** @class */ (function () {\r\n    function FormFieldService() {\r\n    }\r\n    /**\r\n     * @param {?} type\r\n     * @param {?} component\r\n     * @return {?}\r\n     */\r\n    FormFieldService.register = /**\r\n     * @param {?} type\r\n     * @param {?} component\r\n     * @return {?}\r\n     */\r\n    function (type, component) {\r\n        FormFieldService.fields[type] = component;\r\n    };\r\n    /**\r\n     * Return field component by type\r\n     * @param type Field type\r\n     * @returns Field component\r\n     */\r\n    /**\r\n     * Return field component by type\r\n     * @param {?} type Field type\r\n     * @return {?} Field component\r\n     */\r\n    FormFieldService.prototype.getFieldByType = /**\r\n     * Return field component by type\r\n     * @param {?} type Field type\r\n     * @return {?} Field component\r\n     */\r\n    function (type) {\r\n        return FormFieldService.fields[type];\r\n    };\r\n    FormFieldService.fields = {};\r\n    FormFieldService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    FormFieldService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ FormFieldService.ngInjectableDef = defineInjectable({ factory: function FormFieldService_Factory() { return new FormFieldService(); }, token: FormFieldService, providedIn: \"root\" });\r\n    return FormFieldService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar FormService = /** @class */ (function () {\r\n    function FormService(formBuilder) {\r\n        this.formBuilder = formBuilder;\r\n    }\r\n    /**\r\n     * @param {?} fields\r\n     * @param {?} groups\r\n     * @return {?}\r\n     */\r\n    FormService.prototype.form = /**\r\n     * @param {?} fields\r\n     * @param {?} groups\r\n     * @return {?}\r\n     */\r\n    function (fields, groups) {\r\n        /** @type {?} */\r\n        var control = this.formBuilder.group({});\r\n        fields.forEach((/**\r\n         * @param {?} field\r\n         * @return {?}\r\n         */\r\n        function (field) {\r\n            control.addControl(field.name, field.control);\r\n        }));\r\n        groups.forEach((/**\r\n         * @param {?} group\r\n         * @return {?}\r\n         */\r\n        function (group) {\r\n            control.addControl(group.name, group.control);\r\n        }));\r\n        return { fields: fields, groups: groups, control: control };\r\n    };\r\n    /**\r\n     * @param {?} config\r\n     * @param {?} fields\r\n     * @return {?}\r\n     */\r\n    FormService.prototype.group = /**\r\n     * @param {?} config\r\n     * @param {?} fields\r\n     * @return {?}\r\n     */\r\n    function (config, fields) {\r\n        /** @type {?} */\r\n        var options = config.options || {};\r\n        /** @type {?} */\r\n        var control = this.formBuilder.group({});\r\n        fields.forEach((/**\r\n         * @param {?} field\r\n         * @return {?}\r\n         */\r\n        function (field) {\r\n            control.addControl(field.name, field.control);\r\n        }));\r\n        control.setValidators(options.validator);\r\n        return (/** @type {?} */ (Object.assign({}, config, { fields: fields, control: control })));\r\n    };\r\n    /**\r\n     * @param {?} config\r\n     * @return {?}\r\n     */\r\n    FormService.prototype.field = /**\r\n     * @param {?} config\r\n     * @return {?}\r\n     */\r\n    function (config) {\r\n        /** @type {?} */\r\n        var options = config.options || {};\r\n        /** @type {?} */\r\n        var state$$1 = Object.assign({ value: '' }, {\r\n            disabled: options.disabled\r\n        });\r\n        /** @type {?} */\r\n        var control = this.formBuilder.control(state$$1);\r\n        control.setValidators(options.validator);\r\n        return (/** @type {?} */ (Object.assign({ type: 'text' }, config, { control: control })));\r\n    };\r\n    /**\r\n     * @param {?} config\r\n     * @param {?} partial\r\n     * @return {?}\r\n     */\r\n    FormService.prototype.extendFieldConfig = /**\r\n     * @param {?} config\r\n     * @param {?} partial\r\n     * @return {?}\r\n     */\r\n    function (config, partial) {\r\n        /** @type {?} */\r\n        var options = Object.assign({}, config.options || {}, partial.options || {});\r\n        /** @type {?} */\r\n        var inputs = Object.assign({}, config.inputs || {}, partial.inputs || {});\r\n        /** @type {?} */\r\n        var subscribers = Object.assign({}, config.subscribers || {}, partial.subscribers || {});\r\n        return Object.assign({}, config, { options: options, inputs: inputs, subscribers: subscribers });\r\n    };\r\n    FormService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    FormService.ctorParameters = function () { return [\r\n        { type: FormBuilder }\r\n    ]; };\r\n    /** @nocollapse */ FormService.ngInjectableDef = defineInjectable({ factory: function FormService_Factory() { return new FormService(inject(FormBuilder)); }, token: FormService, providedIn: \"root\" });\r\n    return FormService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @param {?} type\r\n * @return {?}\r\n */\r\nfunction FormFieldComponent(type) {\r\n    return (/**\r\n     * @param {?} compType\r\n     * @return {?}\r\n     */\r\n    function (compType) {\r\n        FormFieldService.register(type, compType);\r\n    });\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This component renders the proper form input based on\r\n * the field configuration it receives.\r\n */\r\nvar FormFieldComponent$1 = /** @class */ (function () {\r\n    function FormFieldComponent$$1(formFieldService) {\r\n        this.formFieldService = formFieldService;\r\n    }\r\n    Object.defineProperty(FormFieldComponent$$1.prototype, \"fieldOptions\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.field.options || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FormFieldComponent$$1.prototype.getFieldComponent = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.formFieldService.getFieldByType(this.field.type || 'text');\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FormFieldComponent$$1.prototype.getFieldInputs = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var errors = this.fieldOptions.errors || {};\r\n        return Object.assign({\r\n            placeholder: this.field.title,\r\n            disableSwitch: this.fieldOptions.disableSwitch || false\r\n        }, Object.assign({}, this.field.inputs || {}), {\r\n            formControl: this.field.control,\r\n            errors: Object.assign({}, getDefaultErrorMessages(), errors)\r\n        });\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FormFieldComponent$$1.prototype.getFieldSubscribers = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return Object.assign({}, this.field.subscribers || {});\r\n    };\r\n    FormFieldComponent$$1.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-form-field',\r\n                    template: \"\\r\\n\\r\\n<ng-container *ngIf=\\\"field !== undefined\\\">\\r\\n  <igo-dynamic-outlet\\r\\n    [component]=\\\"getFieldComponent()\\\"\\r\\n    [inputs]=\\\"getFieldInputs()\\\"\\r\\n    [subscribers]=\\\"getFieldSubscribers()\\\">\\r\\n  </igo-dynamic-outlet>\\r\\n</ng-container>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"::ng-deep mat-form-field{width:100%}::ng-deep .igo-form-disable-switch{margin-right:8px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    FormFieldComponent$$1.ctorParameters = function () { return [\r\n        { type: FormFieldService }\r\n    ]; };\r\n    FormFieldComponent$$1.propDecorators = {\r\n        field: [{ type: Input }]\r\n    };\r\n    return FormFieldComponent$$1;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This component renders a select field\r\n */\r\nvar FormFieldSelectComponent = /** @class */ (function () {\r\n    function FormFieldSelectComponent() {\r\n        this.disabled$ = new BehaviorSubject(false);\r\n        /**\r\n         * Wheter a disable switch should be available\r\n         */\r\n        this.disableSwitch = false;\r\n    }\r\n    Object.defineProperty(FormFieldSelectComponent.prototype, \"choices\", {\r\n        /**\r\n         * Select input choices\r\n         */\r\n        set: /**\r\n         * Select input choices\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            if (value instanceof Observable) {\r\n                this.choices$ = value;\r\n            }\r\n            else {\r\n                this.choices$ = of(value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FormFieldSelectComponent.prototype, \"required\", {\r\n        /**\r\n         * Whether the field is required\r\n         */\r\n        get: /**\r\n         * Whether the field is required\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return formControlIsRequired(this.formControl);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FormFieldSelectComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.disabled$.next(this.formControl.disabled);\r\n    };\r\n    /**\r\n     * Get error message\r\n     */\r\n    /**\r\n     * Get error message\r\n     * @return {?}\r\n     */\r\n    FormFieldSelectComponent.prototype.getErrorMessage = /**\r\n     * Get error message\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return getControlErrorMessage(this.formControl, this.errors);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FormFieldSelectComponent.prototype.onDisableSwitchClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.toggleDisabled();\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FormFieldSelectComponent.prototype.toggleDisabled = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var disabled = !this.disabled$.value;\r\n        if (disabled === true) {\r\n            this.formControl.disable();\r\n        }\r\n        else {\r\n            this.formControl.enable();\r\n        }\r\n        this.disabled$.next(disabled);\r\n    };\r\n    FormFieldSelectComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-form-field-select',\r\n                    template: \"<mat-form-field>\\r\\n  <mat-select\\r\\n    [required]=\\\"required\\\"\\r\\n    [placeholder]=\\\"placeholder\\\"\\r\\n    [formControl]=\\\"formControl\\\">\\r\\n    <mat-option *ngFor=\\\"let choice of choices$ | async\\\" [value]=\\\"choice.value\\\">\\r\\n      {{choice.title}}\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n  <mat-icon\\r\\n    *ngIf=\\\"disableSwitch === true\\\"\\r\\n    class=\\\"igo-form-disable-switch\\\"\\r\\n    [svgIcon]=\\\"(disabled$ | async) === true ? 'checkbox-blank-outline' : 'checkbox-marked-outline'\\\"\\r\\n    (click)=\\\"onDisableSwitchClick()\\\"\\r\\n    matPrefix>\\r\\n  </mat-icon>\\r\\n  <mat-error *ngIf=\\\"formControl.errors\\\">{{getErrorMessage() | translate}}</mat-error>\\r\\n</mat-form-field>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    FormFieldSelectComponent.propDecorators = {\r\n        formControl: [{ type: Input }],\r\n        placeholder: [{ type: Input }],\r\n        choices: [{ type: Input }],\r\n        errors: [{ type: Input }],\r\n        disableSwitch: [{ type: Input }]\r\n    };\r\n    /**\r\n     * This component renders a select field\r\n     */\r\n    FormFieldSelectComponent = __decorate([\r\n        FormFieldComponent('select')\r\n    ], FormFieldSelectComponent);\r\n    return FormFieldSelectComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This component renders a text field\r\n */\r\nvar FormFieldTextComponent = /** @class */ (function () {\r\n    function FormFieldTextComponent() {\r\n        this.disabled$ = new BehaviorSubject(false);\r\n        /**\r\n         * Wheter a disable switch should be available\r\n         */\r\n        this.disableSwitch = false;\r\n    }\r\n    Object.defineProperty(FormFieldTextComponent.prototype, \"required\", {\r\n        /**\r\n         * Whether the field is required\r\n         */\r\n        get: /**\r\n         * Whether the field is required\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return formControlIsRequired(this.formControl);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FormFieldTextComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.disabled$.next(this.formControl.disabled);\r\n    };\r\n    /**\r\n     * Get error message\r\n     */\r\n    /**\r\n     * Get error message\r\n     * @return {?}\r\n     */\r\n    FormFieldTextComponent.prototype.getErrorMessage = /**\r\n     * Get error message\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return getControlErrorMessage(this.formControl, this.errors);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FormFieldTextComponent.prototype.onDisableSwitchClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.toggleDisabled();\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FormFieldTextComponent.prototype.toggleDisabled = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var disabled = !this.disabled$.value;\r\n        if (disabled === true) {\r\n            this.formControl.disable();\r\n        }\r\n        else {\r\n            this.formControl.enable();\r\n        }\r\n        this.disabled$.next(disabled);\r\n    };\r\n    FormFieldTextComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-form-field-text',\r\n                    template: \"<mat-form-field>\\r\\n  <input\\r\\n    matInput\\r\\n    [required]=\\\"required\\\"\\r\\n    [placeholder]=\\\"placeholder\\\"\\r\\n    [formControl]=\\\"formControl\\\">\\r\\n  <mat-icon\\r\\n    *ngIf=\\\"disableSwitch === true\\\"\\r\\n    class=\\\"igo-form-disable-switch\\\"\\r\\n    [svgIcon]=\\\"(disabled$ | async) === true ? 'checkbox-blank-outline' : 'checkbox-marked-outline'\\\"\\r\\n    (click)=\\\"onDisableSwitchClick()\\\"\\r\\n    matPrefix>\\r\\n  </mat-icon>\\r\\n  <mat-error *ngIf=\\\"formControl.errors\\\">{{getErrorMessage() | translate}}</mat-error>\\r\\n</mat-form-field>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    FormFieldTextComponent.propDecorators = {\r\n        formControl: [{ type: Input }],\r\n        placeholder: [{ type: Input }],\r\n        errors: [{ type: Input }],\r\n        disableSwitch: [{ type: Input }]\r\n    };\r\n    /**\r\n     * This component renders a text field\r\n     */\r\n    FormFieldTextComponent = __decorate([\r\n        FormFieldComponent('text')\r\n    ], FormFieldTextComponent);\r\n    return FormFieldTextComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This component renders a textarea field\r\n */\r\nvar FormFieldTextareaComponent = /** @class */ (function () {\r\n    function FormFieldTextareaComponent() {\r\n        this.disabled$ = new BehaviorSubject(false);\r\n        /**\r\n         * Wheter a disable switch should be available\r\n         */\r\n        this.disableSwitch = false;\r\n    }\r\n    Object.defineProperty(FormFieldTextareaComponent.prototype, \"required\", {\r\n        /**\r\n         * Whether the field is required\r\n         */\r\n        get: /**\r\n         * Whether the field is required\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return formControlIsRequired(this.formControl);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FormFieldTextareaComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.disabled$.next(this.formControl.disabled);\r\n    };\r\n    /**\r\n     * Get error message\r\n     */\r\n    /**\r\n     * Get error message\r\n     * @return {?}\r\n     */\r\n    FormFieldTextareaComponent.prototype.getErrorMessage = /**\r\n     * Get error message\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return getControlErrorMessage(this.formControl, this.errors);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FormFieldTextareaComponent.prototype.onDisableSwitchClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.toggleDisabled();\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FormFieldTextareaComponent.prototype.toggleDisabled = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var disabled = !this.disabled$.value;\r\n        if (disabled === true) {\r\n            this.formControl.disable();\r\n        }\r\n        else {\r\n            this.formControl.enable();\r\n        }\r\n        this.disabled$.next(disabled);\r\n    };\r\n    FormFieldTextareaComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-form-field-textarea',\r\n                    template: \"<mat-form-field>\\r\\n  <textarea\\r\\n    matInput\\r\\n    [required]=\\\"required\\\"\\r\\n    [placeholder]=\\\"placeholder\\\"\\r\\n    [formControl]=\\\"formControl\\\">\\r\\n  </textarea>\\r\\n  <mat-icon\\r\\n    *ngIf=\\\"disableSwitch === true\\\"\\r\\n    class=\\\"igo-form-disable-switch\\\"\\r\\n    [svgIcon]=\\\"(disabled$ | async) === true ? 'checkbox-blank-outline' : 'checkbox-marked-outline'\\\"\\r\\n    (click)=\\\"onDisableSwitchClick()\\\"\\r\\n    matPrefix>\\r\\n  </mat-icon>\\r\\n  <mat-error *ngIf=\\\"formControl.errors\\\">{{getErrorMessage() | translate}}</mat-error>\\r\\n</mat-form-field>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    FormFieldTextareaComponent.propDecorators = {\r\n        formControl: [{ type: Input }],\r\n        placeholder: [{ type: Input }],\r\n        errors: [{ type: Input }],\r\n        disableSwitch: [{ type: Input }]\r\n    };\r\n    /**\r\n     * This component renders a textarea field\r\n     */\r\n    FormFieldTextareaComponent = __decorate([\r\n        FormFieldComponent('textarea')\r\n    ], FormFieldTextareaComponent);\r\n    return FormFieldTextareaComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoFormFieldModule = /** @class */ (function () {\r\n    function IgoFormFieldModule() {\r\n    }\r\n    IgoFormFieldModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        MatIconModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatSelectModule,\r\n                        IgoLanguageModule,\r\n                        IgoDynamicOutletModule\r\n                    ],\r\n                    exports: [\r\n                        FormFieldComponent$1,\r\n                        FormFieldSelectComponent,\r\n                        FormFieldTextComponent,\r\n                        FormFieldTextareaComponent\r\n                    ],\r\n                    declarations: [\r\n                        FormFieldComponent$1,\r\n                        FormFieldSelectComponent,\r\n                        FormFieldTextComponent,\r\n                        FormFieldTextareaComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoFormFieldModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * A configurable form, optionnally bound to an entity\r\n * (for example in case of un update). Submitting that form\r\n * emits an event with the form data but no other operation is performed.\r\n */\r\nvar FormGroupComponent = /** @class */ (function () {\r\n    function FormGroupComponent() {\r\n    }\r\n    Object.defineProperty(FormGroupComponent.prototype, \"formControl\", {\r\n        /**\r\n         * Form group control\r\n         */\r\n        get: /**\r\n         * Form group control\r\n         * @return {?}\r\n         */\r\n        function () { return this.group.control; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Return the number of columns a field should occupy.\r\n     * The maximum allowed is 2, even if the field config says more.\r\n     * @param field Field\r\n     * @returns Number of columns\r\n     * @internal\r\n     */\r\n    /**\r\n     * Return the number of columns a field should occupy.\r\n     * The maximum allowed is 2, even if the field config says more.\r\n     * \\@internal\r\n     * @param {?} field Field\r\n     * @return {?} Number of columns\r\n     */\r\n    FormGroupComponent.prototype.getFieldColSpan = /**\r\n     * Return the number of columns a field should occupy.\r\n     * The maximum allowed is 2, even if the field config says more.\r\n     * \\@internal\r\n     * @param {?} field Field\r\n     * @return {?} Number of columns\r\n     */\r\n    function (field) {\r\n        /** @type {?} */\r\n        var colSpan = 2;\r\n        /** @type {?} */\r\n        var options = field.options || {};\r\n        if (options.cols && options.cols > 0) {\r\n            colSpan = Math.min(options.cols, 2);\r\n        }\r\n        return colSpan;\r\n    };\r\n    /**\r\n     * Return the number of columns a field should occupy.\r\n     * The maximum allowed is 2, even if the field config says more.\r\n     * @param field Field\r\n     * @returns Number of columns\r\n     * @internal\r\n     */\r\n    /**\r\n     * Return the number of columns a field should occupy.\r\n     * The maximum allowed is 2, even if the field config says more.\r\n     * \\@internal\r\n     * @param {?} field Field\r\n     * @return {?} Number of columns\r\n     */\r\n    FormGroupComponent.prototype.getFieldNgClass = /**\r\n     * Return the number of columns a field should occupy.\r\n     * The maximum allowed is 2, even if the field config says more.\r\n     * \\@internal\r\n     * @param {?} field Field\r\n     * @return {?} Number of columns\r\n     */\r\n    function (field) {\r\n        var _a;\r\n        /** @type {?} */\r\n        var colspan = this.getFieldColSpan(field);\r\n        return _a = {}, _a[\"igo-form-field-colspan-\" + colspan] = true, _a;\r\n    };\r\n    /**\r\n     * Get error message\r\n     */\r\n    /**\r\n     * Get error message\r\n     * @return {?}\r\n     */\r\n    FormGroupComponent.prototype.getErrorMessage = /**\r\n     * Get error message\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var options = this.group.options || {};\r\n        return getControlErrorMessage(this.formControl, options.errors || {});\r\n    };\r\n    FormGroupComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-form-group',\r\n                    template: \"<div\\r\\n  *ngIf=\\\"group && group.fields.length > 0\\\"\\r\\n  class=\\\"igo-form-group-fields\\\">\\r\\n  <div\\r\\n    *ngFor=\\\"let field of group.fields\\\"\\r\\n    class=\\\"igo-form-field-wrapper\\\"\\r\\n    [ngClass]=\\\"getFieldNgClass(field)\\\">\\r\\n    <igo-form-field [field]=\\\"field\\\"></igo-form-field>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"igo-form-group-extra-content\\\">\\r\\n  <ng-content></ng-content>\\r\\n</div>\\r\\n\\r\\n<mat-error *ngIf=\\\"formControl.errors\\\">{{getErrorMessage() | translate}}</mat-error>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{width:100%;height:100%;display:block;overflow:auto;padding:10px 5px}.igo-form-field-wrapper{display:inline-block;padding:0 5px}.igo-form-field-colspan-2{width:100%}.igo-form-field-colspan-1{width:50%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    FormGroupComponent.ctorParameters = function () { return []; };\r\n    FormGroupComponent.propDecorators = {\r\n        group: [{ type: Input }],\r\n        errors: [{ type: Input }]\r\n    };\r\n    return FormGroupComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoFormGroupModule = /** @class */ (function () {\r\n    function IgoFormGroupModule() {\r\n    }\r\n    IgoFormGroupModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatFormFieldModule,\r\n                        IgoLanguageModule,\r\n                        IgoFormFieldModule\r\n                    ],\r\n                    exports: [\r\n                        FormGroupComponent\r\n                    ],\r\n                    declarations: [\r\n                        FormGroupComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoFormGroupModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoFormModule = /** @class */ (function () {\r\n    function IgoFormModule() {\r\n    }\r\n    IgoFormModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoFormGroupModule,\r\n                        IgoFormFieldModule\r\n                    ],\r\n                    exports: [\r\n                        IgoFormFormModule,\r\n                        IgoFormGroupModule,\r\n                        IgoFormFieldModule\r\n                    ],\r\n                    declarations: [],\r\n                    providers: [\r\n                        FormService,\r\n                        FormFieldService\r\n                    ],\r\n                    entryComponents: [\r\n                        FormFieldSelectComponent,\r\n                        FormFieldTextComponent,\r\n                        FormFieldTextareaComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoFormModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoEntitySelectorModule = /** @class */ (function () {\r\n    function IgoEntitySelectorModule() {\r\n    }\r\n    IgoEntitySelectorModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        MatSelectModule\r\n                    ],\r\n                    exports: [EntitySelectorComponent],\r\n                    declarations: [EntitySelectorComponent]\r\n                },] }\r\n    ];\r\n    return IgoEntitySelectorModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar StopDropPropagationDirective = /** @class */ (function () {\r\n    function StopDropPropagationDirective() {\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    StopDropPropagationDirective.prototype.onDrop = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    };\r\n    StopDropPropagationDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoStopDropPropagation]'\r\n                },] }\r\n    ];\r\n    StopDropPropagationDirective.propDecorators = {\r\n        onDrop: [{ type: HostListener, args: ['drop', ['$event'],] }]\r\n    };\r\n    return StopDropPropagationDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar StopPropagationDirective = /** @class */ (function () {\r\n    function StopPropagationDirective() {\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    StopPropagationDirective.prototype.onClick = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        event.stopPropagation();\r\n    };\r\n    StopPropagationDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoStopPropagation]'\r\n                },] }\r\n    ];\r\n    StopPropagationDirective.propDecorators = {\r\n        onClick: [{ type: HostListener, args: ['click', ['$event'],] }]\r\n    };\r\n    return StopPropagationDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoStopPropagationModule = /** @class */ (function () {\r\n    function IgoStopPropagationModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoStopPropagationModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoStopPropagationModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoStopPropagationModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [StopDropPropagationDirective, StopPropagationDirective],\r\n                    exports: [StopDropPropagationDirective, StopPropagationDirective]\r\n                },] }\r\n    ];\r\n    return IgoStopPropagationModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Directive that handles an entity table row click and selection.\r\n */\r\nvar EntityTableRowDirective = /** @class */ (function () {\r\n    function EntityTableRowDirective(renderer, el) {\r\n        this.renderer = renderer;\r\n        this.el = el;\r\n        /**\r\n         * Whether a row supports selection\r\n         */\r\n        this.selection = false;\r\n        /**\r\n         * Whether clicking a row should select it (if selection is true)\r\n         */\r\n        this.selectOnClick = true;\r\n        /**\r\n         * Whether the selected row should be highlighted\r\n         */\r\n        this.highlightSelection = true;\r\n        this._selected = false;\r\n        /**\r\n         * Scroll behavior on selection\r\n         */\r\n        this.scrollBehavior = EntityTableScrollBehavior.Auto;\r\n        /**\r\n         * Event emitted when a row is selected\r\n         */\r\n        this.select = new EventEmitter();\r\n    }\r\n    Object.defineProperty(EntityTableRowDirective.prototype, \"selected\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._selected;\r\n        },\r\n        /**\r\n         * Whether a row is selected\r\n         */\r\n        set: /**\r\n         * Whether a row is selected\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            if (this.selection === false) {\r\n                return;\r\n            }\r\n            if (value === this._selected) {\r\n                return;\r\n            }\r\n            this.toggleSelected(value);\r\n            this.scroll();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * When a row is clicked, select it if it's supported\r\n     * @ignore\r\n     */\r\n    /**\r\n     * When a row is clicked, select it if it's supported\r\n     * @ignore\r\n     * @return {?}\r\n     */\r\n    EntityTableRowDirective.prototype.onClick = /**\r\n     * When a row is clicked, select it if it's supported\r\n     * @ignore\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.selection === false || this.selectOnClick === false) {\r\n            return;\r\n        }\r\n        this.toggleSelected(true);\r\n        this.select.emit(this);\r\n    };\r\n    /**\r\n     * Select a row and add or remove the selected class from it\r\n     * @param selected Whether the row should be selected\r\n     */\r\n    /**\r\n     * Select a row and add or remove the selected class from it\r\n     * @private\r\n     * @param {?} selected Whether the row should be selected\r\n     * @return {?}\r\n     */\r\n    EntityTableRowDirective.prototype.toggleSelected = /**\r\n     * Select a row and add or remove the selected class from it\r\n     * @private\r\n     * @param {?} selected Whether the row should be selected\r\n     * @return {?}\r\n     */\r\n    function (selected) {\r\n        this._selected = selected;\r\n        if (selected === true) {\r\n            this.addCls(EntityTableRowDirective.selectedCls);\r\n            if (this.highlightSelection === true) {\r\n                this.addCls(EntityTableRowDirective.highlightedCls);\r\n            }\r\n        }\r\n        else {\r\n            this.removeCls(EntityTableRowDirective.selectedCls);\r\n            this.removeCls(EntityTableRowDirective.highlightedCls);\r\n        }\r\n    };\r\n    /**\r\n     * Scroll to the selected row\r\n     */\r\n    /**\r\n     * Scroll to the selected row\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    EntityTableRowDirective.prototype.scroll = /**\r\n     * Scroll to the selected row\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this._selected === true) {\r\n            this.el.nativeElement.scrollIntoView({\r\n                behavior: this.scrollBehavior,\r\n                block: 'center',\r\n                inline: 'center'\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Add the selected CSS class\r\n     */\r\n    /**\r\n     * Add the selected CSS class\r\n     * @private\r\n     * @param {?} cls\r\n     * @return {?}\r\n     */\r\n    EntityTableRowDirective.prototype.addCls = /**\r\n     * Add the selected CSS class\r\n     * @private\r\n     * @param {?} cls\r\n     * @return {?}\r\n     */\r\n    function (cls) {\r\n        this.renderer.addClass(this.el.nativeElement, cls);\r\n    };\r\n    /**\r\n     * Remove the selected CSS class\r\n     */\r\n    /**\r\n     * Remove the selected CSS class\r\n     * @private\r\n     * @param {?} cls\r\n     * @return {?}\r\n     */\r\n    EntityTableRowDirective.prototype.removeCls = /**\r\n     * Remove the selected CSS class\r\n     * @private\r\n     * @param {?} cls\r\n     * @return {?}\r\n     */\r\n    function (cls) {\r\n        this.renderer.removeClass(this.el.nativeElement, cls);\r\n    };\r\n    /**\r\n     * Class added to a selected row\r\n     */\r\n    EntityTableRowDirective.selectedCls = 'igo-entity-table-row-selected';\r\n    /**\r\n     * Class added to a highlighted row\r\n     */\r\n    EntityTableRowDirective.highlightedCls = 'igo-entity-table-row-highlighted';\r\n    EntityTableRowDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoEntityTableRow]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    EntityTableRowDirective.ctorParameters = function () { return [\r\n        { type: Renderer2 },\r\n        { type: ElementRef }\r\n    ]; };\r\n    EntityTableRowDirective.propDecorators = {\r\n        selection: [{ type: Input }],\r\n        selectOnClick: [{ type: Input }],\r\n        highlightSelection: [{ type: Input }],\r\n        selected: [{ type: Input }],\r\n        scrollBehavior: [{ type: Input }],\r\n        select: [{ type: Output }],\r\n        onClick: [{ type: HostListener, args: ['click',] }]\r\n    };\r\n    return EntityTableRowDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoEntityTableModule = /** @class */ (function () {\r\n    function IgoEntityTableModule() {\r\n    }\r\n    IgoEntityTableModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatTableModule,\r\n                        MatSortModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatCheckboxModule,\r\n                        IgoStopPropagationModule,\r\n                        IgoCustomHtmlModule\r\n                    ],\r\n                    exports: [\r\n                        EntityTableComponent\r\n                    ],\r\n                    declarations: [\r\n                        EntityTableComponent,\r\n                        EntityTableRowDirective\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoEntityTableModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoEntityModule = /** @class */ (function () {\r\n    function IgoEntityModule() {\r\n    }\r\n    IgoEntityModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [\r\n                        IgoEntitySelectorModule,\r\n                        IgoEntityTableModule\r\n                    ],\r\n                    declarations: []\r\n                },] }\r\n    ];\r\n    return IgoEntityModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar SecureImagePipe = /** @class */ (function () {\r\n    function SecureImagePipe(http) {\r\n        this.http = http;\r\n    }\r\n    /**\r\n     * @param {?} url\r\n     * @return {?}\r\n     */\r\n    SecureImagePipe.prototype.transform = /**\r\n     * @param {?} url\r\n     * @return {?}\r\n     */\r\n    function (url) {\r\n        return this.http\r\n            .get(url, {\r\n            headers: {\r\n                activityInterceptor: 'false'\r\n            },\r\n            responseType: 'blob'\r\n        })\r\n            .pipe(switchMap((/**\r\n         * @param {?} blob\r\n         * @return {?}\r\n         */\r\n        function (blob) {\r\n            return new Observable((/**\r\n             * @param {?} observer\r\n             * @return {?}\r\n             */\r\n            function (observer) {\r\n                /** @type {?} */\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(blob);\r\n                reader.onloadend = (/**\r\n                 * @return {?}\r\n                 */\r\n                function () {\r\n                    observer.next(reader.result);\r\n                });\r\n            }));\r\n        })));\r\n    };\r\n    SecureImagePipe.decorators = [\r\n        { type: Pipe, args: [{\r\n                    name: 'secureImage'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    SecureImagePipe.ctorParameters = function () { return [\r\n        { type: HttpClient }\r\n    ]; };\r\n    return SecureImagePipe;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoImageModule = /** @class */ (function () {\r\n    function IgoImageModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoImageModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoImageModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoImageModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [SecureImagePipe],\r\n                    exports: [SecureImagePipe]\r\n                },] }\r\n    ];\r\n    return IgoImageModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar KeyValuePipe = /** @class */ (function () {\r\n    function KeyValuePipe() {\r\n    }\r\n    /**\r\n     * @param {?} value\r\n     * @param {?=} args\r\n     * @return {?}\r\n     */\r\n    KeyValuePipe.prototype.transform = /**\r\n     * @param {?} value\r\n     * @param {?=} args\r\n     * @return {?}\r\n     */\r\n    function (value, args) {\r\n        /** @type {?} */\r\n        var keyValues = [];\r\n        Object.getOwnPropertyNames(value).forEach((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        function (key) {\r\n            return keyValues.push({ key: key, value: value[key] });\r\n        }));\r\n        return keyValues;\r\n    };\r\n    KeyValuePipe.decorators = [\r\n        { type: Pipe, args: [{\r\n                    name: 'keyvalue'\r\n                },] }\r\n    ];\r\n    return KeyValuePipe;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoKeyValueModule = /** @class */ (function () {\r\n    function IgoKeyValueModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoKeyValueModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoKeyValueModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoKeyValueModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [KeyValuePipe],\r\n                    exports: [KeyValuePipe]\r\n                },] }\r\n    ];\r\n    return IgoKeyValueModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar JsonDialogComponent = /** @class */ (function () {\r\n    function JsonDialogComponent(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n    }\r\n    /**\r\n     * @param {?} val\r\n     * @return {?}\r\n     */\r\n    JsonDialogComponent.prototype.isObject = /**\r\n     * @param {?} val\r\n     * @return {?}\r\n     */\r\n    function (val) {\r\n        return typeof val === 'object' && !Array.isArray(val);\r\n    };\r\n    /**\r\n     * @param {?} baseKey\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    JsonDialogComponent.prototype.getKey = /**\r\n     * @param {?} baseKey\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (baseKey, key) {\r\n        return (baseKey ? baseKey + '.' : '') + key;\r\n    };\r\n    JsonDialogComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-json-dialog',\r\n                    template: \"<h1 mat-dialog-title>{{ title }}</h1>\\r\\n\\r\\n<div mat-dialog-content>\\r\\n  <ng-container *ngTemplateOutlet=\\\"loopObject;context:{ obj: data }\\\"></ng-container>\\r\\n\\r\\n  <ng-template #loopObject let-obj='obj' let-baseKey='baseKey'>\\r\\n    <ng-container *ngFor=\\\"let property of obj | keyvalue\\\">\\r\\n      <ng-container *ngIf=\\\"ignoreKeys.indexOf(getKey(baseKey, property.key)) === -1\\\">\\r\\n\\r\\n        <ng-container *ngIf=\\\"isObject(property.value); else notObject\\\">\\r\\n          <ng-container *ngTemplateOutlet=\\\"loopObject;context:{ obj: property.value, baseKey: getKey(baseKey, property.key) }\\\"></ng-container>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-template #notObject>\\r\\n          <p><span><b>{{getKey(baseKey, property.key)}}</b> : </span><span class=\\\"propertyValue\\\" [innerHtml]=\\\"property.value\\\"></span></p>\\r\\n        </ng-template>\\r\\n\\r\\n      </ng-container>\\r\\n    </ng-container>\\r\\n  </ng-template>\\r\\n</div>\\r\\n\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button color=\\\"primary\\\"\\r\\n          (click)=\\\"dialogRef.close(false)\\\">\\r\\n    OK\\r\\n  </button>\\r\\n</div>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    JsonDialogComponent.ctorParameters = function () { return [\r\n        { type: MatDialogRef }\r\n    ]; };\r\n    return JsonDialogComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar JsonDialogService = /** @class */ (function () {\r\n    function JsonDialogService(dialog) {\r\n        this.dialog = dialog;\r\n    }\r\n    /**\r\n     * @param {?} title\r\n     * @param {?} data\r\n     * @param {?=} ignoreKeys\r\n     * @return {?}\r\n     */\r\n    JsonDialogService.prototype.open = /**\r\n     * @param {?} title\r\n     * @param {?} data\r\n     * @param {?=} ignoreKeys\r\n     * @return {?}\r\n     */\r\n    function (title, data, ignoreKeys) {\r\n        /** @type {?} */\r\n        var dialogRef = this.dialog.open(JsonDialogComponent, {\r\n            disableClose: false\r\n        });\r\n        dialogRef.componentInstance.data = data;\r\n        dialogRef.componentInstance.title = title;\r\n        dialogRef.componentInstance.ignoreKeys = ignoreKeys;\r\n        return dialogRef.afterClosed();\r\n    };\r\n    JsonDialogService.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    JsonDialogService.ctorParameters = function () { return [\r\n        { type: MatDialog }\r\n    ]; };\r\n    return JsonDialogService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoJsonDialogModule = /** @class */ (function () {\r\n    function IgoJsonDialogModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoJsonDialogModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoJsonDialogModule\r\n        };\r\n    };\r\n    IgoJsonDialogModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [CommonModule, MatButtonModule, MatDialogModule, IgoKeyValueModule],\r\n                    exports: [JsonDialogComponent],\r\n                    declarations: [JsonDialogComponent],\r\n                    entryComponents: [JsonDialogComponent],\r\n                    providers: [JsonDialogService]\r\n                },] }\r\n    ];\r\n    return IgoJsonDialogModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ListItemDirective = /** @class */ (function () {\r\n    function ListItemDirective(renderer, el) {\r\n        this.renderer = renderer;\r\n        this.el = el;\r\n        this._color = 'primary';\r\n        this._focused = false;\r\n        this._selected = false;\r\n        this._disabled = false;\r\n        this.beforeSelect = new EventEmitter();\r\n        this.beforeFocus = new EventEmitter();\r\n        this.beforeUnselect = new EventEmitter();\r\n        this.beforeUnfocus = new EventEmitter();\r\n        this.beforeDisable = new EventEmitter();\r\n        this.beforeEnable = new EventEmitter();\r\n        this.focus = new EventEmitter();\r\n        this.unfocus = new EventEmitter();\r\n        this.select = new EventEmitter();\r\n        this.unselect = new EventEmitter();\r\n        this.disable = new EventEmitter();\r\n        this.enable = new EventEmitter();\r\n    }\r\n    Object.defineProperty(ListItemDirective.prototype, \"color\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._color;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._color = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ListItemDirective.prototype, \"focused\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._focused;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            if (value === this._focused) {\r\n                return;\r\n            }\r\n            if (this.disabled) {\r\n                return;\r\n            }\r\n            value ? this.beforeFocus.emit(this) : this.beforeUnfocus.emit(this);\r\n            this._focused = value;\r\n            this.toggleSelectedClass();\r\n            value ? this.focus.emit(this) : this.unfocus.emit(this);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ListItemDirective.prototype, \"selected\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._selected;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            if (value === this._selected) {\r\n                return;\r\n            }\r\n            if (this.disabled) {\r\n                return;\r\n            }\r\n            value ? this.beforeSelect.emit(this) : this.beforeUnselect.emit(this);\r\n            this._selected = value;\r\n            this._focused = value;\r\n            this.toggleSelectedClass();\r\n            value ? this.select.emit(this) : this.unselect.emit(this);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ListItemDirective.prototype, \"disabled\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._disabled;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            if (value === this._disabled) {\r\n                return;\r\n            }\r\n            if (value === true) {\r\n                this.selected = false;\r\n            }\r\n            value ? this.beforeDisable.emit(this) : this.beforeEnable.emit(this);\r\n            this._disabled = value;\r\n            this.toggleDisabledClass();\r\n            value ? this.disable.emit(this) : this.enable.emit(this);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListItemDirective.prototype.onClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.selected = true;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListItemDirective.prototype.getOffsetTop = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var padding = 5;\r\n        return this.el.nativeElement.offsetTop - padding;\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ListItemDirective.prototype.toggleSelectedClass = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.focused || this.selected) {\r\n            this.addCls(ListItemDirective.selectedCls);\r\n        }\r\n        else {\r\n            this.removeCls(ListItemDirective.selectedCls);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ListItemDirective.prototype.toggleDisabledClass = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.disabled) {\r\n            this.addCls(ListItemDirective.disabledCls);\r\n        }\r\n        else {\r\n            this.removeCls(ListItemDirective.disabledCls);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} cls\r\n     * @return {?}\r\n     */\r\n    ListItemDirective.prototype.addCls = /**\r\n     * @private\r\n     * @param {?} cls\r\n     * @return {?}\r\n     */\r\n    function (cls) {\r\n        this.renderer.addClass(this.el.nativeElement, cls);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} cls\r\n     * @return {?}\r\n     */\r\n    ListItemDirective.prototype.removeCls = /**\r\n     * @private\r\n     * @param {?} cls\r\n     * @return {?}\r\n     */\r\n    function (cls) {\r\n        this.renderer.removeClass(this.el.nativeElement, cls);\r\n    };\r\n    ListItemDirective.selectedCls = 'igo-list-item-selected';\r\n    ListItemDirective.disabledCls = 'igo-list-item-disabled';\r\n    ListItemDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoListItem]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ListItemDirective.ctorParameters = function () { return [\r\n        { type: Renderer2 },\r\n        { type: ElementRef }\r\n    ]; };\r\n    ListItemDirective.propDecorators = {\r\n        color: [{ type: Input }],\r\n        focused: [{ type: Input }],\r\n        selected: [{ type: Input }],\r\n        disabled: [{ type: Input }],\r\n        beforeSelect: [{ type: Output }],\r\n        beforeFocus: [{ type: Output }],\r\n        beforeUnselect: [{ type: Output }],\r\n        beforeUnfocus: [{ type: Output }],\r\n        beforeDisable: [{ type: Output }],\r\n        beforeEnable: [{ type: Output }],\r\n        focus: [{ type: Output }],\r\n        unfocus: [{ type: Output }],\r\n        select: [{ type: Output }],\r\n        unselect: [{ type: Output }],\r\n        disable: [{ type: Output }],\r\n        enable: [{ type: Output }],\r\n        onClick: [{ type: HostListener, args: ['click',] }]\r\n    };\r\n    return ListItemDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ListComponent = /** @class */ (function () {\r\n    function ListComponent(el) {\r\n        this.el = el;\r\n        this._navigation = true;\r\n        this._selection = true;\r\n        this.subscriptions = [];\r\n    }\r\n    Object.defineProperty(ListComponent.prototype, \"navigation\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._navigation;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._navigation = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ListComponent.prototype, \"selection\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._selection;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._selection = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ListComponent.prototype, \"selectedItem\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._selectedItem;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.focusedItem = value;\r\n            this._selectedItem = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ListComponent.prototype, \"focusedItem\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._focusedItem;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._focusedItem = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.handleKeyboardEvent = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        // It would be nice to be able to unsubscribe to the event\r\n        // completely but until ES7 this won't be possible because\r\n        // document events are not observables\r\n        if (this.navigationEnabled) {\r\n            if (event.keyCode === 38 || event.keyCode === 40) {\r\n                event.preventDefault();\r\n                this.navigate(event.keyCode);\r\n            }\r\n            else if (event.keyCode === 13) {\r\n                this.select(this.focusedItem);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.enableNavigation();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.listItems.length) {\r\n            this.init();\r\n        }\r\n        this.listItems$$ = this.listItems.changes.subscribe((/**\r\n         * @param {?} items\r\n         * @return {?}\r\n         */\r\n        function (items) { return _this.init(); }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.listItems$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @param {?=} item\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.focus = /**\r\n     * @param {?=} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        if (!this.selection) {\r\n            return;\r\n        }\r\n        this.unfocus();\r\n        // We need to make this check because dynamic\r\n        // lists such as in the search results list may fail\r\n        if (item !== undefined) {\r\n            item.focused = true;\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.unfocus = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.focusedItem !== undefined) {\r\n            this.focusedItem.focused = false;\r\n        }\r\n        this.focusedItem = undefined;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.focusNext = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var items = this.listItems.toArray();\r\n        /** @type {?} */\r\n        var item;\r\n        /** @type {?} */\r\n        var disabled = true;\r\n        /** @type {?} */\r\n        var index = this.getFocusedIndex();\r\n        if (index === undefined) {\r\n            index = -1;\r\n        }\r\n        while (disabled && index < items.length - 1) {\r\n            index += 1;\r\n            item = items[index];\r\n            disabled = item.disabled;\r\n        }\r\n        if (item !== undefined) {\r\n            this.focus(item);\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.focusPrevious = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var items = this.listItems.toArray();\r\n        /** @type {?} */\r\n        var item;\r\n        /** @type {?} */\r\n        var disabled = true;\r\n        /** @type {?} */\r\n        var index = this.getFocusedIndex();\r\n        while (disabled && index > 0) {\r\n            index -= 1;\r\n            item = items[index];\r\n            disabled = item.disabled;\r\n        }\r\n        if (item !== undefined) {\r\n            this.focus(item);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?=} item\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.select = /**\r\n     * @param {?=} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        if (!this.selection) {\r\n            return;\r\n        }\r\n        this.unselect();\r\n        if (item !== undefined) {\r\n            item.selected = true;\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.unselect = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.unfocus();\r\n        if (this.selectedItem !== undefined) {\r\n            this.selectedItem.selected = false;\r\n        }\r\n        this.selectedItem = undefined;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.enableNavigation = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.navigation) {\r\n            this.navigationEnabled = true;\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.disableNavigation = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.navigationEnabled = false;\r\n    };\r\n    /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.scrollToItem = /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        this.el.nativeElement.scrollTop = item.getOffsetTop();\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.init = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.subscribe();\r\n        this.selectedItem = this.findSelectedItem();\r\n        this.focusedItem = this.findFocusedItem();\r\n        this.enableNavigation();\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.subscribe = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.unsubscribe();\r\n        this.listItems.toArray().forEach((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) {\r\n            _this.subscriptions.push(item.beforeSelect.subscribe((/**\r\n             * @param {?} item2\r\n             * @return {?}\r\n             */\r\n            function (item2) {\r\n                return _this.handleItemBeforeSelect(item2);\r\n            })));\r\n            _this.subscriptions.push(item.select.subscribe((/**\r\n             * @param {?} item2\r\n             * @return {?}\r\n             */\r\n            function (item2) {\r\n                return _this.handleItemSelect(item2);\r\n            })));\r\n            _this.subscriptions.push(item.beforeFocus.subscribe((/**\r\n             * @param {?} item2\r\n             * @return {?}\r\n             */\r\n            function (item2) {\r\n                return _this.handleItemBeforeFocus(item2);\r\n            })));\r\n            _this.subscriptions.push(item.focus.subscribe((/**\r\n             * @param {?} item2\r\n             * @return {?}\r\n             */\r\n            function (item2) {\r\n                return _this.handleItemFocus(item2);\r\n            })));\r\n        }), this);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.unsubscribe = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.subscriptions.forEach((/**\r\n         * @param {?} sub\r\n         * @return {?}\r\n         */\r\n        function (sub) { return sub.unsubscribe(); }));\r\n        this.subscriptions = [];\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.handleItemBeforeFocus = /**\r\n     * @private\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        if (item !== this.focusedItem) {\r\n            this.unselect();\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.handleItemFocus = /**\r\n     * @private\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        this.focusedItem = item;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.handleItemBeforeSelect = /**\r\n     * @private\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        if (item !== this.focusedItem) {\r\n            this.unselect();\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.handleItemSelect = /**\r\n     * @private\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        this.selectedItem = item;\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.findSelectedItem = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.listItems.toArray().find((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) { return item.selected; }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.findFocusedItem = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.listItems.toArray().find((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) { return item.focused; }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.getFocusedIndex = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        return this.listItems\r\n            .toArray()\r\n            .findIndex((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) { return item === _this.focusedItem; }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    ListComponent.prototype.navigate = /**\r\n     * @private\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (key) {\r\n        switch (key) {\r\n            case 38:\r\n                this.focusPrevious();\r\n                break;\r\n            case 40:\r\n                this.focusNext();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    ListComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-list',\r\n                    template: \"<mat-list\\r\\n  igoClickout\\r\\n  [ngClass]=\\\"{'selectable': selection}\\\"\\r\\n  (clickout)=\\\"disableNavigation()\\\"\\r\\n  (click)=\\\"enableNavigation()\\\">\\r\\n  <ng-content></ng-content>\\r\\n</mat-list>\\r\\n\",\r\n                    styles: [\":host{display:block;height:100%;overflow:auto;position:static}mat-list{padding-top:0}:host>>>.mat-list .mat-list-item .mat-list-text>*{white-space:normal;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;max-height:36px;line-height:18px;-webkit-line-clamp:2}:host>>>.mat-list .mat-list-item.mat-list-item-avatar .mat-list-item-content{display:-webkit-flex;height:46px;padding:3px}:host>>>.mat-list .mat-list-item.mat-list-item-avatar{height:46px}:host>>>.mat-list .mat-list-item.mat-list-item-avatar .mat-list-item-content>mat-icon{padding:8px}:host>>>[igolistitem] mat-list-item [mat-list-avatar]{height:auto;width:40px}:host mat-list.selectable>>>[igolistitem]:not(.igo-list-item-disabled) mat-list-item:hover{cursor:pointer}:host>>>[igolistitem]:focus{outline:0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ListComponent.ctorParameters = function () { return [\r\n        { type: ElementRef }\r\n    ]; };\r\n    ListComponent.propDecorators = {\r\n        navigation: [{ type: Input }],\r\n        selection: [{ type: Input }],\r\n        listItems: [{ type: ContentChildren, args: [ListItemDirective, { descendants: true },] }],\r\n        handleKeyboardEvent: [{ type: HostListener, args: ['document:keydown', ['$event'],] }]\r\n    };\r\n    return ListComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoListModule = /** @class */ (function () {\r\n    function IgoListModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoListModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoListModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoListModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [CommonModule, MatIconModule, MatListModule, IgoClickoutModule],\r\n                    declarations: [ListItemDirective, ListComponent],\r\n                    exports: [ListItemDirective, ListComponent]\r\n                },] }\r\n    ];\r\n    return IgoListModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar PanelComponent = /** @class */ (function () {\r\n    function PanelComponent() {\r\n        this._withHeader = true;\r\n    }\r\n    Object.defineProperty(PanelComponent.prototype, \"title\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._title;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._title = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PanelComponent.prototype, \"withHeader\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._withHeader;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._withHeader = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PanelComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-panel',\r\n                    template: \"<div *ngIf=\\\"withHeader\\\" class=\\\"igo-panel-header\\\" title=\\\"\\\">\\r\\n  <h3>\\r\\n    <ng-content select=\\\"[panelLeftButton]\\\"></ng-content>\\r\\n    <div class=\\\"igo-panel-title\\\">\\r\\n      {{title}}\\r\\n      <ng-content select=\\\"[panelHeader]\\\"></ng-content>\\r\\n    </div>\\r\\n    <ng-content select=\\\"[panelRightButton]\\\"></ng-content>\\r\\n  </h3>\\r\\n</div>\\r\\n<div class=\\\"igo-panel-content\\\" title=\\\"\\\">\\r\\n  <ng-content></ng-content>\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{display:block}.igo-panel-header{height:46px;padding:3px;text-align:center}.igo-panel-header h3{margin:0;height:40px}.igo-panel-header>>>[panelleftbutton]{float:left;margin-right:-40px}.igo-panel-header>>>[panelrightbutton]{float:right}.igo-panel-content{overflow:auto}:host.igo-panel-with-header .igo-panel-content{height:calc(100% - 46px)}:host:not(.igo-panel-with-header) .igo-panel-content{height:100%}.igo-panel-title{display:block;width:calc(100% - 80px);margin-left:40px;height:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;line-height:40px;float:left}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    PanelComponent.ctorParameters = function () { return []; };\r\n    PanelComponent.propDecorators = {\r\n        title: [{ type: Input }],\r\n        withHeader: [{ type: Input }, { type: HostBinding, args: ['class.igo-panel-with-header',] }]\r\n    };\r\n    return PanelComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoPanelModule = /** @class */ (function () {\r\n    function IgoPanelModule() {\r\n    }\r\n    IgoPanelModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [\r\n                        PanelComponent\r\n                    ],\r\n                    declarations: [\r\n                        PanelComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoPanelModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * <igoSidenavShim> directive.\r\n *\r\n * This directive prevents a material sidenav with mode=\"side\"\r\n * from focusing an element after it's closed\r\n */\r\nvar SidenavShimDirective = /** @class */ (function () {\r\n    function SidenavShimDirective(component, renderer) {\r\n        this.renderer = renderer;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SidenavShimDirective.prototype.onOpen = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.focusedElement = (/** @type {?} */ (document.activeElement));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SidenavShimDirective.prototype.onCloseStart = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var focusedElement = (/** @type {?} */ (document.activeElement));\r\n        if (focusedElement !== this.focusedElement) {\r\n            this.blurElement = this.focusedElement;\r\n        }\r\n        else {\r\n            this.blurElement = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SidenavShimDirective.prototype.onClose = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.blurElement) {\r\n            this.renderer.selectRootElement(this.blurElement).blur();\r\n        }\r\n        this.blurElement = undefined;\r\n        this.focusedElement = undefined;\r\n    };\r\n    SidenavShimDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoSidenavShim]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    SidenavShimDirective.ctorParameters = function () { return [\r\n        { type: MatSidenav, decorators: [{ type: Self }] },\r\n        { type: Renderer2 }\r\n    ]; };\r\n    SidenavShimDirective.propDecorators = {\r\n        onOpen: [{ type: HostListener, args: ['open', ['$event'],] }],\r\n        onCloseStart: [{ type: HostListener, args: ['close-start', ['$event'],] }],\r\n        onClose: [{ type: HostListener, args: ['close', ['$event'],] }]\r\n    };\r\n    return SidenavShimDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoSidenavModule = /** @class */ (function () {\r\n    function IgoSidenavModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoSidenavModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoSidenavModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoSidenavModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [SidenavShimDirective],\r\n                    exports: [SidenavShimDirective]\r\n                },] }\r\n    ];\r\n    return IgoSidenavModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar SpinnerComponent = /** @class */ (function () {\r\n    function SpinnerComponent() {\r\n        this.shown$ = new BehaviorSubject(false);\r\n    }\r\n    Object.defineProperty(SpinnerComponent.prototype, \"shown\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.shown$.value; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { this.shown$.next(value); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SpinnerComponent.prototype.show = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.shown = true;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SpinnerComponent.prototype.hide = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.shown = false;\r\n    };\r\n    SpinnerComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-spinner',\r\n                    template: \"<div\\r\\n  [ngClass]=\\\"{'igo-spinner-container': true, 'igo-spinner-shown': (shown$ | async)}\\\">\\r\\n  <div class=\\\"igo-spinner-background\\\"></div>\\r\\n  <mat-progress-spinner diameter=\\\"40\\\" mode=\\\"indeterminate\\\"></mat-progress-spinner>\\r\\n</div>\\r\\n\",\r\n                    styles: [\".igo-spinner-container{display:none;pointer-events:none}.igo-spinner-container.igo-spinner-shown{display:block}mat-progress-spinner{height:40px;width:40px;border-radius:50%}.igo-spinner-background{height:36px;width:36px;border-radius:50%;border:4px solid #fff;position:absolute;top:2px;left:2px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    SpinnerComponent.ctorParameters = function () { return []; };\r\n    SpinnerComponent.propDecorators = {\r\n        shown: [{ type: Input }]\r\n    };\r\n    return SpinnerComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * A directive to bind a SpinnerComponent to the activity service.\r\n * The activity service tracks any HTTP request and this directive\r\n * will display the spinner it's attached to when the activity counter\r\n * is greater than 0.\r\n */\r\nvar SpinnerActivityDirective = /** @class */ (function () {\r\n    function SpinnerActivityDirective(spinner, activityService) {\r\n        this.spinner = spinner;\r\n        this.activityService = activityService;\r\n    }\r\n    /**\r\n     * Subscribe to the activity service counter and display the spinner\r\n     * when it's is greater than 0.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Subscribe to the activity service counter and display the spinner\r\n     * when it's is greater than 0.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    SpinnerActivityDirective.prototype.ngOnInit = /**\r\n     * Subscribe to the activity service counter and display the spinner\r\n     * when it's is greater than 0.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.counter$$ = this.activityService.counter$\r\n            .pipe(debounceTime(50))\r\n            .subscribe((/**\r\n         * @param {?} count\r\n         * @return {?}\r\n         */\r\n        function (count) {\r\n            count > 0 ? _this.spinner.show() : _this.spinner.hide();\r\n        }));\r\n    };\r\n    /**\r\n     * Unsubcribe to the activity service counter.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Unsubcribe to the activity service counter.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    SpinnerActivityDirective.prototype.ngOnDestroy = /**\r\n     * Unsubcribe to the activity service counter.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.counter$$.unsubscribe();\r\n    };\r\n    SpinnerActivityDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoSpinnerActivity]',\r\n                    providers: [SpinnerComponent]\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    SpinnerActivityDirective.ctorParameters = function () { return [\r\n        { type: SpinnerComponent, decorators: [{ type: Self }] },\r\n        { type: ActivityService }\r\n    ]; };\r\n    return SpinnerActivityDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoSpinnerModule = /** @class */ (function () {\r\n    function IgoSpinnerModule() {\r\n    }\r\n    IgoSpinnerModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [CommonModule, MatProgressSpinnerModule],\r\n                    declarations: [SpinnerActivityDirective, SpinnerComponent],\r\n                    exports: [SpinnerActivityDirective, SpinnerComponent]\r\n                },] }\r\n    ];\r\n    return IgoSpinnerModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TableDatabase = /** @class */ (function () {\r\n    function TableDatabase(data) {\r\n        /**\r\n         * Stream that emits whenever the data has been modified.\r\n         */\r\n        this.dataChange = new BehaviorSubject([]);\r\n        if (data) {\r\n            this.dataChange.next(data);\r\n        }\r\n    }\r\n    Object.defineProperty(TableDatabase.prototype, \"data\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.dataChange.value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    TableDatabase.prototype.set = /**\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        this.dataChange.next(data);\r\n    };\r\n    /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    TableDatabase.prototype.add = /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        /** @type {?} */\r\n        var copiedData = this.data.slice();\r\n        copiedData.push(item);\r\n        this.set(copiedData);\r\n    };\r\n    /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    TableDatabase.prototype.remove = /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        /** @type {?} */\r\n        var copiedData = this.data.slice();\r\n        /** @type {?} */\r\n        var index = copiedData.indexOf(item);\r\n        copiedData.splice(index, 1);\r\n        this.set(copiedData);\r\n    };\r\n    return TableDatabase;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TableDataSource = /** @class */ (function (_super) {\r\n    __extends(TableDataSource, _super);\r\n    function TableDataSource(_database, _model, _sort) {\r\n        var _this = _super.call(this) || this;\r\n        _this._database = _database;\r\n        _this._model = _model;\r\n        _this._sort = _sort;\r\n        _this._filterChange = new BehaviorSubject('');\r\n        return _this;\r\n    }\r\n    Object.defineProperty(TableDataSource.prototype, \"filter\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._filterChange.value;\r\n        },\r\n        set: /**\r\n         * @param {?} filter\r\n         * @return {?}\r\n         */\r\n        function (filter$$1) {\r\n            this._filterChange.next(filter$$1);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // Connect function called by the table to retrieve one stream containing\r\n    // the data to render.\r\n    // Connect function called by the table to retrieve one stream containing\r\n    // the data to render.\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TableDataSource.prototype.connect = \r\n    // Connect function called by the table to retrieve one stream containing\r\n    // the data to render.\r\n    /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (!this._database) {\r\n            return merge([]);\r\n        }\r\n        /** @type {?} */\r\n        var displayDataChanges = [\r\n            this._database.dataChange,\r\n            this._filterChange,\r\n            this._sort.sortChange\r\n        ];\r\n        return merge.apply(void 0, __spread(displayDataChanges)).pipe(map((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return _this.getFilteredData(_this._database.data);\r\n        })), map((/**\r\n         * @param {?} data\r\n         * @return {?}\r\n         */\r\n        function (data) {\r\n            return _this.getSortedData(data);\r\n        })));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TableDataSource.prototype.disconnect = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    /**\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    TableDataSource.prototype.getFilteredData = /**\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        var _this = this;\r\n        if (!this.filter) {\r\n            return data;\r\n        }\r\n        return data.slice().filter((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) {\r\n            /** @type {?} */\r\n            var searchStr = _this._model.columns\r\n                .filter((/**\r\n             * @param {?} c\r\n             * @return {?}\r\n             */\r\n            function (c) { return c.filterable; }))\r\n                .map((/**\r\n             * @param {?} c\r\n             * @return {?}\r\n             */\r\n            function (c) { return ObjectUtils.resolve(item, c.name); }))\r\n                .join(' ')\r\n                .toLowerCase();\r\n            return searchStr.indexOf(_this.filter.toLowerCase()) !== -1;\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    TableDataSource.prototype.getSortedData = /**\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        var _this = this;\r\n        if (!this._sort.active || this._sort.direction === '') {\r\n            return data;\r\n        }\r\n        return data.sort((/**\r\n         * @param {?} a\r\n         * @param {?} b\r\n         * @return {?}\r\n         */\r\n        function (a, b) {\r\n            /** @type {?} */\r\n            var propertyA = ObjectUtils.resolve(a, _this._sort.active);\r\n            /** @type {?} */\r\n            var propertyB = ObjectUtils.resolve(b, _this._sort.active);\r\n            return ObjectUtils.naturalCompare(propertyB, propertyA, _this._sort.direction);\r\n        }));\r\n    };\r\n    return TableDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {number} */\r\nvar TableActionColor = {\r\n    primary: 0,\r\n    accent: 1,\r\n    warn: 2,\r\n};\r\nTableActionColor[TableActionColor.primary] = 'primary';\r\nTableActionColor[TableActionColor.accent] = 'accent';\r\nTableActionColor[TableActionColor.warn] = 'warn';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TableComponent = /** @class */ (function () {\r\n    function TableComponent() {\r\n        this._hasFIlterInput = true;\r\n        this.selection = new SelectionModel(true, []);\r\n        this.select = new EventEmitter();\r\n    }\r\n    Object.defineProperty(TableComponent.prototype, \"database\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._database;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._database = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TableComponent.prototype, \"model\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._model;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._model = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TableComponent.prototype, \"hasFilterInput\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._hasFIlterInput;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._hasFIlterInput = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TableComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.dataSource = new TableDataSource(this.database, this.model, this.sort);\r\n        if (this.model) {\r\n            this.displayedColumns = this.model.columns\r\n                .filter((/**\r\n             * @param {?} c\r\n             * @return {?}\r\n             */\r\n            function (c) { return c.displayed !== false; }))\r\n                .map((/**\r\n             * @param {?} c\r\n             * @return {?}\r\n             */\r\n            function (c) { return c.name; }));\r\n            if (this.model.selectionCheckbox) {\r\n                this.displayedColumns.unshift('selectionCheckbox');\r\n            }\r\n            if (this.model.actions && this.model.actions.length) {\r\n                this.displayedColumns.push('action');\r\n            }\r\n        }\r\n        this.selection.changed.subscribe((/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.select.emit(e); }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TableComponent.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.filter) {\r\n            fromEvent(this.filter.nativeElement, 'keyup')\r\n                .pipe(debounceTime(150), distinctUntilChanged())\r\n                .subscribe((/**\r\n             * @return {?}\r\n             */\r\n            function () {\r\n                if (!_this.dataSource) {\r\n                    return;\r\n                }\r\n                _this.dataSource.filter = _this.filter.nativeElement.value;\r\n            }));\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} change\r\n     * @return {?}\r\n     */\r\n    TableComponent.prototype.ngOnChanges = /**\r\n     * @param {?} change\r\n     * @return {?}\r\n     */\r\n    function (change) {\r\n        if (change.database) {\r\n            this.dataSource = new TableDataSource(this.database, this.model, this.sort);\r\n            this.selection.clear();\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} colorId\r\n     * @return {?}\r\n     */\r\n    TableComponent.prototype.getActionColor = /**\r\n     * @param {?} colorId\r\n     * @return {?}\r\n     */\r\n    function (colorId) {\r\n        return TableActionColor[colorId];\r\n    };\r\n    /**\r\n     * @param {?} row\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    TableComponent.prototype.getValue = /**\r\n     * @param {?} row\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (row, key) {\r\n        return ObjectUtils.resolve(row, key);\r\n    };\r\n    /** Whether the number of selected elements matches the total number of rows. */\r\n    /**\r\n     * Whether the number of selected elements matches the total number of rows.\r\n     * @return {?}\r\n     */\r\n    TableComponent.prototype.isAllSelected = /**\r\n     * Whether the number of selected elements matches the total number of rows.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var numSelected = this.selection.selected.length;\r\n        /** @type {?} */\r\n        var numRows = this.database.data.length;\r\n        return numSelected === numRows;\r\n    };\r\n    /** Selects all rows if they are not all selected; otherwise clear selection. */\r\n    /**\r\n     * Selects all rows if they are not all selected; otherwise clear selection.\r\n     * @return {?}\r\n     */\r\n    TableComponent.prototype.masterToggle = /**\r\n     * Selects all rows if they are not all selected; otherwise clear selection.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.isAllSelected()\r\n            ? this.selection.clear()\r\n            : this.database.data.forEach((/**\r\n             * @param {?} row\r\n             * @return {?}\r\n             */\r\n            function (row) { return _this.selection.select(row); }));\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @param {?} action\r\n     * @param {?} row\r\n     * @return {?}\r\n     */\r\n    TableComponent.prototype.handleClickAction = /**\r\n     * @param {?} event\r\n     * @param {?} action\r\n     * @param {?} row\r\n     * @return {?}\r\n     */\r\n    function (event, action, row) {\r\n        event.stopPropagation();\r\n        action.click(row);\r\n    };\r\n    TableComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-table',\r\n                    template: \"<div class='table-box'>\\r\\n  <div class='table-header' *ngIf=\\\"hasFilterInput\\\">\\r\\n    <mat-form-field floatPlaceholder='never'>\\r\\n      <input matInput #filter [placeholder]=\\\"'igo.common.table.filter' | translate\\\">\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div class='table-container'>\\r\\n    <table mat-table #table [dataSource]='dataSource' matSort>\\r\\n\\r\\n      <!-- Checkbox Column -->\\r\\n      <ng-container matColumnDef=\\\"selectionCheckbox\\\">\\r\\n        <th mat-header-cell *matHeaderCellDef>\\r\\n          <mat-checkbox (change)=\\\"$event ? masterToggle() : null\\\"\\r\\n                        [checked]=\\\"selection.hasValue() && isAllSelected()\\\"\\r\\n                        [indeterminate]=\\\"selection.hasValue() && !isAllSelected()\\\">\\r\\n          </mat-checkbox>\\r\\n        </th>\\r\\n        <td mat-cell *matCellDef=\\\"let row\\\">\\r\\n          <mat-checkbox (click)=\\\"$event.stopPropagation()\\\"\\r\\n                        (change)=\\\"$event ? selection.toggle(row) : null\\\"\\r\\n                        [checked]=\\\"selection.isSelected(row)\\\">\\r\\n          </mat-checkbox>\\r\\n        </td>\\r\\n      </ng-container>\\r\\n\\r\\n      <ng-container [matColumnDef]='column.name' *ngFor='let column of model.columns'>\\r\\n        <ng-container *ngIf='column.sortable'>\\r\\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column.title}} </th>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container *ngIf='!column.sortable'>\\r\\n          <th mat-header-cell *matHeaderCellDef> {{column.title}} </th>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container *ngIf=\\\"!column.html; else cellHTML\\\">\\r\\n          <td mat-cell *matCellDef='let row' class=\\\"mat-cell-text\\\"\\r\\n            [ngClass]=\\\"model.cellClassFunc ? model.cellClassFunc(row, column) : {}\\\">\\r\\n            {{getValue(row, column.name)}}\\r\\n          </td>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-template #cellHTML>\\r\\n          <td mat-cell *matCellDef='let row' class=\\\"mat-cell-text\\\"\\r\\n            [ngClass]=\\\"model.cellClassFunc ? model.cellClassFunc(row, column) : {}\\\"\\r\\n            [innerHTML]=\\\"getValue(row, column.name)\\\">\\r\\n          </td>\\r\\n        </ng-template>\\r\\n      </ng-container>\\r\\n\\r\\n      <!-- Action Column -->\\r\\n      <ng-container matColumnDef='action'>\\r\\n        <th mat-header-cell *matHeaderCellDef></th>\\r\\n        <td mat-cell *matCellDef='let row'>\\r\\n          <button *ngFor='let action of model.actions'\\r\\n          mat-mini-fab\\r\\n          [color]='getActionColor(action.color)'\\r\\n          (click)='handleClickAction($event, action, row)'>\\r\\n            <mat-icon svgIcon=\\\"{{action.icon}}\\\"></mat-icon>\\r\\n          </button>\\r\\n        </td>\\r\\n      </ng-container>\\r\\n\\r\\n      <tr mat-header-row *matHeaderRowDef='displayedColumns;'></tr>\\r\\n      <tr mat-row\\r\\n        *matRowDef='let row; columns: displayedColumns;'\\r\\n        [ngClass]=\\\"model.rowClassFunc ? model.rowClassFunc(row) : {}\\\"\\r\\n        (click)=\\\"selection.toggle(row)\\\">\\r\\n      </tr>\\r\\n\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\",\r\n                    styles: [\":host{width:100%;height:100%;display:block}.table-container{display:flex;flex-direction:column;height:100%;overflow:auto;flex:1 1 auto}.table-box{height:100%;display:flex;flex-direction:column}.table-header{min-height:64px;max-width:500px;display:flex;flex:0 1 auto;align-items:baseline;padding:8px 24px 0;font-size:20px;justify-content:space-between}tr[mat-header-row],tr[mat-row]{height:60px}.mat-cell-text{overflow:hidden;word-wrap:break-word}td[mat-cell]{padding-right:15px}th.mat-header-cell{padding-right:5px}button{margin-right:10px}\"]\r\n                }] }\r\n    ];\r\n    TableComponent.propDecorators = {\r\n        database: [{ type: Input }],\r\n        model: [{ type: Input }],\r\n        hasFilterInput: [{ type: Input }],\r\n        select: [{ type: Output }],\r\n        filter: [{ type: ViewChild, args: ['filter',] }],\r\n        sort: [{ type: ViewChild, args: [MatSort,] }]\r\n    };\r\n    return TableComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoTableModule = /** @class */ (function () {\r\n    function IgoTableModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoTableModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoTableModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoTableModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        CdkTableModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatTableModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatSortModule,\r\n                        MatCheckboxModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    declarations: [TableComponent],\r\n                    exports: [TableComponent]\r\n                },] }\r\n    ];\r\n    return IgoTableModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service where runtime tool configurations are registered\r\n */\r\nvar ToolService = /** @class */ (function () {\r\n    function ToolService() {\r\n    }\r\n    /**\r\n     * @param {?} tool\r\n     * @return {?}\r\n     */\r\n    ToolService.register = /**\r\n     * @param {?} tool\r\n     * @return {?}\r\n     */\r\n    function (tool) {\r\n        ToolService.tools[tool.name] = tool;\r\n    };\r\n    /**\r\n     * Return a tool\r\n     * @param name Tool name\r\n     * @returns tool Tool\r\n     */\r\n    /**\r\n     * Return a tool\r\n     * @param {?} name Tool name\r\n     * @return {?} tool Tool\r\n     */\r\n    ToolService.prototype.getTool = /**\r\n     * Return a tool\r\n     * @param {?} name Tool name\r\n     * @return {?} tool Tool\r\n     */\r\n    function (name) {\r\n        return ToolService.tools[name];\r\n    };\r\n    /**\r\n     * Return all tools\r\n     * @returns tTols\r\n     */\r\n    /**\r\n     * Return all tools\r\n     * @return {?} tTols\r\n     */\r\n    ToolService.prototype.getTools = /**\r\n     * Return all tools\r\n     * @return {?} tTols\r\n     */\r\n    function () {\r\n        return Object.values(ToolService.tools);\r\n    };\r\n    ToolService.tools = {};\r\n    ToolService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ToolService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ ToolService.ngInjectableDef = defineInjectable({ factory: function ToolService_Factory() { return new ToolService(); }, token: ToolService, providedIn: \"root\" });\r\n    return ToolService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service where all available tools and their component are registered.\r\n */\r\nvar  /**\r\n * Service where all available tools and their component are registered.\r\n */\r\nToolbox = /** @class */ (function () {\r\n    function Toolbox(options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.options = options;\r\n        /**\r\n         * Observable of the active tool\r\n         */\r\n        this.activeTool$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Ordered list of tool names to display in a toolbar\r\n         */\r\n        this.toolbar$ = new BehaviorSubject([]);\r\n        /**\r\n         * Active tool history. Useful for activating the previous tool.\r\n         */\r\n        this.activeToolHistory = [];\r\n        /**\r\n         * Tool store\r\n         */\r\n        this.store = new EntityStore([], {\r\n            getKey: (/**\r\n             * @param {?} tool\r\n             * @return {?}\r\n             */\r\n            function (tool) { return tool.name; })\r\n        });\r\n        this.setToolbar(options.toolbar);\r\n        this.initStore();\r\n    }\r\n    Object.defineProperty(Toolbox.prototype, \"tools$\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.store.entities$;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Destroy the toolbox\r\n     */\r\n    /**\r\n     * Destroy the toolbox\r\n     * @return {?}\r\n     */\r\n    Toolbox.prototype.destroy = /**\r\n     * Destroy the toolbox\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.activeTool$$.unsubscribe();\r\n        this.store.destroy();\r\n    };\r\n    /**\r\n     * Return a tool\r\n     * @param name Tool name\r\n     * @returns tool Tool\r\n     */\r\n    /**\r\n     * Return a tool\r\n     * @param {?} name Tool name\r\n     * @return {?} tool Tool\r\n     */\r\n    Toolbox.prototype.getTool = /**\r\n     * Return a tool\r\n     * @param {?} name Tool name\r\n     * @return {?} tool Tool\r\n     */\r\n    function (name) {\r\n        return this.store.get(name);\r\n    };\r\n    /**\r\n     * Return all tools\r\n     * @returns Array of tools\r\n     */\r\n    /**\r\n     * Return all tools\r\n     * @return {?} Array of tools\r\n     */\r\n    Toolbox.prototype.getTools = /**\r\n     * Return all tools\r\n     * @return {?} Array of tools\r\n     */\r\n    function () {\r\n        return this.store.all();\r\n    };\r\n    /**\r\n     * Set tool configurations\r\n     * @param tools Tools\r\n     */\r\n    /**\r\n     * Set tool configurations\r\n     * @param {?} tools Tools\r\n     * @return {?}\r\n     */\r\n    Toolbox.prototype.setTools = /**\r\n     * Set tool configurations\r\n     * @param {?} tools Tools\r\n     * @return {?}\r\n     */\r\n    function (tools) {\r\n        this.store.load(tools);\r\n    };\r\n    /**\r\n     * Set toolbar\r\n     * @param toolbar A list of tool names\r\n     */\r\n    /**\r\n     * Set toolbar\r\n     * @param {?} toolbar A list of tool names\r\n     * @return {?}\r\n     */\r\n    Toolbox.prototype.setToolbar = /**\r\n     * Set toolbar\r\n     * @param {?} toolbar A list of tool names\r\n     * @return {?}\r\n     */\r\n    function (toolbar) {\r\n        this.toolbar$.next(toolbar || []);\r\n    };\r\n    /**\r\n     * Activate a tool (and deactivate other tools)\r\n     * @param name Tool name\r\n     * @param options Tool options\r\n     */\r\n    /**\r\n     * Activate a tool (and deactivate other tools)\r\n     * @param {?} name Tool name\r\n     * @param {?=} options Tool options\r\n     * @return {?}\r\n     */\r\n    Toolbox.prototype.activateTool = /**\r\n     * Activate a tool (and deactivate other tools)\r\n     * @param {?} name Tool name\r\n     * @param {?=} options Tool options\r\n     * @return {?}\r\n     */\r\n    function (name, options) {\r\n        if (options === void 0) { options = {}; }\r\n        /** @type {?} */\r\n        var tool = this.getTool(name);\r\n        if (tool === undefined) {\r\n            return;\r\n        }\r\n        this.store.state.update(tool, { active: true, options: options }, true);\r\n    };\r\n    /**\r\n     * Activate the previous tool, if any\r\n     */\r\n    /**\r\n     * Activate the previous tool, if any\r\n     * @return {?}\r\n     */\r\n    Toolbox.prototype.activatePreviousTool = /**\r\n     * Activate the previous tool, if any\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.activeToolHistory.length <= 1) {\r\n            this.deactivateTool();\r\n            return;\r\n        }\r\n        var _a = __read(this.activeToolHistory.splice(-2, 2), 2), previous = _a[0], current = _a[1];\r\n        this.activateTool(previous);\r\n    };\r\n    /**\r\n     * Deactivate the active tool\r\n     */\r\n    /**\r\n     * Deactivate the active tool\r\n     * @return {?}\r\n     */\r\n    Toolbox.prototype.deactivateTool = /**\r\n     * Deactivate the active tool\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.clearActiveToolHistory();\r\n        this.store.state.updateAll({ active: false });\r\n    };\r\n    /**\r\n     * Initialize the tool store and start observing the active tool\r\n     */\r\n    /**\r\n     * Initialize the tool store and start observing the active tool\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    Toolbox.prototype.initStore = /**\r\n     * Initialize the tool store and start observing the active tool\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.store = new EntityStore([], {\r\n            getKey: (/**\r\n             * @param {?} entity\r\n             * @return {?}\r\n             */\r\n            function (entity) { return entity.name; })\r\n        });\r\n        this.activeTool$$ = this.store.stateView\r\n            .firstBy$((/**\r\n         * @param {?} record\r\n         * @return {?}\r\n         */\r\n        function (record) { return record.state.active === true; }))\r\n            .subscribe((/**\r\n         * @param {?} record\r\n         * @return {?}\r\n         */\r\n        function (record) {\r\n            if (record === undefined) {\r\n                _this.setActiveTool(undefined);\r\n                return;\r\n            }\r\n            /** @type {?} */\r\n            var tool = record.entity;\r\n            /** @type {?} */\r\n            var options = Object.assign({}, tool.options || {}, record.state.options || {});\r\n            _this.setActiveTool(Object.assign({}, tool, { options: options }));\r\n        }));\r\n    };\r\n    /**\r\n     * Set the active tool and update the tool history\r\n     * @param tool Tool\r\n     */\r\n    /**\r\n     * Set the active tool and update the tool history\r\n     * @private\r\n     * @param {?} tool Tool\r\n     * @return {?}\r\n     */\r\n    Toolbox.prototype.setActiveTool = /**\r\n     * Set the active tool and update the tool history\r\n     * @private\r\n     * @param {?} tool Tool\r\n     * @return {?}\r\n     */\r\n    function (tool) {\r\n        this.activeTool$.next(tool);\r\n        if (tool === undefined) {\r\n            this.clearActiveToolHistory();\r\n        }\r\n        else {\r\n            this.activeToolHistory = this.activeToolHistory\r\n                .filter((/**\r\n             * @param {?} name\r\n             * @return {?}\r\n             */\r\n            function (name) { return name !== tool.name; }))\r\n                .concat([tool.name]);\r\n        }\r\n    };\r\n    /**\r\n     * Clear the tool history\r\n     */\r\n    /**\r\n     * Clear the tool history\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    Toolbox.prototype.clearActiveToolHistory = /**\r\n     * Clear the tool history\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.activeToolHistory = [];\r\n    };\r\n    return Toolbox;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @param {?=} speed\r\n * @param {?=} type\r\n * @return {?}\r\n */\r\nfunction toolSlideInOut(speed, type) {\r\n    if (speed === void 0) { speed = '300ms'; }\r\n    if (type === void 0) { type = 'ease-in-out'; }\r\n    return trigger('toolSlideInOut', [\r\n        state('enter', style({\r\n            transform: 'translate3d(0, 0, 0)'\r\n        })),\r\n        transition('void => enter', animate(speed + ' ' + type))\r\n    ]);\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ToolboxComponent = /** @class */ (function () {\r\n    function ToolboxComponent() {\r\n        /**\r\n         * Observable of the active tool\r\n         */\r\n        this.activeTool$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Store of actions that toggle tools\r\n         */\r\n        this.actionStore = new ActionStore([]);\r\n        /**\r\n         * Observable of he anmation state\r\n         */\r\n        this.animation$ = new BehaviorSubject('none');\r\n        /**\r\n         * Observable of the toolbar\r\n         */\r\n        this.toolbar$ = new BehaviorSubject([]);\r\n        /**\r\n         * Observable of the ongoing animation. This is useful when\r\n         * multiple animations are triggered at once i.e. when the user clicks\r\n         * too fast on different actions\r\n         */\r\n        this.animating$ = new BehaviorSubject(false);\r\n        /**\r\n         * Whether the toolbox should animate the first tool entering\r\n         */\r\n        this.animate = false;\r\n    }\r\n    Object.defineProperty(ToolboxComponent.prototype, \"toolbarWithTitle\", {\r\n        /**\r\n         * Whether the Toolbar should display actions' titles\r\n         */\r\n        get: /**\r\n         * Whether the Toolbar should display actions' titles\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.activeTool$.value === undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initialize the toolbar and subscribe to the active tool\r\n     * @internal\r\n     */\r\n    /**\r\n     * Initialize the toolbar and subscribe to the active tool\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    ToolboxComponent.prototype.ngOnInit = /**\r\n     * Initialize the toolbar and subscribe to the active tool\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.toolbar$$ = this.toolbox.toolbar$.subscribe((/**\r\n         * @param {?} toolbar\r\n         * @return {?}\r\n         */\r\n        function (toolbar) {\r\n            return _this.onToolbarChange(toolbar);\r\n        }));\r\n        this.activeTool$$ = this.toolbox.activeTool$.subscribe((/**\r\n         * @param {?} tool\r\n         * @return {?}\r\n         */\r\n        function (tool) {\r\n            return _this.onActiveToolChange(tool);\r\n        }));\r\n    };\r\n    /**\r\n     * Unsubscribe to the active tool and destroy the action store\r\n     * @internal\r\n     */\r\n    /**\r\n     * Unsubscribe to the active tool and destroy the action store\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    ToolboxComponent.prototype.ngOnDestroy = /**\r\n     * Unsubscribe to the active tool and destroy the action store\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.toolbar$$.unsubscribe();\r\n        this.activeTool$$.unsubscribe();\r\n        this.actionStore.destroy();\r\n    };\r\n    /**\r\n     * Track the starting animation\r\n     * @internal\r\n     */\r\n    /**\r\n     * Track the starting animation\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    ToolboxComponent.prototype.onAnimationStart = /**\r\n     * Track the starting animation\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.animating$.next(true);\r\n    };\r\n    /**\r\n     * Untrack the completed animation\r\n     * @internal\r\n     */\r\n    /**\r\n     * Untrack the completed animation\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    ToolboxComponent.prototype.onAnimationComplete = /**\r\n     * Untrack the completed animation\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.animating$.next(false);\r\n    };\r\n    /**\r\n     * Return a tool's inputs\r\n     * @param tool Tool\r\n     * @returns Tool inputs\r\n     * @internal\r\n     */\r\n    /**\r\n     * Return a tool's inputs\r\n     * \\@internal\r\n     * @param {?} tool Tool\r\n     * @return {?} Tool inputs\r\n     */\r\n    ToolboxComponent.prototype.getToolInputs = /**\r\n     * Return a tool's inputs\r\n     * \\@internal\r\n     * @param {?} tool Tool\r\n     * @return {?} Tool inputs\r\n     */\r\n    function (tool) {\r\n        return tool.options || {};\r\n    };\r\n    Object.defineProperty(ToolboxComponent.prototype, \"actionBarItemClassFunc\", {\r\n        /**\r\n         * Get Action bar item class function\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Get Action bar item class function\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            var _this = this;\r\n            return (/**\r\n             * @param {?} tool\r\n             * @return {?}\r\n             */\r\n            function (tool) {\r\n                if (!_this.toolbox.activeTool$.value) {\r\n                    return;\r\n                }\r\n                return { 'tool-actived': tool.id === _this.toolbox.activeTool$.value.name };\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initialize an action store\r\n     * @param toolbar Toolbar\r\n     */\r\n    /**\r\n     * Initialize an action store\r\n     * @private\r\n     * @param {?} toolbar Toolbar\r\n     * @return {?}\r\n     */\r\n    ToolboxComponent.prototype.onToolbarChange = /**\r\n     * Initialize an action store\r\n     * @private\r\n     * @param {?} toolbar Toolbar\r\n     * @return {?}\r\n     */\r\n    function (toolbar) {\r\n        this.setToolbar(toolbar);\r\n    };\r\n    /**\r\n     * Activate a tool and trigger an animation or not\r\n     * @param tool Tool to activate\r\n     */\r\n    /**\r\n     * Activate a tool and trigger an animation or not\r\n     * @private\r\n     * @param {?} tool Tool to activate\r\n     * @return {?}\r\n     */\r\n    ToolboxComponent.prototype.onActiveToolChange = /**\r\n     * Activate a tool and trigger an animation or not\r\n     * @private\r\n     * @param {?} tool Tool to activate\r\n     * @return {?}\r\n     */\r\n    function (tool) {\r\n        var _this = this;\r\n        if (!this.animate) {\r\n            this.setActiveTool(tool);\r\n            return;\r\n        }\r\n        this.onAnimate((/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.setActiveTool(tool); }));\r\n    };\r\n    /**\r\n     * Set the active tool\r\n     * @param tool Tool to activate\r\n     */\r\n    /**\r\n     * Set the active tool\r\n     * @private\r\n     * @param {?} tool Tool to activate\r\n     * @return {?}\r\n     */\r\n    ToolboxComponent.prototype.setActiveTool = /**\r\n     * Set the active tool\r\n     * @private\r\n     * @param {?} tool Tool to activate\r\n     * @return {?}\r\n     */\r\n    function (tool) {\r\n        if (tool === undefined) {\r\n            this.actionStore.state.updateAll({ active: false });\r\n        }\r\n        else {\r\n            /** @type {?} */\r\n            var action = this.actionStore.get(tool.name);\r\n            if (action !== undefined) {\r\n                this.actionStore.state.update(action, { active: true }, true);\r\n            }\r\n        }\r\n        this.activeTool$.next(tool);\r\n        if (this.animate) {\r\n            this.animation$.next('enter');\r\n        }\r\n    };\r\n    /**\r\n     * Initialize the toolbar\r\n     */\r\n    /**\r\n     * Initialize the toolbar\r\n     * @private\r\n     * @param {?} toolbar\r\n     * @return {?}\r\n     */\r\n    ToolboxComponent.prototype.setToolbar = /**\r\n     * Initialize the toolbar\r\n     * @private\r\n     * @param {?} toolbar\r\n     * @return {?}\r\n     */\r\n    function (toolbar) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var actions = toolbar.reduce((/**\r\n         * @param {?} acc\r\n         * @param {?} toolName\r\n         * @return {?}\r\n         */\r\n        function (acc, toolName) {\r\n            /** @type {?} */\r\n            var tool = _this.toolbox.getTool(toolName);\r\n            if (tool === undefined) {\r\n                return acc;\r\n            }\r\n            acc.push({\r\n                id: tool.name,\r\n                title: tool.title,\r\n                icon: tool.icon,\r\n                // iconImage: tool.iconImage,\r\n                tooltip: tool.tooltip,\r\n                args: [tool, _this.toolbox],\r\n                handler: (/**\r\n                 * @param {?} _tool\r\n                 * @param {?} _toolbox\r\n                 * @return {?}\r\n                 */\r\n                function (_tool, _toolbox) {\r\n                    _toolbox.activateTool(_tool.name);\r\n                })\r\n            });\r\n            return acc;\r\n        }), []);\r\n        this.actionStore.load(actions);\r\n        this.toolbar$.next(toolbar);\r\n    };\r\n    /**\r\n     * Observe the ongoing animation and ignore any incoming animation\r\n     * while one is still ongoing.\r\n     * @param callback Callback to execute when the animation completes\r\n     */\r\n    /**\r\n     * Observe the ongoing animation and ignore any incoming animation\r\n     * while one is still ongoing.\r\n     * @private\r\n     * @param {?} callback Callback to execute when the animation completes\r\n     * @return {?}\r\n     */\r\n    ToolboxComponent.prototype.onAnimate = /**\r\n     * Observe the ongoing animation and ignore any incoming animation\r\n     * while one is still ongoing.\r\n     * @private\r\n     * @param {?} callback Callback to execute when the animation completes\r\n     * @return {?}\r\n     */\r\n    function (callback) {\r\n        var _this = this;\r\n        this.unAnimate();\r\n        this.animating$$ = this.animating$.subscribe((/**\r\n         * @param {?} animation\r\n         * @return {?}\r\n         */\r\n        function (animation) {\r\n            if (!animation) {\r\n                callback.call(_this);\r\n                _this.unAnimate();\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * Stop observing an animation when it's complete\r\n     */\r\n    /**\r\n     * Stop observing an animation when it's complete\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ToolboxComponent.prototype.unAnimate = /**\r\n     * Stop observing an animation when it's complete\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.animating$$) {\r\n            this.animating$$.unsubscribe();\r\n        }\r\n    };\r\n    ToolboxComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-toolbox',\r\n                    template: \"<igo-actionbar\\r\\n  *ngIf=\\\"(toolbar$ | async).length > 0\\\"\\r\\n  [store]=\\\"actionStore\\\"\\r\\n  [withIcon]=\\\"true\\\"\\r\\n  [withTitle]=\\\"toolbarWithTitle\\\"\\r\\n  [horizontal]=\\\"false\\\"\\r\\n  [itemClassFunc]=\\\"actionBarItemClassFunc\\\">\\r\\n</igo-actionbar>\\r\\n\\r\\n<div\\r\\n  *ngIf=\\\"activeTool$ | async as tool\\\"\\r\\n  class=\\\"igo-tool-container\\\"\\r\\n  [ngClass]=\\\"{'igo-tool-container-with-toolbar': !actionStore.empty, 'igo-tool-container-with-animation': animate}\\\"\\r\\n  [@toolSlideInOut]=\\\"animation$ | async\\\"\\r\\n  (@toolSlideInOut.start)=\\\"onAnimationStart()\\\"\\r\\n  (@toolSlideInOut.done)=\\\"onAnimationComplete()\\\">\\r\\n\\r\\n  <igo-dynamic-outlet\\r\\n    [component]=\\\"tool.component\\\"\\r\\n    [inputs]=\\\"getToolInputs(tool)\\\">\\r\\n  </igo-dynamic-outlet>\\r\\n\\r\\n</div>\\r\\n\",\r\n                    animations: [toolSlideInOut()],\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{display:block;position:relative;overflow:hidden;width:100%;height:100%}.igo-tool-container{position:absolute;top:0;bottom:0;left:0;right:0}.igo-tool-container-with-animation{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.igo-tool-container-with-toolbar{left:51px}igo-actionbar{height:100%}igo-actionbar.with-title{width:100%;overflow:auto}igo-actionbar:not(.with-title){width:48px;overflow:hidden;-o-box-shadow:2px 0 2px 0 #ddd;box-shadow:2px 0 2px 0 #ddd}igo-actionbar ::ng-deep igo-actionbar-item.tool-actived ::ng-deep mat-list-item{background-color:#e0e0e0}igo-dynamic-outlet{overflow:auto}\"]\r\n                }] }\r\n    ];\r\n    ToolboxComponent.propDecorators = {\r\n        toolbox: [{ type: Input }],\r\n        animate: [{ type: Input }]\r\n    };\r\n    return ToolboxComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoToolboxModule = /** @class */ (function () {\r\n    function IgoToolboxModule() {\r\n    }\r\n    IgoToolboxModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoActionModule,\r\n                        IgoDynamicComponentModule\r\n                    ],\r\n                    exports: [\r\n                        ToolboxComponent\r\n                    ],\r\n                    declarations: [\r\n                        ToolboxComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoToolboxModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoToolModule = /** @class */ (function () {\r\n    function IgoToolModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoToolModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoToolModule,\r\n            providers: [\r\n                ToolService\r\n            ]\r\n        };\r\n    };\r\n    IgoToolModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [\r\n                        IgoToolboxModule\r\n                    ],\r\n                    declarations: []\r\n                },] }\r\n    ];\r\n    return IgoToolModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This component dynamically renders a widget. It also subscribes\r\n * to the widget's 'cancel' and 'complete' events and destroys it\r\n * when any of those event is emitted.\r\n */\r\nvar WidgetOutletComponent = /** @class */ (function () {\r\n    function WidgetOutletComponent() {\r\n        var _this = this;\r\n        /**\r\n         * Widget subscribers to 'cancel' and 'complete'\r\n         * \\@internal\r\n         */\r\n        this.baseSubscribers = {\r\n            cancel: (/**\r\n             * @param {?} event\r\n             * @return {?}\r\n             */\r\n            function (event) { return _this.onCancel(event); }),\r\n            complete: (/**\r\n             * @param {?} event\r\n             * @return {?}\r\n             */\r\n            function (event) { return _this.onComplete(event); })\r\n        };\r\n        /**\r\n         * Widget subscribers\r\n         */\r\n        this.subscribers = {};\r\n        /**\r\n         * Event emitted when the widget emits 'complete'\r\n         */\r\n        this.complete = new EventEmitter();\r\n        /**\r\n         * Event emitted when the widget emits 'cancel'\r\n         */\r\n        this.cancel = new EventEmitter();\r\n    }\r\n    /**\r\n     * Destroy the current widget and all it's inner subscriptions\r\n     * @internal\r\n     */\r\n    /**\r\n     * Destroy the current widget and all it's inner subscriptions\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    WidgetOutletComponent.prototype.ngOnDestroy = /**\r\n     * Destroy the current widget and all it's inner subscriptions\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.destroyWidget();\r\n    };\r\n    /**\r\n     * Get the effective subscribers. That means a combination of the base\r\n     * subscribers and any subscriber given as input.\r\n     * @returns Combined subscribers\r\n     * @internal\r\n     */\r\n    /**\r\n     * Get the effective subscribers. That means a combination of the base\r\n     * subscribers and any subscriber given as input.\r\n     * \\@internal\r\n     * @return {?} Combined subscribers\r\n     */\r\n    WidgetOutletComponent.prototype.getEffectiveSubscribers = /**\r\n     * Get the effective subscribers. That means a combination of the base\r\n     * subscribers and any subscriber given as input.\r\n     * \\@internal\r\n     * @return {?} Combined subscribers\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var subscribers = Object.assign({}, this.subscribers);\r\n        // Base subscribers\r\n        Object.keys(this.baseSubscribers).forEach((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        function (key) {\r\n            /** @type {?} */\r\n            var subscriber = subscribers[key];\r\n            /** @type {?} */\r\n            var baseSubscriber = _this.baseSubscribers[key];\r\n            if (subscriber !== undefined) {\r\n                subscribers[key] = (/**\r\n                 * @param {?} event\r\n                 * @return {?}\r\n                 */\r\n                function (event) {\r\n                    subscriber(event);\r\n                    baseSubscriber(event);\r\n                });\r\n            }\r\n            else {\r\n                subscribers[key] = baseSubscriber;\r\n            }\r\n        }));\r\n        return subscribers;\r\n    };\r\n    /**\r\n     * When the widget emits 'cancel', propagate that event and destroy\r\n     * the widget\r\n     */\r\n    /**\r\n     * When the widget emits 'cancel', propagate that event and destroy\r\n     * the widget\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    WidgetOutletComponent.prototype.onCancel = /**\r\n     * When the widget emits 'cancel', propagate that event and destroy\r\n     * the widget\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        this.cancel.emit(event);\r\n        this.destroyWidget();\r\n    };\r\n    /**\r\n     * When the widget emits 'complete', propagate that event and destroy\r\n     * the widget\r\n     */\r\n    /**\r\n     * When the widget emits 'complete', propagate that event and destroy\r\n     * the widget\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    WidgetOutletComponent.prototype.onComplete = /**\r\n     * When the widget emits 'complete', propagate that event and destroy\r\n     * the widget\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        this.complete.emit(event);\r\n        this.destroyWidget();\r\n    };\r\n    /**\r\n     * Destroy the current widget\r\n     */\r\n    /**\r\n     * Destroy the current widget\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    WidgetOutletComponent.prototype.destroyWidget = /**\r\n     * Destroy the current widget\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.widget !== undefined) {\r\n            this.widget.destroy();\r\n        }\r\n        this.widget = undefined;\r\n    };\r\n    WidgetOutletComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-widget-outlet',\r\n                    template: \"<igo-dynamic-outlet\\r\\n  *ngIf=\\\"widget\\\"\\r\\n  [component]=\\\"widget\\\"\\r\\n  [inputs]=\\\"inputs\\\"\\r\\n  [subscribers]=\\\"getEffectiveSubscribers()\\\">\\r\\n</igo-dynamic-outlet>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"igo-dynamic-outlet{height:100%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    WidgetOutletComponent.ctorParameters = function () { return []; };\r\n    WidgetOutletComponent.propDecorators = {\r\n        widget: [{ type: Input }],\r\n        inputs: [{ type: Input }],\r\n        subscribers: [{ type: Input }],\r\n        complete: [{ type: Output }],\r\n        cancel: [{ type: Output }]\r\n    };\r\n    return WidgetOutletComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoWidgetOutletModule = /** @class */ (function () {\r\n    function IgoWidgetOutletModule() {\r\n    }\r\n    IgoWidgetOutletModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoDynamicComponentModule\r\n                    ],\r\n                    exports: [\r\n                        WidgetOutletComponent\r\n                    ],\r\n                    declarations: [\r\n                        WidgetOutletComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoWidgetOutletModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WidgetService = /** @class */ (function () {\r\n    function WidgetService(dynamicComponentService) {\r\n        this.dynamicComponentService = dynamicComponentService;\r\n    }\r\n    /**\r\n     * @param {?} widgetCls\r\n     * @return {?}\r\n     */\r\n    WidgetService.prototype.create = /**\r\n     * @param {?} widgetCls\r\n     * @return {?}\r\n     */\r\n    function (widgetCls) {\r\n        return this.dynamicComponentService.create((/** @type {?} */ (widgetCls)));\r\n    };\r\n    WidgetService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    WidgetService.ctorParameters = function () { return [\r\n        { type: DynamicComponentService }\r\n    ]; };\r\n    /** @nocollapse */ WidgetService.ngInjectableDef = defineInjectable({ factory: function WidgetService_Factory() { return new WidgetService(inject(DynamicComponentService)); }, token: WidgetService, providedIn: \"root\" });\r\n    return WidgetService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoWidgetModule = /** @class */ (function () {\r\n    function IgoWidgetModule() {\r\n    }\r\n    IgoWidgetModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoWidgetOutletModule\r\n                    ],\r\n                    exports: [\r\n                        IgoWidgetOutletModule\r\n                    ],\r\n                    declarations: [],\r\n                    providers: [\r\n                        WidgetService\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoWidgetModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * The class is a specialized version of an EntityStore that stores\r\n * workspaces.\r\n */\r\nvar  /**\r\n * The class is a specialized version of an EntityStore that stores\r\n * workspaces.\r\n */\r\nWorkspaceStore = /** @class */ (function (_super) {\r\n    __extends(WorkspaceStore, _super);\r\n    function WorkspaceStore() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.activeWorkspace$ = new BehaviorSubject(undefined);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Activate the an workspace workspace and deactivate the one currently active\r\n     * @param workspace Workspace\r\n     */\r\n    /**\r\n     * Activate the an workspace workspace and deactivate the one currently active\r\n     * @param {?} workspace Workspace\r\n     * @return {?}\r\n     */\r\n    WorkspaceStore.prototype.activateWorkspace = /**\r\n     * Activate the an workspace workspace and deactivate the one currently active\r\n     * @param {?} workspace Workspace\r\n     * @return {?}\r\n     */\r\n    function (workspace) {\r\n        /** @type {?} */\r\n        var active = this.activeWorkspace$.value;\r\n        if (active !== undefined) {\r\n            active.deactivate();\r\n        }\r\n        this.deactivateWorkspace();\r\n        if (workspace !== undefined) {\r\n            this.state.update(workspace, { active: true, selected: true }, true);\r\n            this.activeWorkspace$.next(workspace);\r\n            workspace.activate();\r\n        }\r\n    };\r\n    /**\r\n     * Deactivate the current workspace\r\n     * @param workspace Workspace\r\n     */\r\n    /**\r\n     * Deactivate the current workspace\r\n     * @return {?}\r\n     */\r\n    WorkspaceStore.prototype.deactivateWorkspace = /**\r\n     * Deactivate the current workspace\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var active = this.activeWorkspace$.value;\r\n        if (active !== undefined) {\r\n            active.deactivate();\r\n            this.activeWorkspace$.next(undefined);\r\n        }\r\n    };\r\n    return WorkspaceStore;\r\n}(EntityStore));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Drop list that activates the selected workspace emit an event.\r\n */\r\nvar WorkspaceSelectorComponent = /** @class */ (function () {\r\n    function WorkspaceSelectorComponent() {\r\n        /**\r\n         * Event emitted when an workspace is selected or unselected\r\n         */\r\n        this.selectedChange = new EventEmitter();\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @param {?} workspace\r\n     * @return {?}\r\n     */\r\n    WorkspaceSelectorComponent.prototype.getWorkspaceTitle = /**\r\n     * \\@internal\r\n     * @param {?} workspace\r\n     * @return {?}\r\n     */\r\n    function (workspace) {\r\n        return getEntityTitle(workspace);\r\n    };\r\n    /**\r\n     * When an workspace is manually selected, select it into the\r\n     * store and emit an event.\r\n     * @internal\r\n     * @param event The selection change event\r\n     */\r\n    /**\r\n     * When an workspace is manually selected, select it into the\r\n     * store and emit an event.\r\n     * \\@internal\r\n     * @param {?} event The selection change event\r\n     * @return {?}\r\n     */\r\n    WorkspaceSelectorComponent.prototype.onSelectedChange = /**\r\n     * When an workspace is manually selected, select it into the\r\n     * store and emit an event.\r\n     * \\@internal\r\n     * @param {?} event The selection change event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        /** @type {?} */\r\n        var workspace = event.value;\r\n        this.store.activateWorkspace(workspace);\r\n        this.selectedChange.emit({ selected: true, value: workspace });\r\n    };\r\n    WorkspaceSelectorComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-workspace-selector',\r\n                    template: \"<igo-entity-selector\\r\\n  [store]=\\\"store\\\"\\r\\n  [multi]=\\\"false\\\"\\r\\n  [titleAccessor]=\\\"getWorkspaceTitle\\\"\\r\\n  (selectedChange)=\\\"onSelectedChange($event)\\\">\\r\\n</igo-entity-selector>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"igo-entity-selector ::ng-deep mat-form-field .mat-form-field-infix{padding:0}igo-entity-selector ::ng-deep mat-form-field .mat-form-field-wrapper{padding-bottom:1.75em}\"]\r\n                }] }\r\n    ];\r\n    WorkspaceSelectorComponent.propDecorators = {\r\n        store: [{ type: Input }],\r\n        selectedChange: [{ type: Output }]\r\n    };\r\n    return WorkspaceSelectorComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoWorkspaceSelectorModule = /** @class */ (function () {\r\n    function IgoWorkspaceSelectorModule() {\r\n    }\r\n    IgoWorkspaceSelectorModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoEntitySelectorModule\r\n                    ],\r\n                    exports: [\r\n                        WorkspaceSelectorComponent\r\n                    ],\r\n                    declarations: [\r\n                        WorkspaceSelectorComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoWorkspaceSelectorModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This class is responsible of managing the relations between\r\n * entities and the actions that consume them. It also defines an\r\n * entity table template that may be used by an entity table component.\r\n * @template E\r\n */\r\nvar  /**\r\n * This class is responsible of managing the relations between\r\n * entities and the actions that consume them. It also defines an\r\n * entity table template that may be used by an entity table component.\r\n * @template E\r\n */\r\nWorkspace = /** @class */ (function () {\r\n    function Workspace(options) {\r\n        this.options = options;\r\n        /**\r\n         * Observable of the selected widget\r\n         */\r\n        this.widget$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Observable of the selected widget's inputs\r\n         */\r\n        this.widgetInputs$ = new BehaviorSubject({});\r\n        /**\r\n         * Observable of the selected widget's subscribers\r\n         */\r\n        this.widgetSubscribers$ = new BehaviorSubject({});\r\n        /**\r\n         * Whether this workspace is active\r\n         */\r\n        this.active = false;\r\n        /**\r\n         * State change that trigger an update of the actions availability\r\n         */\r\n        this.change = new Subject();\r\n    }\r\n    Object.defineProperty(Workspace.prototype, \"id\", {\r\n        /**\r\n         * Workspace id\r\n         */\r\n        get: /**\r\n         * Workspace id\r\n         * @return {?}\r\n         */\r\n        function () { return this.options.id; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Workspace.prototype, \"title\", {\r\n        /**\r\n         * Workspace title\r\n         */\r\n        get: /**\r\n         * Workspace title\r\n         * @return {?}\r\n         */\r\n        function () { return this.options.title; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Workspace.prototype, \"meta\", {\r\n        /**\r\n         * Workspace title\r\n         */\r\n        get: /**\r\n         * Workspace title\r\n         * @return {?}\r\n         */\r\n        function () { return this.options.meta || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Workspace.prototype, \"entityStore\", {\r\n        /**\r\n         * Entities store\r\n         */\r\n        get: /**\r\n         * Entities store\r\n         * @return {?}\r\n         */\r\n        function () { return (/** @type {?} */ (this.options.entityStore)); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Workspace.prototype, \"actionStore\", {\r\n        /**\r\n         * Actions store (some actions activate a widget)\r\n         */\r\n        get: /**\r\n         * Actions store (some actions activate a widget)\r\n         * @return {?}\r\n         */\r\n        function () { return this.options.actionStore; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Workspace.prototype, \"widget\", {\r\n        /**\r\n         * Selected widget\r\n         */\r\n        get: /**\r\n         * Selected widget\r\n         * @return {?}\r\n         */\r\n        function () { return this.widget$.value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Workspace.prototype, \"hasWidget\", {\r\n        /**\r\n         * Whether a widget is selected\r\n         */\r\n        get: /**\r\n         * Whether a widget is selected\r\n         * @return {?}\r\n         */\r\n        function () { return this.widget !== undefined; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Whether this workspace is active\r\n     */\r\n    /**\r\n     * Whether this workspace is active\r\n     * @return {?}\r\n     */\r\n    Workspace.prototype.isActive = /**\r\n     * Whether this workspace is active\r\n     * @return {?}\r\n     */\r\n    function () { return this.active; };\r\n    /**\r\n     * Activate the workspace. By doing that, the workspace will observe\r\n     * the selected entity (from the store) and update the actions availability.\r\n     * For example, some actions require an entity to be selected.\r\n     */\r\n    /**\r\n     * Activate the workspace. By doing that, the workspace will observe\r\n     * the selected entity (from the store) and update the actions availability.\r\n     * For example, some actions require an entity to be selected.\r\n     * @return {?}\r\n     */\r\n    Workspace.prototype.activate = /**\r\n     * Activate the workspace. By doing that, the workspace will observe\r\n     * the selected entity (from the store) and update the actions availability.\r\n     * For example, some actions require an entity to be selected.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.active === true) {\r\n            this.deactivate();\r\n        }\r\n        this.active = true;\r\n        if (this.entityStore !== undefined) {\r\n            this.entities$$ = this.entityStore.stateView.all$()\r\n                .subscribe((/**\r\n             * @return {?}\r\n             */\r\n            function () { return _this.onStateChange(); }));\r\n        }\r\n        if (this.actionStore !== undefined) {\r\n            this.change$ = this.change\r\n                .pipe(debounceTime(35))\r\n                .subscribe((/**\r\n             * @return {?}\r\n             */\r\n            function () { return _this.actionStore.updateActionsAvailability(); }));\r\n        }\r\n        this.change.next();\r\n    };\r\n    /**\r\n     * Deactivate the workspace. Unsubcribe to the selected entity.\r\n     */\r\n    /**\r\n     * Deactivate the workspace. Unsubcribe to the selected entity.\r\n     * @return {?}\r\n     */\r\n    Workspace.prototype.deactivate = /**\r\n     * Deactivate the workspace. Unsubcribe to the selected entity.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.active = false;\r\n        this.deactivateWidget();\r\n        if (this.entities$$ !== undefined) {\r\n            this.entities$$.unsubscribe();\r\n        }\r\n        if (this.change$ !== undefined) {\r\n            this.change$.unsubscribe();\r\n        }\r\n    };\r\n    /**\r\n     * Activate a widget. In itself, activating a widget doesn't render it but,\r\n     * if an WorkspaceWidgetOutlet component is bound to this workspace, the widget will\r\n     * show up.\r\n     * @param widget Widget\r\n     * @param inputs Inputs the widget will receive\r\n     */\r\n    /**\r\n     * Activate a widget. In itself, activating a widget doesn't render it but,\r\n     * if an WorkspaceWidgetOutlet component is bound to this workspace, the widget will\r\n     * show up.\r\n     * @param {?} widget Widget\r\n     * @param {?=} inputs Inputs the widget will receive\r\n     * @param {?=} subscribers\r\n     * @return {?}\r\n     */\r\n    Workspace.prototype.activateWidget = /**\r\n     * Activate a widget. In itself, activating a widget doesn't render it but,\r\n     * if an WorkspaceWidgetOutlet component is bound to this workspace, the widget will\r\n     * show up.\r\n     * @param {?} widget Widget\r\n     * @param {?=} inputs Inputs the widget will receive\r\n     * @param {?=} subscribers\r\n     * @return {?}\r\n     */\r\n    function (widget, inputs, subscribers) {\r\n        if (inputs === void 0) { inputs = {}; }\r\n        if (subscribers === void 0) { subscribers = {}; }\r\n        this.widget$.next(widget);\r\n        this.widgetInputs$.next(inputs);\r\n        this.widgetSubscribers$.next(subscribers);\r\n        this.change.next();\r\n    };\r\n    /**\r\n     * Deactivate a widget.\r\n     */\r\n    /**\r\n     * Deactivate a widget.\r\n     * @return {?}\r\n     */\r\n    Workspace.prototype.deactivateWidget = /**\r\n     * Deactivate a widget.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.widget$.next(undefined);\r\n        this.change.next();\r\n    };\r\n    /**\r\n     * When the state changes, update the actions availability.\r\n     */\r\n    /**\r\n     * When the state changes, update the actions availability.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    Workspace.prototype.onStateChange = /**\r\n     * When the state changes, update the actions availability.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.change.next();\r\n    };\r\n    return Workspace;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This component dynamically render an Workspace's active widget.\r\n * It also deactivate that widget whenever the widget's component\r\n * emit the 'cancel' or 'complete' event.\r\n */\r\nvar WorkspaceWidgetOutletComponent = /** @class */ (function () {\r\n    function WorkspaceWidgetOutletComponent() {\r\n        /**\r\n         * Event emitted when a widget is deactivate which happens\r\n         * when the widget's component emits the 'cancel' or 'complete' event.\r\n         */\r\n        this.deactivateWidget = new EventEmitter();\r\n    }\r\n    Object.defineProperty(WorkspaceWidgetOutletComponent.prototype, \"widget$\", {\r\n        /**\r\n         * Observable of the workspace's active widget\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Observable of the workspace's active widget\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.workspace.widget$; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WorkspaceWidgetOutletComponent.prototype, \"widgetInputs$\", {\r\n        /**\r\n         * Observable of the workspace's widget inputs\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Observable of the workspace's widget inputs\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.workspace.widgetInputs$;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WorkspaceWidgetOutletComponent.prototype, \"widgetSubscribers$\", {\r\n        /**\r\n         * Observable of the workspace's widget inputs\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Observable of the workspace's widget inputs\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.workspace.widgetSubscribers$;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * When a widget's component emit the 'cancel' event,\r\n     * deactivate that widget and emit the 'deactivateWidget' event.\r\n     * @param widget Widget\r\n     * @internal\r\n     */\r\n    /**\r\n     * When a widget's component emit the 'cancel' event,\r\n     * deactivate that widget and emit the 'deactivateWidget' event.\r\n     * \\@internal\r\n     * @param {?} widget Widget\r\n     * @return {?}\r\n     */\r\n    WorkspaceWidgetOutletComponent.prototype.onWidgetCancel = /**\r\n     * When a widget's component emit the 'cancel' event,\r\n     * deactivate that widget and emit the 'deactivateWidget' event.\r\n     * \\@internal\r\n     * @param {?} widget Widget\r\n     * @return {?}\r\n     */\r\n    function (widget) {\r\n        this.workspace.deactivateWidget();\r\n        this.deactivateWidget.emit(widget);\r\n    };\r\n    /**\r\n     * When a widget's component emit the 'cancel' event,\r\n     * deactivate that widget and emit the 'deactivateWidget' event.\r\n     * @param widget Widget\r\n     * @internal\r\n     */\r\n    /**\r\n     * When a widget's component emit the 'cancel' event,\r\n     * deactivate that widget and emit the 'deactivateWidget' event.\r\n     * \\@internal\r\n     * @param {?} widget Widget\r\n     * @return {?}\r\n     */\r\n    WorkspaceWidgetOutletComponent.prototype.onWidgetComplete = /**\r\n     * When a widget's component emit the 'cancel' event,\r\n     * deactivate that widget and emit the 'deactivateWidget' event.\r\n     * \\@internal\r\n     * @param {?} widget Widget\r\n     * @return {?}\r\n     */\r\n    function (widget) {\r\n        this.workspace.deactivateWidget();\r\n        this.deactivateWidget.emit(widget);\r\n    };\r\n    WorkspaceWidgetOutletComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-workspace-widget-outlet',\r\n                    template: \"<ng-container *ngIf=\\\"widget$ | async as widget\\\">\\r\\n  <igo-widget-outlet\\r\\n    [widget]=\\\"widget\\\"\\r\\n    [inputs]=\\\"widgetInputs$ | async\\\"\\r\\n    [subscribers]=\\\"widgetSubscribers$ | async\\\"\\r\\n    (cancel)=\\\"onWidgetCancel(widget)\\\"\\r\\n    (complete)=\\\"onWidgetComplete(widget)\\\">\\r\\n  </igo-widget-outlet>\\r\\n</ng-container>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"igo-widget-outlet{height:100%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    WorkspaceWidgetOutletComponent.ctorParameters = function () { return []; };\r\n    WorkspaceWidgetOutletComponent.propDecorators = {\r\n        workspace: [{ type: Input }],\r\n        deactivateWidget: [{ type: Output }]\r\n    };\r\n    return WorkspaceWidgetOutletComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoWorkspaceWidgetOutletModule = /** @class */ (function () {\r\n    function IgoWorkspaceWidgetOutletModule() {\r\n    }\r\n    IgoWorkspaceWidgetOutletModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoWidgetOutletModule\r\n                    ],\r\n                    exports: [\r\n                        WorkspaceWidgetOutletComponent\r\n                    ],\r\n                    declarations: [\r\n                        WorkspaceWidgetOutletComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoWorkspaceWidgetOutletModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoWorkspaceModule = /** @class */ (function () {\r\n    function IgoWorkspaceModule() {\r\n    }\r\n    IgoWorkspaceModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [\r\n                        IgoWorkspaceSelectorModule,\r\n                        IgoWorkspaceWidgetOutletModule\r\n                    ],\r\n                    declarations: []\r\n                },] }\r\n    ];\r\n    return IgoWorkspaceModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @param {?} tool\r\n * @return {?}\r\n */\r\nfunction ToolComponent(tool) {\r\n    return (/**\r\n     * @param {?} compType\r\n     * @return {?}\r\n     */\r\n    function (compType) {\r\n        ToolService.register(Object.assign({}, tool, (/** @type {?} */ ({\r\n            component: compType\r\n        }))));\r\n    });\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar Widget = /** @class */ (function (_super) {\r\n    __extends(Widget, _super);\r\n    function Widget() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return Widget;\r\n}(DynamicComponent));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { IgoActionModule, IgoActionbarModule, IgoBackdropModule, IgoClickoutModule, IgoCloneModule, IgoCollapsibleModule, IgoConfirmDialogModule, IgoContextMenuModule, IgoCustomHtmlModule, IgoDrapDropModule, IgoDynamicComponentModule, IgoDynamicOutletModule, IgoFlexibleModule, IgoFormModule, IgoFormFormModule, IgoFormFieldModule, IgoFormGroupModule, IgoEntityModule, IgoEntitySelectorModule, IgoEntityTableModule, IgoImageModule, IgoJsonDialogModule, IgoKeyValueModule, IgoListModule, IgoPanelModule, IgoSidenavModule, IgoSpinnerModule, IgoStopPropagationModule, IgoTableModule, IgoToolModule, IgoToolboxModule, IgoWidgetModule, IgoWidgetOutletModule, IgoWorkspaceModule, IgoWorkspaceSelectorModule, IgoWorkspaceWidgetOutletModule, ActionbarMode, ActionStore, BackdropComponent, ClickoutDirective, ClonePipe, CollapsibleComponent, CollapseDirective, ConfirmDialogComponent, ConfirmDialogService, ContextMenuDirective, CustomHtmlComponent, SanitizeHtmlPipe, DragAndDropDirective, DynamicComponent, DynamicComponentService, formControlIsRequired, getDefaultErrorMessages, getControlErrorMessage, getAllFormFields, FormService, FormFieldService, FormFieldComponent, EntityOperationType, EntityTableColumnRenderer, EntityTableScrollBehavior, EntityTableSelectionState, getEntityProperty, getEntityId, getEntityTitle, getEntityTitleHtml, getEntityIcon, getEntityRevision, EntityStore, EntityStateManager, EntityStoreWatcher, EntityTransaction, EntityView, EntitySelectorComponent, EntityTableComponent, FlexibleComponent, SecureImagePipe, JsonDialogComponent, JsonDialogService, KeyValuePipe, ListComponent, ListItemDirective, PanelComponent, SidenavShimDirective, SpinnerComponent, SpinnerActivityDirective, StopPropagationDirective, StopDropPropagationDirective, TableComponent, TableDatabase, TableDataSource, TableActionColor, ToolService, ToolComponent, Toolbox, Widget, WidgetService, WorkspaceStore, Workspace, WorkspaceSelectorComponent, ActionbarItemComponent as ɵb, ActionbarComponent as ɵa, BackdropComponent as ɵc, ClickoutDirective as ɵd, ClonePipe as ɵe, CollapseDirective as ɵg, CollapsibleComponent as ɵf, ConfirmDialogComponent as ɵh, ConfirmDialogService as ɵi, ContextMenuDirective as ɵj, CustomHtmlComponent as ɵl, SanitizeHtmlPipe as ɵk, DragAndDropDirective as ɵm, DynamicOutletComponent as ɵn, DynamicComponentService as ɵo, EntitySelectorComponent as ɵz, EntityTableRowDirective as ɵbd, EntityTableComponent as ɵbc, FlexibleComponent as ɵp, FormFieldSelectComponent as ɵs, FormFieldTextComponent as ɵu, FormFieldTextareaComponent as ɵv, FormFieldComponent$1 as ɵq, FormGroupComponent as ɵw, FormComponent as ɵx, FormFieldComponent as ɵt, FormFieldService as ɵr, FormService as ɵy, SecureImagePipe as ɵbe, JsonDialogComponent as ɵbg, JsonDialogService as ɵbh, KeyValuePipe as ɵbf, ListItemDirective as ɵbi, ListComponent as ɵbj, PanelComponent as ɵbk, SidenavShimDirective as ɵbl, SpinnerActivityDirective as ɵbm, SpinnerComponent as ɵbn, StopDropPropagationDirective as ɵba, StopPropagationDirective as ɵbb, TableComponent as ɵbo, ToolService as ɵbr, toolSlideInOut as ɵbq, ToolboxComponent as ɵbp, WidgetService as ɵbt, WidgetOutletComponent as ɵbs, WorkspaceWidgetOutletComponent as ɵbu };\n\n//# sourceMappingURL=igo2-common.js.map","import { map, tap, catchError, debounceTime, filter, withLatestFrom, skip } from 'rxjs/operators';\nimport { fromLonLat } from 'ol/proj';\nimport { easeOut } from 'ol/easing';\nimport olPoint from 'ol/geom/Point';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject, of, zip, EMPTY } from 'rxjs';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { FormBuilder, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { uuid, ObjectUtils, Clipboard } from '@igo2/utils';\nimport { AuthService, IgoAuthModule } from '@igo2/auth';\nimport { __spread, __read, __values } from 'tslib';\nimport { CommonModule } from '@angular/common';\nimport { MatIconModule, MatButtonModule, MatTooltipModule, MatListModule, MatFormFieldModule, MatInputModule, MatCheckboxModule, MatRadioModule, MatDialogRef, MatDialog, MatSelectModule, MatOptionModule, MatDialogModule, MatSidenavModule } from '@angular/material';\nimport { Injectable, Optional, Component, Input, Output, EventEmitter, ChangeDetectorRef, Directive, Self, HostListener, NgModule, defineInjectable, inject } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { ConfigService, RouteService, LanguageService, MessageService, IgoLanguageModule } from '@igo2/core';\nimport { ConfirmDialogService, IgoListModule, IgoKeyValueModule, IgoCollapsibleModule, IgoStopPropagationModule, IgoConfirmDialogModule, getEntityTitle, IgoPanelModule, IgoFlexibleModule } from '@igo2/common';\nimport { MapBrowserComponent, LayerService, MapService, RoutingFormService, moveToOlFeatures, FeatureMotion, LayerListService, IgoFeatureModule } from '@igo2/geo';\nimport olFormatGeoJSON from 'ol/format/GeoJSON';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {number} */\r\nvar TypePermission = {\r\n    null: 0,\r\n    read: 1,\r\n    write: 2,\r\n};\r\nTypePermission[TypePermission.null] = 'null';\r\nTypePermission[TypePermission.read] = 'read';\r\nTypePermission[TypePermission.write] = 'write';\r\n/** @enum {number} */\r\nvar Scope = {\r\n    public: 0,\r\n    protected: 1,\r\n    private: 2,\r\n};\r\nScope[Scope.public] = 'public';\r\nScope[Scope.protected] = 'protected';\r\nScope[Scope.private] = 'private';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextService = /** @class */ (function () {\r\n    function ContextService(http, authService, languageService, config, route) {\r\n        var _this = this;\r\n        this.http = http;\r\n        this.authService = authService;\r\n        this.languageService = languageService;\r\n        this.config = config;\r\n        this.route = route;\r\n        this.context$ = new BehaviorSubject(undefined);\r\n        this.contexts$ = new BehaviorSubject({ ours: [] });\r\n        this.defaultContextId$ = new BehaviorSubject(undefined);\r\n        this.editedContext$ = new BehaviorSubject(undefined);\r\n        this.mapViewFromRoute = {};\r\n        this.options = Object.assign({\r\n            basePath: 'contexts',\r\n            contextListFile: '_contexts.json',\r\n            defaultContextUri: '_default'\r\n        }, this.config.getConfig('context'));\r\n        this.baseUrl = this.options.url;\r\n        this.readParamsFromRoute();\r\n        this.authService.authenticate$.subscribe((/**\r\n         * @param {?} authenticated\r\n         * @return {?}\r\n         */\r\n        function (authenticated) {\r\n            if (authenticated === null) {\r\n                _this.loadDefaultContext();\r\n                return;\r\n            }\r\n            /** @type {?} */\r\n            var contexts$$ = _this.contexts$.subscribe((/**\r\n             * @param {?} contexts\r\n             * @return {?}\r\n             */\r\n            function (contexts) {\r\n                if (contexts$$) {\r\n                    contexts$$.unsubscribe();\r\n                    _this.handleContextsChange(contexts);\r\n                }\r\n            }));\r\n            _this.loadContexts();\r\n        }));\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.get = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/contexts';\r\n        return this.http.get(url);\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.getById = /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/contexts/' + id;\r\n        return this.http.get(url);\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.getDetails = /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var url = this.baseUrl + \"/contexts/\" + id + \"/details\";\r\n        return this.http\r\n            .get(url)\r\n            .pipe(catchError((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) { return _this.handleError(res, id); })));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.getDefault = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/contexts/default';\r\n        return this.http.get(url).pipe(tap((/**\r\n         * @param {?} context\r\n         * @return {?}\r\n         */\r\n        function (context) {\r\n            _this.defaultContextId$.next(context.id);\r\n        })));\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.setDefault = /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/contexts/default';\r\n        return this.http.post(url, { defaultContextId: id });\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.delete = /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/contexts/' + id;\r\n        return this.http.delete(url).pipe(tap((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            /** @type {?} */\r\n            var contexts = { ours: [] };\r\n            Object.keys(_this.contexts$.value).forEach((/**\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (key) {\r\n                return (contexts[key] = _this.contexts$.value[key].filter((/**\r\n                 * @param {?} c\r\n                 * @return {?}\r\n                 */\r\n                function (c) { return c.id !== id; })));\r\n            }));\r\n            _this.contexts$.next(contexts);\r\n        })));\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.create = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/contexts';\r\n        return this.http.post(url, JSON.stringify(context)).pipe(map((/**\r\n         * @param {?} contextCreated\r\n         * @return {?}\r\n         */\r\n        function (contextCreated) {\r\n            if (_this.authService.authenticated) {\r\n                contextCreated.permission = TypePermission[TypePermission.write];\r\n            }\r\n            else {\r\n                contextCreated.permission = TypePermission[TypePermission.read];\r\n            }\r\n            _this.contexts$.value.ours.push(contextCreated);\r\n            _this.contexts$.next(_this.contexts$.value);\r\n            return contextCreated;\r\n        })));\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @param {?=} properties\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.clone = /**\r\n     * @param {?} id\r\n     * @param {?=} properties\r\n     * @return {?}\r\n     */\r\n    function (id, properties) {\r\n        var _this = this;\r\n        if (properties === void 0) { properties = {}; }\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/contexts/' + id + '/clone';\r\n        return this.http.post(url, JSON.stringify(properties)).pipe(map((/**\r\n         * @param {?} contextCloned\r\n         * @return {?}\r\n         */\r\n        function (contextCloned) {\r\n            contextCloned.permission = TypePermission[TypePermission.write];\r\n            _this.contexts$.value.ours.push(contextCloned);\r\n            _this.contexts$.next(_this.contexts$.value);\r\n            return contextCloned;\r\n        })));\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.update = /**\r\n     * @param {?} id\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (id, context) {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/contexts/' + id;\r\n        return this.http.patch(url, JSON.stringify(context));\r\n    };\r\n    // =================================================================\r\n    // =================================================================\r\n    /**\r\n     * @param {?} contextId\r\n     * @param {?} toolId\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.addToolAssociation = \r\n    // =================================================================\r\n    /**\r\n     * @param {?} contextId\r\n     * @param {?} toolId\r\n     * @return {?}\r\n     */\r\n    function (contextId, toolId) {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + \"/contexts/\" + contextId + \"/tools\";\r\n        /** @type {?} */\r\n        var association = {\r\n            toolId: toolId\r\n        };\r\n        return this.http.post(url, JSON.stringify(association));\r\n    };\r\n    /**\r\n     * @param {?} contextId\r\n     * @param {?} toolId\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.deleteToolAssociation = /**\r\n     * @param {?} contextId\r\n     * @param {?} toolId\r\n     * @return {?}\r\n     */\r\n    function (contextId, toolId) {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + \"/contexts/\" + contextId + \"/tools/\" + toolId;\r\n        return this.http.delete(url);\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.getPermissions = /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/contexts/' + id + '/permissions';\r\n        return this.http.get(url);\r\n    };\r\n    /**\r\n     * @param {?} contextId\r\n     * @param {?} profil\r\n     * @param {?} type\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.addPermissionAssociation = /**\r\n     * @param {?} contextId\r\n     * @param {?} profil\r\n     * @param {?} type\r\n     * @return {?}\r\n     */\r\n    function (contextId, profil, type) {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + \"/contexts/\" + contextId + \"/permissions\";\r\n        /** @type {?} */\r\n        var association = {\r\n            profil: profil,\r\n            typePermission: type\r\n        };\r\n        return this.http.post(url, JSON.stringify(association));\r\n    };\r\n    /**\r\n     * @param {?} contextId\r\n     * @param {?} permissionId\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.deletePermissionAssociation = /**\r\n     * @param {?} contextId\r\n     * @param {?} permissionId\r\n     * @return {?}\r\n     */\r\n    function (contextId, permissionId) {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + \"/contexts/\" + contextId + \"/permissions/\" + permissionId;\r\n        return this.http.delete(url);\r\n    };\r\n    // ======================================================================\r\n    // ======================================================================\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.getLocalContexts = \r\n    // ======================================================================\r\n    /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var url = this.getPath(this.options.contextListFile);\r\n        return this.http.get(url).pipe(map((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            return { ours: res };\r\n        })));\r\n    };\r\n    /**\r\n     * @param {?} uri\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.getLocalContext = /**\r\n     * @param {?} uri\r\n     * @return {?}\r\n     */\r\n    function (uri) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var url = this.getPath(uri + \".json\");\r\n        return this.http.get(url).pipe(catchError((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            return _this.handleError(res, uri);\r\n        })));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.loadContexts = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var request;\r\n        if (this.baseUrl) {\r\n            request = this.get();\r\n        }\r\n        else {\r\n            request = this.getLocalContexts();\r\n        }\r\n        request.subscribe((/**\r\n         * @param {?} contexts\r\n         * @return {?}\r\n         */\r\n        function (contexts) {\r\n            /** @type {?} */\r\n            var publicsContexts = _this.contexts$.value.public;\r\n            if (publicsContexts) {\r\n                /** @type {?} */\r\n                var contextUri = publicsContexts.find((/**\r\n                 * @param {?} c\r\n                 * @return {?}\r\n                 */\r\n                function (c) { return c.uri === _this.options.defaultContextUri; }));\r\n                if (contextUri) {\r\n                    if (!contexts.public) {\r\n                        contexts.public = [];\r\n                    }\r\n                    contexts.public.push(contextUri);\r\n                }\r\n            }\r\n            _this.contexts$.next(contexts);\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.loadDefaultContext = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var loadFct = (/**\r\n         * @param {?=} direct\r\n         * @return {?}\r\n         */\r\n        function (direct) {\r\n            if (direct === void 0) { direct = false; }\r\n            if (!direct && _this.baseUrl && _this.authService.authenticated) {\r\n                _this.getDefault().subscribe((/**\r\n                 * @param {?} _context\r\n                 * @return {?}\r\n                 */\r\n                function (_context) {\r\n                    _this.options.defaultContextUri = _context.uri;\r\n                    _this.addContextToList(_context);\r\n                    _this.setContext(_context);\r\n                }), (/**\r\n                 * @return {?}\r\n                 */\r\n                function () {\r\n                    _this.defaultContextId$.next(undefined);\r\n                    _this.loadContext(_this.options.defaultContextUri);\r\n                }));\r\n            }\r\n            else {\r\n                _this.loadContext(_this.options.defaultContextUri);\r\n            }\r\n        });\r\n        if (this.route && this.route.options.contextKey) {\r\n            this.route.queryParams.pipe(debounceTime(100)).subscribe((/**\r\n             * @param {?} params\r\n             * @return {?}\r\n             */\r\n            function (params) {\r\n                /** @type {?} */\r\n                var contextParam = params[(/** @type {?} */ (_this.route.options.contextKey))];\r\n                /** @type {?} */\r\n                var direct = false;\r\n                if (contextParam) {\r\n                    _this.options.defaultContextUri = contextParam;\r\n                    direct = true;\r\n                }\r\n                loadFct(direct);\r\n            }));\r\n        }\r\n        else {\r\n            loadFct();\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} uri\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.loadContext = /**\r\n     * @param {?} uri\r\n     * @return {?}\r\n     */\r\n    function (uri) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var context = this.context$.value;\r\n        if (context && context.uri === uri) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var contexts$$ = this.getContextByUri(uri).subscribe((/**\r\n         * @param {?} _context\r\n         * @return {?}\r\n         */\r\n        function (_context) {\r\n            contexts$$.unsubscribe();\r\n            _this.addContextToList(_context);\r\n            _this.setContext(_context);\r\n        }), (/**\r\n         * @param {?} err\r\n         * @return {?}\r\n         */\r\n        function (err) {\r\n            contexts$$.unsubscribe();\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.setContext = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        /** @type {?} */\r\n        var currentContext = this.context$.value;\r\n        if (currentContext && context && context.id === currentContext.id) {\r\n            if (context.map.view.keepCurrentView === undefined) {\r\n                context.map.view.keepCurrentView = true;\r\n            }\r\n            this.context$.next(context);\r\n            return;\r\n        }\r\n        if (!context.map) {\r\n            context.map = { view: {} };\r\n        }\r\n        Object.assign(context.map.view, this.mapViewFromRoute);\r\n        this.context$.next(context);\r\n    };\r\n    /**\r\n     * @param {?} uri\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.loadEditedContext = /**\r\n     * @param {?} uri\r\n     * @return {?}\r\n     */\r\n    function (uri) {\r\n        var _this = this;\r\n        this.getContextByUri(uri).subscribe((/**\r\n         * @param {?} _context\r\n         * @return {?}\r\n         */\r\n        function (_context) {\r\n            _this.setEditedContext(_context);\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.setEditedContext = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        this.editedContext$.next(context);\r\n    };\r\n    /**\r\n     * @param {?} igoMap\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.getContextFromMap = /**\r\n     * @param {?} igoMap\r\n     * @return {?}\r\n     */\r\n    function (igoMap) {\r\n        var e_1, _a;\r\n        /** @type {?} */\r\n        var view = igoMap.ol.getView();\r\n        /** @type {?} */\r\n        var proj = view.getProjection().getCode();\r\n        /** @type {?} */\r\n        var center = new olPoint(view.getCenter()).transform(proj, 'EPSG:4326');\r\n        /** @type {?} */\r\n        var context = {\r\n            uri: uuid(),\r\n            title: '',\r\n            scope: 'private',\r\n            map: {\r\n                view: {\r\n                    center: center.getCoordinates(),\r\n                    zoom: view.getZoom(),\r\n                    projection: proj\r\n                }\r\n            },\r\n            layers: [],\r\n            tools: []\r\n        };\r\n        /** @type {?} */\r\n        var layers = igoMap.layers$.getValue();\r\n        try {\r\n            for (var layers_1 = __values(layers), layers_1_1 = layers_1.next(); !layers_1_1.done; layers_1_1 = layers_1.next()) {\r\n                var l = layers_1_1.value;\r\n                /** @type {?} */\r\n                var layer = l;\r\n                /** @type {?} */\r\n                var opts = {\r\n                    id: layer.options.id ? String(layer.options.id) : undefined,\r\n                    layerOptions: {\r\n                        title: layer.options.title,\r\n                        zIndex: layer.zIndex,\r\n                        visible: layer.visible\r\n                    },\r\n                    sourceOptions: {\r\n                        type: layer.dataSource.options.type,\r\n                        params: layer.dataSource.options.params,\r\n                        url: layer.dataSource.options.url\r\n                    }\r\n                };\r\n                context.layers.push(opts);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (layers_1_1 && !layers_1_1.done && (_a = layers_1.return)) _a.call(layers_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        context.tools = this.tools.map((/**\r\n         * @param {?} tool\r\n         * @return {?}\r\n         */\r\n        function (tool) {\r\n            return { id: String(tool.id) };\r\n        }));\r\n        return context;\r\n    };\r\n    /**\r\n     * @param {?} tools\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.setTools = /**\r\n     * @param {?} tools\r\n     * @return {?}\r\n     */\r\n    function (tools) {\r\n        this.tools = tools;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} uri\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.getContextByUri = /**\r\n     * @private\r\n     * @param {?} uri\r\n     * @return {?}\r\n     */\r\n    function (uri) {\r\n        var e_2, _a;\r\n        if (this.baseUrl) {\r\n            /** @type {?} */\r\n            var contextToLoad = void 0;\r\n            try {\r\n                for (var _b = __values(Object.keys(this.contexts$.value)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var key = _c.value;\r\n                    contextToLoad = this.contexts$.value[key].find((/**\r\n                     * @param {?} c\r\n                     * @return {?}\r\n                     */\r\n                    function (c) {\r\n                        return c.uri === uri;\r\n                    }));\r\n                    if (contextToLoad) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_2) throw e_2.error; }\r\n            }\r\n            // TODO : use always id or uri\r\n            /** @type {?} */\r\n            var id = contextToLoad ? contextToLoad.id : uri;\r\n            return this.getDetails(id);\r\n        }\r\n        return this.getLocalContext(uri);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.readParamsFromRoute = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (!this.route) {\r\n            return;\r\n        }\r\n        this.route.queryParams.subscribe((/**\r\n         * @param {?} params\r\n         * @return {?}\r\n         */\r\n        function (params) {\r\n            /** @type {?} */\r\n            var centerKey = _this.route.options.centerKey;\r\n            if (centerKey && params[(/** @type {?} */ (centerKey))]) {\r\n                /** @type {?} */\r\n                var centerParams = params[(/** @type {?} */ (centerKey))];\r\n                _this.mapViewFromRoute.center = centerParams.split(',').map(Number);\r\n                _this.mapViewFromRoute.geolocate = false;\r\n            }\r\n            /** @type {?} */\r\n            var projectionKey = _this.route.options.projectionKey;\r\n            if (projectionKey && params[(/** @type {?} */ (projectionKey))]) {\r\n                /** @type {?} */\r\n                var projectionParam = params[(/** @type {?} */ (projectionKey))];\r\n                _this.mapViewFromRoute.projection = projectionParam;\r\n            }\r\n            /** @type {?} */\r\n            var zoomKey = _this.route.options.zoomKey;\r\n            if (zoomKey && params[(/** @type {?} */ (zoomKey))]) {\r\n                /** @type {?} */\r\n                var zoomParam = params[(/** @type {?} */ (zoomKey))];\r\n                _this.mapViewFromRoute.zoom = Number(zoomParam);\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.getPath = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @return {?}\r\n     */\r\n    function (file) {\r\n        /** @type {?} */\r\n        var basePath = this.options.basePath.replace(/\\/$/, '');\r\n        return basePath + \"/\" + file;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} uri\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.handleError = /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} uri\r\n     * @return {?}\r\n     */\r\n    function (res, uri) {\r\n        /** @type {?} */\r\n        var context = this.contexts$.value.ours.find((/**\r\n         * @param {?} obj\r\n         * @return {?}\r\n         */\r\n        function (obj) { return obj.uri === uri; }));\r\n        /** @type {?} */\r\n        var titleContext = context ? context.title : uri;\r\n        /** @type {?} */\r\n        var titleError = this.languageService.translate.instant('igo.context.contextManager.invalid.title');\r\n        /** @type {?} */\r\n        var textError = this.languageService.translate.instant('igo.context.contextManager.invalid.text', { value: titleContext });\r\n        throw [{ title: titleError, text: textError }];\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} contexts\r\n     * @param {?=} keepCurrentContext\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.handleContextsChange = /**\r\n     * @private\r\n     * @param {?} contexts\r\n     * @param {?=} keepCurrentContext\r\n     * @return {?}\r\n     */\r\n    function (contexts, keepCurrentContext) {\r\n        if (keepCurrentContext === void 0) { keepCurrentContext = false; }\r\n        /** @type {?} */\r\n        var context = this.context$.value;\r\n        /** @type {?} */\r\n        var editedContext = this.editedContext$.value;\r\n        if (!keepCurrentContext || !this.findContext(context)) {\r\n            this.loadDefaultContext();\r\n        }\r\n        else {\r\n            if (context.map.view.keepCurrentView === undefined) {\r\n                context.map.view.keepCurrentView = true;\r\n            }\r\n            this.context$.next(context);\r\n            this.getDefault().subscribe((/**\r\n             * @return {?}\r\n             */\r\n            function () { }));\r\n        }\r\n        /** @type {?} */\r\n        var editedFound = this.findContext(editedContext);\r\n        if (!editedFound || editedFound.permission !== 'write') {\r\n            this.setEditedContext(undefined);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.addContextToList = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        /** @type {?} */\r\n        var contextFound = this.findContext(context);\r\n        if (!contextFound) {\r\n            /** @type {?} */\r\n            var contextSimplifie = {\r\n                id: context.id,\r\n                uri: context.uri,\r\n                title: context.title,\r\n                scope: context.scope,\r\n                permission: TypePermission[TypePermission.read]\r\n            };\r\n            if (this.contexts$.value && this.contexts$.value.public) {\r\n                this.contexts$.value.public.push(contextSimplifie);\r\n                this.contexts$.next(this.contexts$.value);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextService.prototype.findContext = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var e_3, _a;\r\n        if (!context || !context.id) {\r\n            return false;\r\n        }\r\n        /** @type {?} */\r\n        var contexts = this.contexts$.value;\r\n        /** @type {?} */\r\n        var found;\r\n        try {\r\n            for (var _b = __values(Object.keys(contexts)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var key = _c.value;\r\n                /** @type {?} */\r\n                var value = contexts[key];\r\n                found = value.find((/**\r\n                 * @param {?} c\r\n                 * @return {?}\r\n                 */\r\n                function (c) { return c.id === context.id; }));\r\n                if (found) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_3) throw e_3.error; }\r\n        }\r\n        return found;\r\n    };\r\n    ContextService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextService.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: AuthService },\r\n        { type: LanguageService },\r\n        { type: ConfigService },\r\n        { type: RouteService, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    /** @nocollapse */ ContextService.ngInjectableDef = defineInjectable({ factory: function ContextService_Factory() { return new ContextService(inject(HttpClient), inject(AuthService), inject(LanguageService), inject(ConfigService), inject(RouteService, 8)); }, token: ContextService, providedIn: \"root\" });\r\n    return ContextService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MapContextDirective = /** @class */ (function () {\r\n    function MapContextDirective(component, contextService) {\r\n        this.contextService = contextService;\r\n        this.component = component;\r\n    }\r\n    Object.defineProperty(MapContextDirective.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.component.map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MapContextDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.context$$ = this.contextService.context$\r\n            .pipe(filter((/**\r\n         * @param {?} context\r\n         * @return {?}\r\n         */\r\n        function (context) { return context !== undefined; })))\r\n            .subscribe((/**\r\n         * @param {?} context\r\n         * @return {?}\r\n         */\r\n        function (context) { return _this.handleContextChange(context); }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MapContextDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.context$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    MapContextDirective.prototype.handleContextChange = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        if (context.map === undefined) {\r\n            return;\r\n        }\r\n        // This creates a new ol.Map when the context changes. Doing that\r\n        // allows the print tool to work properly even when the map's canvas\r\n        // has been tainted (CORS) with the layers of another context. This could\r\n        // have some side effects such as unbinding all listeners on the first map.\r\n        // A better solution would be to create a new map (preview) before\r\n        // printing and avoid the tainted canvas issue. This will come later so\r\n        // this snippet of code is kept here in case it takes too long becomes\r\n        // an issue\r\n        // const target = this.component.map.ol.getTarget();\r\n        // this.component.map.ol.setTarget(undefined);\r\n        // this.component.map.init();\r\n        // this.component.map.ol.setTarget(target);\r\n        /** @type {?} */\r\n        var viewContext = context.map.view;\r\n        if (viewContext.keepCurrentView !== true) {\r\n            this.component.view = (/** @type {?} */ (viewContext));\r\n        }\r\n    };\r\n    MapContextDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoMapContext]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    MapContextDirective.ctorParameters = function () { return [\r\n        { type: MapBrowserComponent },\r\n        { type: ContextService }\r\n    ]; };\r\n    return MapContextDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LayerContextDirective = /** @class */ (function () {\r\n    function LayerContextDirective(component, contextService, layerService, route) {\r\n        this.component = component;\r\n        this.contextService = contextService;\r\n        this.layerService = layerService;\r\n        this.route = route;\r\n        this.contextLayers = [];\r\n    }\r\n    Object.defineProperty(LayerContextDirective.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.component.map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerContextDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.context$$ = this.contextService.context$\r\n            .pipe(filter((/**\r\n         * @param {?} context\r\n         * @return {?}\r\n         */\r\n        function (context) { return context !== undefined; })))\r\n            .subscribe((/**\r\n         * @param {?} context\r\n         * @return {?}\r\n         */\r\n        function (context) { return _this.handleContextChange(context); }));\r\n        if (this.route &&\r\n            this.route.options.visibleOnLayersKey &&\r\n            this.route.options.visibleOffLayersKey &&\r\n            this.route.options.contextKey) {\r\n            /** @type {?} */\r\n            var queryParams$$_1 = this.route.queryParams\r\n                .pipe(skip(1))\r\n                .subscribe((/**\r\n             * @param {?} params\r\n             * @return {?}\r\n             */\r\n            function (params) {\r\n                _this.queryParams = params;\r\n                queryParams$$_1.unsubscribe();\r\n            }));\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerContextDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.context$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    LayerContextDirective.prototype.handleContextChange = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        if (context.layers === undefined) {\r\n            return;\r\n        }\r\n        this.map.removeLayers(this.contextLayers);\r\n        this.contextLayers = [];\r\n        /** @type {?} */\r\n        var layersAndIndex$ = zip.apply(void 0, __spread(context.layers.map((/**\r\n         * @param {?} layerOptions\r\n         * @param {?} index\r\n         * @return {?}\r\n         */\r\n        function (layerOptions, index) {\r\n            return _this.layerService.createAsyncLayer(layerOptions).pipe(withLatestFrom(of(index)));\r\n        }))));\r\n        layersAndIndex$.subscribe((/**\r\n         * @param {?} layersAndIndex\r\n         * @return {?}\r\n         */\r\n        function (layersAndIndex) {\r\n            /** @type {?} */\r\n            var layers = layersAndIndex.reduce((/**\r\n             * @param {?} acc\r\n             * @param {?} bunch\r\n             * @return {?}\r\n             */\r\n            function (acc, bunch) {\r\n                var _a = __read(bunch, 2), layer = _a[0], index = _a[1];\r\n                layer.visible = _this.computeLayerVisibilityFromUrl(layer);\r\n                layer.zIndex = layer.zIndex || index + 1; // Map indexes start at 1\r\n                acc[index] = layer;\r\n                return acc;\r\n            }), new Array(layersAndIndex.length));\r\n            _this.contextLayers = layers;\r\n            _this.map.addLayers(layers);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    LayerContextDirective.prototype.computeLayerVisibilityFromUrl = /**\r\n     * @private\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        /** @type {?} */\r\n        var params = this.queryParams;\r\n        /** @type {?} */\r\n        var currentContext = this.contextService.context$.value.uri;\r\n        /** @type {?} */\r\n        var currentLayerid = layer.id;\r\n        /** @type {?} */\r\n        var visible = layer.visible;\r\n        if (!params || !currentLayerid) {\r\n            return visible;\r\n        }\r\n        /** @type {?} */\r\n        var contextParams = params[(/** @type {?} */ (this.route.options.contextKey))];\r\n        if (contextParams === currentContext || !contextParams) {\r\n            /** @type {?} */\r\n            var visibleOnLayersParams = '';\r\n            /** @type {?} */\r\n            var visibleOffLayersParams = '';\r\n            /** @type {?} */\r\n            var visiblelayers = [];\r\n            /** @type {?} */\r\n            var invisiblelayers = [];\r\n            if (this.route.options.visibleOnLayersKey &&\r\n                params[(/** @type {?} */ (this.route.options.visibleOnLayersKey))]) {\r\n                visibleOnLayersParams =\r\n                    params[(/** @type {?} */ (this.route.options.visibleOnLayersKey))];\r\n            }\r\n            if (this.route.options.visibleOffLayersKey &&\r\n                params[(/** @type {?} */ (this.route.options.visibleOffLayersKey))]) {\r\n                visibleOffLayersParams =\r\n                    params[(/** @type {?} */ (this.route.options.visibleOffLayersKey))];\r\n            }\r\n            /* This order is important because to control whichever\r\n             the order of * param. First whe open and close everything.*/\r\n            if (visibleOnLayersParams === '*') {\r\n                visible = true;\r\n            }\r\n            if (visibleOffLayersParams === '*') {\r\n                visible = false;\r\n            }\r\n            // After, managing named layer by id (context.json OR id from datasource)\r\n            visiblelayers = visibleOnLayersParams.split(',');\r\n            invisiblelayers = visibleOffLayersParams.split(',');\r\n            if (visiblelayers.indexOf(currentLayerid) > -1) {\r\n                visible = true;\r\n            }\r\n            if (invisiblelayers.indexOf(currentLayerid) > -1) {\r\n                visible = false;\r\n            }\r\n        }\r\n        return visible;\r\n    };\r\n    LayerContextDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoLayerContext]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    LayerContextDirective.ctorParameters = function () { return [\r\n        { type: MapBrowserComponent },\r\n        { type: ContextService },\r\n        { type: LayerService },\r\n        { type: RouteService, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    return LayerContextDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextListComponent = /** @class */ (function () {\r\n    function ContextListComponent(cdRef) {\r\n        this.cdRef = cdRef;\r\n        this._contexts = { ours: [] };\r\n        this.select = new EventEmitter();\r\n        this.unselect = new EventEmitter();\r\n        this.edit = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n        this.save = new EventEmitter();\r\n        this.clone = new EventEmitter();\r\n        this.favorite = new EventEmitter();\r\n        this.managePermissions = new EventEmitter();\r\n        this.manageTools = new EventEmitter();\r\n        this.titleMapping = {\r\n            ours: 'igo.context.contextManager.ourContexts',\r\n            shared: 'igo.context.contextManager.sharedContexts',\r\n            public: 'igo.context.contextManager.publicContexts'\r\n        };\r\n    }\r\n    Object.defineProperty(ContextListComponent.prototype, \"contexts\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._contexts;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._contexts = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextListComponent.prototype, \"selectedContext\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._selectedContext;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._selectedContext = value;\r\n            this.cdRef.detectChanges();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextListComponent.prototype, \"defaultContextId\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._defaultContextId;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._defaultContextId = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextListComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-context-list',\r\n                    template: \"<igo-list [navigation]=\\\"true\\\">\\r\\n  <ng-template ngFor let-groupContexts [ngForOf]=\\\"contexts | keyvalue\\\">\\r\\n    <igo-collapsible *ngIf=\\\"groupContexts.value.length\\\" [title]=\\\"titleMapping[groupContexts.key] | translate\\\">\\r\\n\\r\\n      <ng-template ngFor let-context [ngForOf]=\\\"groupContexts.value\\\">\\r\\n        <igo-context-item\\r\\n          igoListItem\\r\\n          color=\\\"accent\\\"\\r\\n          [selected]=\\\"selectedContext && selectedContext.uri === context.uri\\\"\\r\\n          [context]=\\\"context\\\"\\r\\n          [default]=\\\"this.defaultContextId === context.id\\\"\\r\\n          (edit)=\\\"edit.emit(context)\\\"\\r\\n          (delete)=\\\"delete.emit(context)\\\"\\r\\n          (clone)=\\\"clone.emit(context)\\\"\\r\\n          (save)=\\\"save.emit(context)\\\"\\r\\n          (favorite)=\\\"favorite.emit(context)\\\"\\r\\n          (manageTools)=\\\"manageTools.emit(context)\\\"\\r\\n          (managePermissions)=\\\"managePermissions.emit(context)\\\"\\r\\n          (select)=\\\"select.emit(context)\\\"\\r\\n          (unselect)=\\\"unselect.emit(context)\\\">\\r\\n        </igo-context-item>\\r\\n      </ng-template>\\r\\n\\r\\n    </igo-collapsible>\\r\\n  </ng-template>\\r\\n</igo-list>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextListComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    ContextListComponent.propDecorators = {\r\n        contexts: [{ type: Input }],\r\n        selectedContext: [{ type: Input }],\r\n        defaultContextId: [{ type: Input }],\r\n        select: [{ type: Output }],\r\n        unselect: [{ type: Output }],\r\n        edit: [{ type: Output }],\r\n        delete: [{ type: Output }],\r\n        save: [{ type: Output }],\r\n        clone: [{ type: Output }],\r\n        favorite: [{ type: Output }],\r\n        managePermissions: [{ type: Output }],\r\n        manageTools: [{ type: Output }]\r\n    };\r\n    return ContextListComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextListBindingDirective = /** @class */ (function () {\r\n    function ContextListBindingDirective(component, contextService, mapService, languageService, confirmDialogService, messageService) {\r\n        this.contextService = contextService;\r\n        this.mapService = mapService;\r\n        this.languageService = languageService;\r\n        this.confirmDialogService = confirmDialogService;\r\n        this.messageService = messageService;\r\n        this.component = component;\r\n    }\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.onSelect = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        this.contextService.loadContext(context.uri);\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.onEdit = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        this.contextService.loadEditedContext(context.uri);\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.onSave = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var map$$1 = this.mapService.getMap();\r\n        /** @type {?} */\r\n        var contextFromMap = this.contextService.getContextFromMap(map$$1);\r\n        /** @type {?} */\r\n        var changes = {\r\n            layers: contextFromMap.layers,\r\n            map: {\r\n                view: contextFromMap.map.view\r\n            }\r\n        };\r\n        this.contextService.update(context.id, changes).subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var translate = _this.languageService.translate;\r\n            /** @type {?} */\r\n            var message = translate.instant('igo.context.contextManager.dialog.saveMsg', {\r\n                value: context.title\r\n            });\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.context.contextManager.dialog.saveTitle');\r\n            _this.messageService.success(message, title);\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.onFavorite = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        this.contextService.setDefault(context.id).subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.contextService.defaultContextId$.next(context.id);\r\n            /** @type {?} */\r\n            var translate = _this.languageService.translate;\r\n            /** @type {?} */\r\n            var message = translate.instant('igo.context.contextManager.dialog.favoriteMsg', {\r\n                value: context.title\r\n            });\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.context.contextManager.dialog.favoriteTitle');\r\n            _this.messageService.success(message, title);\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.onManageTools = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        this.contextService.loadEditedContext(context.uri);\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.onManagePermissions = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        this.contextService.loadEditedContext(context.uri);\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.onDelete = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var translate = this.languageService.translate;\r\n        this.confirmDialogService\r\n            .open(translate.instant('igo.context.contextManager.dialog.confirmDelete'))\r\n            .subscribe((/**\r\n         * @param {?} confirm\r\n         * @return {?}\r\n         */\r\n        function (confirm) {\r\n            if (confirm) {\r\n                _this.contextService.delete(context.id).subscribe((/**\r\n                 * @return {?}\r\n                 */\r\n                function () {\r\n                    /** @type {?} */\r\n                    var message = translate.instant('igo.context.contextManager.dialog.deleteMsg', {\r\n                        value: context.title\r\n                    });\r\n                    /** @type {?} */\r\n                    var title = translate.instant('igo.context.contextManager.dialog.deleteTitle');\r\n                    _this.messageService.info(message, title);\r\n                }));\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.onClone = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var properties = {\r\n            title: context.title + '-copy',\r\n            uri: context.uri + '-copy'\r\n        };\r\n        this.contextService.clone(context.id, properties).subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var translate = _this.languageService.translate;\r\n            /** @type {?} */\r\n            var message = translate.instant('igo.context.contextManager.dialog.cloneMsg', {\r\n                value: context.title\r\n            });\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.context.contextManager.dialog.cloneTitle');\r\n            _this.messageService.success(message, title);\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        // Override input contexts\r\n        this.component.contexts = { ours: [] };\r\n        this.contexts$$ = this.contextService.contexts$.subscribe((/**\r\n         * @param {?} contexts\r\n         * @return {?}\r\n         */\r\n        function (contexts) {\r\n            return _this.handleContextsChange(contexts);\r\n        }));\r\n        this.defaultContextId$$ = this.contextService.defaultContextId$.subscribe((/**\r\n         * @param {?} id\r\n         * @return {?}\r\n         */\r\n        function (id) {\r\n            _this.component.defaultContextId = id;\r\n        }));\r\n        // See feature-list.component for an explanation about the debounce time\r\n        this.selectedContext$$ = this.contextService.context$\r\n            .pipe(debounceTime(100))\r\n            .subscribe((/**\r\n         * @param {?} context\r\n         * @return {?}\r\n         */\r\n        function (context) { return (_this.component.selectedContext = context); }));\r\n        this.contextService.loadContexts();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.contexts$$.unsubscribe();\r\n        this.selectedContext$$.unsubscribe();\r\n        this.defaultContextId$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} contexts\r\n     * @return {?}\r\n     */\r\n    ContextListBindingDirective.prototype.handleContextsChange = /**\r\n     * @private\r\n     * @param {?} contexts\r\n     * @return {?}\r\n     */\r\n    function (contexts) {\r\n        this.component.contexts = contexts;\r\n    };\r\n    ContextListBindingDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoContextListBinding]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextListBindingDirective.ctorParameters = function () { return [\r\n        { type: ContextListComponent, decorators: [{ type: Self }] },\r\n        { type: ContextService },\r\n        { type: MapService },\r\n        { type: LanguageService },\r\n        { type: ConfirmDialogService },\r\n        { type: MessageService }\r\n    ]; };\r\n    ContextListBindingDirective.propDecorators = {\r\n        onSelect: [{ type: HostListener, args: ['select', ['$event'],] }],\r\n        onEdit: [{ type: HostListener, args: ['edit', ['$event'],] }],\r\n        onSave: [{ type: HostListener, args: ['save', ['$event'],] }],\r\n        onFavorite: [{ type: HostListener, args: ['favorite', ['$event'],] }],\r\n        onManageTools: [{ type: HostListener, args: ['manageTools', ['$event'],] }],\r\n        onManagePermissions: [{ type: HostListener, args: ['managePermissions', ['$event'],] }],\r\n        onDelete: [{ type: HostListener, args: ['delete', ['$event'],] }],\r\n        onClone: [{ type: HostListener, args: ['clone', ['$event'],] }]\r\n    };\r\n    return ContextListBindingDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextItemComponent = /** @class */ (function () {\r\n    function ContextItemComponent(auth) {\r\n        this.auth = auth;\r\n        this.typePermission = TypePermission;\r\n        this.color = 'primary';\r\n        this.collapsed = true;\r\n        this._default = false;\r\n        this.edit = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n        this.save = new EventEmitter();\r\n        this.clone = new EventEmitter();\r\n        this.favorite = new EventEmitter();\r\n        this.managePermissions = new EventEmitter();\r\n        this.manageTools = new EventEmitter();\r\n    }\r\n    Object.defineProperty(ContextItemComponent.prototype, \"context\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._context;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._context = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextItemComponent.prototype, \"default\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._default;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._default = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextItemComponent.prototype.favoriteClick = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        if (this.auth.authenticated) {\r\n            this.favorite.emit(context);\r\n        }\r\n    };\r\n    ContextItemComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-context-item',\r\n                    template: \"<mat-list-item>\\r\\n  <button mat-list-avatar\\r\\n    mat-icon-button\\r\\n    igoStopPropagation\\r\\n    [matTooltip]=\\\"'igo.context.contextManager.favorite' | translate\\\"\\r\\n    matTooltipShowDelay=\\\"500\\\"\\r\\n    [color]=\\\"default ? 'primary' : 'default'\\\"\\r\\n    (click)=\\\"favoriteClick(context)\\\">\\r\\n    <mat-icon *ngIf=\\\"!context.iconImage\\\" svgIcon=\\\"{{context.icon ? context.icon : context.scope === 'public' ? 'earth' : 'star'}}\\\"></mat-icon>\\r\\n    <img *ngIf=\\\"context.iconImage\\\" [src]=\\\"context.iconImage\\\">\\r\\n  </button>\\r\\n  <h4 matLine>{{context.title}}</h4>\\r\\n\\r\\n  <div *ngIf=\\\"auth.authenticated && context.permission === typePermission[typePermission.read]\\\"\\r\\n       igoStopPropagation\\r\\n       class=\\\"igo-actions-container\\\">\\r\\n\\r\\n       <button\\r\\n         mat-icon-button\\r\\n         [matTooltip]=\\\"'igo.context.contextManager.clone' | translate\\\"\\r\\n         matTooltipShowDelay=\\\"500\\\"\\r\\n         [color]=\\\"color\\\"\\r\\n         (click)=\\\"clone.emit(context)\\\">\\r\\n         <mat-icon svgIcon=\\\"content-copy\\\"></mat-icon>\\r\\n       </button>\\r\\n </div>\\r\\n\\r\\n\\r\\n  <div *ngIf=\\\"context.permission === typePermission[typePermission.write]\\\"\\r\\n       igoStopPropagation\\r\\n       class=\\\"igo-actions-container\\\">\\r\\n\\r\\n     <button *ngIf=\\\"collapsed\\\"\\r\\n       mat-icon-button\\r\\n       [matTooltip]=\\\"'igo.context.contextManager.save' | translate\\\"\\r\\n       matTooltipShowDelay=\\\"500\\\"\\r\\n       [color]=\\\"color\\\"\\r\\n       (click)=\\\"save.emit(context)\\\">\\r\\n       <mat-icon svgIcon=\\\"content-save\\\"></mat-icon>\\r\\n     </button>\\r\\n\\r\\n    <div #actions class=\\\"igo-actions-expand-container\\\">\\r\\n\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        [matTooltip]=\\\"'igo.context.contextManager.managePermissions' | translate\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        [color]=\\\"color\\\"\\r\\n        (click)=\\\"managePermissions.emit(context)\\\">\\r\\n        <mat-icon svgIcon=\\\"account-outline\\\"></mat-icon>\\r\\n      </button>\\r\\n\\r\\n      <!--button\\r\\n        mat-icon-button\\r\\n        [matTooltip]=\\\"'igo.context.contextManager.manageTools' | translate\\\"\\r\\n        [color]=\\\"color\\\"\\r\\n        (click)=\\\"manageTools.emit(context)\\\">\\r\\n        <mat-icon svgIcon=\\\"widgets\\\"></mat-icon>\\r\\n      </button-->\\r\\n\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        [matTooltip]=\\\"'igo.context.contextManager.clone' | translate\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        [color]=\\\"color\\\"\\r\\n        (click)=\\\"clone.emit(context)\\\">\\r\\n        <mat-icon svgIcon=\\\"content-copy\\\"></mat-icon>\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        [color]=\\\"color\\\"\\r\\n        [matTooltip]=\\\"'igo.context.contextManager.edit' | translate\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        (click)=\\\"edit.emit(context)\\\">\\r\\n        <mat-icon svgIcon=\\\"pencil\\\"></mat-icon>\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        color=\\\"warn\\\"\\r\\n        [matTooltip]=\\\"'igo.context.contextManager.delete' | translate\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        (click)=\\\"delete.emit(context)\\\">\\r\\n        <mat-icon svgIcon=\\\"delete\\\"></mat-icon>\\r\\n      </button>\\r\\n    </div>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      igoCollapse\\r\\n      [color]=\\\"color\\\"\\r\\n      [target]=\\\"actions\\\"\\r\\n      [collapsed]=collapsed\\r\\n      (click)=\\\"collapsed = !collapsed\\\">\\r\\n      <mat-icon svgIcon=\\\"dots-horizontal\\\"></mat-icon>\\r\\n    </button>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</mat-list-item>\\r\\n\",\r\n                    styles: [\":host{overflow:hidden}.igo-actions-container{flex-shrink:0}.igo-actions-expand-container{display:inline-flex}mat-list-item>>>.mat-list-item-content .mat-list-text{padding:0}mat-list-item>>>.mat-list-item-content .mat-list-text>h4{padding:0 16px}mat-icon.disabled{color:rgba(0,0,0,.38)}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextItemComponent.ctorParameters = function () { return [\r\n        { type: AuthService }\r\n    ]; };\r\n    ContextItemComponent.propDecorators = {\r\n        context: [{ type: Input }],\r\n        default: [{ type: Input }],\r\n        edit: [{ type: Output }],\r\n        delete: [{ type: Output }],\r\n        save: [{ type: Output }],\r\n        clone: [{ type: Output }],\r\n        favorite: [{ type: Output }],\r\n        managePermissions: [{ type: Output }],\r\n        manageTools: [{ type: Output }]\r\n    };\r\n    return ContextItemComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextFormComponent = /** @class */ (function () {\r\n    function ContextFormComponent(formBuilder) {\r\n        this.formBuilder = formBuilder;\r\n        this._disabled = false;\r\n        // TODO: replace any by ContextOptions or Context\r\n        this.submitForm = new EventEmitter();\r\n        this.clone = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n    }\r\n    Object.defineProperty(ContextFormComponent.prototype, \"btnSubmitText\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._btnSubmitText;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._btnSubmitText = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextFormComponent.prototype, \"context\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._context;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._context = value;\r\n            this.buildForm();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextFormComponent.prototype, \"disabled\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._disabled;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._disabled = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextFormComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.buildForm();\r\n    };\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    ContextFormComponent.prototype.handleFormSubmit = /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        /** @type {?} */\r\n        var inputs = Object.assign({}, value);\r\n        inputs = ObjectUtils.removeNull(inputs);\r\n        inputs.uri = inputs.uri.replace(' ', '');\r\n        if (inputs.uri) {\r\n            inputs.uri = this.prefix + '-' + inputs.uri;\r\n        }\r\n        else {\r\n            inputs.uri = this.prefix;\r\n        }\r\n        this.submitForm.emit(inputs);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ContextFormComponent.prototype.buildForm = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var context = this.context || {};\r\n        /** @type {?} */\r\n        var uriSplit = context.uri.split('-');\r\n        this.prefix = uriSplit.shift();\r\n        /** @type {?} */\r\n        var uri = uriSplit.join('-');\r\n        this.form = this.formBuilder.group({\r\n            title: [context.title],\r\n            uri: [uri || ' ']\r\n        });\r\n    };\r\n    ContextFormComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-context-form',\r\n                    template: \"<form class=\\\"igo-form\\\" [formGroup]=\\\"form\\\"\\r\\n  (ngSubmit)=\\\"handleFormSubmit(form.value)\\\">\\r\\n\\r\\n  <mat-form-field class=\\\"full-width\\\">\\r\\n    <input matInput required\\r\\n           [placeholder]=\\\"'igo.context.contextManager.form.title' | translate\\\"\\r\\n           formControlName=\\\"title\\\">\\r\\n   <mat-error>\\r\\n    {{ 'igo.context.contextManager.form.titleRequired' | translate }}\\r\\n   </mat-error>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field id=\\\"uriInput\\\" class=\\\"full-width\\\">\\r\\n    <span *ngIf=\\\"prefix\\\" class=\\\"prefix\\\">{{prefix}}-</span>\\r\\n    <span class=\\\"fieldWrapper\\\">\\r\\n      <input matInput\\r\\n           [placeholder]=\\\"'igo.context.contextManager.form.uri' | translate\\\"\\r\\n           formControlName=\\\"uri\\\">\\r\\n    </span>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <div class=\\\"igo-form-button-group\\\">\\r\\n    <button\\r\\n      mat-raised-button\\r\\n      type=\\\"submit\\\"\\r\\n      [disabled]=\\\"!form.valid || disabled\\\">\\r\\n      {{ 'igo.context.contextManager.form.edit' | translate }}\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n</form>\\r\\n\",\r\n                    styles: [\"form{margin:10px}.full-width{width:100%}#uriInput .fieldWrapper{display:block;overflow:hidden}#uriInput .prefix{float:left}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextFormComponent.ctorParameters = function () { return [\r\n        { type: FormBuilder }\r\n    ]; };\r\n    ContextFormComponent.propDecorators = {\r\n        btnSubmitText: [{ type: Input }],\r\n        context: [{ type: Input }],\r\n        disabled: [{ type: Input }],\r\n        submitForm: [{ type: Output }],\r\n        clone: [{ type: Output }],\r\n        delete: [{ type: Output }]\r\n    };\r\n    return ContextFormComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextEditComponent = /** @class */ (function () {\r\n    function ContextEditComponent(cd) {\r\n        this.cd = cd;\r\n        this.submitForm = new EventEmitter();\r\n    }\r\n    Object.defineProperty(ContextEditComponent.prototype, \"context\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._context;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._context = value;\r\n            this.refresh();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextEditComponent.prototype.refresh = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.cd.detectChanges();\r\n    };\r\n    ContextEditComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-context-edit',\r\n                    template: \"<igo-context-form *ngIf=\\\"context\\\"\\r\\n   [btnSubmitText]=\\\"'igo.context.contextManager.save' | translate\\\"\\r\\n   [context]=\\\"context\\\"\\r\\n   (submitForm)=\\\"submitForm.emit($event)\\\">\\r\\n</igo-context-form>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextEditComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    ContextEditComponent.propDecorators = {\r\n        context: [{ type: Input }],\r\n        submitForm: [{ type: Output }]\r\n    };\r\n    return ContextEditComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextEditBindingDirective = /** @class */ (function () {\r\n    function ContextEditBindingDirective(component, contextService, messageService, languageService) {\r\n        this.contextService = contextService;\r\n        this.messageService = messageService;\r\n        this.languageService = languageService;\r\n        this.component = component;\r\n    }\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextEditBindingDirective.prototype.onEdit = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var id = this.component.context.id;\r\n        this.contextService.update(id, context).subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var translate = _this.languageService.translate;\r\n            /** @type {?} */\r\n            var message = translate.instant('igo.context.contextManager.dialog.saveMsg', {\r\n                value: context.title || _this.component.context.title\r\n            });\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.context.contextManager.dialog.saveTitle');\r\n            _this.messageService.success(message, title);\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextEditBindingDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.editedContext$$ = this.contextService.editedContext$.subscribe((/**\r\n         * @param {?} context\r\n         * @return {?}\r\n         */\r\n        function (context) { return _this.handleEditedContextChange(context); }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextEditBindingDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.editedContext$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextEditBindingDirective.prototype.handleEditedContextChange = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        this.component.context = context;\r\n    };\r\n    ContextEditBindingDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoContextEditBinding]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextEditBindingDirective.ctorParameters = function () { return [\r\n        { type: ContextEditComponent, decorators: [{ type: Self }] },\r\n        { type: ContextService },\r\n        { type: MessageService },\r\n        { type: LanguageService }\r\n    ]; };\r\n    ContextEditBindingDirective.propDecorators = {\r\n        onEdit: [{ type: HostListener, args: ['submitForm', ['$event'],] }]\r\n    };\r\n    return ContextEditBindingDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextPermissionsComponent = /** @class */ (function () {\r\n    function ContextPermissionsComponent(formBuilder) {\r\n        this.formBuilder = formBuilder;\r\n        this.addPermission = new EventEmitter();\r\n        this.removePermission = new EventEmitter();\r\n        this.scopeChanged = new EventEmitter();\r\n    }\r\n    Object.defineProperty(ContextPermissionsComponent.prototype, \"context\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._context;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._context = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextPermissionsComponent.prototype, \"permissions\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._permissions;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._permissions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextPermissionsComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.buildForm();\r\n    };\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    ContextPermissionsComponent.prototype.handleFormSubmit = /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        this.addPermission.emit(value);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ContextPermissionsComponent.prototype.buildForm = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.form = this.formBuilder.group({\r\n            profil: [],\r\n            typePermission: ['read']\r\n        });\r\n    };\r\n    ContextPermissionsComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-context-permissions',\r\n                    template: \"<div *ngIf=\\\"context\\\">\\r\\n\\r\\n  <div class=\\\"scopeForm\\\">\\r\\n    <mat-radio-group [(ngModel)]=\\\"context.scope\\\"\\r\\n                    (change)=\\\"scopeChanged.emit(context)\\\">\\r\\n      <mat-radio-button value=\\\"private\\\">\\r\\n        {{ 'igo.context.permission.scope.private' | translate }}\\r\\n      </mat-radio-button>\\r\\n      <mat-radio-button value=\\\"protected\\\">\\r\\n        {{ 'igo.context.permission.scope.protected' | translate }}\\r\\n      </mat-radio-button>\\r\\n      <mat-radio-button value=\\\"public\\\">\\r\\n        {{ 'igo.context.permission.scope.public' | translate }}\\r\\n      </mat-radio-button>\\r\\n    </mat-radio-group>\\r\\n  </div>\\r\\n\\r\\n  <form *ngIf=\\\"context.scope !== 'private'\\\" [formGroup]=\\\"form\\\"\\r\\n    (ngSubmit)=\\\"handleFormSubmit(form.value)\\\">\\r\\n\\r\\n    <mat-form-field class=\\\"full-width\\\">\\r\\n      <input matInput required\\r\\n             [placeholder]=\\\"'igo.context.permission.profil' | translate\\\"\\r\\n             formControlName=\\\"profil\\\">\\r\\n     <mat-error>\\r\\n       {{ 'igo.context.permission.profilRequired' | translate }}\\r\\n     </mat-error>\\r\\n    </mat-form-field>\\r\\n\\r\\n\\r\\n    <mat-radio-group formControlName=\\\"typePermission\\\">\\r\\n      <mat-radio-button value=\\\"read\\\">\\r\\n        {{ 'igo.context.permission.read' | translate }}\\r\\n      </mat-radio-button>\\r\\n      <mat-radio-button value=\\\"write\\\">\\r\\n        {{ 'igo.context.permission.write' | translate }}\\r\\n      </mat-radio-button>\\r\\n    </mat-radio-group>\\r\\n\\r\\n\\r\\n    <div class=\\\"igo-form-button-group\\\">\\r\\n      <button\\r\\n        mat-raised-button\\r\\n        type=\\\"submit\\\"\\r\\n        [disabled]=\\\"!form.valid\\\">\\r\\n        {{ 'igo.context.permission.addBtn' | translate }}\\r\\n      </button>\\r\\n    </div>\\r\\n\\r\\n  </form>\\r\\n\\r\\n  <igo-list *ngIf=\\\"permissions && context.scope !== 'private'\\\">\\r\\n    <ng-template ngFor let-groupPermissions [ngForOf]=\\\"permissions | keyvalue\\\">\\r\\n      <igo-collapsible\\r\\n        *ngIf=\\\"groupPermissions.value.length\\\"\\r\\n        [title]=\\\"'igo.context.permission.' + groupPermissions.key | translate\\\">\\r\\n\\r\\n        <ng-template ngFor let-permission [ngForOf]=\\\"groupPermissions.value\\\">\\r\\n          <mat-list-item>\\r\\n            <mat-icon mat-list-avatar svgIcon=\\\"account-outline\\\"></mat-icon>\\r\\n            <h4 mat-line>{{permission.profil}}</h4>\\r\\n\\r\\n            <div igoStopPropagation\\r\\n                 class=\\\"igo-actions-container\\\">\\r\\n\\r\\n               <button\\r\\n                 mat-icon-button\\r\\n                 [matTooltip]=\\\"'igo.context.permission.delete' | translate\\\"\\r\\n                 matTooltipShowDelay=\\\"500\\\"\\r\\n                 color=\\\"warn\\\"\\r\\n                 (click)=\\\"removePermission.emit(permission)\\\">\\r\\n                 <mat-icon svgIcon=\\\"delete\\\"></mat-icon>\\r\\n               </button>\\r\\n            </div>\\r\\n\\r\\n          </mat-list-item>\\r\\n        </ng-template>\\r\\n      </igo-collapsible>\\r\\n    </ng-template>\\r\\n  </igo-list>\\r\\n\\r\\n</div>\\r\\n\",\r\n                    styles: [\":host{margin:10px}.full-width{width:100%}mat-radio-button{padding:14px 14px 14px 0}.scopeForm,form{padding:5px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextPermissionsComponent.ctorParameters = function () { return [\r\n        { type: FormBuilder }\r\n    ]; };\r\n    ContextPermissionsComponent.propDecorators = {\r\n        context: [{ type: Input }],\r\n        permissions: [{ type: Input }],\r\n        addPermission: [{ type: Output }],\r\n        removePermission: [{ type: Output }],\r\n        scopeChanged: [{ type: Output }]\r\n    };\r\n    return ContextPermissionsComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextPermissionsBindingDirective = /** @class */ (function () {\r\n    function ContextPermissionsBindingDirective(component, contextService, languageService, messageService) {\r\n        this.contextService = contextService;\r\n        this.languageService = languageService;\r\n        this.messageService = messageService;\r\n        this.component = component;\r\n    }\r\n    /**\r\n     * @param {?} permission\r\n     * @return {?}\r\n     */\r\n    ContextPermissionsBindingDirective.prototype.onAddPermission = /**\r\n     * @param {?} permission\r\n     * @return {?}\r\n     */\r\n    function (permission) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var contextId = this.component.context.id;\r\n        this.contextService\r\n            .addPermissionAssociation(contextId, permission.profil, permission.typePermission)\r\n            .subscribe((/**\r\n         * @param {?} profils\r\n         * @return {?}\r\n         */\r\n        function (profils) {\r\n            var e_1, _a;\r\n            try {\r\n                for (var profils_1 = __values(profils), profils_1_1 = profils_1.next(); !profils_1_1.done; profils_1_1 = profils_1.next()) {\r\n                    var p = profils_1_1.value;\r\n                    _this.component.permissions[permission.typePermission].push(p);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (profils_1_1 && !profils_1_1.done && (_a = profils_1.return)) _a.call(profils_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n            /** @type {?} */\r\n            var profil = permission.profil;\r\n            /** @type {?} */\r\n            var translate = _this.languageService.translate;\r\n            /** @type {?} */\r\n            var message = translate.instant('igo.context.permission.dialog.addMsg', {\r\n                value: profil\r\n            });\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.context.permission.dialog.addTitle');\r\n            _this.messageService.success(message, title);\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} permission\r\n     * @return {?}\r\n     */\r\n    ContextPermissionsBindingDirective.prototype.onRemovePermission = /**\r\n     * @param {?} permission\r\n     * @return {?}\r\n     */\r\n    function (permission) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var contextId = this.component.context.id;\r\n        this.contextService\r\n            .deletePermissionAssociation(contextId, permission.id)\r\n            .subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var index = _this.component.permissions[permission.typePermission].findIndex((/**\r\n             * @param {?} p\r\n             * @return {?}\r\n             */\r\n            function (p) {\r\n                return p.id === permission.id;\r\n            }));\r\n            _this.component.permissions[permission.typePermission].splice(index, 1);\r\n            /** @type {?} */\r\n            var profil = permission.profil;\r\n            /** @type {?} */\r\n            var translate = _this.languageService.translate;\r\n            /** @type {?} */\r\n            var message = translate.instant('igo.context.permission.dialog.deleteMsg', {\r\n                value: profil\r\n            });\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.context.permission.dialog.deleteTitle');\r\n            _this.messageService.success(message, title);\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextPermissionsBindingDirective.prototype.onScopeChanged = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var scope = context.scope;\r\n        this.contextService.update(context.id, { scope: scope }).subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var translate = _this.languageService.translate;\r\n            /** @type {?} */\r\n            var message = translate.instant('igo.context.permission.dialog.scopeChangedMsg', {\r\n                value: translate.instant('igo.context.permission.scope.' + scope)\r\n            });\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.context.permission.dialog.scopeChangedTitle');\r\n            _this.messageService.success(message, title);\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextPermissionsBindingDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.editedContext$$ = this.contextService.editedContext$.subscribe((/**\r\n         * @param {?} context\r\n         * @return {?}\r\n         */\r\n        function (context) { return _this.handleEditedContextChange(context); }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextPermissionsBindingDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.editedContext$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    ContextPermissionsBindingDirective.prototype.handleEditedContextChange = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        this.component.context = context;\r\n        if (context) {\r\n            this.contextService\r\n                .getPermissions(context.id)\r\n                .subscribe((/**\r\n             * @param {?} permissionsArray\r\n             * @return {?}\r\n             */\r\n            function (permissionsArray) {\r\n                permissionsArray = permissionsArray || [];\r\n                /** @type {?} */\r\n                var permissions = {\r\n                    read: permissionsArray.filter((/**\r\n                     * @param {?} p\r\n                     * @return {?}\r\n                     */\r\n                    function (p) {\r\n                        return p.typePermission.toString() === 'read';\r\n                    })),\r\n                    write: permissionsArray.filter((/**\r\n                     * @param {?} p\r\n                     * @return {?}\r\n                     */\r\n                    function (p) {\r\n                        return p.typePermission.toString() === 'write';\r\n                    }))\r\n                };\r\n                return (_this.component.permissions = permissions);\r\n            }));\r\n        }\r\n    };\r\n    ContextPermissionsBindingDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoContextPermissionsBinding]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextPermissionsBindingDirective.ctorParameters = function () { return [\r\n        { type: ContextPermissionsComponent, decorators: [{ type: Self }] },\r\n        { type: ContextService },\r\n        { type: LanguageService },\r\n        { type: MessageService }\r\n    ]; };\r\n    ContextPermissionsBindingDirective.propDecorators = {\r\n        onAddPermission: [{ type: HostListener, args: ['addPermission', ['$event'],] }],\r\n        onRemovePermission: [{ type: HostListener, args: ['removePermission', ['$event'],] }],\r\n        onScopeChanged: [{ type: HostListener, args: ['scopeChanged', ['$event'],] }]\r\n    };\r\n    return ContextPermissionsBindingDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar CONTEXT_DIRECTIVES = [\r\n    MapContextDirective,\r\n    LayerContextDirective\r\n];\r\nvar IgoContextManagerModule = /** @class */ (function () {\r\n    function IgoContextManagerModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoContextManagerModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoContextManagerModule\r\n        };\r\n    };\r\n    IgoContextManagerModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule,\r\n                        MatListModule,\r\n                        MatCheckboxModule,\r\n                        MatRadioModule,\r\n                        IgoAuthModule,\r\n                        IgoListModule,\r\n                        IgoKeyValueModule,\r\n                        IgoCollapsibleModule,\r\n                        IgoStopPropagationModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    exports: __spread([\r\n                        ContextListComponent,\r\n                        ContextListBindingDirective,\r\n                        ContextItemComponent,\r\n                        ContextFormComponent,\r\n                        ContextEditComponent,\r\n                        ContextEditBindingDirective,\r\n                        ContextPermissionsComponent,\r\n                        ContextPermissionsBindingDirective\r\n                    ], CONTEXT_DIRECTIVES),\r\n                    declarations: __spread([\r\n                        ContextListComponent,\r\n                        ContextListBindingDirective,\r\n                        ContextItemComponent,\r\n                        ContextFormComponent,\r\n                        ContextEditComponent,\r\n                        ContextEditBindingDirective,\r\n                        ContextPermissionsComponent,\r\n                        ContextPermissionsBindingDirective\r\n                    ], CONTEXT_DIRECTIVES)\r\n                },] }\r\n    ];\r\n    return IgoContextManagerModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar BookmarkDialogComponent = /** @class */ (function () {\r\n    function BookmarkDialogComponent(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n    }\r\n    BookmarkDialogComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-bookmark-dialog',\r\n                    template: \"<h1 mat-dialog-title>{{ 'igo.context.bookmarkButton.dialog.title' |\\u00A0translate }}</h1>\\r\\n<div mat-dialog-content>\\r\\n  <mat-form-field>\\r\\n    <input matInput required autocomplete=\\\"off\\\"\\r\\n      [placeholder]=\\\"'igo.context.bookmarkButton.dialog.placeholder' |\\u00A0translate\\\"\\r\\n      [(ngModel)]=\\\"title\\\">\\r\\n  </mat-form-field>\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button color=\\\"primary\\\"\\r\\n         [disabled]=\\\"!title\\\"\\r\\n         (click)=\\\"dialogRef.close(title)\\\">\\r\\n    {{'igo.common.confirmDialog.confirmBtn' | translate}}\\r\\n  </button>\\r\\n  <button mat-button\\r\\n          (click)=\\\"dialogRef.close(false)\\\">\\r\\n    {{'igo.common.confirmDialog.cancelBtn' |\\u00A0translate}}\\r\\n  </button>\\r\\n</div>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    BookmarkDialogComponent.ctorParameters = function () { return [\r\n        { type: MatDialogRef }\r\n    ]; };\r\n    return BookmarkDialogComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar BookmarkButtonComponent = /** @class */ (function () {\r\n    function BookmarkButtonComponent(dialog, contextService, languageService, messageService) {\r\n        this.dialog = dialog;\r\n        this.contextService = contextService;\r\n        this.languageService = languageService;\r\n        this.messageService = messageService;\r\n    }\r\n    Object.defineProperty(BookmarkButtonComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BookmarkButtonComponent.prototype, \"color\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._color;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._color = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    BookmarkButtonComponent.prototype.createContext = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.dialog\r\n            .open(BookmarkDialogComponent, { disableClose: false })\r\n            .afterClosed()\r\n            .subscribe((/**\r\n         * @param {?} title\r\n         * @return {?}\r\n         */\r\n        function (title) {\r\n            if (title) {\r\n                /** @type {?} */\r\n                var context_1 = _this.contextService.getContextFromMap(_this.map);\r\n                context_1.title = title;\r\n                _this.contextService.create(context_1).subscribe((/**\r\n                 * @return {?}\r\n                 */\r\n                function () {\r\n                    /** @type {?} */\r\n                    var translate = _this.languageService.translate;\r\n                    /** @type {?} */\r\n                    var titleD = translate.instant('igo.context.bookmarkButton.dialog.createTitle');\r\n                    /** @type {?} */\r\n                    var message = translate.instant('igo.context.bookmarkButton.dialog.createMsg', {\r\n                        value: context_1.title\r\n                    });\r\n                    _this.messageService.success(message, titleD);\r\n                }));\r\n            }\r\n        }));\r\n    };\r\n    BookmarkButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-bookmark-button',\r\n                    template: \"<div class=\\\"igo-bookmark-button-container\\\">\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    [matTooltip]=\\\"'igo.context.bookmarkButton.create' | translate\\\"\\r\\n    matTooltipPosition=\\\"above\\\"\\r\\n    [color]=\\\"color\\\"\\r\\n    (click)=\\\"createContext()\\\">\\r\\n    <mat-icon svgIcon=\\\"bookmark\\\"></mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\",\r\n                    styles: [\".igo-bookmark-button-container{width:40px}.igo-bookmark-button-container button{background-color:#fff}.igo-bookmark-button-container button:hover{background-color:#efefef}:host>>>button .mat-button-ripple-round,button{border-radius:0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    BookmarkButtonComponent.ctorParameters = function () { return [\r\n        { type: MatDialog },\r\n        { type: ContextService },\r\n        { type: LanguageService },\r\n        { type: MessageService }\r\n    ]; };\r\n    BookmarkButtonComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        color: [{ type: Input }]\r\n    };\r\n    return BookmarkButtonComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar PoiService = /** @class */ (function () {\r\n    function PoiService(http, config) {\r\n        this.http = http;\r\n        this.config = config;\r\n        this.baseUrl = this.config.getConfig('context.url');\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    PoiService.prototype.get = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (!this.baseUrl) {\r\n            return EMPTY;\r\n        }\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/pois';\r\n        return this.http.get(url);\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    PoiService.prototype.delete = /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/pois/' + id;\r\n        return this.http.delete(url);\r\n    };\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    PoiService.prototype.create = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        /** @type {?} */\r\n        var url = this.baseUrl + '/pois';\r\n        return this.http.post(url, JSON.stringify(context));\r\n    };\r\n    PoiService.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    PoiService.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: ConfigService }\r\n    ]; };\r\n    return PoiService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar PoiDialogComponent = /** @class */ (function () {\r\n    function PoiDialogComponent(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n    }\r\n    PoiDialogComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-poi-dialog',\r\n                    template: \"<h1 mat-dialog-title>{{ 'igo.context.poiButton.dialog.title' | translate }}</h1>\\r\\n<div mat-dialog-content>\\r\\n  <mat-form-field>\\r\\n    <input matInput required autocomplete=\\\"off\\\"\\r\\n      [placeholder]=\\\"'igo.context.poiButton.dialog.placeholder' | translate\\\"\\r\\n      [(ngModel)]=\\\"title\\\">\\r\\n  </mat-form-field>\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button color=\\\"primary\\\"\\r\\n         [disabled]=\\\"!title\\\"\\r\\n         (click)=\\\"dialogRef.close(title)\\\">\\r\\n    {{'igo.common.confirmDialog.confirmBtn' | translate}}\\r\\n  </button>\\r\\n  <button mat-button\\r\\n          (click)=\\\"dialogRef.close(false)\\\">\\r\\n    {{'igo.common.confirmDialog.cancelBtn' |\\u00A0translate}}\\r\\n  </button>\\r\\n</div>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    PoiDialogComponent.ctorParameters = function () { return [\r\n        { type: MatDialogRef }\r\n    ]; };\r\n    return PoiDialogComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar PoiButtonComponent = /** @class */ (function () {\r\n    function PoiButtonComponent(dialog, authService, poiService, messageService, languageService, confirmDialogService) {\r\n        this.dialog = dialog;\r\n        this.authService = authService;\r\n        this.poiService = poiService;\r\n        this.messageService = messageService;\r\n        this.languageService = languageService;\r\n        this.confirmDialogService = confirmDialogService;\r\n    }\r\n    Object.defineProperty(PoiButtonComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PoiButtonComponent.prototype, \"color\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._color;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._color = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    PoiButtonComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.authenticate$$ = this.authService.authenticate$.subscribe((/**\r\n         * @param {?} auth\r\n         * @return {?}\r\n         */\r\n        function (auth) {\r\n            if (auth) {\r\n                _this.getPois();\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    PoiButtonComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.authenticate$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @param {?} poi\r\n     * @return {?}\r\n     */\r\n    PoiButtonComponent.prototype.deletePoi = /**\r\n     * @param {?} poi\r\n     * @return {?}\r\n     */\r\n    function (poi) {\r\n        var _this = this;\r\n        if (poi && poi.id) {\r\n            /** @type {?} */\r\n            var translate_1 = this.languageService.translate;\r\n            this.confirmDialogService\r\n                .open(translate_1.instant('igo.context.poiButton.dialog.confirmDelete'))\r\n                .subscribe((/**\r\n             * @param {?} confirm\r\n             * @return {?}\r\n             */\r\n            function (confirm) {\r\n                if (confirm) {\r\n                    _this.poiService.delete(poi.id).subscribe((/**\r\n                     * @return {?}\r\n                     */\r\n                    function () {\r\n                        /** @type {?} */\r\n                        var title = translate_1.instant('igo.context.poiButton.dialog.deleteTitle');\r\n                        /** @type {?} */\r\n                        var message = translate_1.instant('igo.context.poiButton.dialog.deleteMsg', {\r\n                            value: poi.title\r\n                        });\r\n                        _this.messageService.info(message, title);\r\n                        _this.pois = _this.pois.filter((/**\r\n                         * @param {?} p\r\n                         * @return {?}\r\n                         */\r\n                        function (p) { return p.id !== poi.id; }));\r\n                    }), (/**\r\n                     * @param {?} err\r\n                     * @return {?}\r\n                     */\r\n                    function (err) {\r\n                        err.error.title = 'DELETE Pois';\r\n                        _this.messageService.showError(err);\r\n                    }));\r\n                }\r\n            }));\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    PoiButtonComponent.prototype.getPois = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.poiService.get().subscribe((/**\r\n         * @param {?} rep\r\n         * @return {?}\r\n         */\r\n        function (rep) {\r\n            _this.pois = rep;\r\n        }), (/**\r\n         * @param {?} err\r\n         * @return {?}\r\n         */\r\n        function (err) {\r\n            err.error.title = 'GET Pois';\r\n            _this.messageService.showError(err);\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    PoiButtonComponent.prototype.createPoi = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var view = this.map.ol.getView();\r\n        /** @type {?} */\r\n        var proj = view.getProjection().getCode();\r\n        /** @type {?} */\r\n        var center = new olPoint(view.getCenter()).transform(proj, 'EPSG:4326');\r\n        /** @type {?} */\r\n        var poi = {\r\n            title: '',\r\n            x: center.getCoordinates()[0],\r\n            y: center.getCoordinates()[1],\r\n            zoom: view.getZoom()\r\n        };\r\n        this.dialog\r\n            .open(PoiDialogComponent, { disableClose: false })\r\n            .afterClosed()\r\n            .subscribe((/**\r\n         * @param {?} title\r\n         * @return {?}\r\n         */\r\n        function (title) {\r\n            if (title) {\r\n                poi.title = title;\r\n                _this.poiService.create(poi).subscribe((/**\r\n                 * @param {?} newPoi\r\n                 * @return {?}\r\n                 */\r\n                function (newPoi) {\r\n                    /** @type {?} */\r\n                    var translate = _this.languageService.translate;\r\n                    /** @type {?} */\r\n                    var titleD = translate.instant('igo.context.poiButton.dialog.createTitle');\r\n                    /** @type {?} */\r\n                    var message = translate.instant('igo.context.poiButton.dialog.createMsg', {\r\n                        value: poi.title\r\n                    });\r\n                    _this.messageService.success(message, titleD);\r\n                    poi.id = newPoi.id;\r\n                    _this.pois.push(poi);\r\n                }), (/**\r\n                 * @param {?} err\r\n                 * @return {?}\r\n                 */\r\n                function (err) {\r\n                    err.error.title = 'POST Pois';\r\n                    _this.messageService.showError(err);\r\n                }));\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    PoiButtonComponent.prototype.zoomOnPoi = /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        /** @type {?} */\r\n        var poi = this.pois.find((/**\r\n         * @param {?} p\r\n         * @return {?}\r\n         */\r\n        function (p) { return p.id === id; }));\r\n        /** @type {?} */\r\n        var center = fromLonLat([Number(poi.x), Number(poi.y)], this.map.projection);\r\n        this.map.ol.getView().animate({\r\n            center: center,\r\n            zoom: poi.zoom,\r\n            duration: 500,\r\n            easing: easeOut\r\n        });\r\n    };\r\n    PoiButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-poi-button',\r\n                    template: \"<mat-select [placeholder]=\\\"'igo.context.poiButton.placeholder' |\\u00A0translate\\\"\\r\\n           floatPlaceholder=\\\"never\\\">\\r\\n\\r\\n  <mat-option (click)=\\\"createPoi()\\\">\\r\\n    <div class=\\\"titlePoi\\\">{{ 'igo.context.poiButton.create' |\\u00A0translate }}</div>\\r\\n    <button igoStopPropagation class=\\\"addPoi buttonPoi\\\"\\r\\n      mat-icon-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"createPoi()\\\">\\r\\n      <mat-icon svgIcon=\\\"plus-circle\\\"></mat-icon>\\r\\n    </button>\\r\\n  </mat-option>\\r\\n  <mat-option *ngFor=\\\"let poi of pois\\\" [value]=\\\"poi.id\\\" (click)=\\\"zoomOnPoi(poi.id)\\\">\\r\\n    <div class=\\\"titlePoi\\\">{{ poi.title }}</div>\\r\\n    <button igoStopPropagation class=\\\"deletePoi buttonPoi\\\"\\r\\n      mat-icon-button\\r\\n      color=\\\"warn\\\"\\r\\n      (click)=\\\"deletePoi(poi)\\\">\\r\\n      <mat-icon svgIcon=\\\"delete\\\"></mat-icon>\\r\\n    </button>\\r\\n  </mat-option>\\r\\n</mat-select>\\r\\n\",\r\n                    styles: [\"mat-select{width:150px;background-color:#fff;height:40px;padding-top:0}mat-select>>>.mat-select-trigger{height:40px}mat-select>>>.mat-select-placeholder,mat-select>>>.mat-select-value-text{padding:5px;top:12px;position:relative}.mat-option{text-overflow:inherit}.titlePoi{max-width:135px;overflow:hidden;text-overflow:ellipsis;float:left}.buttonPoi{float:right;margin:4px -10px 4px 0}.buttonPoi>>>.mat-icon{margin:0 8px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    PoiButtonComponent.ctorParameters = function () { return [\r\n        { type: MatDialog },\r\n        { type: AuthService },\r\n        { type: PoiService },\r\n        { type: MessageService },\r\n        { type: LanguageService },\r\n        { type: ConfirmDialogService }\r\n    ]; };\r\n    PoiButtonComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        color: [{ type: Input }]\r\n    };\r\n    return PoiButtonComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar UserDialogComponent = /** @class */ (function () {\r\n    function UserDialogComponent(dialogRef, auth) {\r\n        this.dialogRef = dialogRef;\r\n        this.auth = auth;\r\n        /** @type {?} */\r\n        var decodeToken = this.auth.decodeToken();\r\n        this.user = decodeToken.user;\r\n        this.exp = new Date(decodeToken.exp * 1000).toLocaleString();\r\n    }\r\n    UserDialogComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-user-dialog',\r\n                    template: \"<h1 mat-dialog-title>{{'igo.context.userButton.infoTitle' | translate}}</h1>\\r\\n<div mat-dialog-content>\\r\\n  <p>{{'igo.context.userButton.dialog.user' | translate}}: {{user.sourceId}}</p>\\r\\n  <p>{{'igo.context.userButton.dialog.email' | translate}}: {{user.email}}</p>\\r\\n  <p>{{'igo.context.userButton.dialog.expiration' | translate}}: {{exp}}</p>\\r\\n</div>\\r\\n<div mat-dialog-actions style=\\\"justify-content: center\\\">\\r\\n  <button mat-button color=\\\"primary\\\"\\r\\n         (click)=\\\"dialogRef.close(false)\\\">\\r\\n    OK\\r\\n  </button>\\r\\n</div>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    UserDialogComponent.ctorParameters = function () { return [\r\n        { type: MatDialogRef },\r\n        { type: AuthService }\r\n    ]; };\r\n    return UserDialogComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @return {?}\r\n */\r\nfunction userButtonSlideInOut() {\r\n    return trigger('userButtonState', [\r\n        state('collapse', style({\r\n            width: '0',\r\n            overflow: 'hidden',\r\n            display: 'none'\r\n        })),\r\n        state('expand', style({\r\n            overflow: 'hidden',\r\n            display: 'display'\r\n        })),\r\n        transition('collapse => expand', animate('200ms')),\r\n        transition('expand => collapse', animate('200ms'))\r\n    ]);\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar UserButtonComponent = /** @class */ (function () {\r\n    function UserButtonComponent(dialog, config, auth) {\r\n        this.dialog = dialog;\r\n        this.config = config;\r\n        this.auth = auth;\r\n        this.expand = false;\r\n        this.visible = false;\r\n        this.visible = this.config.getConfig('auth') ? true : false;\r\n    }\r\n    Object.defineProperty(UserButtonComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserButtonComponent.prototype, \"color\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._color;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._color = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    UserButtonComponent.prototype.accountClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.auth.authenticated) {\r\n            this.expand = !this.expand;\r\n        }\r\n        else {\r\n            this.auth.logout();\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    UserButtonComponent.prototype.logout = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.expand = false;\r\n        this.auth.logout();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    UserButtonComponent.prototype.infoUser = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.dialog.open(UserDialogComponent, { disableClose: false });\r\n    };\r\n    UserButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-user-button',\r\n                    template: \"<div *ngIf=\\\"visible\\\" class=\\\"igo-user-button-container\\\">\\r\\n  <div class=\\\"igo-user-button-more-container\\\" [@userButtonState]=\\\"expand ? 'expand' : 'collapse'\\\">\\r\\n\\r\\n    <igo-poi-button [color]=\\\"color\\\" [map]=\\\"map\\\"></igo-poi-button>\\r\\n    <igo-bookmark-button [color]=\\\"color\\\" [map]=\\\"map\\\"></igo-bookmark-button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      [matTooltip]=\\\"'igo.context.userButton.infoTitle' | translate\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      [color]=\\\"color\\\"\\r\\n      (click)=\\\"infoUser()\\\">\\r\\n      <mat-icon svgIcon=\\\"information-outline\\\"></mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      [matTooltip]=\\\"'igo.context.userButton.logout' |\\u00A0translate\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      [color]=\\\"color\\\"\\r\\n      (click)=\\\"logout()\\\">\\r\\n      <mat-icon svgIcon=\\\"power\\\"></mat-icon>\\r\\n    </button>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    [color]=\\\"auth.authenticated ? color : 'warn'\\\"\\r\\n    (click)=\\\"accountClick()\\\">\\r\\n    <mat-icon svgIcon=\\\"account-box\\\"></mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\",\r\n                    animations: [userButtonSlideInOut()],\r\n                    styles: [\".igo-user-button-container button{background-color:#fff}.igo-user-button-container button:hover{background-color:#efefef}.igo-user-button-more-container{float:left;height:40px}.igo-user-button-more-container>*{margin-right:2px;float:left}@media only screen and (max-width:450px),only screen and (max-height:450px){.igo-user-button-container>button{position:absolute;bottom:0}.igo-user-button-more-container{height:80px;width:150px;position:relative;left:24px}}:host>>>button .mat-button-ripple-round,button{border-radius:0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    UserButtonComponent.ctorParameters = function () { return [\r\n        { type: MatDialog },\r\n        { type: ConfigService },\r\n        { type: AuthService }\r\n    ]; };\r\n    UserButtonComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        color: [{ type: Input }]\r\n    };\r\n    return UserButtonComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoContextMapButtonModule = /** @class */ (function () {\r\n    function IgoContextMapButtonModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoContextMapButtonModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoContextMapButtonModule\r\n        };\r\n    };\r\n    IgoContextMapButtonModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoLanguageModule,\r\n                        IgoConfirmDialogModule,\r\n                        IgoStopPropagationModule,\r\n                        IgoAuthModule,\r\n                        FormsModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatSelectModule,\r\n                        MatOptionModule,\r\n                        MatTooltipModule,\r\n                        MatFormFieldModule,\r\n                        MatDialogModule,\r\n                        MatInputModule\r\n                    ],\r\n                    exports: [BookmarkButtonComponent, PoiButtonComponent, UserButtonComponent],\r\n                    declarations: [\r\n                        BookmarkButtonComponent,\r\n                        BookmarkDialogComponent,\r\n                        PoiButtonComponent,\r\n                        PoiDialogComponent,\r\n                        UserButtonComponent,\r\n                        UserDialogComponent\r\n                    ],\r\n                    entryComponents: [\r\n                        BookmarkDialogComponent,\r\n                        PoiDialogComponent,\r\n                        UserDialogComponent\r\n                    ],\r\n                    providers: [PoiService]\r\n                },] }\r\n    ];\r\n    return IgoContextMapButtonModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ShareMapService = /** @class */ (function () {\r\n    function ShareMapService(config, contextService, messageService, routingFormService, route) {\r\n        this.config = config;\r\n        this.contextService = contextService;\r\n        this.messageService = messageService;\r\n        this.routingFormService = routingFormService;\r\n        this.route = route;\r\n        this.apiUrl = this.config.getConfig('context.url');\r\n    }\r\n    /**\r\n     * @param {?} map\r\n     * @param {?} formValues\r\n     * @param {?} publicShareOption\r\n     * @return {?}\r\n     */\r\n    ShareMapService.prototype.getUrl = /**\r\n     * @param {?} map\r\n     * @param {?} formValues\r\n     * @param {?} publicShareOption\r\n     * @return {?}\r\n     */\r\n    function (map$$1, formValues, publicShareOption) {\r\n        if (this.apiUrl) {\r\n            return this.getUrlWithApi(map$$1, formValues);\r\n        }\r\n        return this.getUrlWithoutApi(map$$1, publicShareOption);\r\n    };\r\n    /**\r\n     * @param {?} map\r\n     * @param {?} formValues\r\n     * @return {?}\r\n     */\r\n    ShareMapService.prototype.getUrlWithApi = /**\r\n     * @param {?} map\r\n     * @param {?} formValues\r\n     * @return {?}\r\n     */\r\n    function (map$$1, formValues) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var context = this.contextService.getContextFromMap(map$$1);\r\n        context.scope = 'public';\r\n        context.title = formValues.title;\r\n        context.uri = formValues.uri;\r\n        this.contextService.create(context).subscribe((/**\r\n         * @param {?} rep\r\n         * @return {?}\r\n         */\r\n        function (rep) { }), (/**\r\n         * @param {?} err\r\n         * @return {?}\r\n         */\r\n        function (err) {\r\n            err.error.title = 'Share Map';\r\n            _this.messageService.showError(err);\r\n        }));\r\n        return location.origin + location.pathname + \"?context=\" + formValues.uri;\r\n    };\r\n    /**\r\n     * @param {?} map\r\n     * @param {?} publicShareOption\r\n     * @return {?}\r\n     */\r\n    ShareMapService.prototype.getUrlWithoutApi = /**\r\n     * @param {?} map\r\n     * @param {?} publicShareOption\r\n     * @return {?}\r\n     */\r\n    function (map$$1, publicShareOption) {\r\n        var e_1, _a;\r\n        if (!this.route ||\r\n            !this.route.options.visibleOnLayersKey ||\r\n            !this.route.options.visibleOffLayersKey ||\r\n            !map$$1.viewController.getZoom()) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var llc = publicShareOption.layerlistControls.querystring;\r\n        /** @type {?} */\r\n        var visibleKey = this.route.options.visibleOnLayersKey;\r\n        /** @type {?} */\r\n        var invisibleKey = this.route.options.visibleOffLayersKey;\r\n        /** @type {?} */\r\n        var layers = map$$1.layers;\r\n        /** @type {?} */\r\n        var routingKey = this.route.options.routingCoordKey;\r\n        /** @type {?} */\r\n        var stopsCoordinates = [];\r\n        if (this.routingFormService &&\r\n            this.routingFormService.getStopsCoordinates() &&\r\n            this.routingFormService.getStopsCoordinates().length !== 0) {\r\n            this.routingFormService.getStopsCoordinates().forEach((/**\r\n             * @param {?} coord\r\n             * @return {?}\r\n             */\r\n            function (coord) {\r\n                stopsCoordinates.push(coord);\r\n            }));\r\n        }\r\n        /** @type {?} */\r\n        var routingUrl = '';\r\n        if (stopsCoordinates.length >= 2) {\r\n            routingUrl = routingKey + \"=\" + stopsCoordinates.join(';');\r\n        }\r\n        /** @type {?} */\r\n        var visibleLayers = layers.filter((/**\r\n         * @param {?} lay\r\n         * @return {?}\r\n         */\r\n        function (lay) { return lay.visible; }));\r\n        /** @type {?} */\r\n        var invisibleLayers = layers.filter((/**\r\n         * @param {?} lay\r\n         * @return {?}\r\n         */\r\n        function (lay) { return !lay.visible; }));\r\n        if (visibleLayers.length === 0) {\r\n            visibleKey = '';\r\n        }\r\n        if (invisibleLayers.length === 0) {\r\n            invisibleKey = '';\r\n        }\r\n        /** @type {?} */\r\n        var layersUrl = '';\r\n        /** @type {?} */\r\n        var layersToLoop = [];\r\n        if (visibleLayers.length > invisibleLayers.length) {\r\n            layersUrl = visibleKey + \"=*&\" + invisibleKey + \"=\";\r\n            layersToLoop = invisibleLayers;\r\n        }\r\n        else {\r\n            layersUrl = invisibleKey + \"=*&\" + visibleKey + \"=\";\r\n            layersToLoop = visibleLayers;\r\n        }\r\n        try {\r\n            for (var layersToLoop_1 = __values(layersToLoop), layersToLoop_1_1 = layersToLoop_1.next(); !layersToLoop_1_1.done; layersToLoop_1_1 = layersToLoop_1.next()) {\r\n                var layer = layersToLoop_1_1.value;\r\n                if (layer.id) {\r\n                    layersUrl += layer.id + ',';\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (layersToLoop_1_1 && !layersToLoop_1_1.done && (_a = layersToLoop_1.return)) _a.call(layersToLoop_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        layersUrl = layersUrl.substr(0, layersUrl.length - 1);\r\n        /** @type {?} */\r\n        var zoom = 'zoom=' + map$$1.viewController.getZoom();\r\n        /** @type {?} */\r\n        var arrayCenter = map$$1.viewController.getCenter('EPSG:4326') || [];\r\n        /** @type {?} */\r\n        var long = arrayCenter[0].toFixed(5).replace(/\\.([^0]+)0+$/, '.$1');\r\n        /** @type {?} */\r\n        var lat = arrayCenter[1].toFixed(5).replace(/\\.([^0]+)0+$/, '.$1');\r\n        /** @type {?} */\r\n        var center = (\"center=\" + long + \",\" + lat).replace(/.00000/g, '');\r\n        /** @type {?} */\r\n        var context = '';\r\n        if (this.contextService.context$.value) {\r\n            if (this.contextService.context$.value.uri !== '_default') {\r\n                context = 'context=' + this.contextService.context$.value.uri;\r\n            }\r\n            if (this.contextService.context$.value.map.view.zoom) {\r\n                zoom =\r\n                    this.contextService.context$.value.map.view.zoom ===\r\n                        map$$1.viewController.getZoom()\r\n                        ? ''\r\n                        : 'zoom=' + map$$1.viewController.getZoom();\r\n            }\r\n        }\r\n        /** @type {?} */\r\n        var url = \"\" + location.origin + location.pathname + \"?\" + context + \"&\" + zoom + \"&\" + center + \"&\" + layersUrl + \"&\" + llc + \"&\" + routingUrl;\r\n        for (var i = 0; i < 5; i++) {\r\n            url = url.replace(/&&/g, '&');\r\n            url = url.endsWith('&') ? url.slice(0, -1) : url;\r\n        }\r\n        url = url.endsWith('&') ? url.slice(0, -1) : url;\r\n        url = url.replace('?&', '?');\r\n        return url;\r\n    };\r\n    ShareMapService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ShareMapService.ctorParameters = function () { return [\r\n        { type: ConfigService },\r\n        { type: ContextService },\r\n        { type: MessageService },\r\n        { type: RoutingFormService, decorators: [{ type: Optional }] },\r\n        { type: RouteService, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    /** @nocollapse */ ShareMapService.ngInjectableDef = defineInjectable({ factory: function ShareMapService_Factory() { return new ShareMapService(inject(ConfigService), inject(ContextService), inject(MessageService), inject(RoutingFormService, 8), inject(RouteService, 8)); }, token: ShareMapService, providedIn: \"root\" });\r\n    return ShareMapService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ShareMapComponent = /** @class */ (function () {\r\n    function ShareMapComponent(config, languageService, messageService, auth, shareMapService, formBuilder, layerListService) {\r\n        this.config = config;\r\n        this.languageService = languageService;\r\n        this.messageService = messageService;\r\n        this.auth = auth;\r\n        this.shareMapService = shareMapService;\r\n        this.formBuilder = formBuilder;\r\n        this.layerListService = layerListService;\r\n        this._hasShareMapButton = true;\r\n        this._hasCopyLinkButton = false;\r\n        this.hasApi = false;\r\n        this.publicShareOption = {\r\n            layerlistControls: { querystring: '' }\r\n        };\r\n        this.hasApi = this.config.getConfig('context.url') ? true : false;\r\n    }\r\n    Object.defineProperty(ShareMapComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ShareMapComponent.prototype, \"hasShareMapButton\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._hasShareMapButton;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._hasShareMapButton = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ShareMapComponent.prototype, \"hasCopyLinkButton\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._hasCopyLinkButton;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._hasCopyLinkButton = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ShareMapComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.auth.authenticate$.subscribe((/**\r\n         * @param {?} auth\r\n         * @return {?}\r\n         */\r\n        function (auth) {\r\n            /** @type {?} */\r\n            var decodeToken = _this.auth.decodeToken();\r\n            _this.userId = decodeToken.user ? decodeToken.user.id : undefined;\r\n            _this.url = undefined;\r\n            _this.buildForm();\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ShareMapComponent.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (!this.hasApi) {\r\n            this.resetUrl();\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ShareMapComponent.prototype.hasLayerListControls = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.layerListService.keyword || this.layerListService.sortedAlpha ||\r\n            this.layerListService.onlyVisible || this.layerListService.onlyInRange) {\r\n            this.publicShareOption.layerlistControls.querystring = '';\r\n            if (this.layerListService.keyword) {\r\n                this.publicShareOption.layerlistControls.querystring += '&llck=' + this.layerListService.keyword;\r\n            }\r\n            if (this.layerListService.sortedAlpha) {\r\n                this.publicShareOption.layerlistControls.querystring += '&llca=1';\r\n            }\r\n            if (this.layerListService.onlyVisible) {\r\n                this.publicShareOption.layerlistControls.querystring += '&llcv=1';\r\n            }\r\n            if (this.layerListService.onlyInRange) {\r\n                this.publicShareOption.layerlistControls.querystring += '&llcr=1';\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * @param {?=} values\r\n     * @return {?}\r\n     */\r\n    ShareMapComponent.prototype.resetUrl = /**\r\n     * @param {?=} values\r\n     * @return {?}\r\n     */\r\n    function (values) {\r\n        if (values === void 0) { values = {}; }\r\n        this.hasLayerListControls();\r\n        /** @type {?} */\r\n        var inputs = Object.assign({}, values);\r\n        inputs.uri = this.userId ? this.userId + \"-\" + values.uri : values.uri;\r\n        this.url = this.shareMapService.getUrl(this.map, inputs, this.publicShareOption);\r\n    };\r\n    /**\r\n     * @param {?} textArea\r\n     * @return {?}\r\n     */\r\n    ShareMapComponent.prototype.copyTextToClipboard = /**\r\n     * @param {?} textArea\r\n     * @return {?}\r\n     */\r\n    function (textArea) {\r\n        /** @type {?} */\r\n        var successful = Clipboard.copy(textArea);\r\n        if (successful) {\r\n            /** @type {?} */\r\n            var translate = this.languageService.translate;\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.context.shareMap.dialog.copyTitle');\r\n            /** @type {?} */\r\n            var msg = translate.instant('igo.context.shareMap.dialog.copyMsg');\r\n            this.messageService.success(msg, title);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ShareMapComponent.prototype.buildForm = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var id = uuid();\r\n        /** @type {?} */\r\n        var title = 'Partage ';\r\n        title += this.userId ? \"(\" + this.userId + \"-\" + id + \")\" : \"(\" + id + \")\";\r\n        this.form = this.formBuilder.group({\r\n            title: [title],\r\n            uri: [id]\r\n        });\r\n    };\r\n    ShareMapComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-share-map',\r\n                    template: \"<form class=\\\"igo-form\\\" [formGroup]=\\\"form\\\"\\r\\n  (ngSubmit)=\\\"resetUrl(form.value)\\\">\\r\\n\\r\\n  <div *ngIf=\\\"hasApi\\\" class=\\\"igo-input-container\\\">\\r\\n    <mat-form-field>\\r\\n      <input matInput required\\r\\n             [placeholder]=\\\"'igo.context.contextManager.form.title' | translate\\\"\\r\\n             formControlName=\\\"title\\\">\\r\\n     <mat-error>\\r\\n      {{ 'igo.context.contextManager.form.titleRequired' | translate }}\\r\\n     </mat-error>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"hasApi\\\" id=\\\"uriInput\\\" class=\\\"igo-input-container\\\">\\r\\n    <mat-form-field>\\r\\n      <span *ngIf=\\\"userId\\\" class=\\\"prefix\\\">{{userId}}-</span>\\r\\n      <span class=\\\"fieldWrapper\\\">\\r\\n        <input matInput required\\r\\n             [readonly]=\\\"!userId\\\"\\r\\n             [placeholder]=\\\"'igo.context.contextManager.form.uri' | translate\\\"\\r\\n             formControlName=\\\"uri\\\">\\r\\n       </span>\\r\\n     <mat-error>\\r\\n      {{ 'igo.context.contextManager.form.uriRequired' | translate }}\\r\\n     </mat-error>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"hasShareMapButton\\\" class=\\\"igo-form-button-group\\\">\\r\\n    <button\\r\\n      mat-raised-button\\r\\n      type=\\\"submit\\\"\\r\\n      [disabled]=\\\"!form.valid\\\">\\r\\n      {{ 'igo.context.shareMap.button' | translate }}\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n</form>\\r\\n\\r\\n<div *ngIf=\\\"url\\\" class=\\\"igo-input-container linkToShare\\\">\\r\\n  <mat-form-field>\\r\\n    <textarea #textArea matInput readonly rows=\\\"1\\\"\\r\\n      [placeholder]=\\\"'igo.context.shareMap.placeholderLink' | translate\\\"\\r\\n      [value]=\\\"url\\\"></textarea>\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      tooltip-position=\\\"below\\\"\\r\\n      matTooltipShowDelay=\\\"500\\\"\\r\\n      [matTooltip]=\\\"'igo.context.shareMap.copy' | translate\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"copyTextToClipboard(textArea)\\\">\\r\\n      <mat-icon svgIcon=\\\"content-copy\\\"></mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <div *ngIf=\\\"hasCopyLinkButton\\\" class=\\\"igo-form-button-group\\\">\\r\\n    <button\\r\\n      mat-raised-button\\r\\n      (click)=\\\"copyTextToClipboard(textArea)\\\">\\r\\n      <mat-icon svgIcon=\\\"content-copy\\\"></mat-icon>\\r\\n      {{ 'igo.context.shareMap.copy' | translate }}\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\",\r\n                    styles: [\"@charset \\\"UTF-8\\\";mat-form-field{width:100%}#uriInput .fieldWrapper{display:block;overflow:hidden}#uriInput .prefix{float:left}.linkToShare{padding:25px 5px 5px}.linkToShare textarea{resize:none;width:calc(100% - 60px);line-height:1.3;height:40px;overflow-y:hidden;word-wrap:normal;word-break:break-all}.linkToShare mat-form-field>button{float:right;margin:-10px 0}.igo-form{padding:20px 5px 5px}.igo-form-button-group{text-align:center;padding-top:10px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ShareMapComponent.ctorParameters = function () { return [\r\n        { type: ConfigService },\r\n        { type: LanguageService },\r\n        { type: MessageService },\r\n        { type: AuthService },\r\n        { type: ShareMapService },\r\n        { type: FormBuilder },\r\n        { type: LayerListService }\r\n    ]; };\r\n    ShareMapComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        hasShareMapButton: [{ type: Input }],\r\n        hasCopyLinkButton: [{ type: Input }]\r\n    };\r\n    return ShareMapComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ShareMapBindingDirective = /** @class */ (function () {\r\n    function ShareMapBindingDirective(component, layerListService, route) {\r\n        this.layerListService = layerListService;\r\n        this.route = route;\r\n        this.component = component;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ShareMapBindingDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.initRoutes();\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ShareMapBindingDirective.prototype.initRoutes = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.route &&\r\n            (this.route.options.llcKKey || this.route.options.llcAKey ||\r\n                this.route.options.llcVKey || this.route.options.llcVKey)) {\r\n            this.route.queryParams.subscribe((/**\r\n             * @param {?} params\r\n             * @return {?}\r\n             */\r\n            function (params) {\r\n                /** @type {?} */\r\n                var keywordFromUrl = params[(/** @type {?} */ (_this.route.options.llcKKey))];\r\n                /** @type {?} */\r\n                var sortedAplhaFromUrl = params[(/** @type {?} */ (_this.route.options.llcAKey))];\r\n                /** @type {?} */\r\n                var onlyVisibleFromUrl = params[(/** @type {?} */ (_this.route.options.llcVKey))];\r\n                /** @type {?} */\r\n                var onlyInRangeFromUrl = params[(/** @type {?} */ (_this.route.options.llcRKey))];\r\n                if (keywordFromUrl && !_this.layerListService.keywordInitialized) {\r\n                    _this.layerListService.keyword = keywordFromUrl;\r\n                    _this.layerListService.keywordInitialized = true;\r\n                }\r\n                if (sortedAplhaFromUrl && !_this.layerListService.sortedAlphaInitialized) {\r\n                    _this.layerListService.sortedAlpha = sortedAplhaFromUrl === '1' ? true : false;\r\n                    _this.layerListService.sortedAlphaInitialized = true;\r\n                }\r\n                if (onlyVisibleFromUrl && !_this.layerListService.onlyVisibleInitialized) {\r\n                    _this.layerListService.onlyVisible = onlyVisibleFromUrl === '1' ? true : false;\r\n                    _this.layerListService.onlyVisibleInitialized = true;\r\n                }\r\n                if (onlyInRangeFromUrl && !_this.layerListService.onlyInRangeInitialized) {\r\n                    _this.layerListService.onlyInRange = onlyInRangeFromUrl === '1' ? true : false;\r\n                    _this.layerListService.onlyInRangeInitialized = true;\r\n                }\r\n                if (!_this.component.hasApi) {\r\n                    _this.component.resetUrl();\r\n                }\r\n            }));\r\n        }\r\n    };\r\n    ShareMapBindingDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoShareMapBinding]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ShareMapBindingDirective.ctorParameters = function () { return [\r\n        { type: ShareMapComponent, decorators: [{ type: Self }] },\r\n        { type: LayerListService },\r\n        { type: RouteService, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    return ShareMapBindingDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoShareMapModule = /** @class */ (function () {\r\n    function IgoShareMapModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoShareMapModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoShareMapModule\r\n        };\r\n    };\r\n    IgoShareMapModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        MatIconModule,\r\n                        MatTooltipModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatButtonModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    exports: [ShareMapComponent, ShareMapBindingDirective],\r\n                    declarations: [ShareMapComponent, ShareMapBindingDirective]\r\n                },] }\r\n    ];\r\n    return IgoShareMapModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar SidenavComponent = /** @class */ (function () {\r\n    function SidenavComponent(titleService) {\r\n        this.titleService = titleService;\r\n        this.format = new olFormatGeoJSON();\r\n        this._title = this.titleService.getTitle();\r\n        this.topPanelState = 'initial';\r\n    }\r\n    Object.defineProperty(SidenavComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SidenavComponent.prototype, \"opened\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._opened;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._opened = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SidenavComponent.prototype, \"feature\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._feature;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._feature = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SidenavComponent.prototype, \"tool\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._tool;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._tool = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SidenavComponent.prototype, \"media\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._media;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._media = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SidenavComponent.prototype, \"title\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._title;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            if (value) {\r\n                this._title = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SidenavComponent.prototype, \"featureTitle\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.feature ? getEntityTitle(this.feature) : undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SidenavComponent.prototype.zoomToFeatureExtent = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.feature.geometry) {\r\n            /** @type {?} */\r\n            var olFeature = this.format.readFeature(this.feature, {\r\n                dataProjection: this.feature.projection,\r\n                featureProjection: this.map.projection\r\n            });\r\n            moveToOlFeatures(this.map, [olFeature], FeatureMotion.Zoom);\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SidenavComponent.prototype.toggleTopPanel = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.topPanelState === 'initial') {\r\n            this.topPanelState = 'expanded';\r\n        }\r\n        else {\r\n            this.topPanelState = 'initial';\r\n        }\r\n    };\r\n    SidenavComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-sidenav',\r\n                    template: \"<mat-sidenav\\r\\n  #sidenav\\r\\n  igoSidenavShim\\r\\n  mode=\\\"side\\\"\\r\\n  [opened]=\\\"opened\\\">\\r\\n\\r\\n  <div class=\\\"igo-sidenav-content\\\">\\r\\n\\r\\n    <igo-flexible\\r\\n      #topPanel\\r\\n      initial=\\\"50%\\\" initialMobile=\\\"100%\\\"\\r\\n      expanded=\\\"calc(100% - 58px)\\\"\\r\\n      [state]=\\\"topPanelState\\\">\\r\\n\\r\\n      <div class=\\\"igo-content\\\">\\r\\n        <igo-panel [title]=\\\"tool ? (tool.title | translate) : title\\\">\\r\\n          <button\\r\\n            mat-icon-button\\r\\n            panelLeftButton\\r\\n            tooltip-position=\\\"below\\\"\\r\\n            matTooltipShowDelay=\\\"500\\\"\\r\\n            [matTooltip]=\\\"'igo.context.sidenav.goBack' | translate\\\"\\r\\n            *ngIf=\\\"tool\\\">\\r\\n            <mat-icon svgIcon=\\\"arrow-back\\\"></mat-icon>\\r\\n          </button>\\r\\n\\r\\n          <button\\r\\n            mat-icon-button\\r\\n            panelRightButton\\r\\n            tooltip-position=\\\"below\\\"\\r\\n            matTooltipShowDelay=\\\"500\\\"\\r\\n            [matTooltip]=\\\"'igo.context.sidenav.mainMenu' | translate\\\"\\r\\n            *ngIf=\\\"tool\\\">\\r\\n            <mat-icon svgIcon=\\\"menu\\\"></mat-icon>\\r\\n          </button>\\r\\n\\r\\n          <!--igo-toolbar\\r\\n            igoToolContext igoToolbarBinding\\r\\n            [withTitle]=\\\"tool ? false : true\\\">\\r\\n          </igo-toolbar>\\r\\n\\r\\n          <div class=\\\"igo-toolbox-container\\\" [ngClass]=\\\"{'shown': tool ? true : false}\\\">\\r\\n            <igo-toolbox [animate]=\\\"true\\\"></igo-toolbox>\\r\\n          </div-->\\r\\n        </igo-panel>\\r\\n      </div>\\r\\n\\r\\n      <div igoFlexibleFill class=\\\"igo-content\\\">\\r\\n        <igo-panel\\r\\n          [title]=\\\"featureTitle\\\"\\r\\n          *ngIf=\\\"feature && media !== 'mobile'\\\">\\r\\n\\r\\n          <button\\r\\n            mat-icon-button\\r\\n            panelLeftButton\\r\\n            class=\\\"igo-icon-button\\\"\\r\\n            (click)=\\\"toggleTopPanel()\\\">\\r\\n            <mat-icon [svgIcon]=\\\"['collapsed', 'initial'].indexOf(topPanel.state) >= 0 ? 'arrow_downward' : 'arrow_upward'\\\"></mat-icon>\\r\\n          </button>\\r\\n\\r\\n          <button\\r\\n            mat-icon-button\\r\\n            panelRightButton\\r\\n            class=\\\"igo-icon-button\\\"\\r\\n            (click)=\\\"zoomToFeatureExtent()\\\"\\r\\n            *ngIf=\\\"feature.geometry\\\">\\r\\n            <mat-icon svgIcon=\\\"zoom-in\\\"></mat-icon>\\r\\n          </button>\\r\\n\\r\\n          <igo-feature-details\\r\\n            [feature]=\\\"feature\\\"\\r\\n            *ngIf=\\\"['collapsed', 'initial'].indexOf(topPanel.state) >= 0\\\">\\r\\n          </igo-feature-details>\\r\\n        </igo-panel>\\r\\n      </div>\\r\\n\\r\\n    </igo-flexible>\\r\\n\\r\\n  </div>\\r\\n</mat-sidenav>\\r\\n\",\r\n                    styles: [\".igo-sidenav-content .igo-flexible-fill .igo-container,:host ::ng-deep .igo-flexible-fill .igo-container{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;border-top:1px solid rgba(0,0,0,.2)}igo-toolbar:not(.with-title),mat-sidenav{-o-box-shadow:2px 0 2px 0 #ddd;box-shadow:2px 0 2px 0 #ddd}:host{background-color:#fff}:host ::ng-deep mat-sidenav{z-index:3!important}mat-sidenav{width:400px}@media only screen and (max-width:450px),only screen and (max-height:450px){mat-sidenav{width:calc(100% - 40px - 5px)}}.igo-sidenav-content{margin-top:50px;height:calc(100% - 50px)}igo-toolbar{position:absolute;top:51px;left:0;bottom:0}igo-toolbar.with-title{right:0;overflow:auto}igo-toolbar:not(.with-title){overflow:hidden}igo-toolbar ::ng-deep igo-list{overflow:inherit}.igo-toolbox-container{position:absolute;top:51px;bottom:0;right:0;overflow:auto}.igo-toolbox-container.shown{left:48px}igo-feature-details ::ng-deep table{width:100%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    SidenavComponent.ctorParameters = function () { return [\r\n        { type: Title }\r\n    ]; };\r\n    SidenavComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        opened: [{ type: Input }],\r\n        feature: [{ type: Input }],\r\n        tool: [{ type: Input }],\r\n        media: [{ type: Input }],\r\n        title: [{ type: Input }]\r\n    };\r\n    return SidenavComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoSidenavModule = /** @class */ (function () {\r\n    function IgoSidenavModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoSidenavModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoSidenavModule\r\n        };\r\n    };\r\n    IgoSidenavModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatSidenavModule,\r\n                        MatTooltipModule,\r\n                        IgoLanguageModule,\r\n                        IgoPanelModule,\r\n                        IgoFlexibleModule,\r\n                        IgoFeatureModule,\r\n                        IgoContextManagerModule\r\n                    ],\r\n                    exports: [SidenavComponent],\r\n                    declarations: [SidenavComponent]\r\n                },] }\r\n    ];\r\n    return IgoSidenavModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoContextModule = /** @class */ (function () {\r\n    function IgoContextModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoContextModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoContextModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoContextModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: [\r\n                        IgoContextManagerModule,\r\n                        IgoContextMapButtonModule,\r\n                        IgoShareMapModule,\r\n                        IgoSidenavModule\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoContextModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { IgoContextModule, IgoContextManagerModule, IgoContextMapButtonModule, IgoShareMapModule, IgoSidenavModule, ContextService, TypePermission, Scope, LayerContextDirective, MapContextDirective, ContextListComponent, ContextListBindingDirective, ContextItemComponent, ContextFormComponent, ContextEditComponent, ContextEditBindingDirective, ContextPermissionsComponent, ContextPermissionsBindingDirective, BookmarkButtonComponent, BookmarkDialogComponent, PoiButtonComponent, PoiDialogComponent, PoiService, UserButtonComponent, UserDialogComponent, ShareMapService, ShareMapComponent, ShareMapBindingDirective, SidenavComponent, ContextEditBindingDirective as ɵg, ContextEditComponent as ɵf, ContextFormComponent as ɵe, ContextItemComponent as ɵd, ContextListBindingDirective as ɵb, ContextListComponent as ɵa, ContextPermissionsBindingDirective as ɵi, ContextPermissionsComponent as ɵh, ContextService as ɵc, LayerContextDirective as ɵk, MapContextDirective as ɵj, BookmarkButtonComponent as ɵl, BookmarkDialogComponent as ɵq, PoiButtonComponent as ɵm, PoiDialogComponent as ɵr, PoiService as ɵn, userButtonSlideInOut as ɵp, UserButtonComponent as ɵo, UserDialogComponent as ɵs, ShareMapBindingDirective as ɵv, ShareMapComponent as ɵt, ShareMapService as ɵu, SidenavComponent as ɵw };\n\n//# sourceMappingURL=igo2-context.js.map","import { DomSanitizer } from '@angular/platform-browser';\nimport { MatIconRegistry } from '@angular/material';\nimport { uuid, ObjectUtils } from '@igo2/utils';\nimport { SimpleNotificationsModule, NotificationsService } from 'angular2-notifications';\nimport { TranslateLoader, TranslateModule, MissingTranslationHandler, TranslateService } from '@ngx-translate/core';\nimport { HTTP_INTERCEPTORS, HttpClient, HttpErrorResponse, HttpClientModule, HttpResponse } from '@angular/common/http';\nimport { ActivatedRoute } from '@angular/router';\nimport { Breakpoints, BreakpointObserver } from '@angular/cdk/layout';\nimport { BehaviorSubject, throwError, of, combineLatest, fromEvent } from 'rxjs';\nimport { finalize, catchError, map, tap, debounceTime, startWith } from 'rxjs/operators';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Platform } from '@ionic/angular';\nimport { Network as Network$1 } from '@ionic-native/network/ngx/index';\nimport { Injectable, Injector, Component, Input, NgModule, APP_INITIALIZER, InjectionToken, Inject, Optional, EventEmitter, defineInjectable, inject, INJECTOR } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ActivityService = /** @class */ (function () {\r\n    function ActivityService() {\r\n        this.counter$ = new BehaviorSubject(0);\r\n        this.ids = [];\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ActivityService.prototype.register = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var id = uuid();\r\n        this.ids.push(id);\r\n        this.counter$.next(this.ids.length);\r\n        return id;\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    ActivityService.prototype.unregister = /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        /** @type {?} */\r\n        var index = this.ids.indexOf(id);\r\n        if (index === -1) {\r\n            return;\r\n        }\r\n        this.ids.splice(index, 1);\r\n        this.counter$.next(this.ids.length);\r\n    };\r\n    ActivityService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ActivityService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ ActivityService.ngInjectableDef = defineInjectable({ factory: function ActivityService_Factory() { return new ActivityService(); }, token: ActivityService, providedIn: \"root\" });\r\n    return ActivityService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ActivityInterceptor = /** @class */ (function () {\r\n    function ActivityInterceptor(activityService) {\r\n        this.activityService = activityService;\r\n    }\r\n    /**\r\n     * @param {?} req\r\n     * @param {?} next\r\n     * @return {?}\r\n     */\r\n    ActivityInterceptor.prototype.intercept = /**\r\n     * @param {?} req\r\n     * @param {?} next\r\n     * @return {?}\r\n     */\r\n    function (req, next) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var activity = req.headers.get('activityInterceptor');\r\n        if (activity) {\r\n            /** @type {?} */\r\n            var actReq = req.clone({\r\n                headers: req.headers.delete('activityInterceptor')\r\n            });\r\n            if (activity === 'false') {\r\n                return next.handle(actReq);\r\n            }\r\n        }\r\n        /** @type {?} */\r\n        var id = this.activityService.register();\r\n        return next.handle(req).pipe(finalize((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.activityService.unregister(id);\r\n        })));\r\n    };\r\n    ActivityInterceptor.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    ActivityInterceptor.ctorParameters = function () { return [\r\n        { type: ActivityService }\r\n    ]; };\r\n    return ActivityInterceptor;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoActivityModule = /** @class */ (function () {\r\n    function IgoActivityModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoActivityModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoActivityModule,\r\n            providers: [\r\n                {\r\n                    provide: HTTP_INTERCEPTORS,\r\n                    useClass: ActivityInterceptor,\r\n                    multi: true\r\n                }\r\n            ]\r\n        };\r\n    };\r\n    IgoActivityModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: []\r\n                },] }\r\n    ];\r\n    return IgoActivityModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ConfigService = /** @class */ (function () {\r\n    function ConfigService(injector) {\r\n        this.injector = injector;\r\n        this.config = {};\r\n    }\r\n    /**\r\n     * Use to get the data found in config file\r\n     */\r\n    /**\r\n     * Use to get the data found in config file\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    ConfigService.prototype.getConfig = /**\r\n     * Use to get the data found in config file\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (key) {\r\n        return ObjectUtils.resolve(this.config, key);\r\n    };\r\n    /**\r\n     * This method loads \"[path]\" to get all config's variables\r\n     */\r\n    /**\r\n     * This method loads \"[path]\" to get all config's variables\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    ConfigService.prototype.load = /**\r\n     * This method loads \"[path]\" to get all config's variables\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (options) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var baseConfig = options.default || {};\r\n        if (!options.path) {\r\n            this.config = baseConfig;\r\n            return true;\r\n        }\r\n        /** @type {?} */\r\n        var http = this.injector.get(HttpClient);\r\n        return new Promise((/**\r\n         * @param {?} resolve\r\n         * @param {?} reject\r\n         * @return {?}\r\n         */\r\n        function (resolve, reject) {\r\n            http\r\n                .get(options.path)\r\n                .pipe(catchError((/**\r\n             * @param {?} error\r\n             * @return {?}\r\n             */\r\n            function (error) {\r\n                console.log(\"Configuration file \" + options.path + \" could not be read\");\r\n                resolve(true);\r\n                return throwError(error.error || 'Server error');\r\n            })))\r\n                .subscribe((/**\r\n             * @param {?} configResponse\r\n             * @return {?}\r\n             */\r\n            function (configResponse) {\r\n                _this.config = ObjectUtils.mergeDeep(baseConfig, configResponse);\r\n                resolve(true);\r\n            }));\r\n        }));\r\n    };\r\n    ConfigService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ConfigService.ctorParameters = function () { return [\r\n        { type: Injector }\r\n    ]; };\r\n    /** @nocollapse */ ConfigService.ngInjectableDef = defineInjectable({ factory: function ConfigService_Factory() { return new ConfigService(inject(INJECTOR)); }, token: ConfigService, providedIn: \"root\" });\r\n    return ConfigService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar CONFIG_OPTIONS = new InjectionToken('configOptions');\r\n/**\r\n * @param {?} options\r\n * @return {?}\r\n */\r\nfunction provideConfigOptions(options) {\r\n    return {\r\n        provide: CONFIG_OPTIONS,\r\n        useValue: options\r\n    };\r\n}\r\n/**\r\n * @param {?} configService\r\n * @param {?} options\r\n * @return {?}\r\n */\r\nfunction configFactory(configService, options) {\r\n    return (/**\r\n     * @return {?}\r\n     */\r\n    function () { return configService.load(options); });\r\n}\r\n/**\r\n * @return {?}\r\n */\r\nfunction provideConfigLoader() {\r\n    return {\r\n        provide: APP_INITIALIZER,\r\n        useFactory: configFactory,\r\n        multi: true,\r\n        deps: [ConfigService, CONFIG_OPTIONS]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoConfigModule = /** @class */ (function () {\r\n    function IgoConfigModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoConfigModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoConfigModule,\r\n            providers: [provideConfigOptions({}), provideConfigLoader()]\r\n        };\r\n    };\r\n    IgoConfigModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: []\r\n                },] }\r\n    ];\r\n    return IgoConfigModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LanguageLoader = /** @class */ (function () {\r\n    function LanguageLoader(http, prefix, suffix, config) {\r\n        if (suffix === void 0) { suffix = '.json'; }\r\n        this.http = http;\r\n        this.prefix = prefix;\r\n        this.suffix = suffix;\r\n        this.config = config;\r\n    }\r\n    /**\r\n     * @param {?} lang\r\n     * @return {?}\r\n     */\r\n    LanguageLoader.prototype.getTranslation = /**\r\n     * @param {?} lang\r\n     * @return {?}\r\n     */\r\n    function (lang) {\r\n        /** @type {?} */\r\n        var translation = require(\"../locale/\" + lang + \".json\");\r\n        /** @type {?} */\r\n        var igoLocale$ = of(translation);\r\n        if (this.config && !this.prefix) {\r\n            this.prefix = this.config.getConfig('language.prefix');\r\n        }\r\n        if (!this.prefix) {\r\n            return igoLocale$;\r\n        }\r\n        /** @type {?} */\r\n        var appLocale$ = this.http.get(\"\" + this.prefix + lang + this.suffix);\r\n        /** @type {?} */\r\n        var locale$ = combineLatest(igoLocale$, appLocale$);\r\n        return locale$.pipe(map((/**\r\n         * @param {?} translations\r\n         * @return {?}\r\n         */\r\n        function (translations) {\r\n            return Object.assign(translations[0], translations[1]);\r\n        })));\r\n    };\r\n    return LanguageLoader;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @param {?} http\r\n * @param {?=} config\r\n * @return {?}\r\n */\r\nfunction defaultLanguageLoader(http, config) {\r\n    return new LanguageLoader(http, undefined, undefined, config);\r\n}\r\n/**\r\n * @param {?=} loader\r\n * @return {?}\r\n */\r\nfunction provideLanguageLoader(loader) {\r\n    return {\r\n        provide: TranslateLoader,\r\n        useFactory: loader || defaultLanguageLoader,\r\n        deps: [HttpClient]\r\n    };\r\n}\r\n/**\r\n * @param {?=} loader\r\n * @return {?}\r\n */\r\nfunction provideDefaultLanguageLoader(loader) {\r\n    return {\r\n        provide: TranslateLoader,\r\n        useFactory: loader || defaultLanguageLoader,\r\n        deps: [HttpClient, ConfigService]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoMissingTranslationHandler = /** @class */ (function () {\r\n    function IgoMissingTranslationHandler() {\r\n    }\r\n    /**\r\n     * @param {?} params\r\n     * @return {?}\r\n     */\r\n    IgoMissingTranslationHandler.prototype.handle = /**\r\n     * @param {?} params\r\n     * @return {?}\r\n     */\r\n    function (params) {\r\n        if (!params.translateService.langs.length) {\r\n            /** @type {?} */\r\n            var error = 'Translations are not yet loaded. \\\r\n         Check that the LanguageService is injected.';\r\n            throw new Error(error);\r\n        }\r\n        throw new Error(\"The Key \\\"\" + params.key + \"\\\" is missing in locale file.\");\r\n    };\r\n    return IgoMissingTranslationHandler;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoLanguageModule = /** @class */ (function () {\r\n    function IgoLanguageModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoLanguageModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoLanguageModule,\r\n            providers: [provideDefaultLanguageLoader()]\r\n        };\r\n    };\r\n    IgoLanguageModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        TranslateModule.forRoot({\r\n                            missingTranslationHandler: {\r\n                                provide: MissingTranslationHandler,\r\n                                useClass: IgoMissingTranslationHandler\r\n                            }\r\n                        })\r\n                    ],\r\n                    declarations: [],\r\n                    exports: [TranslateModule]\r\n                },] }\r\n    ];\r\n    return IgoLanguageModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MessageCenterComponent = /** @class */ (function () {\r\n    function MessageCenterComponent() {\r\n        this._options = {};\r\n    }\r\n    Object.defineProperty(MessageCenterComponent.prototype, \"options\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return Object.assign({}, MessageCenterComponent.defaultOptions, this._options);\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._options = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MessageCenterComponent.defaultOptions = {\r\n        timeOut: 5000,\r\n        hasCloseIcon: false,\r\n        showProgressBar: true,\r\n        pauseOnHover: true,\r\n        clickToClose: true,\r\n        maxLength: 100,\r\n        maxStack: 3,\r\n        preventDuplicates: true\r\n    };\r\n    MessageCenterComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-message-center',\r\n                    template: \"<simple-notifications\\r\\n  [ngClass]=\\\"{closeIcon: options.hasCloseIcon}\\\"\\r\\n  [options]=\\\"options\\\">\\r\\n</simple-notifications>\\r\\n\",\r\n                    styles: [\"@charset \\\"UTF-8\\\";:host>>>div.simple-notification-wrapper{bottom:0;right:calc(50% - 150px)}:host>>>div.simple-notification{min-height:50px;margin-bottom:5px;padding-left:45px;padding-right:25px}:host>>>div.simple-notification.noIcon{padding-left:25px}@media only screen and (max-width:450px),only screen and (max-height:450px){:host>>>div.simple-notification-wrapper{right:0;left:0;width:100%}:host>>>div.simple-notification{margin-bottom:0}}:host>>>div.simple-notification .sn-title{line-height:23px;font-size:15px;font-weight:700}:host>>>div.simple-notification .sn-content{line-height:18px;font-size:15px}:host>>>div.simple-notification .icon{top:0;left:0;width:45px;height:100%;padding:7px}:host>>>div.simple-notification .icon mat-icon{display:flex;align-items:center;height:100%;font-size:32px}:host>>>.closeIcon>>>.sn-title:after{content:'close';font-family:'Material Icons';-webkit-font-feature-settings:'liga' 1;font-feature-settings:'liga' 1;font-size:24px;font-weight:400;right:5px;top:5px;position:absolute}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    MessageCenterComponent.ctorParameters = function () { return []; };\r\n    MessageCenterComponent.propDecorators = {\r\n        options: [{ type: Input }]\r\n    };\r\n    return MessageCenterComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoMessageModule = /** @class */ (function () {\r\n    function IgoMessageModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoMessageModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoMessageModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoMessageModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [CommonModule, SimpleNotificationsModule.forRoot()],\r\n                    declarations: [MessageCenterComponent],\r\n                    exports: [MessageCenterComponent]\r\n                },] }\r\n    ];\r\n    return IgoMessageModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar MessageType = {\r\n    ERROR: 'error',\r\n    ALERT: 'alert',\r\n    INFO: 'info',\r\n    SUCCESS: 'success',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MessageService = /** @class */ (function () {\r\n    function MessageService(notificationService, configService) {\r\n        this.notificationService = notificationService;\r\n        this.configService = configService;\r\n        this.messages$ = new BehaviorSubject([]);\r\n        this.options = this.configService.getConfig('message') || {};\r\n    }\r\n    /**\r\n     * @param {?} httpError\r\n     * @return {?}\r\n     */\r\n    MessageService.prototype.showError = /**\r\n     * @param {?} httpError\r\n     * @return {?}\r\n     */\r\n    function (httpError) {\r\n        httpError.error.caught = true;\r\n        return this.error(httpError.error.message, httpError.error.title);\r\n    };\r\n    /**\r\n     * @param {?} message\r\n     * @return {?}\r\n     */\r\n    MessageService.prototype.message = /**\r\n     * @param {?} message\r\n     * @return {?}\r\n     */\r\n    function (message) {\r\n        this.messages$.next(this.messages$.value.concat([message]));\r\n        message.options = message.options || {};\r\n        message = this.handleTemplate(message);\r\n        /** @type {?} */\r\n        var notification;\r\n        if (message.text) {\r\n            notification = this.notificationService.create(message.title, message.text, (/** @type {?} */ (((/** @type {?} */ (message.type))))), message.options);\r\n        }\r\n        else if (message.html) {\r\n            if (!message.icon) {\r\n                message.options.theClass = message.options.theClass\r\n                    ? message.options.theClass + ' noIcon'\r\n                    : 'noIcon';\r\n            }\r\n            notification = this.notificationService.html(message.html, (/** @type {?} */ (((/** @type {?} */ (message.type))))), message.options);\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        if (message.icon !== undefined) {\r\n            this.addIcon(notification, message.icon);\r\n        }\r\n        return notification;\r\n    };\r\n    /**\r\n     * @param {?} text\r\n     * @param {?=} title\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    MessageService.prototype.success = /**\r\n     * @param {?} text\r\n     * @param {?=} title\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    function (text, title, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.message({\r\n            text: text,\r\n            title: title,\r\n            icon: options.icon || 'check',\r\n            options: options,\r\n            type: MessageType.SUCCESS\r\n        });\r\n    };\r\n    /**\r\n     * @param {?} text\r\n     * @param {?=} title\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    MessageService.prototype.error = /**\r\n     * @param {?} text\r\n     * @param {?=} title\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    function (text, title, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.message({\r\n            text: text,\r\n            title: title,\r\n            icon: options.icon || 'error_outline',\r\n            options: options,\r\n            type: MessageType.ERROR\r\n        });\r\n    };\r\n    /**\r\n     * @param {?} text\r\n     * @param {?=} title\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    MessageService.prototype.info = /**\r\n     * @param {?} text\r\n     * @param {?=} title\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    function (text, title, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.message({\r\n            text: text,\r\n            title: title,\r\n            icon: options.icon || 'info_outline',\r\n            options: options,\r\n            type: MessageType.INFO\r\n        });\r\n    };\r\n    /**\r\n     * @param {?} text\r\n     * @param {?=} title\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    MessageService.prototype.alert = /**\r\n     * @param {?} text\r\n     * @param {?=} title\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    function (text, title, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.message({\r\n            text: text,\r\n            title: title,\r\n            icon: options.icon || 'access_alarm',\r\n            options: options,\r\n            type: MessageType.ALERT\r\n        });\r\n    };\r\n    /**\r\n     * @param {?=} id\r\n     * @return {?}\r\n     */\r\n    MessageService.prototype.remove = /**\r\n     * @param {?=} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        this.notificationService.remove(id);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} notification\r\n     * @param {?} icon\r\n     * @return {?}\r\n     */\r\n    MessageService.prototype.addIcon = /**\r\n     * @private\r\n     * @param {?} notification\r\n     * @param {?} icon\r\n     * @return {?}\r\n     */\r\n    function (notification, icon) {\r\n        // There is no way to add an icon to a notification when reating\r\n        // it so we simply set it on the notification directly.\r\n        // See https://github.com/flauc/angular2-notifications/issues/165\r\n        notification.icon = \"\\n      <mat-icon class=\\\"material-icons mat-icon mat-list-avatar\\\" svgIcon=\\\"\" + icon + \"\\\">\\n      </mat-icon>\";\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} message\r\n     * @return {?}\r\n     */\r\n    MessageService.prototype.handleTemplate = /**\r\n     * @private\r\n     * @param {?} message\r\n     * @return {?}\r\n     */\r\n    function (message) {\r\n        if (!this.options.template || message.html) {\r\n            return message;\r\n        }\r\n        /** @type {?} */\r\n        var html = this.options.template;\r\n        html = html.replace('${text}', message.text);\r\n        html = html.replace('${title}', message.title);\r\n        html = html.replace('${icon}', message.icon);\r\n        message.html = html;\r\n        message.text = undefined;\r\n        message.title = undefined;\r\n        message.icon = undefined;\r\n        return message;\r\n    };\r\n    MessageService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    MessageService.ctorParameters = function () { return [\r\n        { type: NotificationsService },\r\n        { type: ConfigService }\r\n    ]; };\r\n    /** @nocollapse */ MessageService.ngInjectableDef = defineInjectable({ factory: function MessageService_Factory() { return new MessageService(inject(NotificationsService), inject(ConfigService)); }, token: MessageService, providedIn: \"root\" });\r\n    return MessageService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LanguageService = /** @class */ (function () {\r\n    function LanguageService(translate) {\r\n        this.translate = translate;\r\n        /** @type {?} */\r\n        var lang = this.getLanguage();\r\n        this.translate.setDefaultLang(lang);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LanguageService.prototype.getLanguage = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var browserLang = this.translate.getBrowserLang();\r\n        return browserLang.match(/en|fr/) ? browserLang : 'en';\r\n    };\r\n    /**\r\n     * @param {?} language\r\n     * @return {?}\r\n     */\r\n    LanguageService.prototype.setLanguage = /**\r\n     * @param {?} language\r\n     * @return {?}\r\n     */\r\n    function (language) {\r\n        this.translate.use(language);\r\n        this.translate.reloadLang(language);\r\n    };\r\n    LanguageService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    LanguageService.ctorParameters = function () { return [\r\n        { type: TranslateService }\r\n    ]; };\r\n    /** @nocollapse */ LanguageService.ngInjectableDef = defineInjectable({ factory: function LanguageService_Factory() { return new LanguageService(inject(TranslateService)); }, token: LanguageService, providedIn: \"root\" });\r\n    return LanguageService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ErrorInterceptor = /** @class */ (function () {\r\n    function ErrorInterceptor(messageService, injector) {\r\n        this.messageService = messageService;\r\n        this.injector = injector;\r\n    }\r\n    /**\r\n     * @param {?} req\r\n     * @param {?} next\r\n     * @return {?}\r\n     */\r\n    ErrorInterceptor.prototype.intercept = /**\r\n     * @param {?} req\r\n     * @param {?} next\r\n     * @return {?}\r\n     */\r\n    function (req, next) {\r\n        var _this = this;\r\n        return next.handle(req).pipe(catchError((/**\r\n         * @param {?} error\r\n         * @return {?}\r\n         */\r\n        function (error) { return _this.handleError(error, req); })), finalize((/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.handleCaughtError(); })), finalize((/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.handleUncaughtError(); })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} httpError\r\n     * @param {?} req\r\n     * @return {?}\r\n     */\r\n    ErrorInterceptor.prototype.handleError = /**\r\n     * @private\r\n     * @param {?} httpError\r\n     * @param {?} req\r\n     * @return {?}\r\n     */\r\n    function (httpError, req) {\r\n        /** @type {?} */\r\n        var msg = req.method + \" \" + req.urlWithParams + \" \" + httpError.status + \" (\" + httpError.statusText + \")\";\r\n        if (httpError instanceof HttpErrorResponse) {\r\n            /** @type {?} */\r\n            var errorObj = httpError.error === 'object' ? httpError.error : {};\r\n            errorObj.message = httpError.error.message || httpError.statusText;\r\n            errorObj.caught = false;\r\n            console.error(msg, '\\n', errorObj.message, '\\n\\n', httpError);\r\n            this.httpError = new HttpErrorResponse({\r\n                error: errorObj,\r\n                headers: httpError.headers,\r\n                status: httpError.status,\r\n                statusText: httpError.statusText,\r\n                url: httpError.url\r\n            });\r\n        }\r\n        return throwError(this.httpError);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ErrorInterceptor.prototype.handleCaughtError = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.httpError && this.httpError.error.toDisplay) {\r\n            this.httpError.error.caught = true;\r\n            this.messageService.error(this.httpError.error.message, this.httpError.error.title);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ErrorInterceptor.prototype.handleUncaughtError = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.httpError && !this.httpError.error.caught) {\r\n            /** @type {?} */\r\n            var translate = this.injector.get(LanguageService).translate;\r\n            /** @type {?} */\r\n            var message = translate.instant('igo.core.errors.uncaught.message');\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.core.errors.uncaught.title');\r\n            this.httpError.error.caught = true;\r\n            this.messageService.error(message, title);\r\n        }\r\n    };\r\n    ErrorInterceptor.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    ErrorInterceptor.ctorParameters = function () { return [\r\n        { type: MessageService },\r\n        { type: Injector }\r\n    ]; };\r\n    return ErrorInterceptor;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoErrorModule = /** @class */ (function () {\r\n    function IgoErrorModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoErrorModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoErrorModule,\r\n            providers: [\r\n                {\r\n                    provide: HTTP_INTERCEPTORS,\r\n                    useClass: ErrorInterceptor,\r\n                    multi: true\r\n                }\r\n            ]\r\n        };\r\n    };\r\n    IgoErrorModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: []\r\n                },] }\r\n    ];\r\n    return IgoErrorModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoCoreModule = /** @class */ (function () {\r\n    function IgoCoreModule(matIconRegistry, domSanitizer) {\r\n        matIconRegistry.addSvgIconSet(domSanitizer.bypassSecurityTrustResourceUrl('./assets/igo2/core/icons/mdi.svg'));\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoCoreModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoCoreModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoCoreModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        HttpClientModule,\r\n                        IgoActivityModule.forRoot(),\r\n                        IgoConfigModule.forRoot(),\r\n                        IgoErrorModule.forRoot(),\r\n                        IgoLanguageModule.forRoot(),\r\n                        IgoMessageModule.forRoot()\r\n                    ],\r\n                    declarations: [],\r\n                    exports: [\r\n                        IgoActivityModule,\r\n                        IgoConfigModule,\r\n                        IgoErrorModule,\r\n                        IgoLanguageModule,\r\n                        IgoMessageModule\r\n                    ]\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    IgoCoreModule.ctorParameters = function () { return [\r\n        { type: MatIconRegistry },\r\n        { type: DomSanitizer }\r\n    ]; };\r\n    return IgoCoreModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LoggingInterceptor = /** @class */ (function () {\r\n    function LoggingInterceptor() {\r\n    }\r\n    /**\r\n     * @param {?} req\r\n     * @param {?} next\r\n     * @return {?}\r\n     */\r\n    LoggingInterceptor.prototype.intercept = /**\r\n     * @param {?} req\r\n     * @param {?} next\r\n     * @return {?}\r\n     */\r\n    function (req, next) {\r\n        /** @type {?} */\r\n        var started = Date.now();\r\n        /** @type {?} */\r\n        var ok;\r\n        // extend server response observable with logging\r\n        return next.handle(req).pipe(tap((\r\n        // Succeeds when there is a response; ignore other events\r\n        // Succeeds when there is a response; ignore other events\r\n        /**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return (ok = event instanceof HttpResponse ? 'succeeded' : ''); }), (\r\n        // Operation failed; error is an HttpErrorResponse\r\n        // Operation failed; error is an HttpErrorResponse\r\n        /**\r\n         * @param {?} error\r\n         * @return {?}\r\n         */\r\n        function (error) { return (ok = 'failed'); })), \r\n        // Log when response observable either completes or errors\r\n        finalize((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var elapsed = Date.now() - started;\r\n            /** @type {?} */\r\n            var msg = req.method + \" \\\"\" + req.urlWithParams + \"\\\"\\n             \" + ok + \" in \" + elapsed + \" ms.\";\r\n            console.log(msg);\r\n        })));\r\n    };\r\n    LoggingInterceptor.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    return LoggingInterceptor;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoLoggingModule = /** @class */ (function () {\r\n    function IgoLoggingModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoLoggingModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoLoggingModule,\r\n            providers: [\r\n                {\r\n                    provide: HTTP_INTERCEPTORS,\r\n                    useClass: LoggingInterceptor,\r\n                    multi: true\r\n                }\r\n            ]\r\n        };\r\n    };\r\n    IgoLoggingModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: []\r\n                },] }\r\n    ];\r\n    return IgoLoggingModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar ROUTE_SERVICE_OPTIONS = new InjectionToken('routeServiceOptions');\r\n/**\r\n * @param {?} options\r\n * @return {?}\r\n */\r\nfunction provideRouteServiceOptions(options) {\r\n    return {\r\n        provide: ROUTE_SERVICE_OPTIONS,\r\n        useValue: options\r\n    };\r\n}\r\nvar RouteService = /** @class */ (function () {\r\n    function RouteService(route, options) {\r\n        this.route = route;\r\n        /** @type {?} */\r\n        var defaultOptions = {\r\n            centerKey: 'center',\r\n            zoomKey: 'zoom',\r\n            projectionKey: 'projection',\r\n            contextKey: 'context',\r\n            searchKey: 'search',\r\n            visibleOnLayersKey: 'visiblelayers',\r\n            visibleOffLayersKey: 'invisiblelayers',\r\n            routingCoordKey: 'routing',\r\n            toolKey: 'tool',\r\n            llcKKey: 'llck',\r\n            llcAKey: 'llca',\r\n            llcVKey: 'llcv',\r\n            llcRKey: 'llcr'\r\n        };\r\n        this.options = Object.assign({}, defaultOptions, options);\r\n    }\r\n    Object.defineProperty(RouteService.prototype, \"queryParams\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.route.queryParams;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    RouteService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    RouteService.ctorParameters = function () { return [\r\n        { type: ActivatedRoute },\r\n        { type: undefined, decorators: [{ type: Inject, args: [ROUTE_SERVICE_OPTIONS,] }, { type: Optional }] }\r\n    ]; };\r\n    /** @nocollapse */ RouteService.ngInjectableDef = defineInjectable({ factory: function RouteService_Factory() { return new RouteService(inject(ActivatedRoute), inject(ROUTE_SERVICE_OPTIONS, 8)); }, token: RouteService, providedIn: \"root\" });\r\n    return RouteService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar AnalyticsService = /** @class */ (function () {\r\n    function AnalyticsService(config) {\r\n        this.config = config;\r\n        this.options = this.config.getConfig('analytics') || {};\r\n        if (this.options.provider === 'matomo') {\r\n            this.initMatomo();\r\n        }\r\n    }\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    AnalyticsService.prototype.initMatomo = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (!this.options.url || !this.options.id) {\r\n            return;\r\n        }\r\n        ((/** @type {?} */ (window)))._paq = ((/** @type {?} */ (window)))._paq || [];\r\n        /** @type {?} */\r\n        var paq = ((/** @type {?} */ (window)))._paq;\r\n        paq.push(['trackPageView']);\r\n        paq.push(['enableLinkTracking']);\r\n        ((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            paq.push(['setTrackerUrl', _this.options.url + 'matomo.php']);\r\n            paq.push(['setSiteId', _this.options.id]);\r\n            /** @type {?} */\r\n            var g = document.createElement('script');\r\n            /** @type {?} */\r\n            var s = document.getElementsByTagName('script')[0];\r\n            g.type = 'text/javascript';\r\n            g.async = true;\r\n            g.defer = true;\r\n            g.src = _this.options.url + 'matomo.js';\r\n            s.parentNode.insertBefore(g, s);\r\n        }))();\r\n    };\r\n    AnalyticsService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    AnalyticsService.ctorParameters = function () { return [\r\n        { type: ConfigService }\r\n    ]; };\r\n    /** @nocollapse */ AnalyticsService.ngInjectableDef = defineInjectable({ factory: function AnalyticsService_Factory() { return new AnalyticsService(inject(ConfigService)); }, token: AnalyticsService, providedIn: \"root\" });\r\n    return AnalyticsService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar Media = {\r\n    Mobile: 'mobile',\r\n    Tablet: 'tablet',\r\n    Desktop: 'desktop',\r\n};\r\n/** @enum {string} */\r\nvar MediaOrientation = {\r\n    Portrait: 'portrait',\r\n    Landscape: 'landscape',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MediaService = /** @class */ (function () {\r\n    function MediaService(breakpointObserver) {\r\n        var _this = this;\r\n        this.media$ = new BehaviorSubject(undefined);\r\n        this.orientation$ = new BehaviorSubject(undefined);\r\n        breakpointObserver\r\n            .observe([Breakpoints.HandsetLandscape])\r\n            .subscribe((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            if (res.matches) {\r\n                _this.media$.next(Media.Mobile);\r\n                _this.orientation$.next(MediaOrientation.Landscape);\r\n            }\r\n        }));\r\n        breakpointObserver.observe([Breakpoints.HandsetPortrait]).subscribe((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            if (res.matches) {\r\n                _this.media$.next(Media.Mobile);\r\n                _this.orientation$.next(MediaOrientation.Portrait);\r\n            }\r\n        }));\r\n        breakpointObserver.observe([Breakpoints.TabletLandscape]).subscribe((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            if (res.matches) {\r\n                _this.media$.next(Media.Tablet);\r\n                _this.orientation$.next(MediaOrientation.Landscape);\r\n            }\r\n        }));\r\n        breakpointObserver.observe([Breakpoints.TabletPortrait]).subscribe((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            if (res.matches) {\r\n                _this.media$.next(Media.Tablet);\r\n                _this.orientation$.next(MediaOrientation.Portrait);\r\n            }\r\n        }));\r\n        breakpointObserver.observe([Breakpoints.WebLandscape]).subscribe((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            if (res.matches) {\r\n                _this.media$.next(Media.Desktop);\r\n                _this.orientation$.next(MediaOrientation.Landscape);\r\n            }\r\n        }));\r\n        breakpointObserver.observe([Breakpoints.WebPortrait]).subscribe((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            if (res.matches) {\r\n                _this.media$.next(Media.Desktop);\r\n                _this.orientation$.next(MediaOrientation.Portrait);\r\n            }\r\n        }));\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MediaService.prototype.getMedia = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.media$.value;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MediaService.prototype.getOrientation = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.orientation$.value;\r\n    };\r\n    MediaService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    MediaService.ctorParameters = function () { return [\r\n        { type: BreakpointObserver }\r\n    ]; };\r\n    /** @nocollapse */ MediaService.ngInjectableDef = defineInjectable({ factory: function MediaService_Factory() { return new MediaService(inject(BreakpointObserver)); }, token: MediaService, providedIn: \"root\" });\r\n    return MediaService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar NetworkService = /** @class */ (function () {\r\n    function NetworkService(messageService, injector, network, platform) {\r\n        var _this = this;\r\n        this.messageService = messageService;\r\n        this.injector = injector;\r\n        this.network = network;\r\n        this.platform = platform;\r\n        this.stateChangeEventEmitter = new EventEmitter();\r\n        this.state = {\r\n            connection: window.navigator.onLine\r\n        };\r\n        console.log(this.platform + 'premier');\r\n        this.platform.ready().then((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            console.log(_this.platform);\r\n            if (_this.platform.is('cordova')) {\r\n                console.log('cordova');\r\n                if (_this.platform.is('android')) {\r\n                    console.log('android');\r\n                    _this.initializeService();\r\n                }\r\n            }\r\n            else {\r\n                console.log('browser');\r\n                _this.checkNetworkState();\r\n            }\r\n        }));\r\n    }\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    NetworkService.prototype.checkNetworkState = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.onlineSubscription = fromEvent(window, 'online').subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var translate = _this.injector.get(LanguageService).translate;\r\n            /** @type {?} */\r\n            var message = translate.instant('igo.core.network.online.message');\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.core.network.online.title');\r\n            _this.messageService.info(message, title);\r\n            _this.state.connection = true;\r\n            _this.emitEvent();\r\n        }));\r\n        this.offlineSubscription = fromEvent(window, 'offline').subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var translate = _this.injector.get(LanguageService).translate;\r\n            /** @type {?} */\r\n            var message = translate.instant('igo.core.network.offline.message');\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.core.network.offline.title');\r\n            _this.messageService.info(message, title);\r\n            _this.state.connection = false;\r\n            _this.emitEvent();\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NetworkService.prototype.initializeService = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.network.type !== this.network.Connection.NONE) {\r\n            this.connectionType = this.network.type;\r\n            this.state.connection = true;\r\n        }\r\n        this.offlineSubscription = this.network.onDisconnect().subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.state.connection = false;\r\n            setTimeout((/**\r\n             * @return {?}\r\n             */\r\n            function () {\r\n                if (!_this.state.connection) {\r\n                    /** @type {?} */\r\n                    var translate = _this.injector.get(LanguageService).translate;\r\n                    /** @type {?} */\r\n                    var message = translate.instant('igo.core.network.offline.message');\r\n                    /** @type {?} */\r\n                    var title = translate.instant('igo.core.network.offline.title');\r\n                    _this.messageService.info(message, title);\r\n                    _this.state.connection = false;\r\n                    _this.emitEvent();\r\n                }\r\n            }), 10000);\r\n        }));\r\n        this.onlineSubscription = this.network.onConnect().subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.state.connection = true;\r\n            setTimeout((/**\r\n             * @return {?}\r\n             */\r\n            function () {\r\n                if (!_this.state.connection) {\r\n                    /** @type {?} */\r\n                    var translate = _this.injector.get(LanguageService).translate;\r\n                    /** @type {?} */\r\n                    var message = translate.instant('igo.core.network.online.message');\r\n                    /** @type {?} */\r\n                    var title = translate.instant('igo.core.network.online.title');\r\n                    _this.messageService.info(message, title);\r\n                    _this.state.connection = true;\r\n                    _this.emitEvent();\r\n                }\r\n            }), 10000);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    NetworkService.prototype.emitEvent = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.stateChangeEventEmitter.emit(this.state);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NetworkService.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        try {\r\n            this.offlineSubscription.unsubscribe();\r\n            this.onlineSubscription.unsubscribe();\r\n        }\r\n        catch (e) {\r\n        }\r\n    };\r\n    /**\r\n     * @param {?=} reportState\r\n     * @return {?}\r\n     */\r\n    NetworkService.prototype.currentState = /**\r\n     * @param {?=} reportState\r\n     * @return {?}\r\n     */\r\n    function (reportState) {\r\n        if (reportState === void 0) { reportState = true; }\r\n        return reportState ?\r\n            this.stateChangeEventEmitter.pipe(debounceTime(300), startWith(this.state))\r\n            :\r\n                this.stateChangeEventEmitter.pipe(debounceTime(300));\r\n    };\r\n    NetworkService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    NetworkService.ctorParameters = function () { return [\r\n        { type: MessageService },\r\n        { type: Injector },\r\n        { type: Network },\r\n        { type: Platform }\r\n    ]; };\r\n    /** @nocollapse */ NetworkService.ngInjectableDef = defineInjectable({ factory: function NetworkService_Factory() { return new NetworkService(inject(MessageService), inject(INJECTOR), inject(Network$1), inject(Platform)); }, token: NetworkService, providedIn: \"root\" });\r\n    return NetworkService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar NetworkModule = /** @class */ (function () {\r\n    function NetworkModule() {\r\n    }\r\n    NetworkModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    declarations: [],\r\n                    imports: [CommonModule],\r\n                    providers: [NetworkService]\r\n                },] }\r\n    ];\r\n    return NetworkModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { IgoCoreModule, IgoActivityModule, IgoConfigModule, IgoLanguageModule, IgoMessageModule, IgoErrorModule, IgoLoggingModule, provideConfigOptions, configFactory, provideConfigLoader, CONFIG_OPTIONS, defaultLanguageLoader, provideLanguageLoader, provideDefaultLanguageLoader, provideRouteServiceOptions, ROUTE_SERVICE_OPTIONS, RouteService, ActivityService, ActivityInterceptor, AnalyticsService, ConfigService, LanguageLoader, LanguageService, IgoMissingTranslationHandler, Media, MediaOrientation, MediaService, MessageCenterComponent, MessageType, MessageService, ErrorInterceptor, LoggingInterceptor, NetworkService, NetworkModule, ActivityInterceptor as ɵa, ActivityService as ɵb, ConfigService as ɵc, LanguageLoader as ɵg, IgoMissingTranslationHandler as ɵf, MessageCenterComponent as ɵh, MessageService as ɵe, ErrorInterceptor as ɵd, LoggingInterceptor as ɵi };\n\n//# sourceMappingURL=igo2-core.js.map","var map = {\n\t\"./en.auth.json\": \"./dist/igo-lib/core/locale/en.auth.json\",\n\t\"./en.common.json\": \"./dist/igo-lib/core/locale/en.common.json\",\n\t\"./en.context.json\": \"./dist/igo-lib/core/locale/en.context.json\",\n\t\"./en.core.json\": \"./dist/igo-lib/core/locale/en.core.json\",\n\t\"./en.geo.json\": \"./dist/igo-lib/core/locale/en.geo.json\",\n\t\"./en.json\": \"./dist/igo-lib/core/locale/en.json\",\n\t\"./en.tools.json\": \"./dist/igo-lib/core/locale/en.tools.json\",\n\t\"./fr.auth.json\": \"./dist/igo-lib/core/locale/fr.auth.json\",\n\t\"./fr.common.json\": \"./dist/igo-lib/core/locale/fr.common.json\",\n\t\"./fr.context.json\": \"./dist/igo-lib/core/locale/fr.context.json\",\n\t\"./fr.core.json\": \"./dist/igo-lib/core/locale/fr.core.json\",\n\t\"./fr.geo.json\": \"./dist/igo-lib/core/locale/fr.geo.json\",\n\t\"./fr.json\": \"./dist/igo-lib/core/locale/fr.json\",\n\t\"./fr.tools.json\": \"./dist/igo-lib/core/locale/fr.tools.json\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./dist/igo-lib/core/locale sync recursive ^\\\\.\\\\/.*\\\\.json$\";","import olSourceOSM from 'ol/source/OSM';\nimport olSourceXYZ from 'ol/source/XYZ';\nimport { bbox, and, between, contains, during, equalTo, greaterThan, greaterThanOrEqualTo, intersects, isNull, lessThan, lessThanOrEqualTo, like, notEqualTo, within, or, not } from 'ol/format/filter';\nimport olFormatWFS from 'ol/format/WFS';\nimport olSourceImageWMS from 'ol/source/ImageWMS';\nimport olSourceWMTS from 'ol/source/WMTS';\nimport olTileGridWMTS from 'ol/tilegrid/WMTS';\nimport { getTopLeft, getWidth } from 'ol/extent.js';\nimport olSourceCarto from 'ol/source/CartoDB';\nimport { bbox as bbox$1 } from 'ol/loadingstrategy';\nimport olSourceTileArcGISRest from 'ol/source/TileArcGISRest';\nimport { Md5 } from 'ts-md5';\nimport olSourceVectorTile from 'ol/source/VectorTile';\nimport olFormatMVT from 'ol/format/MVT';\nimport olSourceCluster from 'ol/source/Cluster';\nimport { Cacheable } from 'ngx-cacheable';\nimport { optionsFromCapabilities } from 'ol/source/WMTS.js';\nimport olMap from 'ol/Map';\nimport olView from 'ol/View';\nimport olGeolocation from 'ol/Geolocation';\nimport olAttribution from 'ol/control/Attribution';\nimport olControlScaleLine from 'ol/control/ScaleLine';\nimport olLayerImage from 'ol/layer/Image';\nimport olLayerTile from 'ol/layer/Tile';\nimport { asArray } from 'ol/color';\nimport olLayerVectorTile from 'ol/layer/VectorTile';\nimport { easeOut } from 'ol/easing';\nimport { MAC } from 'ol/has';\nimport proj4 from 'proj4';\nimport { register } from 'ol/proj/proj4';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport olFormatGML2 from 'ol/format/GML2';\nimport olFormatGML3 from 'ol/format/GML3';\nimport olFormatEsriJSON from 'ol/format/EsriJSON';\nimport olProjection from 'ol/proj/Projection';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { duration } from 'moment';\nimport olWKT from 'ol/format/WKT';\nimport 'ol/geom/GeometryType';\nimport OlPoint from 'ol/geom/Point';\nimport OlOverlay from 'ol/Overlay';\nimport { getLength, getArea as getArea$1 } from 'ol/sphere';\nimport OlStyle from 'ol/style/Style';\nimport OlLineString from 'ol/geom/LineString';\nimport lineIntersect from '@turf/line-intersect';\nimport { lineString } from '@turf/helpers';\nimport OlModify from 'ol/interaction/Modify';\nimport OlTranslate from 'ol/interaction/Translate';\nimport OlDraw from 'ol/interaction/Draw';\nimport OlPolygon from 'ol/geom/Polygon';\nimport OlLinearRing from 'ol/geom/LinearRing';\nimport OlDragBoxInteraction from 'ol/interaction/DragBox';\nimport OlVectorSource from 'ol/source/Vector';\nimport OlVectorLayer from 'ol/layer/Vector';\nimport { saveAs } from 'file-saver';\nimport * as jsPDF from 'jspdf';\nimport * as _html2canvas from 'html2canvas';\nimport * as JSZip from 'jszip';\nimport OlFeature from 'ol/Feature';\nimport { MultiLineString, MultiPolygon, Point, LineString, Polygon } from 'ol/geom';\nimport { transformExtent, get, transform, fromLonLat, METERS_PER_UNIT } from 'ol/proj';\nimport * as olstyle from 'ol/style';\nimport { RegularShape, Style, Icon, Circle, Stroke, Fill, Text } from 'ol/style';\nimport { pointerMove } from 'ol/events/condition';\nimport { defaults, Select, Translate } from 'ol/interaction';\nimport { createEmpty, extend, boundingExtent, buffer, getSize, containsExtent, getArea, getCenter, intersects as intersects$1 } from 'ol/extent';\nimport { unByKey } from 'ol/Observable';\nimport { FormsModule, ReactiveFormsModule, NgControl, FormBuilder, Validators } from '@angular/forms';\nimport OlGeoJSON from 'ol/format/GeoJSON';\nimport { MatIconModule, MatButtonModule, MatTooltipModule, MatListModule, MatSlider, MatAutocompleteModule, MatButtonToggleModule, MatSliderModule, MatSlideToggleModule, MatFormFieldModule, MatInputModule, MatOptionModule, MatSelectModule, MatDatepickerModule, MatNativeDateModule, MAT_DATE_LOCALE, MatCheckboxModule, MatDialogRef, MAT_DIALOG_DATA, MatDialog, MatTabsModule, MatBadgeModule, MatDividerModule, MatMenuModule, MatRadioModule } from '@angular/material';\nimport { CommonModule } from '@angular/common';\nimport { getEntityId, EntityStore, getEntityTitle, getEntityRevision, getEntityProperty, EntityStoreWatcher, getEntityIcon, IgoCollapsibleModule, IgoListModule, IgoKeyValueModule, IgoFormModule, FormFieldComponent, EntityTableColumnRenderer, DragAndDropDirective, IgoDrapDropModule, IgoImageModule, IgoConfirmDialogModule, IgoEntityTableModule, getEntityTitleHtml, IgoPanelModule, IgoFlexibleModule, WidgetService, Workspace, ActionStore, WorkspaceSelectorComponent, IgoWidgetModule } from '@igo2/common';\nimport { Observable, BehaviorSubject, of, ReplaySubject, EMPTY, timer, combineLatest, Subject, forkJoin, zip, concat, fromEvent } from 'rxjs';\nimport * as olformat from 'ol/format';\nimport { WFS, GeoJSON, KML, GML, GPX, WMSCapabilities, WMTSCapabilities, WMSGetFeatureInfo, WKT } from 'ol/format';\nimport { __extends, __values, __read, __decorate, __metadata, __spread, __assign } from 'tslib';\nimport { Injectable, Component, Input, ChangeDetectionStrategy, Output, EventEmitter, Directive, Self, Pipe, ChangeDetectorRef, Inject, NgModule, Optional, InjectionToken, ViewChild, HostBinding, ContentChild, defineInjectable, inject, HostListener } from '@angular/core';\nimport { HttpClient, HttpParams, HttpHeaders } from '@angular/common/http';\nimport { map, debounce, debounceTime, skip, distinctUntilChanged, catchError, mergeMap } from 'rxjs/operators';\nimport { uuid, ObjectUtils, Watcher, SubjectStatus, strEnum, Clipboard } from '@igo2/utils';\nimport { IgoLanguageModule, RouteService, ActivityService, NetworkService, ConfigService, LanguageService, MessageService, Media, MediaService } from '@igo2/core';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @abstract\r\n */\r\nvar  /**\r\n * @abstract\r\n */\r\nLayer = /** @class */ (function () {\r\n    function Layer(options) {\r\n        this.options = options;\r\n        this.dataSource = this.options.source;\r\n        this.ol = this.createOlLayer();\r\n        if (this.options.zIndex !== undefined) {\r\n            this.zIndex = this.options.zIndex;\r\n        }\r\n        if (this.options.baseLayer && this.options.visible === undefined) {\r\n            this.options.visible = false;\r\n        }\r\n        this.visible =\r\n            this.options.visible === undefined ? true : this.options.visible;\r\n        this.opacity =\r\n            this.options.opacity === undefined ? 1 : this.options.opacity;\r\n        this.ol.set('_layer', this, true);\r\n    }\r\n    Object.defineProperty(Layer.prototype, \"id\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.id || this.dataSource.id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Layer.prototype, \"alias\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.alias;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Layer.prototype, \"title\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.title;\r\n        },\r\n        set: /**\r\n         * @param {?} title\r\n         * @return {?}\r\n         */\r\n        function (title) {\r\n            this.options.title = title;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Layer.prototype, \"zIndex\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.ol.getZIndex();\r\n        },\r\n        set: /**\r\n         * @param {?} zIndex\r\n         * @return {?}\r\n         */\r\n        function (zIndex) {\r\n            this.ol.setZIndex(zIndex);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Layer.prototype, \"baseLayer\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.baseLayer;\r\n        },\r\n        set: /**\r\n         * @param {?} baseLayer\r\n         * @return {?}\r\n         */\r\n        function (baseLayer) {\r\n            this.options.baseLayer = baseLayer;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Layer.prototype, \"visible\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.ol.get('visible');\r\n        },\r\n        set: /**\r\n         * @param {?} visibility\r\n         * @return {?}\r\n         */\r\n        function (visibility) {\r\n            this.ol.setVisible(visibility);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Layer.prototype, \"opacity\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.ol.get('opacity');\r\n        },\r\n        set: /**\r\n         * @param {?} opacity\r\n         * @return {?}\r\n         */\r\n        function (opacity) {\r\n            this.ol.setOpacity(opacity);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Layer.prototype, \"isInResolutionsRange\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (!this.map) {\r\n                return false;\r\n            }\r\n            /** @type {?} */\r\n            var resolution = this.map.viewController.getResolution();\r\n            /** @type {?} */\r\n            var minResolution = this.ol.getMinResolution();\r\n            /** @type {?} */\r\n            var maxResolution = this.ol.getMaxResolution();\r\n            return resolution >= minResolution && resolution <= maxResolution;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Layer.prototype, \"showInLayerList\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.options.showInLayerList !== false; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    Layer.prototype.setMap = /**\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    function (map$$1) {\r\n        this.map = map$$1;\r\n    };\r\n    return Layer;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MetadataService = /** @class */ (function () {\r\n    function MetadataService() {\r\n    }\r\n    /**\r\n     * @param {?} metadata\r\n     * @return {?}\r\n     */\r\n    MetadataService.prototype.open = /**\r\n     * @param {?} metadata\r\n     * @return {?}\r\n     */\r\n    function (metadata) {\r\n        if (metadata.extern) {\r\n            window.open(metadata.url, '_blank');\r\n        }\r\n    };\r\n    MetadataService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    MetadataService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ MetadataService.ngInjectableDef = defineInjectable({ factory: function MetadataService_Factory() { return new MetadataService(); }, token: MetadataService, providedIn: \"root\" });\r\n    return MetadataService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MetadataButtonComponent = /** @class */ (function () {\r\n    function MetadataButtonComponent(metadataService) {\r\n        this.metadataService = metadataService;\r\n        this._color = 'primary';\r\n    }\r\n    Object.defineProperty(MetadataButtonComponent.prototype, \"layer\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._layer;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._layer = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MetadataButtonComponent.prototype, \"color\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._color;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._color = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} metadata\r\n     * @return {?}\r\n     */\r\n    MetadataButtonComponent.prototype.openMetadata = /**\r\n     * @param {?} metadata\r\n     * @return {?}\r\n     */\r\n    function (metadata) {\r\n        this.metadataService.open(metadata);\r\n    };\r\n    Object.defineProperty(MetadataButtonComponent.prototype, \"options\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (!this.layer) {\r\n                return;\r\n            }\r\n            return this.layer.options;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MetadataButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-metadata-button',\r\n                    template: \"<button\\r\\n  *ngIf=\\\"options && options.metadata && options.metadata.url\\\"\\r\\n  mat-icon-button\\r\\n  tooltip-position=\\\"below\\\"\\r\\n  matTooltipShowDelay=\\\"500\\\"\\r\\n  [matTooltip]=\\\"'igo.geo.metadata.show' | translate\\\"\\r\\n  [color]=\\\"color\\\"\\r\\n  (click)=\\\"openMetadata(options.metadata)\\\">\\r\\n  <mat-icon svgIcon=\\\"information-outline\\\"></mat-icon>\\r\\n</button>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    MetadataButtonComponent.ctorParameters = function () { return [\r\n        { type: MetadataService }\r\n    ]; };\r\n    MetadataButtonComponent.propDecorators = {\r\n        layer: [{ type: Input }],\r\n        color: [{ type: Input }]\r\n    };\r\n    return MetadataButtonComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoMetadataModule = /** @class */ (function () {\r\n    function IgoMetadataModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoMetadataModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoMetadataModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoMetadataModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    exports: [MetadataButtonComponent],\r\n                    declarations: [MetadataButtonComponent]\r\n                },] }\r\n    ];\r\n    return IgoMetadataModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @abstract\r\n */\r\nvar  /**\r\n * @abstract\r\n */\r\nDataService = /** @class */ (function () {\r\n    function DataService() {\r\n    }\r\n    return DataService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Generate a id from it's datasource options.\r\n * @param {?} options Data source options\r\n * @return {?} A id\r\n */\r\nfunction generateIdFromSourceOptions(options) {\r\n    /** @type {?} */\r\n    var generators = {\r\n        wms: generateWMSIdFromSourceOptions,\r\n        wmts: generateWMTSIdFromSourceOptions,\r\n        xyz: generateXYZIdFromSourceOptions,\r\n        feature: generateFeatureIdFromSourceOptions,\r\n        osm: (/**\r\n         * @param {?} _options\r\n         * @return {?}\r\n         */\r\n        function (_options) { return 'OSM'; })\r\n    };\r\n    /** @type {?} */\r\n    var generator = generators[options.type] || generateId;\r\n    return generator(options);\r\n}\r\n/**\r\n * Generate a id from WMS data source options\r\n * @param {?} options WMS data source options\r\n * @return {?} A md5 hash of the the url and layers\r\n */\r\nfunction generateWMSIdFromSourceOptions(options) {\r\n    /** @type {?} */\r\n    var layers = options.params.layers;\r\n    /** @type {?} */\r\n    var chain = 'wms' + options.url + layers;\r\n    return (/** @type {?} */ (Md5.hashStr(chain)));\r\n}\r\n/**\r\n * Generate a id from WMTS data source options\r\n * @param {?} options WMTS data source options\r\n * @return {?} A md5 hash of the the url and layer\r\n */\r\nfunction generateWMTSIdFromSourceOptions(options) {\r\n    /** @type {?} */\r\n    var layer = options.layer;\r\n    /** @type {?} */\r\n    var chain = 'wmts' + options.url + layer;\r\n    return (/** @type {?} */ (Md5.hashStr(chain)));\r\n}\r\n/**\r\n * Generate a id from XYZ data source options\r\n * @param {?} options XYZ data source options\r\n * @return {?} A md5 hash of the the url and layer\r\n */\r\nfunction generateXYZIdFromSourceOptions(options) {\r\n    /** @type {?} */\r\n    var chain = 'xyz' + options.url;\r\n    return (/** @type {?} */ (Md5.hashStr(chain)));\r\n}\r\n/**\r\n * Generate a id from feature data source options\r\n * @param {?} options XYZ data source options\r\n * @return {?} A md5 hash of the the url and layer\r\n */\r\nfunction generateFeatureIdFromSourceOptions(options) {\r\n    if (!options.url) {\r\n        return generateId(options);\r\n    }\r\n    /** @type {?} */\r\n    var chain = 'feature' + options.url;\r\n    return (/** @type {?} */ (Md5.hashStr(chain)));\r\n}\r\n/**\r\n * Generate a unique id\r\n * @param {?} options\r\n * @return {?} A uuid\r\n */\r\nfunction generateId(options) {\r\n    return uuid();\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @abstract\r\n */\r\nvar  /**\r\n * @abstract\r\n */\r\nDataSource = /** @class */ (function () {\r\n    function DataSource(options, dataService) {\r\n        if (options === void 0) { options = {}; }\r\n        this.options = options;\r\n        this.dataService = dataService;\r\n        this.options = options;\r\n        this.id = this.generateId();\r\n        this.ol = this.createOlSource();\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    DataSource.prototype.generateId = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return generateIdFromSourceOptions(this.options);\r\n    };\r\n    /**\r\n     * @param {?=} scale\r\n     * @return {?}\r\n     */\r\n    DataSource.prototype.getLegend = /**\r\n     * @param {?=} scale\r\n     * @return {?}\r\n     */\r\n    function (scale) {\r\n        return this.options.legend ? [this.options.legend] : [];\r\n    };\r\n    return DataSource;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar FeatureDataSource = /** @class */ (function (_super) {\r\n    __extends(FeatureDataSource, _super);\r\n    function FeatureDataSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    FeatureDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var sourceOptions = {\r\n            format: this.getSourceFormatFromOptions(this.options)\r\n        };\r\n        return new OlVectorSource(Object.assign(sourceOptions, this.options));\r\n    };\r\n    /**\r\n     * @protected\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    FeatureDataSource.prototype.getSourceFormatFromOptions = /**\r\n     * @protected\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (options) {\r\n        if (options.format) {\r\n            return options.format;\r\n        }\r\n        /** @type {?} */\r\n        var olFormatCls;\r\n        /** @type {?} */\r\n        var formatType = options.formatType;\r\n        if (!formatType) {\r\n            olFormatCls = GeoJSON;\r\n        }\r\n        else {\r\n            olFormatCls = olformat[formatType];\r\n            if (olFormatCls === undefined) {\r\n                throw new Error('Invalid vector source format ${formatType}.');\r\n            }\r\n        }\r\n        /** @type {?} */\r\n        var formatOptions = options.formatOptions;\r\n        /** @type {?} */\r\n        var format;\r\n        if (formatOptions) {\r\n            format = new olFormatCls(formatOptions);\r\n        }\r\n        else {\r\n            format = new olFormatCls();\r\n        }\r\n        return format;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FeatureDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return FeatureDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OSMDataSource = /** @class */ (function (_super) {\r\n    __extends(OSMDataSource, _super);\r\n    function OSMDataSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    OSMDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.options.url = 'https://tile.openstreetmap.org/{z}/{x}/{y}.png';\r\n        return new olSourceOSM(this.options);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OSMDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return OSMDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar XYZDataSource = /** @class */ (function (_super) {\r\n    __extends(XYZDataSource, _super);\r\n    function XYZDataSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    XYZDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return new olSourceXYZ(this.options);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    XYZDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return XYZDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OgcFilterWriter = /** @class */ (function () {\r\n    function OgcFilterWriter() {\r\n        this.filterSequence = [];\r\n        this.operators = {\r\n            PropertyIsEqualTo: { spatial: false, fieldRestrict: [] },\r\n            PropertyIsNotEqualTo: { spatial: false, fieldRestrict: [] },\r\n            PropertyIsLike: { spatial: false, fieldRestrict: ['string'] },\r\n            PropertyIsGreaterThan: { spatial: false, fieldRestrict: ['number'] },\r\n            PropertyIsGreaterThanOrEqualTo: { spatial: false, fieldRestrict: ['number'] },\r\n            PropertyIsLessThan: { spatial: false, fieldRestrict: ['number'] },\r\n            PropertyIsLessThanOrEqualTo: { spatial: false, fieldRestrict: ['number'] },\r\n            PropertyIsBetween: { spatial: false, fieldRestrict: ['number'] },\r\n            During: { spatial: false, fieldRestrict: [] },\r\n            PropertyIsNull: { spatial: false, fieldRestrict: [] },\r\n            Intersects: { spatial: true, fieldRestrict: [] },\r\n            Within: { spatial: true, fieldRestrict: [] },\r\n            Contains: { spatial: true, fieldRestrict: [] }\r\n        };\r\n    }\r\n    /**\r\n     * @param {?} ogcFiltersOptions\r\n     * @param {?} fieldNameGeometry\r\n     * @param {?=} srcType\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.defineOgcFiltersDefaultOptions = /**\r\n     * @param {?} ogcFiltersOptions\r\n     * @param {?} fieldNameGeometry\r\n     * @param {?=} srcType\r\n     * @return {?}\r\n     */\r\n    function (ogcFiltersOptions, fieldNameGeometry, srcType) {\r\n        /** @type {?} */\r\n        var ogcFiltersDefaultValue = true;\r\n        if (srcType && srcType === 'wms') {\r\n            ogcFiltersDefaultValue = false;\r\n        }\r\n        ogcFiltersOptions = ogcFiltersOptions || {};\r\n        ogcFiltersOptions.enabled = ogcFiltersOptions.enabled === undefined ? ogcFiltersDefaultValue : ogcFiltersOptions.enabled;\r\n        ogcFiltersOptions.editable = ogcFiltersOptions.editable === undefined ? ogcFiltersDefaultValue : ogcFiltersOptions.editable;\r\n        ogcFiltersOptions.geometryName = fieldNameGeometry;\r\n        ogcFiltersOptions.advancedOgcFilters = true;\r\n        if (ogcFiltersOptions.enabled && ogcFiltersOptions.pushButtons) {\r\n            ogcFiltersOptions.advancedOgcFilters = false;\r\n        }\r\n        return ogcFiltersOptions;\r\n    };\r\n    /**\r\n     * @param {?=} filters\r\n     * @param {?=} extent\r\n     * @param {?=} proj\r\n     * @param {?=} fieldNameGeometry\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.buildFilter = /**\r\n     * @param {?=} filters\r\n     * @param {?=} extent\r\n     * @param {?=} proj\r\n     * @param {?=} fieldNameGeometry\r\n     * @return {?}\r\n     */\r\n    function (filters, extent, proj, fieldNameGeometry) {\r\n        /** @type {?} */\r\n        var ourBboxFilter;\r\n        /** @type {?} */\r\n        var enableBbox;\r\n        if (/intersects|contains|within/gi.test(JSON.stringify(filters))) {\r\n            enableBbox = false;\r\n        }\r\n        else {\r\n            enableBbox = true;\r\n        }\r\n        if (filters) {\r\n            fieldNameGeometry =\r\n                ((/** @type {?} */ (filters))).geometryName !== undefined\r\n                    ? ((/** @type {?} */ (filters))).geometryName\r\n                    : fieldNameGeometry;\r\n        }\r\n        if (extent && filters) {\r\n            ourBboxFilter = bbox(fieldNameGeometry, extent, proj.getCode());\r\n        }\r\n        /** @type {?} */\r\n        var filterAssembly;\r\n        if (filters) {\r\n            filters = this.checkIgoFiltersProperties(filters, fieldNameGeometry);\r\n            if (extent && enableBbox) {\r\n                filterAssembly = and(ourBboxFilter, this.bundleFilter(filters));\r\n            }\r\n            else {\r\n                filterAssembly = this.bundleFilter(filters);\r\n            }\r\n        }\r\n        else {\r\n            return 'bbox=' + extent.join(',') + ',' + proj.getCode();\r\n        }\r\n        /** @type {?} */\r\n        var wfsOptions = {\r\n            srsName: '',\r\n            featureNS: '',\r\n            featurePrefix: '',\r\n            featureTypes: ['featureTypes'],\r\n            filter: filterAssembly,\r\n            outputFormat: '',\r\n            geometryName: fieldNameGeometry\r\n        };\r\n        /** @type {?} */\r\n        var query = new olFormatWFS().writeGetFeature(wfsOptions);\r\n        /** @type {?} */\r\n        var str = new XMLSerializer().serializeToString(query);\r\n        /** @type {?} */\r\n        var regexp1 = /typenames *=|typename *=\\\"featureTypes\\\" *>/gi;\r\n        /** @type {?} */\r\n        var regexp2 = /<\\/Query><\\/GetFeature>/gi;\r\n        return 'filter=' + str.split(regexp1)[1].split(regexp2)[0];\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} filterObject\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.bundleFilter = /**\r\n     * @private\r\n     * @param {?} filterObject\r\n     * @return {?}\r\n     */\r\n    function (filterObject) {\r\n        var _this = this;\r\n        if (filterObject instanceof Array) {\r\n            /** @type {?} */\r\n            var logicalArray_1 = [];\r\n            filterObject.forEach((/**\r\n             * @param {?} element\r\n             * @return {?}\r\n             */\r\n            function (element) {\r\n                logicalArray_1.push(_this.bundleFilter(element));\r\n            }));\r\n            return logicalArray_1;\r\n        }\r\n        else {\r\n            if (filterObject.hasOwnProperty('logical')) {\r\n                return this.createFilter({\r\n                    operator: filterObject.logical,\r\n                    logicalArray: this.bundleFilter(filterObject.filters)\r\n                });\r\n            }\r\n            else if (filterObject.hasOwnProperty('operator')) {\r\n                return this.createFilter((/** @type {?} */ (filterObject)));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} filterOptions\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.createFilter = /**\r\n     * @private\r\n     * @param {?} filterOptions\r\n     * @return {?}\r\n     */\r\n    function (filterOptions) {\r\n        /** @type {?} */\r\n        var operator = filterOptions.operator;\r\n        /** @type {?} */\r\n        var logicalArray = filterOptions.logicalArray;\r\n        /** @type {?} */\r\n        var wfsPropertyName = filterOptions.propertyName;\r\n        /** @type {?} */\r\n        var wfsPattern = filterOptions.pattern;\r\n        /** @type {?} */\r\n        var wfsMatchCase = filterOptions.matchCase\r\n            ? filterOptions.matchCase\r\n            : true;\r\n        /** @type {?} */\r\n        var wfsWildCard = filterOptions.wildCard ? filterOptions.wildCard : '*';\r\n        /** @type {?} */\r\n        var wfsSingleChar = filterOptions.singleChar\r\n            ? filterOptions.singleChar\r\n            : '.';\r\n        /** @type {?} */\r\n        var wfsEscapeChar = filterOptions.escapeChar\r\n            ? filterOptions.escapeChar\r\n            : '!';\r\n        /** @type {?} */\r\n        var wfsLowerBoundary = filterOptions.lowerBoundary;\r\n        /** @type {?} */\r\n        var wfsUpperBoundary = filterOptions.upperBoundary;\r\n        /** @type {?} */\r\n        var wfsGeometryName = filterOptions.geometryName;\r\n        /** @type {?} */\r\n        var wfsExtent = filterOptions.extent;\r\n        /** @type {?} */\r\n        var wfsWktGeometry = filterOptions.wkt_geometry;\r\n        /** @type {?} */\r\n        var wfsSrsName = filterOptions.srsName\r\n            ? filterOptions.srsName\r\n            : 'EPSG:3857';\r\n        /** @type {?} */\r\n        var wfsBegin = filterOptions.begin;\r\n        /** @type {?} */\r\n        var wfsEnd = filterOptions.end;\r\n        /** @type {?} */\r\n        var wfsExpression = filterOptions.expression;\r\n        /** @type {?} */\r\n        var geometry;\r\n        if (wfsWktGeometry) {\r\n            /** @type {?} */\r\n            var wkt = new olWKT();\r\n            geometry = wkt.readGeometry(wfsWktGeometry, {\r\n                dataProjection: wfsSrsName,\r\n                featureProjection: 'EPSG:3857'\r\n            });\r\n        }\r\n        switch (operator) {\r\n            case 'BBOX':\r\n                return bbox(wfsGeometryName, wfsExtent, wfsSrsName);\r\n            case 'PropertyIsBetween':\r\n                return between(wfsPropertyName, wfsLowerBoundary, wfsUpperBoundary);\r\n            case 'Contains':\r\n                return contains(wfsGeometryName, geometry, wfsSrsName);\r\n            case 'During':\r\n                return during(wfsPropertyName, wfsBegin, wfsEnd);\r\n            case 'PropertyIsEqualTo':\r\n                return equalTo(wfsPropertyName, wfsExpression, wfsMatchCase);\r\n            case 'PropertyIsGreaterThan':\r\n                return greaterThan(wfsPropertyName, wfsExpression);\r\n            case 'PropertyIsGreaterThanOrEqualTo':\r\n                return greaterThanOrEqualTo(wfsPropertyName, wfsExpression);\r\n            case 'Intersects':\r\n                return intersects(wfsGeometryName, geometry, wfsSrsName);\r\n            case 'PropertyIsNull':\r\n                return isNull(wfsPropertyName);\r\n            case 'PropertyIsLessThan':\r\n                return lessThan(wfsPropertyName, wfsExpression);\r\n            case 'PropertyIsLessThanOrEqualTo':\r\n                return lessThanOrEqualTo(wfsPropertyName, wfsExpression);\r\n            case 'PropertyIsLike':\r\n                return like(wfsPropertyName, wfsPattern.replace(/[()_]/gi, wfsSingleChar), wfsWildCard, wfsSingleChar, wfsEscapeChar, wfsMatchCase);\r\n            case 'PropertyIsNotEqualTo':\r\n                return notEqualTo(wfsPropertyName, wfsExpression, wfsMatchCase);\r\n            case 'Within':\r\n                return within(wfsGeometryName, geometry, wfsSrsName);\r\n            // LOGICAL\r\n            case 'And':\r\n                return and.apply(null, logicalArray);\r\n            case 'Or':\r\n                return or.apply(null, logicalArray);\r\n            case 'Not':\r\n                return not.apply(null, logicalArray);\r\n            default:\r\n                return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} filterObject\r\n     * @param {?} geometryName\r\n     * @param {?=} logical\r\n     * @param {?=} level\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.defineInterfaceFilterSequence = /**\r\n     * @param {?} filterObject\r\n     * @param {?} geometryName\r\n     * @param {?=} logical\r\n     * @param {?=} level\r\n     * @return {?}\r\n     */\r\n    function (filterObject, geometryName, logical, level) {\r\n        var _this = this;\r\n        if (logical === void 0) { logical = ''; }\r\n        if (level === void 0) { level = -1; }\r\n        if (filterObject instanceof Array) {\r\n            filterObject.forEach((/**\r\n             * @param {?} element\r\n             * @return {?}\r\n             */\r\n            function (element) {\r\n                _this.filterSequence.concat(_this.defineInterfaceFilterSequence(element, geometryName, logical, level));\r\n            }));\r\n        }\r\n        else {\r\n            if (filterObject.hasOwnProperty('logical')) {\r\n                level = level + 1;\r\n                this.filterSequence.concat(this.defineInterfaceFilterSequence(filterObject.filters, geometryName, filterObject.logical, level));\r\n            }\r\n            else if (filterObject.hasOwnProperty('operator')) {\r\n                this.filterSequence.push(this.addInterfaceFilter(filterObject, geometryName, level, logical));\r\n            }\r\n        }\r\n        return this.filterSequence;\r\n    };\r\n    /**\r\n     * @param {?=} igoOgcFilterObject\r\n     * @param {?=} geometryName\r\n     * @param {?=} level\r\n     * @param {?=} parentLogical\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.addInterfaceFilter = /**\r\n     * @param {?=} igoOgcFilterObject\r\n     * @param {?=} geometryName\r\n     * @param {?=} level\r\n     * @param {?=} parentLogical\r\n     * @return {?}\r\n     */\r\n    function (igoOgcFilterObject, geometryName, level, parentLogical) {\r\n        if (level === void 0) { level = 0; }\r\n        if (parentLogical === void 0) { parentLogical = 'Or'; }\r\n        if (!igoOgcFilterObject) {\r\n            igoOgcFilterObject = { operator: 'PropertyIsEqualTo' };\r\n        }\r\n        /** @type {?} */\r\n        var f = {\r\n            propertyName: '',\r\n            operator: '',\r\n            active: '',\r\n            filterid: uuid(),\r\n            begin: '',\r\n            end: '',\r\n            lowerBoundary: '',\r\n            upperBoundary: '',\r\n            expression: '',\r\n            pattern: '',\r\n            wildCard: '*',\r\n            singleChar: '.',\r\n            escapeChar: '!',\r\n            matchCase: true,\r\n            igoSpatialSelector: '',\r\n            geometryName: '',\r\n            geometry: '',\r\n            wkt_geometry: '',\r\n            extent: '',\r\n            srsName: '',\r\n            parentLogical: '',\r\n            level: 0\r\n        };\r\n        return Object.assign(f, {\r\n            parentLogical: parentLogical,\r\n            level: level,\r\n            geometryName: geometryName\r\n        }, igoOgcFilterObject);\r\n    };\r\n    /**\r\n     * @param {?} filterObject\r\n     * @param {?} fieldNameGeometry\r\n     * @param {?=} active\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.checkIgoFiltersProperties = /**\r\n     * @param {?} filterObject\r\n     * @param {?} fieldNameGeometry\r\n     * @param {?=} active\r\n     * @return {?}\r\n     */\r\n    function (filterObject, fieldNameGeometry, active) {\r\n        var _this = this;\r\n        if (active === void 0) { active = false; }\r\n        /** @type {?} */\r\n        var filterArray = [];\r\n        if (filterObject instanceof Array) {\r\n            filterObject.forEach((/**\r\n             * @param {?} element\r\n             * @return {?}\r\n             */\r\n            function (element) {\r\n                filterArray.push(_this.checkIgoFiltersProperties(element, fieldNameGeometry, active));\r\n            }));\r\n            return filterArray;\r\n        }\r\n        else {\r\n            if (filterObject.hasOwnProperty('logical')) {\r\n                return Object.assign({}, {\r\n                    logical: filterObject.logical,\r\n                    filters: this.checkIgoFiltersProperties(filterObject.filters, fieldNameGeometry, active)\r\n                });\r\n            }\r\n            else if (filterObject.hasOwnProperty('operator')) {\r\n                return this.addFilterProperties((/** @type {?} */ (filterObject)), fieldNameGeometry, active);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} igoOgcFilterObject\r\n     * @param {?} fieldNameGeometry\r\n     * @param {?=} active\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.addFilterProperties = /**\r\n     * @private\r\n     * @param {?} igoOgcFilterObject\r\n     * @param {?} fieldNameGeometry\r\n     * @param {?=} active\r\n     * @return {?}\r\n     */\r\n    function (igoOgcFilterObject, fieldNameGeometry, active) {\r\n        if (active === void 0) { active = false; }\r\n        /** @type {?} */\r\n        var filterid = igoOgcFilterObject.hasOwnProperty('filterid')\r\n            ? igoOgcFilterObject.filterid\r\n            : uuid();\r\n        /** @type {?} */\r\n        var status = igoOgcFilterObject.hasOwnProperty('active')\r\n            ? igoOgcFilterObject.active\r\n            : active;\r\n        return Object.assign({}, {\r\n            filterid: filterid,\r\n            active: status,\r\n            igoSpatialSelector: 'fixedExtent'\r\n        }, igoOgcFilterObject, { geometryName: fieldNameGeometry });\r\n    };\r\n    /**\r\n     * @param {?} sequence\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.rebuiltIgoOgcFilterObjectFromSequence = /**\r\n     * @param {?} sequence\r\n     * @return {?}\r\n     */\r\n    function (sequence) {\r\n        if (sequence instanceof Array) {\r\n            if (sequence.length >= 1) {\r\n                /** @type {?} */\r\n                var lastParentLogical_1 = sequence[0].parentLogical;\r\n                /** @type {?} */\r\n                var nextElement_1;\r\n                /** @type {?} */\r\n                var logicalArray_2 = [];\r\n                /** @type {?} */\r\n                var lastProcessedFilter_1;\r\n                sequence.forEach((/**\r\n                 * @param {?} uiFilter\r\n                 * @return {?}\r\n                 */\r\n                function (uiFilter) {\r\n                    /** @type {?} */\r\n                    var element = Object.assign({}, uiFilter);\r\n                    /** @type {?} */\r\n                    var index = sequence.indexOf(uiFilter);\r\n                    if (index >= 0 && index < sequence.length - 1) {\r\n                        nextElement_1 = sequence[index + 1];\r\n                    }\r\n                    else {\r\n                        nextElement_1 = element;\r\n                    }\r\n                    delete element.active;\r\n                    delete element.filterid;\r\n                    delete element.parentLogical;\r\n                    logicalArray_2.push(element);\r\n                    if (sequence.length === 1) {\r\n                        lastProcessedFilter_1 = element;\r\n                    }\r\n                    else if (lastParentLogical_1 !== nextElement_1.parentLogical) {\r\n                        if (logicalArray_2.length === 1) {\r\n                            console.log('You must set at ' +\r\n                                'least two operator in a logical (' +\r\n                                lastParentLogical_1 +\r\n                                ')');\r\n                        }\r\n                        else {\r\n                            lastProcessedFilter_1 = Object.assign({}, { logical: lastParentLogical_1, filters: logicalArray_2 });\r\n                            logicalArray_2 = [lastProcessedFilter_1];\r\n                            lastParentLogical_1 = nextElement_1.parentLogical;\r\n                        }\r\n                    }\r\n                }));\r\n                return lastProcessedFilter_1;\r\n            }\r\n            else {\r\n                return undefined;\r\n            }\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} options\r\n     * @param {?} fieldNameGeometry\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.handleOgcFiltersAppliedValue = /**\r\n     * @param {?} options\r\n     * @param {?} fieldNameGeometry\r\n     * @return {?}\r\n     */\r\n    function (options, fieldNameGeometry) {\r\n        /** @type {?} */\r\n        var ogcFilters = options.ogcFilters;\r\n        if (!ogcFilters) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var filterQueryStringPushButton = '';\r\n        /** @type {?} */\r\n        var filterQueryStringAdvancedFilters = '';\r\n        if (ogcFilters.enabled && ogcFilters.pushButtons) {\r\n            /** @type {?} */\r\n            var pushButtonBundle = ogcFilters.pushButtons;\r\n            /** @type {?} */\r\n            var conditions_1 = [];\r\n            pushButtonBundle.map((/**\r\n             * @param {?} buttonBundle\r\n             * @return {?}\r\n             */\r\n            function (buttonBundle) {\r\n                /** @type {?} */\r\n                var bundleCondition = [];\r\n                buttonBundle.ogcPushButtons\r\n                    .filter((/**\r\n                 * @param {?} ogcpb\r\n                 * @return {?}\r\n                 */\r\n                function (ogcpb) { return ogcpb.enabled === true; }))\r\n                    .forEach((/**\r\n                 * @param {?} enabledPb\r\n                 * @return {?}\r\n                 */\r\n                function (enabledPb) { return bundleCondition.push(enabledPb.filters); }));\r\n                if (bundleCondition.length === 1) {\r\n                    conditions_1.push(bundleCondition[0]);\r\n                }\r\n                else if (bundleCondition.length > 1) {\r\n                    conditions_1.push({ logical: buttonBundle.logical, filters: bundleCondition });\r\n                }\r\n            }));\r\n            if (conditions_1.length >= 1) {\r\n                filterQueryStringPushButton = this.buildFilter(conditions_1.length === 1 ? conditions_1[0] : { logical: 'And', filters: conditions_1 });\r\n            }\r\n        }\r\n        if (ogcFilters.enabled && ogcFilters.filters) {\r\n            ogcFilters.geometryName = ogcFilters.geometryName || fieldNameGeometry;\r\n            /** @type {?} */\r\n            var igoFilters = ogcFilters.filters;\r\n            filterQueryStringAdvancedFilters = this.buildFilter(igoFilters);\r\n        }\r\n        /** @type {?} */\r\n        var filterQueryString = ogcFilters.advancedOgcFilters ? filterQueryStringAdvancedFilters : filterQueryStringPushButton;\r\n        if (options.type === 'wms') {\r\n            filterQueryString = this.formatProcessedOgcFilter(filterQueryString, ((/** @type {?} */ (options))).params.layers);\r\n        }\r\n        if (options.type === 'wfs') {\r\n            filterQueryString = this.formatProcessedOgcFilter(filterQueryString, ((/** @type {?} */ (options))).params.featureTypes);\r\n        }\r\n        return filterQueryString;\r\n    };\r\n    /**\r\n     * @param {?} processedFilter\r\n     * @param {?} layersOrTypenames\r\n     * @return {?}\r\n     */\r\n    OgcFilterWriter.prototype.formatProcessedOgcFilter = /**\r\n     * @param {?} processedFilter\r\n     * @param {?} layersOrTypenames\r\n     * @return {?}\r\n     */\r\n    function (processedFilter, layersOrTypenames) {\r\n        /** @type {?} */\r\n        var appliedFilter = '';\r\n        if (processedFilter.length === 0 && layersOrTypenames.indexOf(',') === -1) {\r\n            appliedFilter = processedFilter;\r\n        }\r\n        else {\r\n            layersOrTypenames.split(',').forEach((/**\r\n             * @param {?} layerOrTypenames\r\n             * @return {?}\r\n             */\r\n            function (layerOrTypenames) {\r\n                appliedFilter = appliedFilter + \"(\" + processedFilter.replace('filter=', '') + \")\";\r\n            }));\r\n        }\r\n        /** @type {?} */\r\n        var filterValue = appliedFilter.length > 0 ? appliedFilter.replace('filter=', '') : undefined;\r\n        return filterValue;\r\n    };\r\n    return OgcFilterWriter;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar defaultEpsg = 'EPSG:3857';\r\n/** @type {?} */\r\nvar defaultMaxFeatures = 5000;\r\n/** @type {?} */\r\nvar defaultWfsVersion = '2.0.0';\r\n/** @type {?} */\r\nvar defaultFieldNameGeometry = 'geometry';\r\n/** @type {?} */\r\nvar gmlRegex = new RegExp(/.*?gml.*?/gi);\r\n/** @type {?} */\r\nvar jsonRegex = new RegExp(/.*?json.*?/gi);\r\n/**\r\n * This method build/standardize WFS call query params based on the layer property.\r\n * @param {?} wfsDataSourceOptions  WFSDataSourceOptions The common wfs datasource options interface\r\n * @param {?=} count  Number: Used to control the number of feature. Used to bypass whe wfs datasource options interface (maxFeatures)\r\n * @param {?=} epsg  String: Used to control the EPSG code (es: 'EPSG3857'). Used to bypass whe wfs datasource options interface (srsName)\r\n * @param {?=} properties  String: Used to control the queried fields  (WFS service).\r\n * @return {?} An array array of {name: '', value: ''} of predefined query params.\r\n */\r\nfunction formatWFSQueryString(wfsDataSourceOptions, count, epsg, properties) {\r\n    /** @type {?} */\r\n    var versionWfs200 = '2.0.0';\r\n    // not the same usage as defaultWfsVersion.\r\n    /** @type {?} */\r\n    var url = wfsDataSourceOptions.urlWfs;\r\n    /** @type {?} */\r\n    var paramsWFS = wfsDataSourceOptions.paramsWFS;\r\n    /** @type {?} */\r\n    var effectiveCount = count || defaultMaxFeatures;\r\n    /** @type {?} */\r\n    var epsgCode = epsg || defaultEpsg;\r\n    /** @type {?} */\r\n    var outputFormat = paramsWFS.outputFormat ? \"outputFormat=\" + paramsWFS.outputFormat : '';\r\n    /** @type {?} */\r\n    var version = paramsWFS.version ? \"version=\" + paramsWFS.version : \"version=\" + defaultWfsVersion;\r\n    /** @type {?} */\r\n    var paramTypename = paramsWFS.version === versionWfs200 ? 'typenames' : 'typename';\r\n    /** @type {?} */\r\n    var featureTypes = paramTypename + \"=\" + paramsWFS.featureTypes;\r\n    /** @type {?} */\r\n    var paramMaxFeatures = paramsWFS.version === versionWfs200 ? 'count' : 'maxFeatures';\r\n    /** @type {?} */\r\n    var cnt = count ? paramMaxFeatures + \"=\" + effectiveCount :\r\n        paramsWFS.maxFeatures ? paramMaxFeatures + \"=\" + paramsWFS.maxFeatures : paramMaxFeatures + \"=\" + effectiveCount;\r\n    /** @type {?} */\r\n    var srs = epsg ? \"srsname=\" + epsgCode : paramsWFS.srsName ? 'srsname=' + paramsWFS.srsName : \"srsname=\" + epsgCode;\r\n    /** @type {?} */\r\n    var propertyName = '';\r\n    /** @type {?} */\r\n    var valueReference = '';\r\n    if (properties) {\r\n        propertyName = \"propertyName=\" + properties;\r\n        valueReference = \"valueReference=\" + properties;\r\n    }\r\n    /** @type {?} */\r\n    var sourceFields = wfsDataSourceOptions.sourceFields;\r\n    if (!propertyName && sourceFields && sourceFields.length > 0) {\r\n        /** @type {?} */\r\n        var fieldsNames_1 = [];\r\n        wfsDataSourceOptions.sourceFields.forEach((/**\r\n         * @param {?} sourcefield\r\n         * @return {?}\r\n         */\r\n        function (sourcefield) {\r\n            fieldsNames_1.push(sourcefield.name);\r\n        }));\r\n        propertyName = \"propertyName=\" + fieldsNames_1.join(',') + \",\" + paramsWFS.fieldNameGeometry;\r\n    }\r\n    /** @type {?} */\r\n    var getCapabilities = url + \"?service=wfs&request=GetCapabilities&\" + version;\r\n    /** @type {?} */\r\n    var getFeature = url + \"?service=wfs&request=GetFeature&\" + version + \"&\" + featureTypes + \"&\";\r\n    getFeature += outputFormat + \"&\" + srs + \"&\" + cnt + \"&\" + propertyName;\r\n    /** @type {?} */\r\n    var getpropertyvalue = url + \"?service=wfs&request=GetPropertyValue&version=\" + versionWfs200 + \"&\" + featureTypes + \"&\";\r\n    getpropertyvalue += \"&\" + cnt + \"&\" + valueReference;\r\n    return [\r\n        { name: 'outputformat', value: outputFormat },\r\n        { name: 'version', value: version },\r\n        { name: 'typename', value: featureTypes },\r\n        { name: 'count', value: cnt },\r\n        { name: 'srsname', value: srs },\r\n        { name: 'propertyname', value: propertyName },\r\n        { name: 'valuereference', value: valueReference },\r\n        { name: 'getcapabilities', value: getCapabilities.replace(/&&/g, '&') },\r\n        { name: 'getfeature', value: getFeature.replace(/&&/g, '&') },\r\n        { name: 'getpropertyvalue', value: getpropertyvalue.replace(/&&/g, '&') }\r\n    ];\r\n}\r\n/**\r\n * Validate/Modify layer's wfs options based on :\r\n * 1- an Openlayers's issue with GML provided from WFS. Refer to\r\n * https://github.com/openlayers/openlayers/pull/6400\r\n * 2- Set default values for optionals parameters.\r\n * @param {?} wfsDataSourceOptions  WFSDataSourceOptions The common wfs datasource options interface\r\n * @param {?=} srcType\r\n * @return {?} An array array of {name: '', value: ''} of predefined query params.\r\n */\r\nfunction checkWfsParams(wfsDataSourceOptions, srcType) {\r\n    if (srcType && srcType === 'wfs') {\r\n        // reassignation of params to paramsWFS and url to urlWFS to have a common interface with wms-wfs datasources\r\n        wfsDataSourceOptions.paramsWFS = wfsDataSourceOptions.params;\r\n    }\r\n    /** @type {?} */\r\n    var paramsWFS = wfsDataSourceOptions.paramsWFS;\r\n    wfsDataSourceOptions.urlWfs = wfsDataSourceOptions.urlWfs || wfsDataSourceOptions.url;\r\n    paramsWFS.version = paramsWFS.version || defaultWfsVersion;\r\n    paramsWFS.fieldNameGeometry = paramsWFS.fieldNameGeometry || defaultFieldNameGeometry;\r\n    paramsWFS.maxFeatures = paramsWFS.maxFeatures || defaultMaxFeatures;\r\n    /** @type {?} */\r\n    var outputFormat;\r\n    if (paramsWFS.outputFormat) {\r\n        outputFormat = paramsWFS.outputFormat;\r\n    }\r\n    if (gmlRegex.test(outputFormat) || !outputFormat) {\r\n        paramsWFS.version = '1.1.0';\r\n    }\r\n    return Object.assign({}, wfsDataSourceOptions);\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WFSDataSource = /** @class */ (function (_super) {\r\n    __extends(WFSDataSource, _super);\r\n    function WFSDataSource(options, wfsService) {\r\n        var _this = _super.call(this, checkWfsParams(options, 'wfs')) || this;\r\n        _this.options = options;\r\n        _this.wfsService = wfsService;\r\n        /** @type {?} */\r\n        var ogcFilters = ((/** @type {?} */ (_this.options))).ogcFilters;\r\n        /** @type {?} */\r\n        var fieldNameGeometry = _this.options.paramsWFS.fieldNameGeometry || defaultFieldNameGeometry;\r\n        /** @type {?} */\r\n        var ogcFilterWriter = new OgcFilterWriter();\r\n        ((/** @type {?} */ (_this.options))).ogcFilters =\r\n            ogcFilterWriter.defineOgcFiltersDefaultOptions(ogcFilters, fieldNameGeometry);\r\n        if (((/** @type {?} */ (_this.options))).ogcFilters.enabled) {\r\n            _this.wfsService.getSourceFieldsFromWFS(_this.options);\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    WFSDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        return new OlVectorSource({\r\n            format: this.getFormatFromOptions(),\r\n            overlaps: false,\r\n            url: (/**\r\n             * @param {?} extent\r\n             * @param {?} resolution\r\n             * @param {?} proj\r\n             * @return {?}\r\n             */\r\n            function (extent, resolution, proj) {\r\n                return _this.buildUrl(extent, proj, ((/** @type {?} */ (_this.options))).ogcFilters);\r\n            }),\r\n            strategy: bbox$1\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} extent\r\n     * @param {?} proj\r\n     * @param {?} ogcFilters\r\n     * @return {?}\r\n     */\r\n    WFSDataSource.prototype.buildUrl = /**\r\n     * @private\r\n     * @param {?} extent\r\n     * @param {?} proj\r\n     * @param {?} ogcFilters\r\n     * @return {?}\r\n     */\r\n    function (extent, proj, ogcFilters) {\r\n        /** @type {?} */\r\n        var paramsWFS = this.options.paramsWFS;\r\n        /** @type {?} */\r\n        var queryStringValues = formatWFSQueryString(this.options, undefined, proj.getCode());\r\n        /** @type {?} */\r\n        var igoFilters;\r\n        if (ogcFilters && ogcFilters.enabled) {\r\n            igoFilters = ogcFilters.filters;\r\n        }\r\n        /** @type {?} */\r\n        var ogcFilterWriter = new OgcFilterWriter();\r\n        /** @type {?} */\r\n        var filterOrBox = ogcFilterWriter.buildFilter(igoFilters, extent, proj, ogcFilters.geometryName);\r\n        /** @type {?} */\r\n        var filterOrPush = ogcFilterWriter.handleOgcFiltersAppliedValue(this.options, ogcFilters.geometryName);\r\n        /** @type {?} */\r\n        var prefix = 'filter';\r\n        if (!filterOrPush) {\r\n            prefix = 'bbox';\r\n            filterOrPush = extent.join(',') + ',' + proj.getCode();\r\n        }\r\n        paramsWFS.xmlFilter = ogcFilters.advancedOgcFilters ? filterOrBox : prefix + \"=\" + filterOrPush;\r\n        /** @type {?} */\r\n        var baseUrl = queryStringValues.find((/**\r\n         * @param {?} f\r\n         * @return {?}\r\n         */\r\n        function (f) { return f.name === 'getfeature'; })).value;\r\n        /** @type {?} */\r\n        var patternFilter = /(filter|bbox)=.*/gi;\r\n        baseUrl = patternFilter.test(paramsWFS.xmlFilter) ? baseUrl + \"&\" + paramsWFS.xmlFilter : baseUrl;\r\n        this.options.download = Object.assign({}, this.options.download, { dynamicUrl: baseUrl });\r\n        return baseUrl.replace(/&&/g, '&');\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    WFSDataSource.prototype.getFormatFromOptions = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var olFormatCls;\r\n        /** @type {?} */\r\n        var outputFormat;\r\n        if (this.options.paramsWFS.outputFormat) {\r\n            outputFormat = this.options.paramsWFS.outputFormat.toLowerCase();\r\n        }\r\n        if (jsonRegex.test(outputFormat)) {\r\n            olFormatCls = GeoJSON;\r\n        }\r\n        if (gmlRegex.test(outputFormat) || !outputFormat) {\r\n            olFormatCls = WFS;\r\n        }\r\n        return new olFormatCls();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    WFSDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return WFSDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WFSService = /** @class */ (function (_super) {\r\n    __extends(WFSService, _super);\r\n    function WFSService(http) {\r\n        var _this = _super.call(this) || this;\r\n        _this.http = http;\r\n        return _this;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    WFSService.prototype.getData = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        console.log('This is defining a data service.');\r\n        return 'This is defining a data service.';\r\n    };\r\n    /**\r\n     * @param {?} datasource\r\n     * @return {?}\r\n     */\r\n    WFSService.prototype.getSourceFieldsFromWFS = /**\r\n     * @param {?} datasource\r\n     * @return {?}\r\n     */\r\n    function (datasource) {\r\n        if (!datasource.sourceFields || datasource.sourceFields.length === 0) {\r\n            datasource.sourceFields = [];\r\n            this.defineFieldAndValuefromWFS(datasource).subscribe((/**\r\n             * @param {?} getfeatureSourceField\r\n             * @return {?}\r\n             */\r\n            function (getfeatureSourceField) {\r\n                datasource.sourceFields = getfeatureSourceField;\r\n            }));\r\n        }\r\n        else {\r\n            this.defineFieldAndValuefromWFS(datasource).subscribe((/**\r\n             * @param {?} getfeatureSourceField\r\n             * @return {?}\r\n             */\r\n            function (getfeatureSourceField) {\r\n                datasource.sourceFields.forEach((/**\r\n                 * @param {?} sourcefield\r\n                 * @return {?}\r\n                 */\r\n                function (sourcefield) {\r\n                    if (sourcefield.alias === undefined) {\r\n                        sourcefield.alias = sourcefield.name; // to allow only a list of sourcefield with names\r\n                    }\r\n                    if (sourcefield.values === undefined || sourcefield.values.length === 0) {\r\n                        sourcefield.values = getfeatureSourceField.find((/**\r\n                         * @param {?} sf\r\n                         * @return {?}\r\n                         */\r\n                        function (sf) { return sf.name === sourcefield.name; })).values;\r\n                    }\r\n                }));\r\n            }));\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} wfsDataSourceOptions\r\n     * @param {?=} nb\r\n     * @param {?=} epsgCode\r\n     * @param {?=} propertyName\r\n     * @return {?}\r\n     */\r\n    WFSService.prototype.wfsGetFeature = /**\r\n     * @private\r\n     * @param {?} wfsDataSourceOptions\r\n     * @param {?=} nb\r\n     * @param {?=} epsgCode\r\n     * @param {?=} propertyName\r\n     * @return {?}\r\n     */\r\n    function (wfsDataSourceOptions, nb, epsgCode, propertyName) {\r\n        if (nb === void 0) { nb = defaultMaxFeatures; }\r\n        if (epsgCode === void 0) { epsgCode = defaultEpsg; }\r\n        /** @type {?} */\r\n        var queryStringValues = formatWFSQueryString(wfsDataSourceOptions, nb, epsgCode, propertyName);\r\n        /** @type {?} */\r\n        var baseUrl = queryStringValues.find((/**\r\n         * @param {?} f\r\n         * @return {?}\r\n         */\r\n        function (f) { return f.name === 'getfeature'; })).value;\r\n        /** @type {?} */\r\n        var outputFormat = wfsDataSourceOptions.paramsWFS.outputFormat;\r\n        if (gmlRegex.test(outputFormat) || !outputFormat) {\r\n            return this.http.get(baseUrl, { responseType: 'text' });\r\n        }\r\n        else {\r\n            return this.http.get(baseUrl);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} wfsDataSourceOptions\r\n     * @return {?}\r\n     */\r\n    WFSService.prototype.defineFieldAndValuefromWFS = /**\r\n     * @param {?} wfsDataSourceOptions\r\n     * @return {?}\r\n     */\r\n    function (wfsDataSourceOptions) {\r\n        var _this = this;\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) {\r\n            /** @type {?} */\r\n            var sourceFields = [];\r\n            /** @type {?} */\r\n            var fieldList;\r\n            /** @type {?} */\r\n            var fieldListWoGeom;\r\n            /** @type {?} */\r\n            var fieldListWoGeomStr;\r\n            /** @type {?} */\r\n            var olFormats;\r\n            /** @type {?} */\r\n            var outputFormat = wfsDataSourceOptions.paramsWFS.outputFormat;\r\n            if (gmlRegex.test(outputFormat) || !outputFormat) {\r\n                olFormats = WFS;\r\n            }\r\n            else {\r\n                olFormats = GeoJSON;\r\n            }\r\n            _this.wfsGetFeature(wfsDataSourceOptions, 1).subscribe((/**\r\n             * @param {?} oneFeature\r\n             * @return {?}\r\n             */\r\n            function (oneFeature) {\r\n                /** @type {?} */\r\n                var features = new olFormats().readFeatures(oneFeature);\r\n                fieldList = features[0].getKeys();\r\n                fieldListWoGeom = fieldList.filter((/**\r\n                 * @param {?} field\r\n                 * @return {?}\r\n                 */\r\n                function (field) {\r\n                    return field !== features[0].getGeometryName() &&\r\n                        !field.match(/boundedby/gi);\r\n                }));\r\n                fieldListWoGeomStr = fieldListWoGeom.join(',');\r\n                _this.wfsGetFeature(wfsDataSourceOptions, wfsDataSourceOptions.paramsWFS.maxFeatures || defaultMaxFeatures, undefined, fieldListWoGeomStr).subscribe((/**\r\n                 * @param {?} manyFeatures\r\n                 * @return {?}\r\n                 */\r\n                function (manyFeatures) {\r\n                    /** @type {?} */\r\n                    var mfeatures = new olFormats().readFeatures(manyFeatures);\r\n                    _this.built_properties_value(mfeatures).forEach((/**\r\n                     * @param {?} element\r\n                     * @return {?}\r\n                     */\r\n                    function (element) {\r\n                        sourceFields.push(element);\r\n                    }));\r\n                    d.next(sourceFields);\r\n                    d.complete();\r\n                }));\r\n            }));\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} features\r\n     * @return {?}\r\n     */\r\n    WFSService.prototype.built_properties_value = /**\r\n     * @private\r\n     * @param {?} features\r\n     * @return {?}\r\n     */\r\n    function (features) {\r\n        /** @type {?} */\r\n        var kv = Object.assign({}, features[0].getProperties());\r\n        delete kv[features[0].getGeometryName()];\r\n        delete kv.boundedBy;\r\n        /** @type {?} */\r\n        var sourceFields = [];\r\n        for (var property in kv) {\r\n            if (kv.hasOwnProperty(property)) {\r\n                /** @type {?} */\r\n                var fieldType = typeof features[0].get(property) === 'object'\r\n                    ? undefined\r\n                    : typeof features[0].get(property);\r\n                sourceFields.push({\r\n                    name: property,\r\n                    alias: property,\r\n                    type: fieldType,\r\n                    values: [kv[property]]\r\n                });\r\n            }\r\n        }\r\n        features.every((/**\r\n         * @param {?} element\r\n         * @return {?}\r\n         */\r\n        function (element) {\r\n            /** @type {?} */\r\n            var featureProperties = element.getProperties();\r\n            var _loop_1 = function (key) {\r\n                if (featureProperties.hasOwnProperty(key) && key in kv) {\r\n                    sourceFields.filter((/**\r\n                     * @param {?} f\r\n                     * @return {?}\r\n                     */\r\n                    function (f) { return f.name === key; })).forEach((/**\r\n                     * @param {?} v\r\n                     * @return {?}\r\n                     */\r\n                    function (v) {\r\n                        if (v.values.indexOf(featureProperties[key]) === -1) {\r\n                            v.values.push(featureProperties[key]);\r\n                        }\r\n                    }));\r\n                }\r\n            };\r\n            for (var key in featureProperties) {\r\n                _loop_1(key);\r\n            }\r\n            return true;\r\n        }));\r\n        return sourceFields;\r\n    };\r\n    WFSService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    WFSService.ctorParameters = function () { return [\r\n        { type: HttpClient }\r\n    ]; };\r\n    /** @nocollapse */ WFSService.ngInjectableDef = defineInjectable({ factory: function WFSService_Factory() { return new WFSService(inject(HttpClient)); }, token: WFSService, providedIn: \"root\" });\r\n    return WFSService;\r\n}(DataService));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar QueryFormat = {\r\n    GML2: 'gml2',\r\n    GML3: 'gml3',\r\n    JSON: 'json',\r\n    GEOJSON: 'geojson',\r\n    ESRIJSON: 'esrijson',\r\n    TEXT: 'text',\r\n    HTML: 'html',\r\n    HTMLGML2: 'htmlgml2',\r\n};\r\n/** @enum {string} */\r\nvar QueryHtmlTarget = {\r\n    IFRAME: 'iframe',\r\n    BLANK: '_blank',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WMSDataSource = /** @class */ (function (_super) {\r\n    __extends(WMSDataSource, _super);\r\n    function WMSDataSource(options, wfsService) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.options = options;\r\n        _this.wfsService = wfsService;\r\n        // Important: To use wms versions smaller than 1.3.0, SRS\r\n        // needs to be supplied in the source \"params\"\r\n        // We need to do this to override the default version\r\n        // of openlayers which is uppercase\r\n        /** @type {?} */\r\n        var sourceParams = options.params;\r\n        if (sourceParams && sourceParams.version) {\r\n            sourceParams.VERSION = sourceParams.version;\r\n        }\r\n        if (sourceParams && sourceParams.VERSION) {\r\n            if (sourceParams.version !== '1.3.0') {\r\n                if (!sourceParams.SRS && !sourceParams.srs) {\r\n                    throw new Error(\"You must set a SRS (or srs) param for your WMS\\n           (layer =  \" + sourceParams.layers + \") because your want to use a WMS version under 1.3.0\\n        Ex: \\\"srs\\\": \\\"EPSG:3857\\\" \");\r\n                }\r\n            }\r\n        }\r\n        if (sourceParams && sourceParams.INFO_FORMAT) {\r\n            sourceParams.info_format = sourceParams.INFO_FORMAT;\r\n        }\r\n        if (options.refreshIntervalSec && options.refreshIntervalSec > 0) {\r\n            setInterval((/**\r\n             * @return {?}\r\n             */\r\n            function () {\r\n                _this.refresh();\r\n            }), options.refreshIntervalSec * 1000); // Convert seconds to MS\r\n        }\r\n        /** @type {?} */\r\n        var fieldNameGeometry = defaultFieldNameGeometry;\r\n        // ####   START if paramsWFS\r\n        if (options.paramsWFS) {\r\n            /** @type {?} */\r\n            var wfsCheckup = checkWfsParams(options, 'wms');\r\n            ObjectUtils.mergeDeep(options.paramsWFS, wfsCheckup.paramsWFS);\r\n            fieldNameGeometry = options.paramsWFS.fieldNameGeometry || fieldNameGeometry;\r\n            options.download = Object.assign({}, options.download, {\r\n                dynamicUrl: _this.buildDynamicDownloadUrlFromParamsWFS(options)\r\n            });\r\n        } //  ####   END  if paramsWFS\r\n        if (!options.sourceFields || options.sourceFields.length === 0) {\r\n            options.sourceFields = [];\r\n        }\r\n        else {\r\n            options.sourceFields.forEach((/**\r\n             * @param {?} sourceField\r\n             * @return {?}\r\n             */\r\n            function (sourceField) {\r\n                sourceField.alias = sourceField.alias ? sourceField.alias : sourceField.name;\r\n                // to allow only a list of sourcefield with names\r\n            }));\r\n        }\r\n        /** @type {?} */\r\n        var initOgcFilters = ((/** @type {?} */ (options))).ogcFilters;\r\n        /** @type {?} */\r\n        var ogcFilterWriter = new OgcFilterWriter();\r\n        if (!initOgcFilters) {\r\n            ((/** @type {?} */ (options))).ogcFilters =\r\n                ogcFilterWriter.defineOgcFiltersDefaultOptions(initOgcFilters, fieldNameGeometry, 'wms');\r\n        }\r\n        else {\r\n            initOgcFilters.advancedOgcFilters = initOgcFilters.pushButtons ? false : true;\r\n        }\r\n        if (sourceParams.layers.split(',').length > 1 && options && initOgcFilters.enabled) {\r\n            console.log('*******************************');\r\n            console.log('BE CAREFULL, YOUR WMS LAYERS (' + sourceParams.layers\r\n                + ') MUST SHARE THE SAME FIELDS TO ALLOW ogcFilters TO WORK !! ');\r\n            console.log('*******************************');\r\n        }\r\n        if (options.paramsWFS && initOgcFilters.enabled) {\r\n            _this.wfsService.getSourceFieldsFromWFS(options);\r\n        }\r\n        /** @type {?} */\r\n        var filterQueryString = ogcFilterWriter.handleOgcFiltersAppliedValue(options, fieldNameGeometry);\r\n        _this.ol.updateParams({ filter: filterQueryString });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(WMSDataSource.prototype, \"params\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (this.options.params));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WMSDataSource.prototype, \"queryTitle\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return ((/** @type {?} */ (this.options))).queryTitle\r\n                ? ((/** @type {?} */ (this.options))).queryTitle\r\n                : 'title';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WMSDataSource.prototype, \"queryHtmlTarget\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return ((/** @type {?} */ (this.options))).queryHtmlTarget\r\n                ? ((/** @type {?} */ (this.options))).queryHtmlTarget\r\n                : QueryHtmlTarget.BLANK;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    WMSDataSource.prototype.refresh = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.ol.updateParams({ igoRefresh: Math.random() });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} asWFSDataSourceOptions\r\n     * @return {?}\r\n     */\r\n    WMSDataSource.prototype.buildDynamicDownloadUrlFromParamsWFS = /**\r\n     * @private\r\n     * @param {?} asWFSDataSourceOptions\r\n     * @return {?}\r\n     */\r\n    function (asWFSDataSourceOptions) {\r\n        /** @type {?} */\r\n        var queryStringValues = formatWFSQueryString(asWFSDataSourceOptions);\r\n        /** @type {?} */\r\n        var downloadUrl = queryStringValues.find((/**\r\n         * @param {?} f\r\n         * @return {?}\r\n         */\r\n        function (f) { return f.name === 'getfeature'; })).value;\r\n        return downloadUrl;\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    WMSDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return new olSourceImageWMS(this.options);\r\n    };\r\n    /**\r\n     * @param {?=} scale\r\n     * @return {?}\r\n     */\r\n    WMSDataSource.prototype.getLegend = /**\r\n     * @param {?=} scale\r\n     * @return {?}\r\n     */\r\n    function (scale) {\r\n        /** @type {?} */\r\n        var legend = _super.prototype.getLegend.call(this);\r\n        if (legend.length > 0) {\r\n            return legend;\r\n        }\r\n        /** @type {?} */\r\n        var sourceParams = this.params;\r\n        /** @type {?} */\r\n        var layers = [];\r\n        if (sourceParams.layers !== undefined) {\r\n            layers = sourceParams.layers.split(',');\r\n        }\r\n        /** @type {?} */\r\n        var baseUrl = this.options.url.replace(/\\?$/, '');\r\n        /** @type {?} */\r\n        var params = [\r\n            'REQUEST=GetLegendGraphic',\r\n            'SERVICE=wms',\r\n            'FORMAT=image/png',\r\n            'SLD_VERSION=1.1.0',\r\n            \"VERSION=\" + (sourceParams.version || '1.3.0')\r\n        ];\r\n        if (scale !== undefined) {\r\n            params.push(\"SCALE=\" + scale);\r\n        }\r\n        legend = layers.map((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) {\r\n            return {\r\n                url: baseUrl + \"?\" + params.join('&') + \"&LAYER=\" + layer,\r\n                title: layers.length > 1 ? layer : undefined\r\n            };\r\n        }));\r\n        return legend;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    WMSDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return WMSDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @param {?=} epsg\r\n * @return {?}\r\n */\r\nfunction createDefaultTileGrid(epsg) {\r\n    /** @type {?} */\r\n    var projection = epsg ? get(epsg) : get('EPSG:3857');\r\n    /** @type {?} */\r\n    var projectionExtent = projection.getExtent();\r\n    /** @type {?} */\r\n    var size = getWidth(projectionExtent) / 256;\r\n    /** @type {?} */\r\n    var resolutions = new Array(20);\r\n    /** @type {?} */\r\n    var matrixIds = new Array(20);\r\n    for (var z = 0; z < 20; ++z) {\r\n        resolutions[z] = size / Math.pow(2, z);\r\n        matrixIds[z] = z;\r\n    }\r\n    return new olTileGridWMTS({\r\n        origin: getTopLeft(projectionExtent),\r\n        resolutions: resolutions,\r\n        matrixIds: matrixIds\r\n    });\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WMTSDataSource = /** @class */ (function (_super) {\r\n    __extends(WMTSDataSource, _super);\r\n    function WMTSDataSource(options) {\r\n        return _super.call(this, options) || this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    WMTSDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var sourceOptions = Object.assign({\r\n            tileGrid: createDefaultTileGrid((/** @type {?} */ (this.options.projection)))\r\n        }, this.options);\r\n        return new olSourceWMTS(sourceOptions);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    WMTSDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return WMTSDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar CartoDataSource = /** @class */ (function (_super) {\r\n    __extends(CartoDataSource, _super);\r\n    function CartoDataSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(CartoDataSource.prototype, \"params\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (this.options.params));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CartoDataSource.prototype, \"queryTitle\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return ((/** @type {?} */ (this.options))).queryTitle\r\n                ? ((/** @type {?} */ (this.options))).queryTitle\r\n                : 'title';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CartoDataSource.prototype, \"queryHtmlTarget\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return ((/** @type {?} */ (this.options))).queryHtmlTarget\r\n                ? ((/** @type {?} */ (this.options))).queryHtmlTarget\r\n                : QueryHtmlTarget.BLANK;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    CartoDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var crossOrigin = this.options.crossOrigin\r\n            ? this.options.crossOrigin\r\n            : 'anonymous';\r\n        /** @type {?} */\r\n        var sourceOptions = Object.assign({\r\n            crossOrigin: crossOrigin\r\n        }, this.options);\r\n        return new olSourceCarto(sourceOptions);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CartoDataSource.prototype.getLegend = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var e_1, _a;\r\n        /** @type {?} */\r\n        var legend = _super.prototype.getLegend.call(this);\r\n        if (legend.length > 0) {\r\n            return legend;\r\n        }\r\n        /** @type {?} */\r\n        var htmlString = '<table>';\r\n        if (this.options.config.layers[0].legend != null) {\r\n            this.options.config.layers[0].legend.items.forEach((/**\r\n             * @param {?} f\r\n             * @return {?}\r\n             */\r\n            function (f) {\r\n                if (f.visible === true) {\r\n                    htmlString +=\r\n                        '<tr><td>' +\r\n                            '<p><font size=\"5\" color=\"' +\r\n                            f.value +\r\n                            '\"> &#9679</font></p></td>' +\r\n                            '<td>' +\r\n                            f.name +\r\n                            '</td></tr>';\r\n                }\r\n            }));\r\n            htmlString += '</table>';\r\n            return [{ html: htmlString }];\r\n        }\r\n        else {\r\n            // Try to build the legend from the cartocss options\r\n            /** @type {?} */\r\n            var layerOptions = this.options.config.layers[0].options;\r\n            // All available cartocss style options\r\n            /** @type {?} */\r\n            var types = [\r\n                'polygon-fill:',\r\n                'marker-fill:',\r\n                'shield-fill:',\r\n                'building-fill:',\r\n                'line-color:'\r\n            ];\r\n            try {\r\n                for (var types_1 = __values(types), types_1_1 = types_1.next(); !types_1_1.done; types_1_1 = types_1.next()) {\r\n                    var oneType = types_1_1.value;\r\n                    if (layerOptions.cartocss.includes(oneType)) {\r\n                        /** @type {?} */\r\n                        var type = layerOptions.cartocss.split(oneType).pop();\r\n                        /** @type {?} */\r\n                        var color = type.substr(0, type.indexOf(';'));\r\n                        if (color.includes('ramp')) {\r\n                            /** @type {?} */\r\n                            var colors = color.split(', (')[1].split(',');\r\n                            /** @type {?} */\r\n                            var data = color.split(', (')[2].split(',');\r\n                            for (var j = 0; j < colors.length; j++) {\r\n                                colors[j] = colors[j].replace(/(\"|\\))/g, '');\r\n                                data[j] = data[j].replace(/(\"|\\))/g, '');\r\n                                if (data[j].replace(/\\s+/g, '') === '=') {\r\n                                    data[j] = 'Autres';\r\n                                }\r\n                                htmlString +=\r\n                                    '<tr><td>' +\r\n                                        '<p><font size=\"5\" color=\"' +\r\n                                        colors[j] +\r\n                                        '\"> &#9679</font></p></td>' +\r\n                                        '<td>' +\r\n                                        data[j] +\r\n                                        '</td></tr>';\r\n                            }\r\n                            break;\r\n                        }\r\n                        else {\r\n                            /** @type {?} */\r\n                            var title = layerOptions.layer_name\r\n                                ? layerOptions.layer_name\r\n                                : '';\r\n                            htmlString +=\r\n                                '<tr><td>' +\r\n                                    '<p><font size=\"5\" color=\"' +\r\n                                    color +\r\n                                    '\"> &#9679</font></p>' +\r\n                                    '</td><td>' +\r\n                                    title +\r\n                                    '</td></tr>';\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (types_1_1 && !types_1_1.done && (_a = types_1.return)) _a.call(types_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n            htmlString += '</table>';\r\n            return [{ html: htmlString }];\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CartoDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return CartoDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ArcGISRestDataSource = /** @class */ (function (_super) {\r\n    __extends(ArcGISRestDataSource, _super);\r\n    function ArcGISRestDataSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    ArcGISRestDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var esrijsonFormat = new olFormatEsriJSON();\r\n        return new OlVectorSource({\r\n            attributions: this.options.params.attributions,\r\n            overlaps: false,\r\n            format: esrijsonFormat,\r\n            url: (/**\r\n             * @param {?} extent\r\n             * @param {?} resolution\r\n             * @param {?} proj\r\n             * @return {?}\r\n             */\r\n            function (extent, resolution, proj) {\r\n                /** @type {?} */\r\n                var baseUrl = this.options.url + '/' + this.options.layer + '/query/';\r\n                /** @type {?} */\r\n                var geometry = encodeURIComponent('{\"xmin\":' +\r\n                    extent[0] +\r\n                    ',\"ymin\":' +\r\n                    extent[1] +\r\n                    ',\"xmax\":' +\r\n                    extent[2] +\r\n                    ',\"ymax\":' +\r\n                    extent[3] +\r\n                    ',\"spatialReference\":{\"wkid\":102100}}');\r\n                /** @type {?} */\r\n                var params = [\r\n                    'f=json',\r\n                    \"geometry=\" + geometry,\r\n                    'geometryType=esriGeometryEnvelope',\r\n                    'inSR=102100',\r\n                    'spatialRel=esriSpatialRelIntersects',\r\n                    'outFields=*',\r\n                    'returnGeometry=true',\r\n                    'outSR=102100'\r\n                ];\r\n                if (this.options.params.timeFilter) {\r\n                    /** @type {?} */\r\n                    var time = \"time=\" + this.options.params.timeExtent;\r\n                    params.push(time);\r\n                }\r\n                if (this.options.params.customParams) {\r\n                    this.options.params.customParams.forEach((/**\r\n                     * @param {?} element\r\n                     * @return {?}\r\n                     */\r\n                    function (element) {\r\n                        params.push(element);\r\n                    }));\r\n                }\r\n                return baseUrl + \"?\" + params.join('&');\r\n            }).bind(this),\r\n            strategy: bbox$1\r\n        });\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ArcGISRestDataSource.prototype.getLegend = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var e_1, _a;\r\n        /** @type {?} */\r\n        var legendInfo = this.options.params.legendInfo;\r\n        /** @type {?} */\r\n        var legend = _super.prototype.getLegend.call(this);\r\n        if (legendInfo === undefined || legend.length > 0) {\r\n            return legend;\r\n        }\r\n        /** @type {?} */\r\n        var id = parseInt(this.options.layer, 10);\r\n        /** @type {?} */\r\n        var lyr = legendInfo.layers[id];\r\n        /** @type {?} */\r\n        var htmlString = '<table><tr><td>' + lyr.layerName + '</td></tr>';\r\n        try {\r\n            for (var _b = __values(lyr.legend), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var lyrLegend = _c.value;\r\n                /** @type {?} */\r\n                var modifiedUrl = this.options.url.replace('FeatureServer', 'MapServer');\r\n                /** @type {?} */\r\n                var src = modifiedUrl + \"/\" + lyr.layerId + \"/images/\" + lyrLegend.url;\r\n                /** @type {?} */\r\n                var label = lyrLegend.label.replace('<Null>', 'Null');\r\n                htmlString +=\r\n                    \"<tr><td align='left'><img src=\\\"\" +\r\n                        src +\r\n                        \"\\\" alt ='' /></td><td>\" +\r\n                        label +\r\n                        '</td></tr>';\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        htmlString += '</table>';\r\n        return [{ html: htmlString }];\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ArcGISRestDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return ArcGISRestDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TileArcGISRestDataSource = /** @class */ (function (_super) {\r\n    __extends(TileArcGISRestDataSource, _super);\r\n    function TileArcGISRestDataSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(TileArcGISRestDataSource.prototype, \"params\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (this.options.params));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TileArcGISRestDataSource.prototype, \"queryTitle\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return ((/** @type {?} */ (this.options))).queryTitle\r\n                ? ((/** @type {?} */ (this.options))).queryTitle\r\n                : 'title';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TileArcGISRestDataSource.prototype, \"queryHtmlTarget\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return ((/** @type {?} */ (this.options))).queryHtmlTarget\r\n                ? ((/** @type {?} */ (this.options))).queryHtmlTarget\r\n                : QueryHtmlTarget.BLANK;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    TileArcGISRestDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return new olSourceTileArcGISRest(this.options);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TileArcGISRestDataSource.prototype.getLegend = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var e_1, _a;\r\n        /** @type {?} */\r\n        var legend = _super.prototype.getLegend.call(this);\r\n        if (this.options.legendInfo === undefined || legend.length > 0) {\r\n            return legend;\r\n        }\r\n        /** @type {?} */\r\n        var id = parseInt(this.options.layer, 10);\r\n        /** @type {?} */\r\n        var lyr = this.options.legendInfo.layers[id];\r\n        /** @type {?} */\r\n        var htmlString = '<table><tr><td>' + lyr.layerName + '</td></tr>';\r\n        try {\r\n            for (var _b = __values(lyr.legend), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var lyrLegend = _c.value;\r\n                /** @type {?} */\r\n                var src = this.options.url + \"/\" + lyr.layerId + \"/images/\" + lyrLegend.url;\r\n                /** @type {?} */\r\n                var label = lyrLegend.label.replace('<Null>', 'Null');\r\n                htmlString +=\r\n                    \"<tr><td align='left'><img src=\\\"\" +\r\n                        src +\r\n                        \"\\\" alt ='' /></td><td>\" +\r\n                        label +\r\n                        '</td></tr>';\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        htmlString += '</table>';\r\n        return [{ html: htmlString }];\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TileArcGISRestDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return TileArcGISRestDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WebSocketDataSource = /** @class */ (function (_super) {\r\n    __extends(WebSocketDataSource, _super);\r\n    function WebSocketDataSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    WebSocketDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.createWebSocket();\r\n        this.options.format = this.getSourceFormatFromOptions(this.options);\r\n        return _super.prototype.createOlSource.call(this);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    WebSocketDataSource.prototype.createWebSocket = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.ws = new WebSocket(this.options.url);\r\n        this.ws.onmessage = this.onMessage.bind(this);\r\n        if (this.options.onclose) {\r\n            this.ws.onclose = this.onClose.bind(this);\r\n        }\r\n        if (this.options.onerror) {\r\n            this.ws.onerror = this.onError.bind(this);\r\n        }\r\n        if (this.options.onopen) {\r\n            this.ws.onopen = this.onOpen.bind(this);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    WebSocketDataSource.prototype.onMessage = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        /** @type {?} */\r\n        var featureAdded = this.options.format.readFeature(event.data);\r\n        switch (this.options.onmessage) {\r\n            case 'update':\r\n                // ol don't add if same ID\r\n                /** @type {?} */\r\n                var featureToRemove = this.ol.getFeatureById(featureAdded.getId());\r\n                if (featureToRemove) {\r\n                    this.ol.removeFeature(featureToRemove);\r\n                }\r\n                this.ol.addFeature(featureAdded);\r\n                break;\r\n            case 'delete':\r\n                this.ol.clear(true);\r\n                this.ol.addFeature(featureAdded);\r\n                break;\r\n            case 'add':\r\n            default:\r\n                this.ol.addFeature(featureAdded);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    WebSocketDataSource.prototype.onClose = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        // thrown message to user\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    WebSocketDataSource.prototype.onError = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        // thrown message to user\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    WebSocketDataSource.prototype.onOpen = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        // thrown message to user ?\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    WebSocketDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.ws.close();\r\n    };\r\n    return WebSocketDataSource;\r\n}(FeatureDataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MVTDataSource = /** @class */ (function (_super) {\r\n    __extends(MVTDataSource, _super);\r\n    function MVTDataSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    MVTDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var mvtFormat = new olFormatMVT({ featureClass: OlFeature });\r\n        this.options.format = mvtFormat;\r\n        return new olSourceVectorTile(this.options);\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    MVTDataSource.prototype.generateId = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (!this.options.url) {\r\n            return uuid();\r\n        }\r\n        /** @type {?} */\r\n        var chain = 'mvt' + this.options.url;\r\n        return (/** @type {?} */ (Md5.hashStr(chain)));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MVTDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return MVTDataSource;\r\n}(DataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ClusterDataSource = /** @class */ (function (_super) {\r\n    __extends(ClusterDataSource, _super);\r\n    function ClusterDataSource() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    ClusterDataSource.prototype.createOlSource = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.options.format = this.getSourceFormatFromOptions(this.options);\r\n        this.options.source = _super.prototype.createOlSource.call(this);\r\n        return new olSourceCluster(this.options);\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    ClusterDataSource.prototype.generateId = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return uuid();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ClusterDataSource.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return ClusterDataSource;\r\n}(FeatureDataSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar FEATURE = 'Feature';\r\n/** @enum {number} */\r\nvar FeatureMotion = {\r\n    None: 0,\r\n    Move: 1,\r\n    Zoom: 2,\r\n    Default: 3,\r\n};\r\nFeatureMotion[FeatureMotion.None] = 'None';\r\nFeatureMotion[FeatureMotion.Move] = 'Move';\r\nFeatureMotion[FeatureMotion.Zoom] = 'Zoom';\r\nFeatureMotion[FeatureMotion.Default] = 'Default';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar LAYER = 'Layer';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar TooltipType = {\r\n    TITLE: 'title',\r\n    ABSTRACT: 'abstract',\r\n    CUSTOM: 'custom',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ImageWatcher = /** @class */ (function (_super) {\r\n    __extends(ImageWatcher, _super);\r\n    function ImageWatcher(layer) {\r\n        var _this = _super.call(this) || this;\r\n        _this.loaded = 0;\r\n        _this.loading = 0;\r\n        _this.source = layer.options.source.ol;\r\n        _this.id = uuid();\r\n        return _this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    ImageWatcher.prototype.watch = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.source.on(\"imageloadstart\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadStart(e); }));\r\n        this.source.on(\"imageloadend\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadEnd(e); }));\r\n        this.source.on(\"imageloaderror\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadEnd(e); }));\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    ImageWatcher.prototype.unwatch = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.source.un(\"imageloadstart\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadStart(e); }));\r\n        this.source.un(\"imageloadend\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadEnd(e); }));\r\n        this.source.un(\"imageloaderror\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadEnd(e); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    ImageWatcher.prototype.handleLoadStart = /**\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (!event.image.__watchers__) {\r\n            event.image.__watchers__ = [];\r\n        }\r\n        event.image.__watchers__.push(this.id);\r\n        this.loading += 1;\r\n        this.status = SubjectStatus.Working;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    ImageWatcher.prototype.handleLoadEnd = /**\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (!event.image.__watchers__) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var watcherIndex = event.image.__watchers__.indexOf(this.id);\r\n        if (watcherIndex < 0) {\r\n            return;\r\n        }\r\n        event.image.__watchers__.splice(watcherIndex, 1);\r\n        this.loaded += 1;\r\n        /** @type {?} */\r\n        var loading = this.loading;\r\n        if (this.loaded >= loading) {\r\n            if (loading === this.loading) {\r\n                this.status = SubjectStatus.Done;\r\n                this.loaded = this.loading = 0;\r\n            }\r\n        }\r\n    };\r\n    return ImageWatcher;\r\n}(Watcher));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TileWatcher = /** @class */ (function (_super) {\r\n    __extends(TileWatcher, _super);\r\n    function TileWatcher(layer) {\r\n        var _this = _super.call(this) || this;\r\n        _this.loaded = 0;\r\n        _this.loading = 0;\r\n        _this.source = layer.options.source.ol;\r\n        _this.id = uuid();\r\n        return _this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    TileWatcher.prototype.watch = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.source.on(\"tileloadstart\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadStart(e); }));\r\n        this.source.on(\"tileloadend\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadEnd(e); }));\r\n        this.source.on(\"tileloaderror\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadEnd(e); }));\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    TileWatcher.prototype.unwatch = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.source.un(\"tileloadstart\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadStart(e); }));\r\n        this.source.un(\"tileloadend\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadEnd(e); }));\r\n        this.source.un(\"tileloaderror\", (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) { return _this.handleLoadEnd(e); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    TileWatcher.prototype.handleLoadStart = /**\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        // This is to avoid increasing\r\n        // the number of loaded tiles if a tile was loading\r\n        // before subscribing to this watcher\r\n        if (!event.tile.__watchers__) {\r\n            event.tile.__watchers__ = [];\r\n        }\r\n        event.tile.__watchers__.push(this.id);\r\n        this.loading += 1;\r\n        this.status = SubjectStatus.Working;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    TileWatcher.prototype.handleLoadEnd = /**\r\n     * @private\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (!event.tile.__watchers__) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var watcherIndex = event.tile.__watchers__.indexOf(this.id);\r\n        if (watcherIndex < 0) {\r\n            return;\r\n        }\r\n        event.tile.__watchers__.splice(watcherIndex, 1);\r\n        this.loaded += 1;\r\n        /** @type {?} */\r\n        var loading = this.loading;\r\n        if (this.loaded >= loading) {\r\n            if (loading === this.loading) {\r\n                this.status = SubjectStatus.Done;\r\n                this.loaded = this.loading = 0;\r\n            }\r\n        }\r\n    };\r\n    return TileWatcher;\r\n}(Watcher));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar VectorWatcher = /** @class */ (function (_super) {\r\n    __extends(VectorWatcher, _super);\r\n    function VectorWatcher(layer) {\r\n        var _this = _super.call(this) || this;\r\n        _this.loaded = 0;\r\n        _this.loading = 0;\r\n        _this.layer = layer;\r\n        _this.id = uuid();\r\n        return _this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    VectorWatcher.prototype.watch = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    VectorWatcher.prototype.unwatch = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.layer.onUnwatch();\r\n    };\r\n    return VectorWatcher;\r\n}(Watcher));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Get all the layers legend\r\n * @param {?} layers\r\n * @param {?=} scale\r\n * @return {?} Array of legend\r\n */\r\nfunction getLayersLegends(layers, scale) {\r\n    var e_1, _a, e_2, _b;\r\n    /** @type {?} */\r\n    var legends = [];\r\n    /** @type {?} */\r\n    var newCanvas = document.createElement('canvas');\r\n    /** @type {?} */\r\n    var newContext = newCanvas.getContext('2d');\r\n    newContext.font = '20px Calibri';\r\n    /** @type {?} */\r\n    var heightPos = 0;\r\n    try {\r\n        for (var layers_1 = __values(layers), layers_1_1 = layers_1.next(); !layers_1_1.done; layers_1_1 = layers_1.next()) {\r\n            var layer = layers_1_1.value;\r\n            if (layer.visible === false) {\r\n                continue;\r\n            }\r\n            /** @type {?} */\r\n            var legendUrls = layer.dataSource.getLegend(scale) || [];\r\n            var _loop_1 = function (legendUrl) {\r\n                if (legendUrl.url === undefined) {\r\n                    return \"continue\";\r\n                }\r\n                /** @type {?} */\r\n                var title = layer.title;\r\n                // Create an image for the legend\r\n                /** @type {?} */\r\n                var legendImage = new Image();\r\n                legendImage.crossOrigin = 'anonymous';\r\n                legendImage.src = legendUrl.url;\r\n                legendImage.onload = (/**\r\n                 * @return {?}\r\n                 */\r\n                function () {\r\n                    newContext.fillText(title, 0, heightPos);\r\n                    newContext.drawImage(legendImage, 0, heightPos + 20);\r\n                    heightPos += legendImage.height + 5;\r\n                });\r\n                // Add legend info to the list\r\n                legends.push({\r\n                    title: title,\r\n                    url: legendUrl.url,\r\n                    image: legendImage\r\n                });\r\n            };\r\n            try {\r\n                for (var legendUrls_1 = __values(legendUrls), legendUrls_1_1 = legendUrls_1.next(); !legendUrls_1_1.done; legendUrls_1_1 = legendUrls_1.next()) {\r\n                    var legendUrl = legendUrls_1_1.value;\r\n                    _loop_1(legendUrl);\r\n                }\r\n            }\r\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n            finally {\r\n                try {\r\n                    if (legendUrls_1_1 && !legendUrls_1_1.done && (_b = legendUrls_1.return)) _b.call(legendUrls_1);\r\n                }\r\n                finally { if (e_2) throw e_2.error; }\r\n            }\r\n        }\r\n    }\r\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n    finally {\r\n        try {\r\n            if (layers_1_1 && !layers_1_1.done && (_a = layers_1.return)) _a.call(layers_1);\r\n        }\r\n        finally { if (e_1) throw e_1.error; }\r\n    }\r\n    return legends;\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ImageLayer = /** @class */ (function (_super) {\r\n    __extends(ImageLayer, _super);\r\n    function ImageLayer(options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.watcher = new ImageWatcher(_this);\r\n        _this.status$ = _this.watcher.status$;\r\n        return _this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    ImageLayer.prototype.createOlLayer = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var olOptions = Object.assign({}, this.options, {\r\n            source: (/** @type {?} */ (this.options.source.ol))\r\n        });\r\n        /** @type {?} */\r\n        var image = new olLayerImage(olOptions);\r\n        /** @type {?} */\r\n        var token = this.options.token;\r\n        if (token) {\r\n            ((/** @type {?} */ (image.getSource()))).setImageLoadFunction((/**\r\n             * @param {?} tile\r\n             * @param {?} src\r\n             * @return {?}\r\n             */\r\n            function (tile, src) {\r\n                _this.customLoader(tile, src, token);\r\n            }));\r\n        }\r\n        return image;\r\n    };\r\n    /**\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    ImageLayer.prototype.setMap = /**\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    function (map$$1) {\r\n        if (map$$1 === undefined) {\r\n            this.watcher.unsubscribe();\r\n        }\r\n        else {\r\n            this.watcher.subscribe((/**\r\n             * @return {?}\r\n             */\r\n            function () { }));\r\n        }\r\n        _super.prototype.setMap.call(this, map$$1);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} tile\r\n     * @param {?} src\r\n     * @param {?=} token\r\n     * @return {?}\r\n     */\r\n    ImageLayer.prototype.customLoader = /**\r\n     * @private\r\n     * @param {?} tile\r\n     * @param {?} src\r\n     * @param {?=} token\r\n     * @return {?}\r\n     */\r\n    function (tile, src, token) {\r\n        /** @type {?} */\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('GET', src);\r\n        xhr.setRequestHeader('Authorization', 'Bearer ' + token);\r\n        xhr.responseType = 'arraybuffer';\r\n        xhr.onload = (/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var arrayBufferView = new Uint8Array(((/** @type {?} */ (this))).response);\r\n            /** @type {?} */\r\n            var blob = new Blob([arrayBufferView], { type: 'image/png' });\r\n            /** @type {?} */\r\n            var urlCreator = window.URL;\r\n            /** @type {?} */\r\n            var imageUrl = urlCreator.createObjectURL(blob);\r\n            tile.getImage().src = imageUrl;\r\n        });\r\n        xhr.send();\r\n    };\r\n    return ImageLayer;\r\n}(Layer));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TileLayer = /** @class */ (function (_super) {\r\n    __extends(TileLayer, _super);\r\n    function TileLayer(options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.watcher = new TileWatcher(_this);\r\n        _this.status$ = _this.watcher.status$;\r\n        return _this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    TileLayer.prototype.createOlLayer = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var olOptions = Object.assign({}, this.options, {\r\n            source: (/** @type {?} */ (this.options.source.ol))\r\n        });\r\n        return new olLayerTile(olOptions);\r\n    };\r\n    /**\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    TileLayer.prototype.setMap = /**\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    function (map$$1) {\r\n        if (map$$1 === undefined) {\r\n            this.watcher.unsubscribe();\r\n        }\r\n        else {\r\n            this.watcher.subscribe((/**\r\n             * @return {?}\r\n             */\r\n            function () { }));\r\n        }\r\n        _super.prototype.setMap.call(this, map$$1);\r\n    };\r\n    return TileLayer;\r\n}(Layer));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar VectorLayer = /** @class */ (function (_super) {\r\n    __extends(VectorLayer, _super);\r\n    function VectorLayer(options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.watcher = new VectorWatcher(_this);\r\n        _this.status$ = _this.watcher.status$;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(VectorLayer.prototype, \"browsable\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.browsable !== false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(VectorLayer.prototype, \"exportable\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.exportable !== false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    VectorLayer.prototype.createOlLayer = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var olOptions = Object.assign({}, this.options, {\r\n            source: (/** @type {?} */ (this.options.source.ol))\r\n        });\r\n        if (this.options.animation) {\r\n            this.dataSource.ol.on('addfeature', (/**\r\n             * @param {?} e\r\n             * @return {?}\r\n             */\r\n            function (e) {\r\n                this.flash(e.feature);\r\n            }).bind(this));\r\n        }\r\n        return new OlVectorLayer(olOptions);\r\n    };\r\n    /**\r\n     * @protected\r\n     * @param {?} feature\r\n     * @return {?}\r\n     */\r\n    VectorLayer.prototype.flash = /**\r\n     * @protected\r\n     * @param {?} feature\r\n     * @return {?}\r\n     */\r\n    function (feature) {\r\n        /** @type {?} */\r\n        var start = new Date().getTime();\r\n        /** @type {?} */\r\n        var listenerKey = this.map.ol.on('postcompose', animate$$1.bind(this));\r\n        /**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function animate$$1(event) {\r\n            /** @type {?} */\r\n            var vectorContext = event.vectorContext;\r\n            /** @type {?} */\r\n            var frameState = event.frameState;\r\n            /** @type {?} */\r\n            var flashGeom = feature.getGeometry().clone();\r\n            /** @type {?} */\r\n            var elapsed = frameState.time - start;\r\n            /** @type {?} */\r\n            var elapsedRatio = elapsed / this.options.animation.duration;\r\n            /** @type {?} */\r\n            var opacity = easeOut(1 - elapsedRatio);\r\n            /** @type {?} */\r\n            var newColor = asArray(this.options.animation.color || 'red');\r\n            newColor[3] = opacity;\r\n            /** @type {?} */\r\n            var style$$1 = this.ol.getStyleFunction().call(this, feature)[0];\r\n            /** @type {?} */\r\n            var styleClone = style$$1.clone();\r\n            switch (feature.getGeometry().getType()) {\r\n                case 'Point':\r\n                    /** @type {?} */\r\n                    var radius = easeOut(elapsedRatio) * (styleClone.getImage().getRadius() * 3);\r\n                    styleClone.getImage().setRadius(radius);\r\n                    styleClone.getImage().setOpacity(opacity);\r\n                    break;\r\n                case 'LineString':\r\n                    // TODO\r\n                    if (styleClone.getImage().getStroke()) {\r\n                        styleClone\r\n                            .getImage()\r\n                            .getStroke()\r\n                            .setColor(newColor);\r\n                        styleClone\r\n                            .getImage()\r\n                            .getStroke()\r\n                            .setWidth(easeOut(elapsedRatio) *\r\n                            (styleClone\r\n                                .getImage()\r\n                                .getStroke()\r\n                                .getWidth() *\r\n                                3));\r\n                    }\r\n                    if (styleClone.getStroke()) {\r\n                        styleClone.getStroke().setColor(newColor);\r\n                        styleClone\r\n                            .getStroke()\r\n                            .setWidth(easeOut(elapsedRatio) * (styleClone.getStroke().getWidth() * 3));\r\n                    }\r\n                    break;\r\n                case 'Polygon':\r\n                    // TODO\r\n                    if (styleClone.getImage().getFill()) {\r\n                        styleClone\r\n                            .getImage()\r\n                            .getFill()\r\n                            .setColor(newColor);\r\n                    }\r\n                    if (styleClone.getFill()) {\r\n                        styleClone.getFill().setColor(newColor);\r\n                    }\r\n                    break;\r\n            }\r\n            vectorContext.setStyle(styleClone);\r\n            vectorContext.drawGeometry(flashGeom);\r\n            if (elapsed > this.options.animation.duration) {\r\n                unByKey(listenerKey);\r\n                // remove last geometry\r\n                // there is a little flash before feature disappear, better solution ?\r\n                this.map.ol.render();\r\n                return;\r\n            }\r\n            // tell OpenLayers to continue postcompose animation\r\n            this.map.ol.render();\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    VectorLayer.prototype.setMap = /**\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    function (map$$1) {\r\n        if (map$$1 === undefined) {\r\n            this.watcher.unsubscribe();\r\n        }\r\n        else {\r\n            this.watcher.subscribe((/**\r\n             * @return {?}\r\n             */\r\n            function () { }));\r\n        }\r\n        _super.prototype.setMap.call(this, map$$1);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    VectorLayer.prototype.onUnwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.dataSource.onUnwatch();\r\n        this.stopAnimation();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    VectorLayer.prototype.stopAnimation = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.dataSource.ol.un('addfeature', (/**\r\n         * @param {?} e\r\n         * @return {?}\r\n         */\r\n        function (e) {\r\n            this.flash(e.feature);\r\n        }).bind(this));\r\n    };\r\n    return VectorLayer;\r\n}(Layer));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar VectorTileLayer = /** @class */ (function (_super) {\r\n    __extends(VectorTileLayer, _super);\r\n    function VectorTileLayer(options) {\r\n        return _super.call(this, options) || this;\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    VectorTileLayer.prototype.createOlLayer = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var olOptions = Object.assign({}, this.options, {\r\n            source: (/** @type {?} */ (this.options.source.ol))\r\n        });\r\n        return new olLayerVectorTile(olOptions);\r\n    };\r\n    return VectorTileLayer;\r\n}(Layer));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar StyleService = /** @class */ (function () {\r\n    function StyleService() {\r\n    }\r\n    /**\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    StyleService.prototype.createStyle = /**\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (options) {\r\n        return this.parseStyle('style', options);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} key\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    StyleService.prototype.parseStyle = /**\r\n     * @private\r\n     * @param {?} key\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (key, value) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var styleOptions = {};\r\n        /** @type {?} */\r\n        var olCls = this.getOlCls(key);\r\n        if (olCls && value instanceof Object) {\r\n            Object.keys(value).forEach((/**\r\n             * @param {?} _key\r\n             * @return {?}\r\n             */\r\n            function (_key) {\r\n                /** @type {?} */\r\n                var olKey = _this.getOlKey(_key);\r\n                styleOptions[olKey] = _this.parseStyle(_key, value[_key]);\r\n            }));\r\n            return new olCls(styleOptions);\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    StyleService.prototype.getOlKey = /**\r\n     * @private\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (key) {\r\n        /** @type {?} */\r\n        var olKey = key.toLowerCase();\r\n        switch (olKey) {\r\n            case 'circle':\r\n            case 'regularshape':\r\n            case 'icon':\r\n                olKey = 'image';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return olKey;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    StyleService.prototype.getOlCls = /**\r\n     * @private\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (key) {\r\n        /** @type {?} */\r\n        var olCls = olstyle[key.charAt(0).toUpperCase() + key.slice(1)];\r\n        if (key === 'regularshape') {\r\n            olCls = RegularShape;\r\n        }\r\n        return olCls;\r\n    };\r\n    /**\r\n     * @param {?} feature\r\n     * @param {?} styleByAttribute\r\n     * @return {?}\r\n     */\r\n    StyleService.prototype.createStyleByAttribute = /**\r\n     * @param {?} feature\r\n     * @param {?} styleByAttribute\r\n     * @return {?}\r\n     */\r\n    function (feature, styleByAttribute) {\r\n        /** @type {?} */\r\n        var style$$1;\r\n        /** @type {?} */\r\n        var type = styleByAttribute.type;\r\n        /** @type {?} */\r\n        var attribute = styleByAttribute.attribute;\r\n        /** @type {?} */\r\n        var data = styleByAttribute.data;\r\n        /** @type {?} */\r\n        var stroke = styleByAttribute.stroke;\r\n        /** @type {?} */\r\n        var width = styleByAttribute.width;\r\n        /** @type {?} */\r\n        var fill = styleByAttribute.fill;\r\n        /** @type {?} */\r\n        var radius = styleByAttribute.radius;\r\n        /** @type {?} */\r\n        var icon = styleByAttribute.icon;\r\n        /** @type {?} */\r\n        var scale = styleByAttribute.scale;\r\n        /** @type {?} */\r\n        var size = data.length;\r\n        /** @type {?} */\r\n        var label = styleByAttribute.label;\r\n        /** @type {?} */\r\n        var baseStyle = styleByAttribute.baseStyle;\r\n        if (type === 'circle') {\r\n            for (var i = 0; i < size; i++) {\r\n                if (feature.get(attribute) === data[i]) {\r\n                    if (icon) {\r\n                        style$$1 = [\r\n                            new Style({\r\n                                image: new Icon({\r\n                                    src: icon[i],\r\n                                    scale: scale ? scale[i] : 1\r\n                                })\r\n                            })\r\n                        ];\r\n                        return style$$1;\r\n                    }\r\n                    style$$1 = [\r\n                        new Style({\r\n                            image: new Circle({\r\n                                radius: radius ? radius[i] : 4,\r\n                                stroke: new Stroke({\r\n                                    color: stroke ? stroke[i] : 'black'\r\n                                }),\r\n                                fill: new Fill({\r\n                                    color: fill ? fill[i] : 'black'\r\n                                })\r\n                            })\r\n                        })\r\n                    ];\r\n                    return style$$1;\r\n                }\r\n            }\r\n            if (!feature.getStyle()) {\r\n                style$$1 = [\r\n                    new Style({\r\n                        image: new Circle({\r\n                            radius: 4,\r\n                            stroke: new Stroke({\r\n                                color: 'black'\r\n                            }),\r\n                            fill: new Fill({\r\n                                color: '#bbbbf2'\r\n                            })\r\n                        })\r\n                    })\r\n                ];\r\n                return style$$1;\r\n            }\r\n        }\r\n        else if (type === 'regular') {\r\n            for (var i = 0; i < size; i++) {\r\n                if (feature.get(attribute) === data[i]) {\r\n                    style$$1 = [\r\n                        new Style({\r\n                            stroke: new Stroke({\r\n                                color: stroke ? stroke[i] : 'black',\r\n                                width: width ? width[i] : 1\r\n                            }),\r\n                            fill: new Fill({\r\n                                color: fill ? fill[i] : 'rgba(255,255,255,0.4)'\r\n                            }),\r\n                            text: new Text({\r\n                                text: feature.get(label),\r\n                                stroke: new Stroke({\r\n                                    color: 'black'\r\n                                })\r\n                            })\r\n                        })\r\n                    ];\r\n                    return style$$1;\r\n                }\r\n            }\r\n            if (!feature.getStyle()) {\r\n                if (baseStyle) {\r\n                    style$$1 = this.createStyle(baseStyle);\r\n                    return style$$1;\r\n                }\r\n                style$$1 = [\r\n                    new Style({\r\n                        stroke: new Stroke({\r\n                            color: 'black'\r\n                        }),\r\n                        fill: new Fill({\r\n                            color: '#bbbbf2'\r\n                        })\r\n                    })\r\n                ];\r\n                return style$$1;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} feature\r\n     * @param {?} clusterParam\r\n     * @return {?}\r\n     */\r\n    StyleService.prototype.createClusterStyle = /**\r\n     * @param {?} feature\r\n     * @param {?} clusterParam\r\n     * @return {?}\r\n     */\r\n    function (feature, clusterParam) {\r\n        /** @type {?} */\r\n        var style$$1;\r\n        /** @type {?} */\r\n        var range = clusterParam.clusterRange;\r\n        /** @type {?} */\r\n        var icon = clusterParam.clusterIcon;\r\n        /** @type {?} */\r\n        var scale = clusterParam.clusterScale;\r\n        /** @type {?} */\r\n        var size = feature.get('features').length;\r\n        /** @type {?} */\r\n        var color;\r\n        if (size !== 1) {\r\n            if (range) {\r\n                if (size >= range[1]) {\r\n                    color = 'red';\r\n                }\r\n                else if (size < range[1] && size >= range[0]) {\r\n                    color = 'orange';\r\n                }\r\n                else if (size < range[0]) {\r\n                    color = 'green';\r\n                }\r\n            }\r\n            style$$1 = [\r\n                new Style({\r\n                    image: new Circle({\r\n                        radius: 2 * size + 3.4,\r\n                        stroke: new Stroke({\r\n                            color: 'black'\r\n                        }),\r\n                        fill: new Fill({\r\n                            color: range ? color : 'blue'\r\n                        })\r\n                    }),\r\n                    text: new Text({\r\n                        text: size.toString(),\r\n                        fill: new Fill({\r\n                            color: '#fff'\r\n                        })\r\n                    })\r\n                })\r\n            ];\r\n        }\r\n        else {\r\n            if (icon) {\r\n                style$$1 = [\r\n                    new Style({\r\n                        image: new Icon({\r\n                            src: icon,\r\n                            scale: scale\r\n                        })\r\n                    })\r\n                ];\r\n            }\r\n            else {\r\n                style$$1 = [\r\n                    new Style({\r\n                        image: new Circle({\r\n                            radius: 2 * size + 3.4,\r\n                            stroke: new Stroke({\r\n                                color: 'black'\r\n                            }),\r\n                            fill: new Fill({\r\n                                color: 'blue'\r\n                            })\r\n                        })\r\n                    })\r\n                ];\r\n            }\r\n        }\r\n        return style$$1;\r\n    };\r\n    StyleService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    StyleService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ StyleService.ngInjectableDef = defineInjectable({ factory: function StyleService_Factory() { return new StyleService(); }, token: StyleService, providedIn: \"root\" });\r\n    return StyleService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Whether a layer is queryable\r\n * @param {?} layer Layer\r\n * @return {?} True if the layer s squeryable\r\n */\r\nfunction layerIsQueryable(layer) {\r\n    /** @type {?} */\r\n    var dataSource = (/** @type {?} */ (layer.dataSource));\r\n    return dataSource.options.queryable === true;\r\n}\r\n/**\r\n * Whether an OL layer is queryable\r\n * @param {?} olLayer\r\n * @return {?} True if the ol layer is queryable\r\n */\r\nfunction olLayerIsQueryable(olLayer) {\r\n    /** @type {?} */\r\n    var layer = olLayer.get('_layer');\r\n    return layer === undefined ? false : layerIsQueryable(layer);\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LayerItemComponent = /** @class */ (function () {\r\n    function LayerItemComponent(cdRef) {\r\n        this.cdRef = cdRef;\r\n        this.showLegend$ = new BehaviorSubject(false);\r\n        this.inResolutionRange$ = new BehaviorSubject(true);\r\n        this.queryBadgeHidden$ = new BehaviorSubject(true);\r\n        this.toggleLegendOnVisibilityChange = false;\r\n        this.expandLegendIfVisible = false;\r\n        this.updateLegendOnResolutionChange = false;\r\n        this.orderable = true;\r\n        this.queryBadge = false;\r\n    }\r\n    Object.defineProperty(LayerItemComponent.prototype, \"removable\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.layer.options.removable !== false; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerItemComponent.prototype, \"opacity\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.layer.opacity * 100; },\r\n        set: /**\r\n         * @param {?} opacity\r\n         * @return {?}\r\n         */\r\n        function (opacity) { this.layer.opacity = opacity / 100; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerItemComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var legend = this.layer.dataSource.options.legend || {};\r\n        /** @type {?} */\r\n        var legendCollapsed = legend.collapsed === false ? false : true;\r\n        if (this.layer.visible && this.expandLegendIfVisible) {\r\n            legendCollapsed = false;\r\n        }\r\n        this.toggleLegend(legendCollapsed);\r\n        this.updateQueryBadge();\r\n        /** @type {?} */\r\n        var resolution$ = this.layer.map.viewController.resolution$;\r\n        this.resolution$$ = resolution$.subscribe((/**\r\n         * @param {?} resolution\r\n         * @return {?}\r\n         */\r\n        function (resolution) {\r\n            _this.onResolutionChange(resolution);\r\n        }));\r\n        this.tooltipText = this.computeTooltip();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerItemComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.resolution$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @param {?} collapsed\r\n     * @return {?}\r\n     */\r\n    LayerItemComponent.prototype.toggleLegend = /**\r\n     * @param {?} collapsed\r\n     * @return {?}\r\n     */\r\n    function (collapsed) {\r\n        this.showLegend$.next(!collapsed);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerItemComponent.prototype.toggleVisibility = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.layer.visible = !this.layer.visible;\r\n        if (this.toggleLegendOnVisibilityChange) {\r\n            this.toggleLegend(!this.layer.visible);\r\n        }\r\n        this.updateQueryBadge();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerItemComponent.prototype.computeTooltip = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var layerOptions = this.layer.options;\r\n        if (!layerOptions.tooltip) {\r\n            return this.layer.title;\r\n        }\r\n        /** @type {?} */\r\n        var layerTooltip = layerOptions.tooltip;\r\n        /** @type {?} */\r\n        var layerMetadata = ((/** @type {?} */ (layerOptions))).metadata;\r\n        switch (layerOptions.tooltip.type) {\r\n            case TooltipType.TITLE:\r\n                return this.layer.title;\r\n            case TooltipType.ABSTRACT:\r\n                if (layerMetadata && layerMetadata.abstract) {\r\n                    return layerMetadata.abstract;\r\n                }\r\n                else {\r\n                    return this.layer.title;\r\n                }\r\n            case TooltipType.CUSTOM:\r\n                if (layerTooltip && layerTooltip.text) {\r\n                    return layerTooltip.text;\r\n                }\r\n                else {\r\n                    return this.layer.title;\r\n                }\r\n            default:\r\n                return this.layer.title;\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} resolution\r\n     * @return {?}\r\n     */\r\n    LayerItemComponent.prototype.onResolutionChange = /**\r\n     * @private\r\n     * @param {?} resolution\r\n     * @return {?}\r\n     */\r\n    function (resolution) {\r\n        /** @type {?} */\r\n        var inResolutionRange = this.layer.isInResolutionsRange;\r\n        if (inResolutionRange === false && this.updateLegendOnResolutionChange === true) {\r\n            this.toggleLegend(true);\r\n        }\r\n        this.inResolutionRange$.next(inResolutionRange);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    LayerItemComponent.prototype.updateQueryBadge = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var hidden = this.queryBadge === false ||\r\n            this.layer.visible === false ||\r\n            !layerIsQueryable(this.layer);\r\n        this.queryBadgeHidden$.next(hidden);\r\n    };\r\n    LayerItemComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-layer-item',\r\n                    template: \"<mat-list-item>\\r\\n  <mat-icon\\r\\n    class=\\\"igo-chevron\\\"\\r\\n    mat-list-avatar\\r\\n    igoCollapse\\r\\n    [target]=\\\"legend\\\"\\r\\n    [collapsed]=\\\"!(showLegend$ | async)\\\"\\r\\n    (toggle)=\\\"toggleLegend($event)\\\"\\r\\n    svgIcon=\\\"chevron-up\\\" >\\r\\n  </mat-icon>\\r\\n  <h4 matLine [matTooltip]=\\\"tooltipText\\\" matTooltipShowDelay=\\\"500\\\">{{layer.title}}</h4>\\r\\n\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    [color]=\\\"layer.visible ? 'primary' : 'default'\\\"\\r\\n    collapsibleButton\\r\\n    tooltip-position=\\\"below\\\"\\r\\n    matTooltipShowDelay=\\\"500\\\"\\r\\n    [matTooltip]=\\\"layer.visible ?\\r\\n                  ('igo.geo.layer.hideLayer' | translate) :\\r\\n                  ('igo.geo.layer.showLayer' | translate)\\\"\\r\\n    (click)=\\\"toggleVisibility()\\\">\\r\\n    <mat-icon\\r\\n      matBadge=\\\"?\\\"\\r\\n      matBadgeColor=\\\"accent\\\"\\r\\n      matBadgeSize=\\\"small\\\"\\r\\n      matBadgePosition=\\\"after\\\"\\r\\n      [matBadgeHidden]=\\\"queryBadgeHidden$ | async\\\"\\r\\n      [ngClass]=\\\"{disabled: !(inResolutionRange$ | async)}\\\"\\r\\n      [svgIcon]=\\\"layer.visible ? 'eye' : 'eye-off'\\\">\\r\\n    </mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    color=\\\"primary\\\"\\r\\n    igoCollapse\\r\\n    [target]=\\\"actions\\\"\\r\\n    [collapsed]=\\\"true\\\">\\r\\n    <mat-icon svgIcon=\\\"dots-horizontal\\\"></mat-icon>\\r\\n  </button>\\r\\n</mat-list-item>\\r\\n\\r\\n<div #actions class=\\\"igo-layer-actions-container\\\">\\r\\n  <div class=\\\"igo-col igo-col-100 igo-col-100-m\\\">\\r\\n    <mat-slider\\r\\n      id=\\\"opacity-slider\\\"\\r\\n      thumbLabel\\r\\n      tickInterval=\\\"5\\\"\\r\\n      step=\\\"5\\\"\\r\\n      [min]=\\\"0\\\"\\r\\n      [max]=\\\"100\\\"\\r\\n      [(ngModel)]=\\\"opacity\\\"\\r\\n      [matTooltip]=\\\"'igo.geo.layer.opacity' | translate\\\"\\r\\n      matTooltipShowDelay=\\\"500\\\"\\r\\n      tooltip-position=\\\"below\\\">\\r\\n    </mat-slider>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-col igo-col-100 igo-col-100-m\\\">\\r\\n    <div class=\\\"igo-layer-button-group\\\">\\r\\n      <button\\r\\n        color=\\\"primary\\\"\\r\\n        mat-icon-button\\r\\n        tooltip-position=\\\"below\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        [matTooltip]=\\\"'igo.geo.layer.raiseLayer' | translate\\\"\\r\\n        [disabled]=\\\"!orderable\\\"\\r\\n        (click)=\\\"layer.map.raiseLayer(layer)\\\">\\r\\n        <mat-icon svgIcon=\\\"arrow-up\\\"></mat-icon>\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        color=\\\"primary\\\"\\r\\n        tooltip-position=\\\"below\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        [matTooltip]=\\\"'igo.geo.layer.lowerLayer' | translate\\\"\\r\\n        [disabled]=\\\"!orderable\\\"\\r\\n        (click)=\\\"layer.map.lowerLayer(layer)\\\">\\r\\n        <mat-icon svgIcon=\\\"arrow-down\\\"></mat-icon>\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        *ngIf=\\\"removable === true\\\"\\r\\n        mat-icon-button\\r\\n        color=\\\"warn\\\"\\r\\n        tooltip-position=\\\"below\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        [matTooltip]=\\\"'igo.geo.layer.removeLayer' | translate\\\"\\r\\n        (click)=\\\"layer.map.removeLayer(layer)\\\">\\r\\n        <mat-icon svgIcon=\\\"delete\\\"></mat-icon>\\r\\n      </button>\\r\\n      <ng-content select=\\\"[igoLayerItemToolbar]\\\"></ng-content>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div #legend class=\\\"igo-layer-legend-container\\\">\\r\\n  <igo-layer-legend\\r\\n    *ngIf=\\\"showLegend$ | async\\\"\\r\\n    [layer]=\\\"layer\\\"\\r\\n    [updateLegendOnResolutionChange]=\\\"updateLegendOnResolutionChange\\\">\\r\\n  </igo-layer-legend>\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{overflow:hidden}.igo-layer-actions-container{width:100%;display:inline-block}.igo-layer-actions-container>div{text-align:center}.igo-layer-legend-container{padding-left:18px;width:calc(100% - 18px);display:inline-block}#opacity-slider{width:100%}.igo-layer-button-group{float:right;padding:0 3px}@media only screen and (max-width:450px),only screen and (max-height:450px){#opacity-slider{width:70%}.igo-layer-button-group{float:none}}mat-icon.disabled{color:rgba(0,0,0,.38)}.mat-badge-small .mat-badge-content{font-size:12px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    LayerItemComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    LayerItemComponent.propDecorators = {\r\n        layer: [{ type: Input }],\r\n        toggleLegendOnVisibilityChange: [{ type: Input }],\r\n        expandLegendIfVisible: [{ type: Input }],\r\n        updateLegendOnResolutionChange: [{ type: Input }],\r\n        orderable: [{ type: Input }],\r\n        queryBadge: [{ type: Input }]\r\n    };\r\n    return LayerItemComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LayerLegendComponent = /** @class */ (function () {\r\n    function LayerLegendComponent(capabilitiesService) {\r\n        this.capabilitiesService = capabilitiesService;\r\n        this.updateLegendOnResolutionChange = false;\r\n        /**\r\n         * Observable of the legend items\r\n         */\r\n        this.legendItems$ = new BehaviorSubject([]);\r\n    }\r\n    /**\r\n     * On init, subscribe to the map's resolution and update the legend accordingly\r\n     */\r\n    /**\r\n     * On init, subscribe to the map's resolution and update the legend accordingly\r\n     * @return {?}\r\n     */\r\n    LayerLegendComponent.prototype.ngOnInit = /**\r\n     * On init, subscribe to the map's resolution and update the legend accordingly\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.updateLegendOnResolutionChange === true) {\r\n            /** @type {?} */\r\n            var resolution$ = this.layer.map.viewController.resolution$;\r\n            this.resolution$$ = resolution$.subscribe((/**\r\n             * @param {?} resolution\r\n             * @return {?}\r\n             */\r\n            function (resolution) { return _this.onResolutionChange(resolution); }));\r\n        }\r\n        else {\r\n            this.updateLegend(undefined);\r\n        }\r\n    };\r\n    /**\r\n     * On destroy, unsubscribe to the map,s resolution\r\n     */\r\n    /**\r\n     * On destroy, unsubscribe to the map,s resolution\r\n     * @return {?}\r\n     */\r\n    LayerLegendComponent.prototype.ngOnDestroy = /**\r\n     * On destroy, unsubscribe to the map,s resolution\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.resolution$$ !== undefined) {\r\n            this.resolution$$.unsubscribe();\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} layerLegend\r\n     * @return {?}\r\n     */\r\n    LayerLegendComponent.prototype.computeItemTitle = /**\r\n     * @param {?} layerLegend\r\n     * @return {?}\r\n     */\r\n    function (layerLegend) {\r\n        /** @type {?} */\r\n        var layerOptions = (/** @type {?} */ (this.layer.dataSource.options));\r\n        if (layerOptions.type !== 'wms') {\r\n            return of(layerLegend.title);\r\n        }\r\n        /** @type {?} */\r\n        var layers = layerOptions.params.layers.split(',');\r\n        /** @type {?} */\r\n        var localLayerOptions = JSON.parse(JSON.stringify(layerOptions));\r\n        localLayerOptions.params.layers = layers.find((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return layer === layerLegend.title; }));\r\n        return this.capabilitiesService\r\n            .getWMSOptions(localLayerOptions)\r\n            .pipe(map((/**\r\n         * @param {?} wmsDataSourceOptions\r\n         * @return {?}\r\n         */\r\n        function (wmsDataSourceOptions) {\r\n            return wmsDataSourceOptions._layerOptionsFromCapabilities.title;\r\n        })));\r\n    };\r\n    /**\r\n     * On resolution change, compute the effective scale level and update the\r\n     * legend accordingly.\r\n     * @param resolutione Map resolution\r\n     */\r\n    /**\r\n     * On resolution change, compute the effective scale level and update the\r\n     * legend accordingly.\r\n     * @private\r\n     * @param {?} resolution\r\n     * @return {?}\r\n     */\r\n    LayerLegendComponent.prototype.onResolutionChange = /**\r\n     * On resolution change, compute the effective scale level and update the\r\n     * legend accordingly.\r\n     * @private\r\n     * @param {?} resolution\r\n     * @return {?}\r\n     */\r\n    function (resolution) {\r\n        /** @type {?} */\r\n        var scale = this.layer.map.viewController.getScale();\r\n        this.updateLegend(scale);\r\n    };\r\n    /**\r\n     * Update the legend according the scale level\r\n     * @param scale Map scale level\r\n     */\r\n    /**\r\n     * Update the legend according the scale level\r\n     * @private\r\n     * @param {?} scale Map scale level\r\n     * @return {?}\r\n     */\r\n    LayerLegendComponent.prototype.updateLegend = /**\r\n     * Update the legend according the scale level\r\n     * @private\r\n     * @param {?} scale Map scale level\r\n     * @return {?}\r\n     */\r\n    function (scale) {\r\n        /** @type {?} */\r\n        var legendItems = this.layer.dataSource.getLegend(scale);\r\n        if (legendItems.length === 0 && this.legendItems$.value.length === 0) {\r\n            return;\r\n        }\r\n        this.legendItems$.next(legendItems);\r\n    };\r\n    LayerLegendComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-layer-legend',\r\n                    template: \"<ng-container *ngIf=\\\"legendItems$ | async as items\\\">\\r\\n  <ng-container *ngIf=\\\"items.length; else noItems\\\">\\r\\n    <ng-container *ngFor=\\\"let item of items\\\">\\r\\n      <mat-list-item *ngIf=\\\"item.title\\\">\\r\\n        <mat-icon\\r\\n          id=\\\"legend-toggle\\\"\\r\\n          class=\\\"igo-chevron\\\"\\r\\n          mat-list-avatar\\r\\n          igoCollapse\\r\\n          [target]=\\\"legend\\\"\\r\\n          [collapsed]=\\\"false\\\"\\r\\n          svgIcon=\\\"chevron-up\\\">\\r\\n        </mat-icon>\\r\\n        <h4 matLine>{{computeItemTitle(item) | async}}</h4>\\r\\n      </mat-list-item>\\r\\n    \\r\\n      <div #legend class=\\\"igo-layer-legend\\\" [ngClass]=\\\"{'with-title': item.title}\\\">\\r\\n        <img\\r\\n          *ngIf=\\\"item.url\\\"\\r\\n          src=\\\"{{(item.url | secureImage) |\\u00A0async}}\\\"\\r\\n          alt=\\\"{{'igo.geo.layer.loadingLegendText' | translate}}\\\">\\r\\n        <div\\r\\n          [ngStyle]=\\\"item.style\\\"\\r\\n          [innerHTML]=\\\"item.html\\\"\\r\\n          *ngIf=\\\"item.html\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n    </ng-container>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-template #noItems>\\r\\n    <small>\\r\\n      {{'igo.geo.layer.noLegendText' | translate}}\\r\\n    </small>\\r\\n  </ng-template>\\r\\n\\r\\n</ng-container>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\".igo-layer-legend.with-title{padding-left:18px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    LayerLegendComponent.ctorParameters = function () { return [\r\n        { type: CapabilitiesService }\r\n    ]; };\r\n    LayerLegendComponent.propDecorators = {\r\n        updateLegendOnResolutionChange: [{ type: Input }],\r\n        layer: [{ type: Input }]\r\n    };\r\n    return LayerLegendComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar LayerListControlsEnum = {\r\n    always: 'always',\r\n    never: 'never',\r\n    default: 'default',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LayerListService = /** @class */ (function () {\r\n    function LayerListService() {\r\n        this.sortedAlpha = false;\r\n        this.onlyVisible = false;\r\n        this.onlyInRange = false;\r\n        this.keywordInitialized = false;\r\n        this.sortedAlphaInitialized = false;\r\n        this.onlyVisibleInitialized = false;\r\n        this.onlyInRangeInitialized = false;\r\n    }\r\n    LayerListService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    LayerListService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ LayerListService.ngInjectableDef = defineInjectable({ factory: function LayerListService_Factory() { return new LayerListService(); }, token: LayerListService, providedIn: \"root\" });\r\n    return LayerListService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n// TODO: This class could use a clean up. Also, some methods could be moved ealsewhere\r\nvar LayerListComponent = /** @class */ (function () {\r\n    function LayerListComponent(cdRef, layerListService) {\r\n        this.cdRef = cdRef;\r\n        this.layerListService = layerListService;\r\n        this.hasLayerNotVisible = false;\r\n        this.hasLayerOutOfRange = false;\r\n        this.orderable = true;\r\n        this.thresholdToFilterAndSort = 5;\r\n        this.layers$ = new BehaviorSubject([]);\r\n        this.change$ = new ReplaySubject(1);\r\n        this.showToolbar$ = new BehaviorSubject(false);\r\n        this.placeholder = '';\r\n        this.floatLabel = 'auto';\r\n        this.layerFilterAndSortOptions = {};\r\n        this.excludeBaseLayers = false;\r\n        this.toggleLegendOnVisibilityChange = false;\r\n        this.expandLegendOfVisibleLayers = false;\r\n        this.updateLegendOnResolutionChange = false;\r\n        this.queryBadge = false;\r\n    }\r\n    Object.defineProperty(LayerListComponent.prototype, \"layers\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this._layers; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.setLayers(value);\r\n            this.next();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerListComponent.prototype, \"keyword\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.layerListService.keyword; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.layerListService.keyword = value;\r\n            this.next();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerListComponent.prototype, \"keywordInitialized\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.layerListService.keywordInitialized; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { this.layerListService.keywordInitialized = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerListComponent.prototype, \"onlyVisible\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.layerListService.onlyVisible; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.layerListService.onlyVisible = value;\r\n            this.next();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerListComponent.prototype, \"onlyVisibleInitialized\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.layerListService.onlyVisibleInitialized; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { this.layerListService.onlyVisibleInitialized = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerListComponent.prototype, \"onlyInRange\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.layerListService.onlyInRange; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.layerListService.onlyInRange = value;\r\n            this.next();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerListComponent.prototype, \"onlyInRangeInitialized\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.layerListService.onlyInRangeInitialized; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { this.layerListService.onlyInRangeInitialized = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerListComponent.prototype, \"sortedAlpha\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.layerListService.sortedAlpha; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.layerListService.sortedAlpha = value;\r\n            this.next();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerListComponent.prototype, \"sortedAlphaInitialized\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.layerListService.sortedAlphaInitialized; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { this.layerListService.sortedAlphaInitialized = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Subscribe to the search term stream and trigger researches\r\n     * @internal\r\n     */\r\n    /**\r\n     * Subscribe to the search term stream and trigger researches\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.ngOnInit = /**\r\n     * Subscribe to the search term stream and trigger researches\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.change$$ = this.change$\r\n            .pipe(debounce((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return _this.layers.length === 0 ? EMPTY : timer(50);\r\n        }))).subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.showToolbar$.next(_this.computeShowToolbar());\r\n            _this.layers$.next(_this.computeLayers(_this.layers.slice(0)));\r\n        }));\r\n        this.initLayerFilterAndSortOptions();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.change$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.toggleOnlyVisible = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.onlyVisible = !this.onlyVisible;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.toggleOnlyInRange = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.onlyInRange = !this.onlyInRange;\r\n    };\r\n    /**\r\n     * @param {?} sortAlpha\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.toggleSort = /**\r\n     * @param {?} sortAlpha\r\n     * @return {?}\r\n     */\r\n    function (sortAlpha) {\r\n        this.sortedAlpha = sortAlpha;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.clearKeyword = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.keyword = undefined;\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.next = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.change$.next();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.computeLayers = /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    function (layers) {\r\n        /** @type {?} */\r\n        var layersOut = this.filterLayers(layers);\r\n        if (this.sortedAlpha) {\r\n            layersOut = this.sortLayersByTitle(layersOut);\r\n        }\r\n        else {\r\n            layersOut = this.sortLayersByZindex(layersOut);\r\n        }\r\n        return layersOut;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.filterLayers = /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    function (layers) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var keyword = this.keyword;\r\n        if (this.layerFilterAndSortOptions.showToolbar === LayerListControlsEnum.never) {\r\n            return layers;\r\n        }\r\n        if (!keyword && !this.onlyInRange && !this.onlyVisible) {\r\n            return layers;\r\n        }\r\n        /** @type {?} */\r\n        var keepLayerIds = layers.map((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return layer.id; }));\r\n        layers.forEach((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) {\r\n            /** @type {?} */\r\n            var layerOptions = (/** @type {?} */ (layer.options)) || {};\r\n            /** @type {?} */\r\n            var dataSourceOptions = layer.dataSource.options || {};\r\n            /** @type {?} */\r\n            var metadata = layerOptions.metadata || (/** @type {?} */ ({}));\r\n            /** @type {?} */\r\n            var keywords = metadata.keywordList || [];\r\n            /** @type {?} */\r\n            var layerKeywords = keywords.map((/**\r\n             * @param {?} kw\r\n             * @return {?}\r\n             */\r\n            function (kw) {\r\n                return kw.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n            }));\r\n            if (keyword) {\r\n                /** @type {?} */\r\n                var localKeyword = keyword.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n                /** @type {?} */\r\n                var layerTitle = layer.title.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n                /** @type {?} */\r\n                var dataSourceType = dataSourceOptions.type || '';\r\n                /** @type {?} */\r\n                var keywordRegex_1 = new RegExp(localKeyword, 'gi');\r\n                /** @type {?} */\r\n                var keywordInList = layerKeywords.find((/**\r\n                 * @param {?} kw\r\n                 * @return {?}\r\n                 */\r\n                function (kw) { return keywordRegex_1.test(kw); })) !== undefined;\r\n                if (!keywordRegex_1.test(layerTitle) &&\r\n                    !(keyword.toLowerCase() === dataSourceType.toLowerCase()) &&\r\n                    !keywordInList) {\r\n                    /** @type {?} */\r\n                    var index = keepLayerIds.indexOf(layer.id);\r\n                    if (index > -1) {\r\n                        keepLayerIds.splice(index, 1);\r\n                    }\r\n                }\r\n            }\r\n            if (_this.onlyVisible && layer.visible === false) {\r\n                /** @type {?} */\r\n                var index = keepLayerIds.indexOf(layer.id);\r\n                if (index > -1) {\r\n                    keepLayerIds.splice(index, 1);\r\n                }\r\n            }\r\n            if (_this.onlyInRange && layer.isInResolutionsRange === false) {\r\n                /** @type {?} */\r\n                var index = keepLayerIds.indexOf(layer.id);\r\n                if (index > -1) {\r\n                    keepLayerIds.splice(index, 1);\r\n                }\r\n            }\r\n        }));\r\n        return layers.filter((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return keepLayerIds.indexOf(layer.id) !== -1; }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.sortLayersByZindex = /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    function (layers) {\r\n        return layers.sort((/**\r\n         * @param {?} layer1\r\n         * @param {?} layer2\r\n         * @return {?}\r\n         */\r\n        function (layer1, layer2) { return layer2.zIndex - layer1.zIndex; }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.sortLayersByTitle = /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    function (layers) {\r\n        return layers.sort((/**\r\n         * @param {?} a\r\n         * @param {?} b\r\n         * @return {?}\r\n         */\r\n        function (a, b) {\r\n            if (a.title < b.title) {\r\n                return -1;\r\n            }\r\n            if (a.title > b.title) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.computeOrderable = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.onlyInRange || this.onlyVisible ||\r\n            this.sortedAlpha || this.keyword) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.computeShowToolbar = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        switch (this.layerFilterAndSortOptions.showToolbar) {\r\n            case LayerListControlsEnum.always:\r\n                return true;\r\n            case LayerListControlsEnum.never:\r\n                return false;\r\n            default:\r\n                if (this.layers.length >= this.thresholdToFilterAndSort ||\r\n                    this.keyword ||\r\n                    this.onlyInRange ||\r\n                    this.onlyVisible) {\r\n                    return true;\r\n                }\r\n                return false;\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.initLayerFilterAndSortOptions = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.layerFilterAndSortOptions.toolbarThreshold) {\r\n            this.thresholdToFilterAndSort = this.layerFilterAndSortOptions.toolbarThreshold;\r\n        }\r\n        if (this.layerFilterAndSortOptions.keyword && !this.keywordInitialized) {\r\n            this.keyword = this.layerFilterAndSortOptions.keyword;\r\n            this.keywordInitialized = true;\r\n        }\r\n        if (this.layerFilterAndSortOptions.sortedAlpha && !this.sortedAlphaInitialized) {\r\n            this.sortedAlpha = this.layerFilterAndSortOptions.sortedAlpha;\r\n            this.sortedAlphaInitialized = true;\r\n        }\r\n        if (this.layerFilterAndSortOptions.onlyVisible && !this.onlyVisibleInitialized &&\r\n            this.hasLayerNotVisible) {\r\n            this.onlyVisible = this.layerFilterAndSortOptions.onlyVisible;\r\n            this.onlyVisibleInitialized = true;\r\n        }\r\n        if (this.layerFilterAndSortOptions.onlyInRange && !this.onlyInRangeInitialized &&\r\n            this.hasLayerOutOfRange) {\r\n            this.onlyInRange = this.layerFilterAndSortOptions.onlyInRange;\r\n            this.onlyInRangeInitialized = true;\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    LayerListComponent.prototype.setLayers = /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    function (layers) {\r\n        this._layers = layers;\r\n        this.orderable = this.computeOrderable();\r\n        if (this.excludeBaseLayers) {\r\n            this.hasLayerNotVisible = layers.find((/**\r\n             * @param {?} l\r\n             * @return {?}\r\n             */\r\n            function (l) { return l.visible === false && !l.baseLayer; })) !== undefined;\r\n            this.hasLayerOutOfRange = layers.find((/**\r\n             * @param {?} l\r\n             * @return {?}\r\n             */\r\n            function (l) { return l.isInResolutionsRange === false && !l.baseLayer; })) !== undefined;\r\n        }\r\n        else {\r\n            this.hasLayerNotVisible = layers.find((/**\r\n             * @param {?} l\r\n             * @return {?}\r\n             */\r\n            function (l) { return l.visible === false; })) !== undefined;\r\n            this.hasLayerOutOfRange = layers.find((/**\r\n             * @param {?} l\r\n             * @return {?}\r\n             */\r\n            function (l) { return l.isInResolutionsRange === false; })) !== undefined;\r\n        }\r\n    };\r\n    LayerListComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-layer-list',\r\n                    template: \"<igo-list [navigation]=\\\"false\\\" [selection]=\\\"false\\\">\\r\\n  <mat-list-item *ngIf=\\\"showToolbar$ | async\\\">\\r\\n    <ng-container>\\r\\n      <mat-form-field class=\\\"inputFilter\\\" [floatLabel]=\\\"floatLabel\\\">\\r\\n        <input\\r\\n          matInput\\r\\n          [placeholder]=\\\"placeholder\\\"\\r\\n          [matTooltip]=\\\"'igo.geo.layer.subsetLayersListKeyword' | translate\\\"\\r\\n          matTooltipShowDelay=\\\"500\\\"\\r\\n          type=\\\"text\\\" [(ngModel)]=\\\"keyword\\\">\\r\\n        <button\\r\\n          mat-button\\r\\n          *ngIf=\\\"keyword\\\"\\r\\n          matSuffix\\r\\n          mat-icon-button\\r\\n          aria-label=\\\"Clear\\\"\\r\\n          color=\\\"warn\\\"\\r\\n          (click)=\\\"clearKeyword()\\\">\\r\\n          <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n        </button>\\r\\n      </mat-form-field>\\r\\n      <button\\r\\n        *ngIf=\\\"!sortedAlpha\\\"\\r\\n        mat-icon-button\\r\\n        [matTooltip]=\\\"'igo.geo.layer.sortAlphabetically' | translate\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        (click)=\\\"toggleSort(true)\\\">\\r\\n        <mat-icon color=\\\"primary\\\" svgIcon=\\\"sort-alphabetical\\\"></mat-icon>\\r\\n      </button>\\r\\n      <button\\r\\n        *ngIf=\\\"sortedAlpha\\\"\\r\\n        mat-icon-button\\r\\n        [matTooltip]=\\\"'igo.geo.layer.sortMapOrder' | translate\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        (click)=\\\"toggleSort(false)\\\">\\r\\n        <mat-icon color=\\\"warn\\\" svgIcon=\\\"alert\\\"></mat-icon>\\r\\n      </button>\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        [disabled]=\\\"!hasLayerNotVisible\\\"\\r\\n        [matTooltip]=\\\"onlyVisible ?\\r\\n        ('igo.geo.layer.resetLayersList' | translate) :\\r\\n        ('igo.geo.layer.subsetLayersListOnlyVisible' | translate)\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        [color]=\\\"onlyVisible ? 'warn' : 'primary'\\\"\\r\\n        (click)=\\\"toggleOnlyVisible()\\\">\\r\\n        <mat-icon [svgIcon]=\\\"!onlyVisible ? 'eye' : 'alert'\\\"></mat-icon>\\r\\n      </button>\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        [disabled]=\\\"!hasLayerOutOfRange\\\"\\r\\n        [matTooltip]=\\\"onlyInRange ?\\r\\n        ('igo.geo.layer.resetLayersList' | translate) :\\r\\n        ('igo.geo.layer.subsetLayersListOnlyInRange' | translate)\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\"\\r\\n        [color]=\\\"onlyInRange ? 'warn' : 'primary'\\\"\\r\\n        (click)=\\\"toggleOnlyInRange()\\\">\\r\\n        <mat-icon [svgIcon]=\\\"!onlyInRange ? 'playlist-check' : 'alert'\\\"></mat-icon>\\r\\n      </button>\\r\\n    </ng-container>\\r\\n  </mat-list-item>\\r\\n\\r\\n  <ng-template ngFor let-layer [ngForOf]=\\\"layers$ | async\\\">\\r\\n    <igo-layer-item *ngIf=\\\"!(excludeBaseLayers && layer.baseLayer)\\\"\\r\\n        igoListItem\\r\\n        [layer]=\\\"layer\\\"\\r\\n        [orderable]=\\\"orderable\\\"\\r\\n        [queryBadge]=\\\"queryBadge\\\"\\r\\n        [expandLegendIfVisible]=\\\"expandLegendOfVisibleLayers\\\"\\r\\n        [updateLegendOnResolutionChange]=\\\"updateLegendOnResolutionChange\\\"\\r\\n        [toggleLegendOnVisibilityChange]=\\\"toggleLegendOnVisibilityChange\\\">\\r\\n\\r\\n        <ng-container igoLayerItemToolbar\\r\\n          [ngTemplateOutlet]=\\\"templateLayerToolbar\\\"\\r\\n          [ngTemplateOutletContext]=\\\"{layer: layer}\\\">\\r\\n        </ng-container>\\r\\n\\r\\n    </igo-layer-item>\\r\\n  </ng-template>\\r\\n</igo-list>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"mat-form-field.inputFilter{width:calc(100% - 100px);max-width:200px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    LayerListComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef },\r\n        { type: LayerListService }\r\n    ]; };\r\n    LayerListComponent.propDecorators = {\r\n        templateLayerToolbar: [{ type: ContentChild, args: ['igoLayerItemToolbar',] }],\r\n        layers: [{ type: Input }],\r\n        placeholder: [{ type: Input }],\r\n        floatLabel: [{ type: Input }],\r\n        layerFilterAndSortOptions: [{ type: Input }],\r\n        excludeBaseLayers: [{ type: Input }],\r\n        toggleLegendOnVisibilityChange: [{ type: Input }],\r\n        expandLegendOfVisibleLayers: [{ type: Input }],\r\n        updateLegendOnResolutionChange: [{ type: Input }],\r\n        queryBadge: [{ type: Input }]\r\n    };\r\n    return LayerListComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * MapService\r\n *\r\n * This service tracks the IgoMap instance, if any.\r\n * Currently, only one map instance is supported\r\n * but support for multiple maps may be added in the future.\r\n * This will impact other services such as the OverlayService\r\n * because these maps won't be sharing overlayed features.\r\n */\r\nvar MapService = /** @class */ (function () {\r\n    function MapService() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MapService.prototype.getMap = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.map;\r\n    };\r\n    /**\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    MapService.prototype.setMap = /**\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    function (map$$1) {\r\n        this.map = map$$1;\r\n    };\r\n    MapService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    MapService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ MapService.ngInjectableDef = defineInjectable({ factory: function MapService_Factory() { return new MapService(); }, token: MapService, providedIn: \"root\" });\r\n    return MapService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LayerListBindingDirective = /** @class */ (function () {\r\n    function LayerListBindingDirective(component, mapService, layerListService, route) {\r\n        this.mapService = mapService;\r\n        this.layerListService = layerListService;\r\n        this.route = route;\r\n        this.component = component;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerListBindingDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        // Override input layers\r\n        this.component.layers = [];\r\n        this.layers$$ = this.mapService\r\n            .getMap()\r\n            .layers$.subscribe((/**\r\n         * @param {?} layers\r\n         * @return {?}\r\n         */\r\n        function (layers) {\r\n            _this.component.layers = layers.filter((/**\r\n             * @param {?} layer\r\n             * @return {?}\r\n             */\r\n            function (layer) {\r\n                return layer.showInLayerList === true;\r\n            }));\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerListBindingDirective.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.initRoutes();\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    LayerListBindingDirective.prototype.initRoutes = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.route &&\r\n            (this.route.options.llcKKey || this.route.options.llcAKey ||\r\n                this.route.options.llcVKey || this.route.options.llcVKey)) {\r\n            this.route.queryParams.subscribe((/**\r\n             * @param {?} params\r\n             * @return {?}\r\n             */\r\n            function (params) {\r\n                /** @type {?} */\r\n                var keywordFromUrl = params[(/** @type {?} */ (_this.route.options.llcKKey))];\r\n                /** @type {?} */\r\n                var sortedAplhaFromUrl = params[(/** @type {?} */ (_this.route.options.llcAKey))];\r\n                /** @type {?} */\r\n                var onlyVisibleFromUrl = params[(/** @type {?} */ (_this.route.options.llcVKey))];\r\n                /** @type {?} */\r\n                var onlyInRangeFromUrl = params[(/** @type {?} */ (_this.route.options.llcRKey))];\r\n                if (keywordFromUrl && !_this.layerListService.keywordInitialized) {\r\n                    _this.layerListService.keyword = keywordFromUrl;\r\n                    _this.layerListService.keywordInitialized = true;\r\n                }\r\n                if (sortedAplhaFromUrl && !_this.layerListService.sortedAlphaInitialized) {\r\n                    _this.layerListService.sortedAlpha = sortedAplhaFromUrl === '1' ? true : false;\r\n                    _this.layerListService.sortedAlphaInitialized = true;\r\n                }\r\n                if (onlyVisibleFromUrl &&\r\n                    !_this.layerListService.onlyVisibleInitialized &&\r\n                    _this.component.hasLayerNotVisible) {\r\n                    _this.layerListService.onlyVisible = onlyVisibleFromUrl === '1' ? true : false;\r\n                    _this.layerListService.onlyVisibleInitialized = true;\r\n                }\r\n                if (onlyInRangeFromUrl &&\r\n                    !_this.layerListService.onlyInRangeInitialized &&\r\n                    _this.component.hasLayerOutOfRange) {\r\n                    _this.layerListService.onlyInRange = onlyInRangeFromUrl === '1' ? true : false;\r\n                    _this.layerListService.onlyInRangeInitialized = true;\r\n                }\r\n            }));\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerListBindingDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.layers$$.unsubscribe();\r\n    };\r\n    LayerListBindingDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoLayerListBinding]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    LayerListBindingDirective.ctorParameters = function () { return [\r\n        { type: LayerListComponent, decorators: [{ type: Self }] },\r\n        { type: MapService },\r\n        { type: LayerListService },\r\n        { type: RouteService, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    return LayerListBindingDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Strategies or responsible of synchronizing a feature store and a layer.\r\n * A strategy can be shared among multiple stores. Sharing a strategy\r\n * is a good idea when multiple strategies would have on cancelling effect\r\n * on each other.\r\n *\r\n * At creation, strategy is inactive and needs to be manually activated.\r\n */\r\nvar  /**\r\n * Strategies or responsible of synchronizing a feature store and a layer.\r\n * A strategy can be shared among multiple stores. Sharing a strategy\r\n * is a good idea when multiple strategies would have on cancelling effect\r\n * on each other.\r\n *\r\n * At creation, strategy is inactive and needs to be manually activated.\r\n */\r\nFeatureStoreStrategy = /** @class */ (function () {\r\n    function FeatureStoreStrategy(options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.options = options;\r\n        /**\r\n         * Feature store\r\n         * \\@internal\r\n         */\r\n        this.stores = [];\r\n        /**\r\n         * Whether this strategy is active\r\n         * \\@internal\r\n         */\r\n        this.active = false;\r\n        this.options = options;\r\n    }\r\n    /**\r\n     * Whether this strategy is active\r\n     */\r\n    /**\r\n     * Whether this strategy is active\r\n     * @return {?}\r\n     */\r\n    FeatureStoreStrategy.prototype.isActive = /**\r\n     * Whether this strategy is active\r\n     * @return {?}\r\n     */\r\n    function () { return this.active; };\r\n    /**\r\n     * Activate the strategy. If it's already active, it'll be deactivated\r\n     * and activated again.\r\n     */\r\n    /**\r\n     * Activate the strategy. If it's already active, it'll be deactivated\r\n     * and activated again.\r\n     * @return {?}\r\n     */\r\n    FeatureStoreStrategy.prototype.activate = /**\r\n     * Activate the strategy. If it's already active, it'll be deactivated\r\n     * and activated again.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.active === true) {\r\n            this.doDeactivate();\r\n        }\r\n        this.active = true;\r\n        this.doActivate();\r\n    };\r\n    /**\r\n     * Activate the strategy. If it's already active, it'll be deactivated\r\n     * and activated again.\r\n     */\r\n    /**\r\n     * Activate the strategy. If it's already active, it'll be deactivated\r\n     * and activated again.\r\n     * @return {?}\r\n     */\r\n    FeatureStoreStrategy.prototype.deactivate = /**\r\n     * Activate the strategy. If it's already active, it'll be deactivated\r\n     * and activated again.\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.active = false;\r\n        this.doDeactivate();\r\n    };\r\n    /**\r\n     * Bind this strategy to a store\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Bind this strategy to a store\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreStrategy.prototype.bindStore = /**\r\n     * Bind this strategy to a store\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        if (this.stores.indexOf(store) < 0) {\r\n            this.stores.push(store);\r\n        }\r\n    };\r\n    /**\r\n     * Unbind this strategy from store\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Unbind this strategy from store\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreStrategy.prototype.unbindStore = /**\r\n     * Unbind this strategy from store\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        /** @type {?} */\r\n        var index = this.stores.indexOf(store);\r\n        if (index >= 0) {\r\n            this.stores.splice(index, 1);\r\n        }\r\n    };\r\n    /**\r\n     * Do the stataegy activation\r\n     * @internal\r\n     */\r\n    /**\r\n     * Do the stataegy activation\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    FeatureStoreStrategy.prototype.doActivate = /**\r\n     * Do the stataegy activation\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    /**\r\n     * Do the strategy deactivation\r\n     * @internal\r\n     */\r\n    /**\r\n     * Do the strategy deactivation\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    FeatureStoreStrategy.prototype.doDeactivate = /**\r\n     * Do the strategy deactivation\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    return FeatureStoreStrategy;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This strategy loads a store's features into it's layer counterpart.\r\n * The store -> layer binding is a one-way binding. That means any entity\r\n * added to the store will be added to the layer but the opposite is false.\r\n *\r\n * Important: This strategy observes filtered entities, not raw entities. This\r\n * is not configurable yet.\r\n */\r\nvar  /**\r\n * This strategy loads a store's features into it's layer counterpart.\r\n * The store -> layer binding is a one-way binding. That means any entity\r\n * added to the store will be added to the layer but the opposite is false.\r\n *\r\n * Important: This strategy observes filtered entities, not raw entities. This\r\n * is not configurable yet.\r\n */\r\nFeatureStoreLoadingStrategy = /** @class */ (function (_super) {\r\n    __extends(FeatureStoreLoadingStrategy, _super);\r\n    function FeatureStoreLoadingStrategy(options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.options = options;\r\n        /**\r\n         * Subscription to the store's features\r\n         */\r\n        _this.stores$$ = new Map();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Bind this strategy to a store and start watching for entities changes\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Bind this strategy to a store and start watching for entities changes\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingStrategy.prototype.bindStore = /**\r\n     * Bind this strategy to a store and start watching for entities changes\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        _super.prototype.bindStore.call(this, store);\r\n        if (this.isActive() === true) {\r\n            this.watchStore(store);\r\n        }\r\n    };\r\n    /**\r\n     * Unbind this strategy from a store and stop watching for entities changes\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Unbind this strategy from a store and stop watching for entities changes\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingStrategy.prototype.unbindStore = /**\r\n     * Unbind this strategy from a store and stop watching for entities changes\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        _super.prototype.unbindStore.call(this, store);\r\n        if (this.isActive() === true) {\r\n            this.unwatchStore(store);\r\n        }\r\n    };\r\n    /**\r\n     * Start watching all stores already bound to that strategy at once.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Start watching all stores already bound to that strategy at once.\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingStrategy.prototype.doActivate = /**\r\n     * Start watching all stores already bound to that strategy at once.\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.stores.forEach((/**\r\n         * @param {?} store\r\n         * @return {?}\r\n         */\r\n        function (store) { return _this.watchStore(store); }));\r\n    };\r\n    /**\r\n     * Stop watching all stores bound to that strategy\r\n     * @internal\r\n     */\r\n    /**\r\n     * Stop watching all stores bound to that strategy\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingStrategy.prototype.doDeactivate = /**\r\n     * Stop watching all stores bound to that strategy\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.unwatchAll();\r\n    };\r\n    /**\r\n     * Watch for entities changes in a store.\r\n     * Important: Never observe a store's sorted entities. It makes no sense\r\n     * to display sorted entities (instead of unsorted) on a layer and it\r\n     * would potentially result in a lot of useless computation.\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Watch for entities changes in a store.\r\n     * Important: Never observe a store's sorted entities. It makes no sense\r\n     * to display sorted entities (instead of unsorted) on a layer and it\r\n     * would potentially result in a lot of useless computation.\r\n     * @private\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingStrategy.prototype.watchStore = /**\r\n     * Watch for entities changes in a store.\r\n     * Important: Never observe a store's sorted entities. It makes no sense\r\n     * to display sorted entities (instead of unsorted) on a layer and it\r\n     * would potentially result in a lot of useless computation.\r\n     * @private\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        var _this = this;\r\n        if (this.stores$$.has(store)) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var subscription = store.view.all$()\r\n            .subscribe((/**\r\n         * @param {?} features\r\n         * @return {?}\r\n         */\r\n        function (features) { return _this.onFeaturesChange(features, store); }));\r\n        this.stores$$.set(store, subscription);\r\n    };\r\n    /**\r\n     * Stop watching for entities changes in a store.\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Stop watching for entities changes in a store.\r\n     * @private\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingStrategy.prototype.unwatchStore = /**\r\n     * Stop watching for entities changes in a store.\r\n     * @private\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        /** @type {?} */\r\n        var subscription = this.stores$$.get(store);\r\n        if (subscription !== undefined) {\r\n            subscription.unsubscribe();\r\n            this.stores$$.delete(store);\r\n        }\r\n    };\r\n    /**\r\n     * Stop watching for entities changes in all stores.\r\n     */\r\n    /**\r\n     * Stop watching for entities changes in all stores.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingStrategy.prototype.unwatchAll = /**\r\n     * Stop watching for entities changes in all stores.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        Array.from(this.stores$$.entries()).forEach((/**\r\n         * @param {?} entries\r\n         * @return {?}\r\n         */\r\n        function (entries) {\r\n            entries[1].unsubscribe();\r\n        }));\r\n        this.stores$$.clear();\r\n    };\r\n    /**\r\n     * Load features into a layer or clear the layer if the array of features is empty.\r\n     * @param features Store filtered features\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Load features into a layer or clear the layer if the array of features is empty.\r\n     * @private\r\n     * @param {?} features Store filtered features\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingStrategy.prototype.onFeaturesChange = /**\r\n     * Load features into a layer or clear the layer if the array of features is empty.\r\n     * @private\r\n     * @param {?} features Store filtered features\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (features, store) {\r\n        if (features.length === 0) {\r\n            store.clearLayer();\r\n        }\r\n        else {\r\n            store.setLayerFeatures(features, this.selectMotion(store), this.options.viewScale, this.options.areaRatio, this.options.getFeatureId);\r\n        }\r\n    };\r\n    /**\r\n     * Selects the best motion\r\n     * @param store A FeatureStore to apply the motion\r\n     * @returns The motion selected\r\n     */\r\n    /**\r\n     * Selects the best motion\r\n     * @private\r\n     * @param {?} store A FeatureStore to apply the motion\r\n     * @return {?} The motion selected\r\n     */\r\n    FeatureStoreLoadingStrategy.prototype.selectMotion = /**\r\n     * Selects the best motion\r\n     * @private\r\n     * @param {?} store A FeatureStore to apply the motion\r\n     * @return {?} The motion selected\r\n     */\r\n    function (store) {\r\n        if (this.options.motion !== undefined) {\r\n            return this.options.motion;\r\n        }\r\n        if (store.pristine === true) {\r\n            // If features have just been loaded into the store, move/zoom on them\r\n            return FeatureMotion.Default;\r\n        }\r\n        else if (store.count > store.view.count) {\r\n            // If features have been filtered, move/zoom on the remaining ones\r\n            return FeatureMotion.Default;\r\n        }\r\n        else {\r\n            // On insert, update or delete, do nothing\r\n            return FeatureMotion.None;\r\n        }\r\n    };\r\n    return FeatureStoreLoadingStrategy;\r\n}(FeatureStoreStrategy));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This strategy loads a layer's features into it's store counterpart.\r\n * The layer -> store binding is a one-way binding. That means any OL feature\r\n * added to the layer will be added to the store but the opposite is false.\r\n *\r\n * Important: In it's current state, this strategy is to meant to be combined\r\n * with a standard Loading strategy and it would probably cause recursion issues.\r\n */\r\nvar  /**\r\n * This strategy loads a layer's features into it's store counterpart.\r\n * The layer -> store binding is a one-way binding. That means any OL feature\r\n * added to the layer will be added to the store but the opposite is false.\r\n *\r\n * Important: In it's current state, this strategy is to meant to be combined\r\n * with a standard Loading strategy and it would probably cause recursion issues.\r\n */\r\nFeatureStoreLoadingLayerStrategy = /** @class */ (function (_super) {\r\n    __extends(FeatureStoreLoadingLayerStrategy, _super);\r\n    function FeatureStoreLoadingLayerStrategy(options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.options = options;\r\n        /**\r\n         * Subscription to the store's OL source changes\r\n         */\r\n        _this.stores$$ = new Map();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Bind this strategy to a store and start watching for Ol source changes\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Bind this strategy to a store and start watching for Ol source changes\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingLayerStrategy.prototype.bindStore = /**\r\n     * Bind this strategy to a store and start watching for Ol source changes\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        _super.prototype.bindStore.call(this, store);\r\n        if (this.isActive() === true) {\r\n            this.watchStore(store);\r\n        }\r\n    };\r\n    /**\r\n     * Unbind this strategy from a store and stop watching for Ol source changes\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Unbind this strategy from a store and stop watching for Ol source changes\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingLayerStrategy.prototype.unbindStore = /**\r\n     * Unbind this strategy from a store and stop watching for Ol source changes\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        _super.prototype.unbindStore.call(this, store);\r\n        if (this.isActive() === true) {\r\n            this.unwatchStore(store);\r\n        }\r\n    };\r\n    /**\r\n     * Start watching all stores already bound to that strategy at once.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Start watching all stores already bound to that strategy at once.\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingLayerStrategy.prototype.doActivate = /**\r\n     * Start watching all stores already bound to that strategy at once.\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.stores.forEach((/**\r\n         * @param {?} store\r\n         * @return {?}\r\n         */\r\n        function (store) { return _this.watchStore(store); }));\r\n    };\r\n    /**\r\n     * Stop watching all stores bound to that strategy\r\n     * @internal\r\n     */\r\n    /**\r\n     * Stop watching all stores bound to that strategy\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingLayerStrategy.prototype.doDeactivate = /**\r\n     * Stop watching all stores bound to that strategy\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.unwatchAll();\r\n    };\r\n    /**\r\n     * Watch for a store's  OL source changes\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Watch for a store's  OL source changes\r\n     * @private\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingLayerStrategy.prototype.watchStore = /**\r\n     * Watch for a store's  OL source changes\r\n     * @private\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        var _this = this;\r\n        if (this.stores$$.has(store)) {\r\n            return;\r\n        }\r\n        this.onSourceChanges(store);\r\n        /** @type {?} */\r\n        var olSource = store.layer.ol.getSource();\r\n        olSource.on('change', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            _this.onSourceChanges(store);\r\n        }));\r\n    };\r\n    /**\r\n     * Stop watching for a store's OL source changes\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Stop watching for a store's OL source changes\r\n     * @private\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingLayerStrategy.prototype.unwatchStore = /**\r\n     * Stop watching for a store's OL source changes\r\n     * @private\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        /** @type {?} */\r\n        var key = this.stores$$.get(store);\r\n        if (key !== undefined) {\r\n            unByKey(key);\r\n            this.stores$$.delete(store);\r\n        }\r\n    };\r\n    /**\r\n     * Stop watching for OL source changes in all stores.\r\n     */\r\n    /**\r\n     * Stop watching for OL source changes in all stores.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingLayerStrategy.prototype.unwatchAll = /**\r\n     * Stop watching for OL source changes in all stores.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        Array.from(this.stores$$.entries()).forEach((/**\r\n         * @param {?} entries\r\n         * @return {?}\r\n         */\r\n        function (entries) {\r\n            unByKey(entries[1]);\r\n        }));\r\n        this.stores$$.clear();\r\n    };\r\n    /**\r\n     * Load features from an OL source into a  store or clear the store if the source is empty\r\n     * @param features Store filtered features\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Load features from an OL source into a  store or clear the store if the source is empty\r\n     * @private\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreLoadingLayerStrategy.prototype.onSourceChanges = /**\r\n     * Load features from an OL source into a  store or clear the store if the source is empty\r\n     * @private\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        /** @type {?} */\r\n        var olFeatures = store.layer.ol.getSource().getFeatures();\r\n        if (olFeatures.length === 0) {\r\n            store.clear();\r\n        }\r\n        else {\r\n            store.setStoreOlFeatures(olFeatures);\r\n        }\r\n    };\r\n    return FeatureStoreLoadingLayerStrategy;\r\n}(FeatureStoreStrategy));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * The class is a specialized version of an EntityStore that stores\r\n * features and the map layer to display them on. Synchronization\r\n * between the store and the layer is handled by strategies.\r\n * @template T\r\n */\r\nvar  /**\r\n * The class is a specialized version of an EntityStore that stores\r\n * features and the map layer to display them on. Synchronization\r\n * between the store and the layer is handled by strategies.\r\n * @template T\r\n */\r\nFeatureStore = /** @class */ (function (_super) {\r\n    __extends(FeatureStore, _super);\r\n    function FeatureStore(entities, options) {\r\n        var _this = _super.call(this, entities, options) || this;\r\n        /**\r\n         * Feature store strategies responsible of synchronizing the store\r\n         * and the layer\r\n         */\r\n        _this.strategies = [];\r\n        _this.map = options.map;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(FeatureStore.prototype, \"source\", {\r\n        /**\r\n         * The layer's data source\r\n         */\r\n        get: /**\r\n         * The layer's data source\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.layer ? (/** @type {?} */ (this.layer.dataSource)) : undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Bind this store to a vector layer\r\n     * @param layer Vector layer\r\n     * @returns Feature store\r\n     */\r\n    /**\r\n     * Bind this store to a vector layer\r\n     * @param {?} layer Vector layer\r\n     * @return {?} Feature store\r\n     */\r\n    FeatureStore.prototype.bindLayer = /**\r\n     * Bind this store to a vector layer\r\n     * @param {?} layer Vector layer\r\n     * @return {?} Feature store\r\n     */\r\n    function (layer) {\r\n        this.layer = layer;\r\n        return this;\r\n    };\r\n    /**\r\n     * Add a strategy to this store\r\n     * @param strategy Feature store strategy\r\n     * @returns Feature store\r\n     */\r\n    /**\r\n     * Add a strategy to this store\r\n     * @param {?} strategy Feature store strategy\r\n     * @param {?=} activate\r\n     * @return {?} Feature store\r\n     */\r\n    FeatureStore.prototype.addStrategy = /**\r\n     * Add a strategy to this store\r\n     * @param {?} strategy Feature store strategy\r\n     * @param {?=} activate\r\n     * @return {?} Feature store\r\n     */\r\n    function (strategy, activate) {\r\n        if (activate === void 0) { activate = false; }\r\n        /** @type {?} */\r\n        var existingStrategy = this.strategies.find((/**\r\n         * @param {?} _strategy\r\n         * @return {?}\r\n         */\r\n        function (_strategy) {\r\n            return strategy.constructor === _strategy.constructor;\r\n        }));\r\n        if (existingStrategy !== undefined) {\r\n            throw new Error('A strategy of this type already exists on that FeatureStore.');\r\n        }\r\n        this.strategies.push(strategy);\r\n        strategy.bindStore(this);\r\n        if (activate === true) {\r\n            strategy.activate();\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Remove a strategy from this store\r\n     * @param strategy Feature store strategy\r\n     * @returns Feature store\r\n     */\r\n    /**\r\n     * Remove a strategy from this store\r\n     * @param {?} strategy Feature store strategy\r\n     * @return {?} Feature store\r\n     */\r\n    FeatureStore.prototype.removeStrategy = /**\r\n     * Remove a strategy from this store\r\n     * @param {?} strategy Feature store strategy\r\n     * @return {?} Feature store\r\n     */\r\n    function (strategy) {\r\n        /** @type {?} */\r\n        var index = this.strategies.indexOf(strategy);\r\n        if (index >= 0) {\r\n            this.strategies.splice(index, 1);\r\n            strategy.unbindStore(this);\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Return strategies of a given type\r\n     * @param type Feature store strategy class\r\n     * @returns Strategies\r\n     */\r\n    /**\r\n     * Return strategies of a given type\r\n     * @param {?} type Feature store strategy class\r\n     * @return {?} Strategies\r\n     */\r\n    FeatureStore.prototype.getStrategyOfType = /**\r\n     * Return strategies of a given type\r\n     * @param {?} type Feature store strategy class\r\n     * @return {?} Strategies\r\n     */\r\n    function (type) {\r\n        return this.strategies.find((/**\r\n         * @param {?} strategy\r\n         * @return {?}\r\n         */\r\n        function (strategy) {\r\n            return strategy instanceof type;\r\n        }));\r\n    };\r\n    /**\r\n     * Activate strategies of a given type\r\n     * @param type Feature store strategy class\r\n     */\r\n    /**\r\n     * Activate strategies of a given type\r\n     * @param {?} type Feature store strategy class\r\n     * @return {?}\r\n     */\r\n    FeatureStore.prototype.activateStrategyOfType = /**\r\n     * Activate strategies of a given type\r\n     * @param {?} type Feature store strategy class\r\n     * @return {?}\r\n     */\r\n    function (type) {\r\n        /** @type {?} */\r\n        var strategy = this.getStrategyOfType(type);\r\n        if (strategy !== undefined) {\r\n            strategy.activate();\r\n        }\r\n    };\r\n    /**\r\n     * Deactivate strategies of a given type\r\n     * @param type Feature store strategy class\r\n     */\r\n    /**\r\n     * Deactivate strategies of a given type\r\n     * @param {?} type Feature store strategy class\r\n     * @return {?}\r\n     */\r\n    FeatureStore.prototype.deactivateStrategyOfType = /**\r\n     * Deactivate strategies of a given type\r\n     * @param {?} type Feature store strategy class\r\n     * @return {?}\r\n     */\r\n    function (type) {\r\n        /** @type {?} */\r\n        var strategy = this.getStrategyOfType(type);\r\n        if (strategy !== undefined) {\r\n            strategy.deactivate();\r\n        }\r\n    };\r\n    /**\r\n     * Set the layer's features and perform a motion to make them visible. Strategies\r\n     * make extensive use of that method.\r\n     * @param features Features\r\n     * @param motion Optional: The type of motion to perform\r\n     */\r\n    /**\r\n     * Set the layer's features and perform a motion to make them visible. Strategies\r\n     * make extensive use of that method.\r\n     * @param {?} features Features\r\n     * @param {?=} motion Optional: The type of motion to perform\r\n     * @param {?=} viewScale\r\n     * @param {?=} areaRatio\r\n     * @param {?=} getId\r\n     * @return {?}\r\n     */\r\n    FeatureStore.prototype.setLayerFeatures = /**\r\n     * Set the layer's features and perform a motion to make them visible. Strategies\r\n     * make extensive use of that method.\r\n     * @param {?} features Features\r\n     * @param {?=} motion Optional: The type of motion to perform\r\n     * @param {?=} viewScale\r\n     * @param {?=} areaRatio\r\n     * @param {?=} getId\r\n     * @return {?}\r\n     */\r\n    function (features, motion, viewScale, areaRatio, getId) {\r\n        var _this = this;\r\n        if (motion === void 0) { motion = FeatureMotion.Default; }\r\n        getId = getId ? getId : getEntityId;\r\n        this.checkLayer();\r\n        /** @type {?} */\r\n        var olFeatures = features\r\n            .map((/**\r\n         * @param {?} feature\r\n         * @return {?}\r\n         */\r\n        function (feature) { return featureToOl(feature, _this.map.projection, getId); }));\r\n        this.setLayerOlFeatures(olFeatures, motion, viewScale, areaRatio);\r\n    };\r\n    /**\r\n     * Set the store's features from an array of OL features.\r\n     * @param olFeatures Ol features\r\n     */\r\n    /**\r\n     * Set the store's features from an array of OL features.\r\n     * @param {?} olFeatures Ol features\r\n     * @return {?}\r\n     */\r\n    FeatureStore.prototype.setStoreOlFeatures = /**\r\n     * Set the store's features from an array of OL features.\r\n     * @param {?} olFeatures Ol features\r\n     * @return {?}\r\n     */\r\n    function (olFeatures) {\r\n        var _this = this;\r\n        this.checkLayer();\r\n        /** @type {?} */\r\n        var features = olFeatures.map((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            olFeature.set('_featureStore', _this, true);\r\n            return featureFromOl(olFeature, _this.layer.map.projection);\r\n        }));\r\n        this.load((/** @type {?} */ (features)));\r\n    };\r\n    /**\r\n     * Remove all features from the layer\r\n     */\r\n    /**\r\n     * Remove all features from the layer\r\n     * @return {?}\r\n     */\r\n    FeatureStore.prototype.clearLayer = /**\r\n     * Remove all features from the layer\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.checkLayer();\r\n        this.source.ol.clear();\r\n    };\r\n    /**\r\n     * Check wether a layer is bound or not and throw an error if not.\r\n     */\r\n    /**\r\n     * Check wether a layer is bound or not and throw an error if not.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStore.prototype.checkLayer = /**\r\n     * Check wether a layer is bound or not and throw an error if not.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.layer === undefined) {\r\n            throw new Error('This FeatureStore is not bound to a layer.');\r\n        }\r\n    };\r\n    /**\r\n     * Set the layer's features and perform a motion to make them visible.\r\n     * @param features Openlayers feature objects\r\n     * @param motion Optional: The type of motion to perform\r\n     */\r\n    /**\r\n     * Set the layer's features and perform a motion to make them visible.\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @param {?=} motion Optional: The type of motion to perform\r\n     * @param {?=} viewScale\r\n     * @param {?=} areaRatio\r\n     * @return {?}\r\n     */\r\n    FeatureStore.prototype.setLayerOlFeatures = /**\r\n     * Set the layer's features and perform a motion to make them visible.\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @param {?=} motion Optional: The type of motion to perform\r\n     * @param {?=} viewScale\r\n     * @param {?=} areaRatio\r\n     * @return {?}\r\n     */\r\n    function (olFeatures, motion, viewScale, areaRatio) {\r\n        if (motion === void 0) { motion = FeatureMotion.Default; }\r\n        /** @type {?} */\r\n        var olFeaturesMap = new Map();\r\n        olFeatures.forEach((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            olFeaturesMap.set(olFeature.getId(), olFeature);\r\n        }));\r\n        /** @type {?} */\r\n        var olFeaturesToRemove = [];\r\n        this.source.ol.forEachFeature((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            /** @type {?} */\r\n            var newOlFeature = olFeaturesMap.get(olFeature.getId());\r\n            if (newOlFeature === undefined) {\r\n                olFeaturesToRemove.push(olFeature);\r\n            }\r\n            else if (newOlFeature.get('_entityRevision') !== olFeature.get('_entityRevision')) {\r\n                olFeaturesToRemove.push(olFeature);\r\n            }\r\n            else {\r\n                olFeaturesMap.delete(newOlFeature.getId());\r\n            }\r\n        }));\r\n        /** @type {?} */\r\n        var olFeaturesToAddIds = Array.from(olFeaturesMap.keys());\r\n        /** @type {?} */\r\n        var olFeaturesToAdd = olFeatures.filter((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            return olFeaturesToAddIds.indexOf(olFeature.getId()) >= 0;\r\n        }));\r\n        if (olFeaturesToRemove.length > 0) {\r\n            this.removeOlFeaturesFromLayer(olFeaturesToRemove);\r\n        }\r\n        if (olFeaturesToAdd.length > 0) {\r\n            this.addOlFeaturesToLayer(olFeaturesToAdd);\r\n        }\r\n        if (olFeaturesToAdd.length > 0) {\r\n            // If features are added, do a motion toward the newly added features\r\n            moveToOlFeatures(this.map, olFeaturesToAdd, motion, viewScale, areaRatio);\r\n        }\r\n        else if (olFeatures.length > 0) {\r\n            // Else, do a motion toward all the features\r\n            moveToOlFeatures(this.map, olFeatures, motion, viewScale, areaRatio);\r\n        }\r\n    };\r\n    /**\r\n     * Add features to the the layer\r\n     * @param features Openlayers feature objects\r\n     */\r\n    /**\r\n     * Add features to the the layer\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @return {?}\r\n     */\r\n    FeatureStore.prototype.addOlFeaturesToLayer = /**\r\n     * Add features to the the layer\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @return {?}\r\n     */\r\n    function (olFeatures) {\r\n        var _this = this;\r\n        olFeatures.forEach((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            olFeature.set('_featureStore', _this, true);\r\n        }));\r\n        this.source.ol.addFeatures(olFeatures);\r\n    };\r\n    /**\r\n     * Remove features from the the layer\r\n     * @param features Openlayers feature objects\r\n     */\r\n    /**\r\n     * Remove features from the the layer\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @return {?}\r\n     */\r\n    FeatureStore.prototype.removeOlFeaturesFromLayer = /**\r\n     * Remove features from the the layer\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @return {?}\r\n     */\r\n    function (olFeatures) {\r\n        var _this = this;\r\n        olFeatures.forEach((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            _this.source.ol.removeFeature(olFeature);\r\n        }));\r\n    };\r\n    return FeatureStore;\r\n}(EntityStore));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OlDragSelectInteraction = /** @class */ (function (_super) {\r\n    __extends(OlDragSelectInteraction, _super);\r\n    function OlDragSelectInteraction(options) {\r\n        return _super.call(this, options) || this;\r\n    }\r\n    return OlDragSelectInteraction;\r\n}(OlDragBoxInteraction));\r\n/**\r\n * This strategy synchronizes a store and a layer selected entities.\r\n * The store <-> layer binding is a two-way binding.\r\n *\r\n * In many cases, a single strategy bound to multiple stores\r\n * will yield better results that multiple strategies with each their\r\n * own store. In the latter scenario, a click on overlapping features\r\n * would trigger the strategy of each layer and they would cancel\r\n * each other as well as move the map view around needlessly.\r\n */\r\nvar  /**\r\n * This strategy synchronizes a store and a layer selected entities.\r\n * The store <-> layer binding is a two-way binding.\r\n *\r\n * In many cases, a single strategy bound to multiple stores\r\n * will yield better results that multiple strategies with each their\r\n * own store. In the latter scenario, a click on overlapping features\r\n * would trigger the strategy of each layer and they would cancel\r\n * each other as well as move the map view around needlessly.\r\n */\r\nFeatureStoreSelectionStrategy = /** @class */ (function (_super) {\r\n    __extends(FeatureStoreSelectionStrategy, _super);\r\n    function FeatureStoreSelectionStrategy(options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.options = options;\r\n        _this.overlayStore = _this.createOverlayStore();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(FeatureStoreSelectionStrategy.prototype, \"map\", {\r\n        /**\r\n         * The map the layers belong to\r\n         */\r\n        get: /**\r\n         * The map the layers belong to\r\n         * @return {?}\r\n         */\r\n        function () { return this.options.map; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Bind this strategy to a store and force this strategy's\r\n     * reactivation to properly setup watchers.\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Bind this strategy to a store and force this strategy's\r\n     * reactivation to properly setup watchers.\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.bindStore = /**\r\n     * Bind this strategy to a store and force this strategy's\r\n     * reactivation to properly setup watchers.\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        _super.prototype.bindStore.call(this, store);\r\n        if (this.isActive() === true) {\r\n            // Force reactivation\r\n            this.activate();\r\n        }\r\n    };\r\n    /**\r\n     * Unbind this strategy from a store and force this strategy's\r\n     * reactivation to properly setup watchers.\r\n     * @param store Feature store\r\n     */\r\n    /**\r\n     * Unbind this strategy from a store and force this strategy's\r\n     * reactivation to properly setup watchers.\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.unbindStore = /**\r\n     * Unbind this strategy from a store and force this strategy's\r\n     * reactivation to properly setup watchers.\r\n     * @param {?} store Feature store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        _super.prototype.unbindStore.call(this, store);\r\n        if (this.isActive() === true) {\r\n            // Force reactivation\r\n            this.activate();\r\n        }\r\n    };\r\n    /**\r\n     * Unselect all entities, from all stores\r\n     */\r\n    /**\r\n     * Unselect all entities, from all stores\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.unselectAll = /**\r\n     * Unselect all entities, from all stores\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.stores.forEach((/**\r\n         * @param {?} store\r\n         * @return {?}\r\n         */\r\n        function (store) {\r\n            store.state.updateAll({ selected: false });\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.clear = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.overlayStore.source.ol.clear();\r\n        this.overlayStore.clear();\r\n    };\r\n    /**\r\n     * Add the overlay layer, setup the map click lsitener and\r\n     * start watching for stores selection\r\n     * @internal\r\n     */\r\n    /**\r\n     * Add the overlay layer, setup the map click lsitener and\r\n     * start watching for stores selection\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.doActivate = /**\r\n     * Add the overlay layer, setup the map click lsitener and\r\n     * start watching for stores selection\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.addOverlayLayer();\r\n        this.listenToMapClick();\r\n        if (this.options.dragBox === true) {\r\n            this.addDragBoxInteraction();\r\n        }\r\n        this.watchAll();\r\n    };\r\n    /**\r\n     * Remove the overlay layer, remove the map click lsitener and\r\n     * stop watching for stores selection\r\n     * @internal\r\n     */\r\n    /**\r\n     * Remove the overlay layer, remove the map click lsitener and\r\n     * stop watching for stores selection\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.doDeactivate = /**\r\n     * Remove the overlay layer, remove the map click lsitener and\r\n     * stop watching for stores selection\r\n     * \\@internal\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.unlistenToMapClick();\r\n        this.removeDragBoxInteraction();\r\n        this.unwatchAll();\r\n        this.removeOverlayLayer();\r\n    };\r\n    /**\r\n     * Create a single observable of all the stores. With a single observable,\r\n     * features can be added all at once to the overlay layer and a single\r\n     * motion can be performed. Multiple observable would have\r\n     * a cancelling effect on each other.\r\n     */\r\n    /**\r\n     * Create a single observable of all the stores. With a single observable,\r\n     * features can be added all at once to the overlay layer and a single\r\n     * motion can be performed. Multiple observable would have\r\n     * a cancelling effect on each other.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.watchAll = /**\r\n     * Create a single observable of all the stores. With a single observable,\r\n     * features can be added all at once to the overlay layer and a single\r\n     * motion can be performed. Multiple observable would have\r\n     * a cancelling effect on each other.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.unwatchAll();\r\n        /** @type {?} */\r\n        var stores$ = this.stores.map((/**\r\n         * @param {?} store\r\n         * @return {?}\r\n         */\r\n        function (store) {\r\n            return store.stateView.manyBy$((/**\r\n             * @param {?} record\r\n             * @return {?}\r\n             */\r\n            function (record) {\r\n                return record.state.selected === true;\r\n            })).pipe(map((/**\r\n             * @param {?} records\r\n             * @return {?}\r\n             */\r\n            function (records) { return records.map((/**\r\n             * @param {?} record\r\n             * @return {?}\r\n             */\r\n            function (record) { return record.entity; })); })));\r\n        }));\r\n        this.stores$$ = combineLatest.apply(void 0, __spread(stores$)).pipe(debounceTime(25), skip(1), // Skip intial selection\r\n        map((/**\r\n         * @param {?} features\r\n         * @return {?}\r\n         */\r\n        function (features) { return features.reduce((/**\r\n         * @param {?} a\r\n         * @param {?} b\r\n         * @return {?}\r\n         */\r\n        function (a, b) { return a.concat(b); })); }))).subscribe((/**\r\n         * @param {?} features\r\n         * @return {?}\r\n         */\r\n        function (features) { return _this.onSelectFromStore(features); }));\r\n    };\r\n    /**\r\n     * Stop watching for selection in all stores.\r\n     */\r\n    /**\r\n     * Stop watching for selection in all stores.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.unwatchAll = /**\r\n     * Stop watching for selection in all stores.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.stores$$ !== undefined) {\r\n            this.stores$$.unsubscribe();\r\n        }\r\n    };\r\n    /**\r\n     * Add a 'singleclick' listener to the map that'll allow selecting\r\n     * features by clicking on the map. The selection will be performed\r\n     * only on the layers bound to this strategy.\r\n     */\r\n    /**\r\n     * Add a 'singleclick' listener to the map that'll allow selecting\r\n     * features by clicking on the map. The selection will be performed\r\n     * only on the layers bound to this strategy.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.listenToMapClick = /**\r\n     * Add a 'singleclick' listener to the map that'll allow selecting\r\n     * features by clicking on the map. The selection will be performed\r\n     * only on the layers bound to this strategy.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.mapClickListener = this.map.ol.on('singleclick', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            _this.onMapClick(event);\r\n        }));\r\n    };\r\n    /**\r\n     * Remove the map click listener\r\n     */\r\n    /**\r\n     * Remove the map click listener\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.unlistenToMapClick = /**\r\n     * Remove the map click listener\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.mapClickListener !== undefined) {\r\n            this.map.ol.un(this.mapClickListener.type, this.mapClickListener.listener);\r\n        }\r\n    };\r\n    /**\r\n     * On map click, select feature at pixel\r\n     * @param event OL MapBrowserPointerEvent\r\n     */\r\n    /**\r\n     * On map click, select feature at pixel\r\n     * @private\r\n     * @param {?} event OL MapBrowserPointerEvent\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.onMapClick = /**\r\n     * On map click, select feature at pixel\r\n     * @private\r\n     * @param {?} event OL MapBrowserPointerEvent\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var exclusive = !ctrlKeyDown(event);\r\n        /** @type {?} */\r\n        var reverse = !exclusive;\r\n        /** @type {?} */\r\n        var olFeatures = event.map.getFeaturesAtPixel(event.pixel, {\r\n            hitTolerance: this.options.hitTolerance || 0,\r\n            layerFilter: (/**\r\n             * @param {?} olLayer\r\n             * @return {?}\r\n             */\r\n            function (olLayer) {\r\n                /** @type {?} */\r\n                var storeOlLayer = _this.stores.find((/**\r\n                 * @param {?} store\r\n                 * @return {?}\r\n                 */\r\n                function (store) {\r\n                    return store.layer.ol === olLayer;\r\n                }));\r\n                return storeOlLayer !== undefined;\r\n            })\r\n        });\r\n        this.onSelectFromMap(olFeatures, exclusive, reverse);\r\n    };\r\n    /**\r\n     * Add a drag box interaction and, on drag box end, select features\r\n     */\r\n    /**\r\n     * Add a drag box interaction and, on drag box end, select features\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.addDragBoxInteraction = /**\r\n     * Add a drag box interaction and, on drag box end, select features\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        var e_1, _a;\r\n        /** @type {?} */\r\n        var olDragSelectInteraction;\r\n        /** @type {?} */\r\n        var olInteractions = this.map.ol.getInteractions().getArray();\r\n        try {\r\n            // There can only be one dragbox interaction, so find the current one, if any\r\n            // Don't keep a reference to the current dragbox because we don't want\r\n            // to remove it when this startegy is deactivated\r\n            for (var olInteractions_1 = __values(olInteractions), olInteractions_1_1 = olInteractions_1.next(); !olInteractions_1_1.done; olInteractions_1_1 = olInteractions_1.next()) {\r\n                var olInteraction = olInteractions_1_1.value;\r\n                if (olInteraction instanceof OlDragSelectInteraction) {\r\n                    olDragSelectInteraction = olInteraction;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (olInteractions_1_1 && !olInteractions_1_1.done && (_a = olInteractions_1.return)) _a.call(olInteractions_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        // If no drag box interaction is found, create a new one and add it to the map\r\n        if (olDragSelectInteraction === undefined) {\r\n            olDragSelectInteraction = new OlDragSelectInteraction({\r\n                condition: ctrlKeyDown\r\n            });\r\n            this.map.ol.addInteraction(olDragSelectInteraction);\r\n            this.olDragSelectInteraction = olDragSelectInteraction;\r\n        }\r\n        this.olDragSelectInteractionEndKey = olDragSelectInteraction.on('boxend', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return _this.onDragBoxEnd(event); }));\r\n    };\r\n    /**\r\n     * Remove drag box interaction\r\n     */\r\n    /**\r\n     * Remove drag box interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.removeDragBoxInteraction = /**\r\n     * Remove drag box interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.olDragSelectInteractionEndKey !== undefined) {\r\n            unByKey(this.olDragSelectInteractionEndKey);\r\n        }\r\n        if (this.olDragSelectInteraction !== undefined) {\r\n            this.map.ol.removeInteraction(this.olDragSelectInteraction);\r\n        }\r\n        this.olDragSelectInteraction = undefined;\r\n    };\r\n    /**\r\n     * On dragbox end, select features in drag box\r\n     * @param event OL MapBrowserPointerEvent\r\n     */\r\n    /**\r\n     * On dragbox end, select features in drag box\r\n     * @private\r\n     * @param {?} event OL MapBrowserPointerEvent\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.onDragBoxEnd = /**\r\n     * On dragbox end, select features in drag box\r\n     * @private\r\n     * @param {?} event OL MapBrowserPointerEvent\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        /** @type {?} */\r\n        var exclusive = !ctrlKeyDown(event.mapBrowserEvent);\r\n        /** @type {?} */\r\n        var extent = event.target.getGeometry().getExtent();\r\n        /** @type {?} */\r\n        var olFeatures = this.stores.reduce((/**\r\n         * @param {?} acc\r\n         * @param {?} store\r\n         * @return {?}\r\n         */\r\n        function (acc, store) {\r\n            /** @type {?} */\r\n            var olSource = store.layer.ol.getSource();\r\n            acc.push.apply(acc, __spread(olSource.getFeaturesInExtent(extent)));\r\n            return acc;\r\n        }), []);\r\n        this.onSelectFromMap(olFeatures, exclusive, false);\r\n    };\r\n    /**\r\n     * When features are selected from the store, add\r\n     * them to this startegy's overlay layer (select on map)\r\n     * @param features Store features\r\n     */\r\n    /**\r\n     * When features are selected from the store, add\r\n     * them to this startegy's overlay layer (select on map)\r\n     * @private\r\n     * @param {?} features Store features\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.onSelectFromStore = /**\r\n     * When features are selected from the store, add\r\n     * them to this startegy's overlay layer (select on map)\r\n     * @private\r\n     * @param {?} features Store features\r\n     * @return {?}\r\n     */\r\n    function (features) {\r\n        /** @type {?} */\r\n        var motion = this.options ? this.options.motion : undefined;\r\n        /** @type {?} */\r\n        var olOverlayFeatures = this.overlayStore.layer.ol.getSource().getFeatures();\r\n        /** @type {?} */\r\n        var overlayFeaturesKeys = olOverlayFeatures.map((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) { return olFeature.getId(); }));\r\n        /** @type {?} */\r\n        var featuresKeys = features.map(this.overlayStore.getKey);\r\n        /** @type {?} */\r\n        var doMotion = overlayFeaturesKeys.length !== featuresKeys.length ||\r\n            !overlayFeaturesKeys.every((/**\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (key) { return featuresKeys.indexOf(key) >= 0; }));\r\n        this.overlayStore.setLayerFeatures(features, doMotion ? motion : FeatureMotion.None, this.options.viewScale, this.options.areaRatio, this.options.getFeatureId);\r\n    };\r\n    /**\r\n     * When features are selected from the map, also select them\r\n     * in their store.\r\n     * @param olFeatures OL feature objects\r\n     */\r\n    /**\r\n     * When features are selected from the map, also select them\r\n     * in their store.\r\n     * @private\r\n     * @param {?} olFeatures OL feature objects\r\n     * @param {?} exclusive\r\n     * @param {?} reverse\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.onSelectFromMap = /**\r\n     * When features are selected from the map, also select them\r\n     * in their store.\r\n     * @private\r\n     * @param {?} olFeatures OL feature objects\r\n     * @param {?} exclusive\r\n     * @param {?} reverse\r\n     * @return {?}\r\n     */\r\n    function (olFeatures, exclusive, reverse) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var groupedFeatures = this.groupFeaturesByStore(olFeatures);\r\n        this.stores.forEach((/**\r\n         * @param {?} store\r\n         * @return {?}\r\n         */\r\n        function (store) {\r\n            /** @type {?} */\r\n            var features = groupedFeatures.get(store);\r\n            if (features === undefined && exclusive === true) {\r\n                _this.unselectAllFeaturesFromStore(store);\r\n            }\r\n            else if (features === undefined && exclusive === false) ;\r\n            else {\r\n                _this.selectFeaturesFromStore(store, features, exclusive, reverse);\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * Select features in store\r\n     * @param store: Feature store\r\n     * @param features Features\r\n     */\r\n    /**\r\n     * Select features in store\r\n     * @private\r\n     * @param {?} store\r\n     * @param {?} features Features\r\n     * @param {?} exclusive\r\n     * @param {?} reverse\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.selectFeaturesFromStore = /**\r\n     * Select features in store\r\n     * @private\r\n     * @param {?} store\r\n     * @param {?} features Features\r\n     * @param {?} exclusive\r\n     * @param {?} reverse\r\n     * @return {?}\r\n     */\r\n    function (store, features, exclusive, reverse) {\r\n        if (reverse === true) {\r\n            store.state.reverseMany(features, ['selected']);\r\n        }\r\n        else {\r\n            store.state.updateMany(features, { selected: true }, exclusive);\r\n        }\r\n    };\r\n    /**\r\n     * Unselect all features from store\r\n     * @param store: Feature store\r\n     */\r\n    /**\r\n     * Unselect all features from store\r\n     * @private\r\n     * @param {?} store\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.unselectAllFeaturesFromStore = /**\r\n     * Unselect all features from store\r\n     * @private\r\n     * @param {?} store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        store.state.updateAll({ selected: false });\r\n    };\r\n    /**\r\n     * This method returns a store -> features mapping from a list\r\n     * of OL selected features. OL features keep a reference to the store\r\n     * they are from.\r\n     * @param olFeatures: OL feature objects\r\n     * @returns Store -> features mapping\r\n     */\r\n    /**\r\n     * This method returns a store -> features mapping from a list\r\n     * of OL selected features. OL features keep a reference to the store\r\n     * they are from.\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @return {?} Store -> features mapping\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.groupFeaturesByStore = /**\r\n     * This method returns a store -> features mapping from a list\r\n     * of OL selected features. OL features keep a reference to the store\r\n     * they are from.\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @return {?} Store -> features mapping\r\n     */\r\n    function (olFeatures) {\r\n        /** @type {?} */\r\n        var groupedFeatures = new Map();\r\n        if (olFeatures === null || olFeatures === undefined) {\r\n            return groupedFeatures;\r\n        }\r\n        olFeatures.forEach((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            /** @type {?} */\r\n            var store = olFeature.get('_featureStore');\r\n            if (store === undefined) {\r\n                return;\r\n            }\r\n            /** @type {?} */\r\n            var features = groupedFeatures.get(store);\r\n            if (features === undefined) {\r\n                features = [];\r\n                groupedFeatures.set(store, features);\r\n            }\r\n            /** @type {?} */\r\n            var feature = store.get(olFeature.getId());\r\n            if (feature !== undefined) {\r\n                features.push(feature);\r\n            }\r\n        }));\r\n        return groupedFeatures;\r\n    };\r\n    /**\r\n     * Create an overlay store that'll contain the selected features.\r\n     * @returns Overlay store\r\n     */\r\n    /**\r\n     * Create an overlay store that'll contain the selected features.\r\n     * @private\r\n     * @return {?} Overlay store\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.createOverlayStore = /**\r\n     * Create an overlay store that'll contain the selected features.\r\n     * @private\r\n     * @return {?} Overlay store\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var overlayLayer = this.options.layer\r\n            ? this.options.layer\r\n            : this.createOverlayLayer();\r\n        return new FeatureStore([], { map: this.map }).bindLayer(overlayLayer);\r\n    };\r\n    /**\r\n     * Create an overlay store that'll contain the selected features.\r\n     * @returns Overlay layer\r\n     */\r\n    /**\r\n     * Create an overlay store that'll contain the selected features.\r\n     * @private\r\n     * @return {?} Overlay layer\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.createOverlayLayer = /**\r\n     * Create an overlay store that'll contain the selected features.\r\n     * @private\r\n     * @return {?} Overlay layer\r\n     */\r\n    function () {\r\n        return new VectorLayer({\r\n            zIndex: 300,\r\n            source: new FeatureDataSource(),\r\n            style: undefined,\r\n            showInLayerList: false,\r\n            exportable: false,\r\n            browsable: false\r\n        });\r\n    };\r\n    /**\r\n     * Add the overlay store's layer to the map to display the selected\r\n     * features.\r\n     */\r\n    /**\r\n     * Add the overlay store's layer to the map to display the selected\r\n     * features.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.addOverlayLayer = /**\r\n     * Add the overlay store's layer to the map to display the selected\r\n     * features.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.overlayStore.layer.map === undefined) {\r\n            this.map.addLayer(this.overlayStore.layer);\r\n        }\r\n    };\r\n    /**\r\n     * Remove the overlay layer from the map\r\n     */\r\n    /**\r\n     * Remove the overlay layer from the map\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    FeatureStoreSelectionStrategy.prototype.removeOverlayLayer = /**\r\n     * Remove the overlay layer from the map\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.overlayStore.source.ol.clear();\r\n        this.map.removeLayer(this.overlayStore.layer);\r\n    };\r\n    return FeatureStoreSelectionStrategy;\r\n}(FeatureStoreStrategy));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Create an Openlayers feature object out of a feature definition.\r\n * The output object has a reference to the feature id.\r\n * @param {?} feature Feature definition\r\n * @param {?} projectionOut Feature object projection\r\n * @param {?=} getId\r\n * @return {?} OpenLayers feature object\r\n */\r\nfunction featureToOl(feature, projectionOut, getId) {\r\n    getId = getId ? getId : getEntityId;\r\n    /** @type {?} */\r\n    var olFormat = new OlGeoJSON();\r\n    /** @type {?} */\r\n    var olFeature = olFormat.readFeature(feature, {\r\n        dataProjection: feature.projection,\r\n        featureProjection: projectionOut\r\n    });\r\n    olFeature.setId(getId(feature));\r\n    /** @type {?} */\r\n    var title = getEntityTitle(feature);\r\n    if (title !== undefined) {\r\n        olFeature.set('_title', title, true);\r\n    }\r\n    if (feature.extent !== undefined) {\r\n        olFeature.set('_extent', feature.extent, true);\r\n    }\r\n    if (feature.projection !== undefined) {\r\n        olFeature.set('_projection', feature.projection, true);\r\n    }\r\n    if (feature.extent !== undefined) {\r\n        olFeature.set('_extent', feature.extent, true);\r\n    }\r\n    /** @type {?} */\r\n    var mapTitle = getEntityProperty(feature, 'meta.mapTitle');\r\n    if (mapTitle !== undefined) {\r\n        olFeature.set('_mapTitle', mapTitle, true);\r\n    }\r\n    olFeature.set('_entityRevision', getEntityRevision(feature), true);\r\n    return olFeature;\r\n}\r\n/**\r\n * Create a feature object out of an OL feature\r\n * The output object has a reference to the feature id.\r\n * @param {?} olFeature OL Feature\r\n * @param {?} projectionIn OL feature projection\r\n * @param {?=} projectionOut Feature projection\r\n * @return {?} Feature\r\n */\r\nfunction featureFromOl(olFeature, projectionIn, projectionOut) {\r\n    if (projectionOut === void 0) { projectionOut = 'EPSG:4326'; }\r\n    /** @type {?} */\r\n    var olFormat = new OlGeoJSON();\r\n    /** @type {?} */\r\n    var keys = olFeature.getKeys().filter((/**\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (key) {\r\n        return !key.startsWith('_') && key !== 'geometry';\r\n    }));\r\n    /** @type {?} */\r\n    var properties = keys.reduce((/**\r\n     * @param {?} acc\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (acc, key) {\r\n        acc[key] = olFeature.get(key);\r\n        return acc;\r\n    }), {});\r\n    /** @type {?} */\r\n    var geometry = olFormat.writeGeometryObject(olFeature.getGeometry(), {\r\n        dataProjection: projectionOut,\r\n        featureProjection: projectionIn\r\n    });\r\n    /** @type {?} */\r\n    var title = olFeature.get('_title');\r\n    /** @type {?} */\r\n    var mapTitle = olFeature.get('_mapTitle');\r\n    /** @type {?} */\r\n    var id = olFeature.getId();\r\n    return {\r\n        type: FEATURE,\r\n        projection: projectionOut,\r\n        extent: olFeature.get('_extent'),\r\n        meta: {\r\n            id: id,\r\n            title: title ? title : (mapTitle ? mapTitle : id),\r\n            mapTitle: mapTitle,\r\n            revision: olFeature.getRevision()\r\n        },\r\n        properties: properties,\r\n        geometry: geometry\r\n    };\r\n}\r\n/**\r\n * Compute an OL feature extent in it's map projection\r\n * @param {?} map Map\r\n * @param {?} olFeature OL feature\r\n * @return {?} Extent in the map projection\r\n */\r\nfunction computeOlFeatureExtent(map$$1, olFeature) {\r\n    /** @type {?} */\r\n    var olExtent = createEmpty();\r\n    /** @type {?} */\r\n    var olFeatureExtent = olFeature.get('_extent');\r\n    /** @type {?} */\r\n    var olFeatureProjection = olFeature.get('_projection');\r\n    if (olFeatureExtent !== undefined && olFeatureProjection !== undefined) {\r\n        olExtent = transformExtent(olFeatureExtent, olFeatureProjection, map$$1.projection);\r\n    }\r\n    else {\r\n        /** @type {?} */\r\n        var olGeometry = olFeature.getGeometry();\r\n        if (olGeometry !== null) {\r\n            olExtent = olGeometry.getExtent();\r\n        }\r\n    }\r\n    return olExtent;\r\n}\r\n/**\r\n * Compute a multiple OL features extent in their map projection\r\n * @param {?} map Map\r\n * @param {?} olFeatures OL features\r\n * @return {?} Extent in the map projection\r\n */\r\nfunction computeOlFeaturesExtent(map$$1, olFeatures) {\r\n    /** @type {?} */\r\n    var extent = createEmpty();\r\n    olFeatures.forEach((/**\r\n     * @param {?} olFeature\r\n     * @return {?}\r\n     */\r\n    function (olFeature) {\r\n        /** @type {?} */\r\n        var featureExtent = computeOlFeatureExtent(map$$1, olFeature);\r\n        extend(extent, featureExtent);\r\n    }));\r\n    return extent;\r\n}\r\n/**\r\n * Scale an extent.\r\n * @param {?} extent Extent\r\n * @param {?} scale\r\n * @return {?} Scaled extent\r\n */\r\nfunction scaleExtent(extent, scale) {\r\n    var _a = __read(getSize(extent), 2), width = _a[0], height = _a[1];\r\n    return [\r\n        scale[3] ? extent[0] - width * scale[3] : extent[0],\r\n        scale[2] ? extent[1] - height * scale[2] : extent[1],\r\n        scale[1] ? extent[2] + width * scale[1] : extent[2],\r\n        scale[0] ? extent[3] + height * scale[0] : extent[3]\r\n    ];\r\n}\r\n/**\r\n * Return true if features are out of view.\r\n * If features are too close to the edge, they are considered out of view.\r\n * We define the edge as 5% of the extent size.\r\n * @param {?} map Map\r\n * @param {?} featuresExtent The features's extent\r\n * @return {?} Return true if features are out of view\r\n */\r\nfunction featuresAreOutOfView(map$$1, featuresExtent) {\r\n    /** @type {?} */\r\n    var mapExtent = map$$1.getExtent();\r\n    /** @type {?} */\r\n    var edgeRatio = 0.05;\r\n    /** @type {?} */\r\n    var scale = [-1, -1, -1, -1].map((/**\r\n     * @param {?} x\r\n     * @return {?}\r\n     */\r\n    function (x) { return x * edgeRatio; }));\r\n    /** @type {?} */\r\n    var viewExtent = scaleExtent(mapExtent, (/** @type {?} */ (scale)));\r\n    return !containsExtent(viewExtent, featuresExtent);\r\n}\r\n/**\r\n * Return true if features are too deep into the view. This results\r\n * in features being too small.\r\n * Features are considered too small if their extent occupies less than\r\n * 1% of the map extent.\r\n * @param {?} map Map\r\n * @param {?} featuresExtent The features's extent\r\n * @param {?=} areaRatio The features extent to view extent acceptable ratio\r\n * @return {?} Return true if features are too deep in the view\r\n */\r\nfunction featuresAreTooDeepInView(map$$1, featuresExtent, areaRatio) {\r\n    // An area ratio of 0.004 means that the feature extent's width and height\r\n    // should be about 1/16 of the map extent's width and height\r\n    areaRatio = areaRatio ? areaRatio : 0.004;\r\n    /** @type {?} */\r\n    var mapExtent = map$$1.getExtent();\r\n    /** @type {?} */\r\n    var mapExtentArea = getArea(mapExtent);\r\n    /** @type {?} */\r\n    var featuresExtentArea = getArea(featuresExtent);\r\n    return featuresExtentArea / mapExtentArea < areaRatio;\r\n}\r\n/**\r\n * Fit view to include the features extent.\r\n * By default, this method will let the features occupy about 50% of the viewport.\r\n * @param {?} map Map\r\n * @param {?} olFeatures OL features\r\n * @param {?=} motion To motion to the new map view\r\n * @param {?=} scale If this is defined, the original view will be scaled\r\n *  by that factor before any logic is applied.\r\n * @param {?=} areaRatio\r\n * @return {?}\r\n */\r\nfunction moveToOlFeatures(map$$1, olFeatures, motion, scale, areaRatio) {\r\n    if (motion === void 0) { motion = FeatureMotion.Default; }\r\n    /** @type {?} */\r\n    var featuresExtent = computeOlFeaturesExtent(map$$1, olFeatures);\r\n    /** @type {?} */\r\n    var viewExtent = featuresExtent;\r\n    if (scale !== undefined) {\r\n        viewExtent = scaleExtent(viewExtent, scale);\r\n    }\r\n    if (motion === FeatureMotion.Zoom) {\r\n        map$$1.viewController.zoomToExtent(viewExtent);\r\n    }\r\n    else if (motion === FeatureMotion.Move) {\r\n        map$$1.viewController.moveToExtent(viewExtent);\r\n    }\r\n    else if (motion === FeatureMotion.Default) {\r\n        if (featuresAreOutOfView(map$$1, featuresExtent) ||\r\n            featuresAreTooDeepInView(map$$1, featuresExtent, areaRatio)) {\r\n            map$$1.viewController.zoomToExtent(viewExtent);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Hide an OL feature\r\n * @param {?} olFeature OL feature\r\n * @return {?}\r\n */\r\nfunction hideOlFeature(olFeature) {\r\n    olFeature.setStyle(new Style({}));\r\n}\r\n/**\r\n * Try to bind a layer to a store if none is bound already.\r\n * The layer will also be added to the store's map.\r\n * If no layer is given to that function, a basic one will be created.\r\n * @param {?} store The store to bind the layer\r\n * @param {?=} layer An optional VectorLayer\r\n * @return {?}\r\n */\r\nfunction tryBindStoreLayer(store, layer) {\r\n    if (store.layer !== undefined) {\r\n        if (store.layer.map === undefined) {\r\n            store.map.addLayer(store.layer);\r\n        }\r\n        return;\r\n    }\r\n    layer = layer ? layer : new VectorLayer({\r\n        source: new FeatureDataSource()\r\n    });\r\n    store.bindLayer(layer);\r\n    if (store.layer.map === undefined) {\r\n        store.map.addLayer(store.layer);\r\n    }\r\n}\r\n/**\r\n * Try to add a loading strategy to a store and activate it.\r\n * If no strategy is given to that function, a basic one will be created.\r\n * @param {?} store The store to bind the loading strategy\r\n * @param {?=} strategy An optional loading strategy\r\n * @return {?}\r\n */\r\nfunction tryAddLoadingStrategy(store, strategy) {\r\n    if (store.getStrategyOfType(FeatureStoreLoadingStrategy) !== undefined) {\r\n        store.activateStrategyOfType(FeatureStoreLoadingStrategy);\r\n        return;\r\n    }\r\n    strategy = strategy ? strategy : new FeatureStoreLoadingStrategy({});\r\n    store.addStrategy(strategy);\r\n    strategy.activate();\r\n}\r\n/**\r\n * Try to add a selection strategy to a store and activate it.\r\n * If no strategy is given to that function, a basic one will be created.\r\n * @param {?} store The store to bind the selection strategy\r\n * @param {?=} strategy\r\n * @return {?}\r\n */\r\nfunction tryAddSelectionStrategy(store, strategy) {\r\n    if (store.getStrategyOfType(FeatureStoreSelectionStrategy) !== undefined) {\r\n        store.activateStrategyOfType(FeatureStoreSelectionStrategy);\r\n        return;\r\n    }\r\n    strategy = strategy ? strategy : new FeatureStoreSelectionStrategy({\r\n        map: store.map\r\n    });\r\n    store.addStrategy(strategy);\r\n    strategy.activate();\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Create an overlay layer and it's source\r\n * @return {?} Overlay layer\r\n */\r\nfunction createOverlayLayer() {\r\n    /** @type {?} */\r\n    var overlayDataSource = new FeatureDataSource();\r\n    return new VectorLayer({\r\n        title: 'Overlay',\r\n        zIndex: 300,\r\n        source: overlayDataSource,\r\n        style: createOverlayLayerStyle()\r\n    });\r\n}\r\n/**\r\n * Create an overlay style with markers for points and a basic stroke/fill\r\n * combination for lines and polygons\r\n * @return {?} Style function\r\n */\r\nfunction createOverlayLayerStyle() {\r\n    /** @type {?} */\r\n    var defaultStyle = createOverlayDefaultStyle();\r\n    /** @type {?} */\r\n    var markerStyle = createOverlayMarkerStyle();\r\n    return (/**\r\n     * @param {?} olFeature\r\n     * @return {?}\r\n     */\r\n    function (olFeature) {\r\n        /** @type {?} */\r\n        var geometryType = olFeature.getGeometry().getType();\r\n        /** @type {?} */\r\n        var style$$1 = geometryType === 'Point' ? markerStyle : defaultStyle;\r\n        style$$1.getText().setText(olFeature.get('_mapTitle'));\r\n        return style$$1;\r\n    });\r\n}\r\n/**\r\n * Create a basic style for lines and polygons\r\n * @return {?} Style\r\n */\r\nfunction createOverlayDefaultStyle() {\r\n    /** @type {?} */\r\n    var stroke = new Stroke({\r\n        width: 2,\r\n        color: [0, 161, 222, 1]\r\n    });\r\n    /** @type {?} */\r\n    var fill = new Stroke({\r\n        color: [0, 161, 222, 0.15]\r\n    });\r\n    return new Style({\r\n        stroke: stroke,\r\n        fill: fill,\r\n        image: new Circle({\r\n            radius: 5,\r\n            stroke: stroke,\r\n            fill: fill\r\n        }),\r\n        text: new Text({\r\n            font: '12px Calibri,sans-serif',\r\n            fill: new Fill({ color: '#000' }),\r\n            stroke: new Stroke({ color: '#fff', width: 3 }),\r\n            overflow: true\r\n        })\r\n    });\r\n}\r\n/**\r\n * Create a marker style for points\r\n * @param {?=} color\r\n * @return {?} Style\r\n */\r\nfunction createOverlayMarkerStyle(color) {\r\n    if (color === void 0) { color = 'blue'; }\r\n    /** @type {?} */\r\n    var iconColor;\r\n    switch (color) {\r\n        case 'blue':\r\n        case 'red':\r\n        case 'yellow':\r\n        case 'green':\r\n            iconColor = color;\r\n            break;\r\n        default:\r\n            iconColor = 'blue';\r\n            break;\r\n    }\r\n    return new Style({\r\n        image: new Icon({\r\n            src: './assets/igo2/geo/icons/place_' + iconColor + '_36px.svg',\r\n            imgSize: [36, 36],\r\n            // for ie\r\n            anchor: [0.5, 1]\r\n        }),\r\n        text: new Text({\r\n            font: '12px Calibri,sans-serif',\r\n            fill: new Fill({ color: '#000' }),\r\n            stroke: new Stroke({ color: '#fff', width: 3 }),\r\n            overflow: true\r\n        })\r\n    });\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This class is simply a shortcut for adding features to a map.\r\n * It does nothing more than a standard layer but it's shipped with\r\n * a defautl style based on the geometry type of the features it contains.\r\n * \\@todo Enhance that by using a FeatureStore and strategies.\r\n */\r\nvar  /**\r\n * This class is simply a shortcut for adding features to a map.\r\n * It does nothing more than a standard layer but it's shipped with\r\n * a defautl style based on the geometry type of the features it contains.\r\n * \\@todo Enhance that by using a FeatureStore and strategies.\r\n */\r\nOverlay = /** @class */ (function () {\r\n    function Overlay(map$$1) {\r\n        this.layer = createOverlayLayer();\r\n        this.setMap(map$$1);\r\n    }\r\n    Object.defineProperty(Overlay.prototype, \"dataSource\", {\r\n        /**\r\n         * Overlay layer's data source\r\n         */\r\n        get: /**\r\n         * Overlay layer's data source\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (this.layer.dataSource));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Bind this to a map and add the overlay layer to that map\r\n     * @param map Map\r\n     */\r\n    /**\r\n     * Bind this to a map and add the overlay layer to that map\r\n     * @param {?} map Map\r\n     * @return {?}\r\n     */\r\n    Overlay.prototype.setMap = /**\r\n     * Bind this to a map and add the overlay layer to that map\r\n     * @param {?} map Map\r\n     * @return {?}\r\n     */\r\n    function (map$$1) {\r\n        if (map$$1 === undefined) {\r\n            if (this.map !== undefined) {\r\n                this.map.ol.removeLayer(this.layer.ol);\r\n            }\r\n        }\r\n        else {\r\n            map$$1.ol.addLayer(this.layer.ol);\r\n        }\r\n        this.map = map$$1;\r\n    };\r\n    /**\r\n     * Set the overlay features and, optionally, move to them\r\n     * @param features Features\r\n     * @param motion Optional: Apply this motion to the map view\r\n     */\r\n    /**\r\n     * Set the overlay features and, optionally, move to them\r\n     * @param {?} features Features\r\n     * @param {?=} motion Optional: Apply this motion to the map view\r\n     * @return {?}\r\n     */\r\n    Overlay.prototype.setFeatures = /**\r\n     * Set the overlay features and, optionally, move to them\r\n     * @param {?} features Features\r\n     * @param {?=} motion Optional: Apply this motion to the map view\r\n     * @return {?}\r\n     */\r\n    function (features, motion) {\r\n        if (motion === void 0) { motion = FeatureMotion.Default; }\r\n        this.clear();\r\n        this.addFeatures(features, motion);\r\n    };\r\n    /**\r\n     * Add a feature to the  overlay and, optionally, move to it\r\n     * @param feature Feature\r\n     * @param motion Optional: Apply this motion to the map view\r\n     */\r\n    /**\r\n     * Add a feature to the  overlay and, optionally, move to it\r\n     * @param {?} feature Feature\r\n     * @param {?=} motion Optional: Apply this motion to the map view\r\n     * @return {?}\r\n     */\r\n    Overlay.prototype.addFeature = /**\r\n     * Add a feature to the  overlay and, optionally, move to it\r\n     * @param {?} feature Feature\r\n     * @param {?=} motion Optional: Apply this motion to the map view\r\n     * @return {?}\r\n     */\r\n    function (feature, motion) {\r\n        if (motion === void 0) { motion = FeatureMotion.Default; }\r\n        this.addFeatures([feature], motion);\r\n    };\r\n    /**\r\n     * Add features to the  overlay and, optionally, move to them\r\n     * @param features Features\r\n     * @param motion Optional: Apply this motion to the map view\r\n     */\r\n    /**\r\n     * Add features to the  overlay and, optionally, move to them\r\n     * @param {?} features Features\r\n     * @param {?=} motion Optional: Apply this motion to the map view\r\n     * @return {?}\r\n     */\r\n    Overlay.prototype.addFeatures = /**\r\n     * Add features to the  overlay and, optionally, move to them\r\n     * @param {?} features Features\r\n     * @param {?=} motion Optional: Apply this motion to the map view\r\n     * @return {?}\r\n     */\r\n    function (features, motion) {\r\n        var _this = this;\r\n        if (motion === void 0) { motion = FeatureMotion.Default; }\r\n        /** @type {?} */\r\n        var olFeatures = [];\r\n        features.forEach((/**\r\n         * @param {?} feature\r\n         * @return {?}\r\n         */\r\n        function (feature) {\r\n            /** @type {?} */\r\n            var olFeature = featureToOl(feature, _this.map.projection);\r\n            /** @type {?} */\r\n            var olGeometry = olFeature.getGeometry();\r\n            if (olGeometry === null) {\r\n                return;\r\n            }\r\n            olFeatures.push(olFeature);\r\n        }));\r\n        this.addOlFeatures(olFeatures, motion);\r\n    };\r\n    /**\r\n     * Add a OpenLayers feature to the  overlay and, optionally, move to it\r\n     * @param olFeature OpenLayers Feature\r\n     * @param motion Optional: Apply this motion to the map view\r\n     */\r\n    /**\r\n     * Add a OpenLayers feature to the  overlay and, optionally, move to it\r\n     * @param {?} olFeature OpenLayers Feature\r\n     * @param {?=} motion Optional: Apply this motion to the map view\r\n     * @return {?}\r\n     */\r\n    Overlay.prototype.addOlFeature = /**\r\n     * Add a OpenLayers feature to the  overlay and, optionally, move to it\r\n     * @param {?} olFeature OpenLayers Feature\r\n     * @param {?=} motion Optional: Apply this motion to the map view\r\n     * @return {?}\r\n     */\r\n    function (olFeature, motion) {\r\n        if (motion === void 0) { motion = FeatureMotion.Default; }\r\n        this.addOlFeature([olFeature], motion);\r\n    };\r\n    /**\r\n     * Add OpenLayers features to the overlay and, optionally, move to them\r\n     * @param olFeatures OpenLayers Features\r\n     * @param motion Optional: Apply this motion to the map view\r\n     */\r\n    /**\r\n     * Add OpenLayers features to the overlay and, optionally, move to them\r\n     * @param {?} olFeatures OpenLayers Features\r\n     * @param {?=} motion Optional: Apply this motion to the map view\r\n     * @return {?}\r\n     */\r\n    Overlay.prototype.addOlFeatures = /**\r\n     * Add OpenLayers features to the overlay and, optionally, move to them\r\n     * @param {?} olFeatures OpenLayers Features\r\n     * @param {?=} motion Optional: Apply this motion to the map view\r\n     * @return {?}\r\n     */\r\n    function (olFeatures, motion) {\r\n        if (motion === void 0) { motion = FeatureMotion.Default; }\r\n        this.dataSource.ol.addFeatures(olFeatures);\r\n        moveToOlFeatures(this.map, olFeatures, motion);\r\n    };\r\n    /**\r\n     * Clear the overlay\r\n     */\r\n    /**\r\n     * Clear the overlay\r\n     * @return {?}\r\n     */\r\n    Overlay.prototype.clear = /**\r\n     * Clear the overlay\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.dataSource.ol.clear();\r\n    };\r\n    return Overlay;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LayerWatcher = /** @class */ (function (_super) {\r\n    __extends(LayerWatcher, _super);\r\n    function LayerWatcher() {\r\n        var _this = _super.call(this) || this;\r\n        _this.loaded = 0;\r\n        _this.loading = 0;\r\n        _this.layers = [];\r\n        _this.subscriptions = [];\r\n        return _this;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerWatcher.prototype.watch = /**\r\n     * @return {?}\r\n     */\r\n    function () { };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LayerWatcher.prototype.unwatch = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.layers.forEach((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return _this.unwatchLayer(layer); }), this);\r\n    };\r\n    /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    LayerWatcher.prototype.watchLayer = /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        var _this = this;\r\n        if (layer.status$ === undefined) {\r\n            return;\r\n        }\r\n        this.layers.push(layer);\r\n        /** @type {?} */\r\n        var layer$$ = layer.status$\r\n            .pipe(distinctUntilChanged())\r\n            .subscribe((/**\r\n         * @param {?} status\r\n         * @return {?}\r\n         */\r\n        function (status) {\r\n            if (status === SubjectStatus.Working) {\r\n                _this.loading += 1;\r\n            }\r\n            else if (status === SubjectStatus.Done) {\r\n                _this.loaded += 1;\r\n            }\r\n            if (_this.loaded >= _this.loading) {\r\n                _this.loading = _this.loaded = 0;\r\n                _this.status = SubjectStatus.Done;\r\n            }\r\n            else if (_this.loading > 0) {\r\n                _this.status = SubjectStatus.Working;\r\n            }\r\n        }));\r\n        this.subscriptions.push(layer$$);\r\n    };\r\n    /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    LayerWatcher.prototype.unwatchLayer = /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        /** @type {?} */\r\n        var index = this.layers.indexOf(layer);\r\n        if (index >= 0) {\r\n            /** @type {?} */\r\n            var status_1 = ((/** @type {?} */ (layer))).watcher.status;\r\n            if ([SubjectStatus.Working, SubjectStatus.Waiting].indexOf(status_1) !== -1) {\r\n                this.loaded += 1;\r\n            }\r\n            this.subscriptions[index].unsubscribe();\r\n            this.subscriptions.splice(index, 1);\r\n            this.layers.splice(index, 1);\r\n            ((/** @type {?} */ (layer))).watcher.unwatch();\r\n        }\r\n    };\r\n    return LayerWatcher;\r\n}(Watcher));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {number} */\r\nvar MapViewAction = {\r\n    Move: 0,\r\n    Zoom: 1,\r\n};\r\nMapViewAction[MapViewAction.Move] = 'Move';\r\nMapViewAction[MapViewAction.Zoom] = 'Zoom';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This method extracts a coordinate tuple from a string.\r\n * @param {?} str Any string\r\n * @param {?} mapProjection string Map Projection\r\n * @return {?} object:\r\n *             lonLat: Coordinate,\r\n *             message: Message of error,\r\n *             radius: radius of the confience of coordinate,\r\n *             conf: confidence of the coordinate}\r\n */\r\nfunction stringToLonLat(str, mapProjection) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n    /** @type {?} */\r\n    var lonLat;\r\n    /** @type {?} */\r\n    var coordStr;\r\n    /** @type {?} */\r\n    var negativeLon;\r\n    /** @type {?} */\r\n    var degreesLon;\r\n    /** @type {?} */\r\n    var minutesLon;\r\n    /** @type {?} */\r\n    var secondsLon;\r\n    /** @type {?} */\r\n    var directionLon;\r\n    /** @type {?} */\r\n    var decimalLon;\r\n    /** @type {?} */\r\n    var negativeLat;\r\n    /** @type {?} */\r\n    var degreesLat;\r\n    /** @type {?} */\r\n    var minutesLat;\r\n    /** @type {?} */\r\n    var secondsLat;\r\n    /** @type {?} */\r\n    var directionLat;\r\n    /** @type {?} */\r\n    var decimalLat;\r\n    /** @type {?} */\r\n    var pattern;\r\n    /** @type {?} */\r\n    var timeZone;\r\n    /** @type {?} */\r\n    var radius;\r\n    /** @type {?} */\r\n    var conf;\r\n    /** @type {?} */\r\n    var lon;\r\n    /** @type {?} */\r\n    var lat;\r\n    /** @type {?} */\r\n    var projectionPattern = '(;[\\\\d]{4,6})';\r\n    /** @type {?} */\r\n    var toProjection = '4326';\r\n    /** @type {?} */\r\n    var projectionStr;\r\n    /** @type {?} */\r\n    var projectionRegex = new RegExp(projectionPattern, 'g');\r\n    /** @type {?} */\r\n    var lonlatCoord = '([-+])?([\\\\d]{1,3})([,.](\\\\d+))?';\r\n    /** @type {?} */\r\n    var lonLatPattern = lonlatCoord + \"[\\\\s,.]\\\\s*\" + lonlatCoord;\r\n    /** @type {?} */\r\n    var lonLatRegex = new RegExp(\"^\" + lonLatPattern + \"$\", 'g');\r\n    /** @type {?} */\r\n    var dmsCoord = '([0-9]{1,2})[:|°]?\\\\s*([0-9]{1,2})?[:|\\'|′|’]?\\\\s*([0-9]{1,2}(?:\\.[0-9]+){0,1})?\\\\s*[\"|″|”]?\\\\s*';\r\n    /** @type {?} */\r\n    var dmsCoordPattern = dmsCoord + \"([N|S]),?\\\\s*\" + dmsCoord + \"([E|W])\";\r\n    /** @type {?} */\r\n    var dmsRegex = new RegExp(\"^\" + dmsCoordPattern, 'gi');\r\n    /** @type {?} */\r\n    var patternUtmMtm = '(UTM|MTM)\\-?(\\\\d{1,2})[\\\\s,.]*(\\\\d+[\\\\s.,]?\\\\d+)[\\\\s,.]+(\\\\d+[\\\\s.,]?\\\\d+)';\r\n    /** @type {?} */\r\n    var utmMtmRegex = new RegExp(\"^\" + patternUtmMtm, 'gi');\r\n    /** @type {?} */\r\n    var ddCoord = '([-+])?(\\\\d{1,3})[,.](\\\\d+)';\r\n    /** @type {?} */\r\n    var patternDd = ddCoord + \"[,.]?\\\\s*\" + ddCoord;\r\n    /** @type {?} */\r\n    var ddRegex = new RegExp(\"^\" + patternDd, 'g');\r\n    /** @type {?} */\r\n    var dmdCoord = '([-+])?(\\\\d{1,3})[\\\\s,.]{1}(\\\\d{1,2})[\\\\s,.]{1}(\\\\d{1,2})[.,]?(\\\\d{1,5})?';\r\n    /** @type {?} */\r\n    var patternDmd = dmdCoord + \"[,.]?\\\\s*\" + dmdCoord;\r\n    /** @type {?} */\r\n    var dmdRegex = new RegExp(\"^\" + patternDmd, 'g');\r\n    // tslint:disable:max-line-length\r\n    /** @type {?} */\r\n    var patternBELL = 'LAT\\\\s*[\\\\s:]*\\\\s*([-+])?(\\\\d{1,2})[\\\\s.,]?(\\\\d+)?[\\\\s.,]?\\\\s*(\\\\d{1,2}([.,]\\\\d+)?)?\\\\s*(N|S|E|W)?\\\\s*LONG\\\\s*[\\\\s:]*\\\\s*([-+])?(\\\\d{1,3})[\\\\s.,]?(\\\\d+)?[\\\\s.,]?\\\\s*(\\\\d{1,2}([.,]\\\\d+)?)?\\\\s*(N|S|E|W)?\\\\s*UNC\\\\s*[\\\\s:]?\\\\s*(\\\\d+)\\\\s*CONF\\\\s*[\\\\s:]?\\\\s*(\\\\d{1,3})';\r\n    /** @type {?} */\r\n    var bellRegex = new RegExp(\"^\" + patternBELL + \"?\", 'gi');\r\n    /** @type {?} */\r\n    var mmCoord = '([-+]?\\\\d+)[,.]?(\\\\d+)?';\r\n    /** @type {?} */\r\n    var mmPattern = mmCoord + \"[\\\\s,.]\\\\s*\" + mmCoord;\r\n    /** @type {?} */\r\n    var mmRegex = new RegExp(\"^\" + mmPattern + \"$\", 'g');\r\n    str = str.toLocaleUpperCase();\r\n    // Extract projection\r\n    if (projectionRegex.test(str)) {\r\n        _a = __read(str.split(';'), 2), coordStr = _a[0], projectionStr = _a[1];\r\n    }\r\n    else {\r\n        coordStr = str;\r\n    }\r\n    if (lonLatRegex.test(coordStr)) {\r\n        _b = __read(coordStr.match(lonLatPattern), 9), negativeLon = _b[1], lon = _b[2], decimalLon = _b[4], negativeLat = _b[5], lat = _b[6], decimalLat = _b[8];\r\n        lon = parseFloat((negativeLon ? negativeLon : '') + lon + '.' + decimalLon);\r\n        lat = parseFloat((negativeLat ? negativeLat : '') + lat + '.' + decimalLat);\r\n    }\r\n    else if (dmsRegex.test(coordStr)) {\r\n        _c = __read(coordStr.match(dmsCoordPattern), 9), degreesLon = _c[1], minutesLon = _c[2], secondsLon = _c[3], directionLon = _c[4], degreesLat = _c[5], minutesLat = _c[6], secondsLat = _c[7], directionLat = _c[8];\r\n        lon = convertDMSToDD(parseFloat(degreesLon), parseFloat(minutesLon), parseFloat(secondsLon), directionLon);\r\n        lat = convertDMSToDD(parseFloat(degreesLat), parseFloat(minutesLat), parseFloat(secondsLat), directionLat);\r\n    }\r\n    else if (utmMtmRegex.test(coordStr)) {\r\n        _d = __read(coordStr.match(patternUtmMtm), 5), pattern = _d[1], timeZone = _d[2], lon = _d[3], lat = _d[4];\r\n        /** @type {?} */\r\n        var utm = '+proj=' + pattern + ' +zone=' + timeZone;\r\n        /** @type {?} */\r\n        var wgs84 = '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs';\r\n        _e = __read(proj4(utm.toLocaleLowerCase(), wgs84, [parseFloat(lon), parseFloat(lat)]), 2), lon = _e[0], lat = _e[1];\r\n    }\r\n    else if (dmdRegex.test(coordStr)) {\r\n        _f = __read(coordStr.match(patternDmd), 11), negativeLon = _f[1], degreesLon = _f[2], minutesLon = _f[3], secondsLon = _f[4], decimalLon = _f[5], negativeLat = _f[6], degreesLat = _f[7], minutesLat = _f[8], secondsLat = _f[9], decimalLat = _f[10];\r\n        lon = convertDMSToDD(parseFloat((negativeLon ? negativeLon : '') + degreesLon), parseFloat(minutesLon), parseFloat(secondsLon), directionLon);\r\n        lat = convertDMSToDD(parseFloat((negativeLat ? negativeLat : '') + degreesLat), parseFloat(minutesLat), parseFloat(secondsLat), directionLat);\r\n    }\r\n    else if (ddRegex.test(coordStr)) {\r\n        _g = __read(coordStr.match(patternDd), 7), negativeLon = _g[1], degreesLon = _g[2], decimalLon = _g[3], negativeLat = _g[4], degreesLat = _g[5], decimalLat = _g[6];\r\n        lon = convertDMSToDD(parseFloat((negativeLon ? negativeLon : '') + degreesLon), parseFloat(minutesLon), parseFloat(secondsLon), directionLon);\r\n        lat = convertDMSToDD(parseFloat((negativeLat ? negativeLat : '') + degreesLat), parseFloat(minutesLat), parseFloat(secondsLat), directionLat);\r\n    }\r\n    else if (bellRegex.test(coordStr)) {\r\n        _h = __read(coordStr.match(patternBELL), 15), negativeLat = _h[1], degreesLat = _h[2], minutesLat = _h[3], secondsLat = _h[4], directionLat = _h[6], negativeLon = _h[7], degreesLon = _h[8], minutesLon = _h[9], secondsLon = _h[10], directionLon = _h[12], radius = _h[13], conf = _h[14];\r\n        // Set default value for North America\r\n        if (!directionLon) {\r\n            directionLon = 'W';\r\n        }\r\n        // Check if real minutes or decimals\r\n        if (minutesLon && minutesLon.length > 2) {\r\n            lon = parseFloat((negativeLon ? negativeLon : '') + degreesLon + '.' + minutesLon);\r\n        }\r\n        else {\r\n            lon = convertDMSToDD(parseFloat(degreesLon), parseFloat(minutesLon), parseFloat(secondsLon), directionLon);\r\n        }\r\n        if (minutesLat && minutesLat.length > 2) {\r\n            lat = parseFloat((negativeLat ? negativeLat : '') + degreesLat + '.' + minutesLat);\r\n        }\r\n        else {\r\n            lat = convertDMSToDD(parseFloat(degreesLat), parseFloat(minutesLat), parseFloat(secondsLat), directionLat);\r\n        }\r\n    }\r\n    else if (mmRegex.test(coordStr)) {\r\n        _j = __read(coordStr.match(mmPattern), 5), lon = _j[1], decimalLon = _j[2], lat = _j[3], decimalLat = _j[4];\r\n        if (decimalLon) {\r\n            lon = parseFloat(lon + '.' + decimalLon);\r\n        }\r\n        if (decimalLat) {\r\n            lat = parseFloat(lat + '.' + decimalLat);\r\n        }\r\n    }\r\n    else {\r\n        return { lonLat: undefined, message: '', radius: undefined, conf: undefined };\r\n    }\r\n    // Set a negative coordinate for North America zone\r\n    if (lon > 0 && lat > 0) {\r\n        if (lon > lat) {\r\n            lon = -lon;\r\n        }\r\n        else {\r\n            lat = -lat;\r\n        }\r\n    }\r\n    // Reverse coordinate to respect lonLat convention\r\n    if (lon < lat) {\r\n        lonLat = (/** @type {?} */ ([lon, lat]));\r\n    }\r\n    else {\r\n        lonLat = (/** @type {?} */ ([lat, lon]));\r\n    }\r\n    // Reproject the coordinate if projection parameter have been set and coord is not 4326\r\n    if ((projectionStr !== undefined && projectionStr !== toProjection) || (lonLat[0] > 180 || lonLat[0] < -180)) {\r\n        /** @type {?} */\r\n        var source = projectionStr ? 'EPSG:' + projectionStr : mapProjection;\r\n        /** @type {?} */\r\n        var dest = 'EPSG:' + toProjection;\r\n        try {\r\n            lonLat = transform(lonLat, source, dest);\r\n        }\r\n        catch (e) {\r\n            return { lonLat: undefined, message: 'Projection ' + source + ' not supported', radius: undefined, conf: undefined };\r\n        }\r\n    }\r\n    return { lonLat: lonLat, message: '', radius: radius ? parseInt(radius, 10) : undefined, conf: conf ? parseInt(conf, 10) : undefined };\r\n}\r\n/**\r\n * Convert degrees minutes seconds to dd\r\n * @param {?} degrees Degrees\r\n * @param {?} minutes Minutes\r\n * @param {?} seconds Seconds\r\n * @param {?} direction Direction\r\n * @return {?}\r\n */\r\nfunction convertDMSToDD(degrees, minutes, seconds, direction) {\r\n    minutes = minutes || 0;\r\n    seconds = seconds || 0;\r\n    /** @type {?} */\r\n    var dd = degrees + (minutes / 60) + (seconds / 3600);\r\n    if (direction === 'S' || direction === 'W') {\r\n        dd = -dd;\r\n    } // Don't do anything for N or E\r\n    return dd;\r\n}\r\n/**\r\n * Return true of two view states are equal.\r\n * @param {?} state1 View state\r\n * @param {?} state2 View state\r\n * @return {?} True if the view states are equal\r\n */\r\nfunction viewStatesAreEqual(state1, state2) {\r\n    if (state1 === undefined || state2 === undefined) {\r\n        return false;\r\n    }\r\n    /** @type {?} */\r\n    var tolerance = 1 / 10000;\r\n    return state1.zoom === state2.zoom &&\r\n        Math.trunc(state1.center[0] / tolerance) === Math.trunc(state2.center[0] / tolerance) &&\r\n        Math.trunc(state1.center[1] / tolerance) === Math.trunc(state2.center[1] / tolerance);\r\n}\r\n/**\r\n * Format the scale to a human readable text\r\n * @param {?} scale\r\n * @return {?} Human readable scale text\r\n */\r\nfunction formatScale(scale) {\r\n    scale = Math.round(scale);\r\n    if (scale < 10000) {\r\n        return scale + '';\r\n    }\r\n    scale = Math.round(scale / 1000);\r\n    if (scale < 1000) {\r\n        return scale + 'K';\r\n    }\r\n    scale = Math.round(scale / 1000);\r\n    return scale + 'M';\r\n}\r\n/**\r\n * Return the resolution from a scale denom\r\n * @param {?} scale Scale denom\r\n * @param {?=} dpi DPI\r\n * @return {?} Resolution\r\n */\r\nfunction getResolutionFromScale(scale, dpi) {\r\n    if (dpi === void 0) { dpi = 72; }\r\n    return scale / (39.37 * dpi);\r\n}\r\n/**\r\n * Return the resolution from a scale denom\r\n * @param {?} resolution\r\n * @param {?=} unit\r\n * @param {?=} dpi\r\n * @return {?} Resolution\r\n */\r\nfunction getScaleFromResolution(resolution, unit, dpi) {\r\n    if (unit === void 0) { unit = 'm'; }\r\n    if (dpi === void 0) { dpi = 72; }\r\n    return resolution * METERS_PER_UNIT[unit] * 39.37 * dpi;\r\n}\r\n/**\r\n * Returns true if the CTRL key is pushed during an Ol MapBrowserPointerEvent\r\n * @param {?} event OL MapBrowserPointerEvent\r\n * @return {?} Whether the CTRL key is pushed\r\n */\r\nfunction ctrlKeyDown(event) {\r\n    /** @type {?} */\r\n    var originalEvent = event.originalEvent;\r\n    return (!originalEvent.altKey &&\r\n        (MAC ? originalEvent.metaKey : originalEvent.ctrlKey) &&\r\n        !originalEvent.shiftKey);\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Base map controller\r\n */\r\nvar  /**\r\n * Base map controller\r\n */\r\nMapController = /** @class */ (function () {\r\n    function MapController() {\r\n        /**\r\n         * Array of observer keys\r\n         */\r\n        this.observerKeys = [];\r\n    }\r\n    /**\r\n     * Return the OL map this controller is bound to\r\n     * @returns OL Map\r\n     */\r\n    /**\r\n     * Return the OL map this controller is bound to\r\n     * @return {?} OL Map\r\n     */\r\n    MapController.prototype.getOlMap = /**\r\n     * Return the OL map this controller is bound to\r\n     * @return {?} OL Map\r\n     */\r\n    function () {\r\n        return this.olMap;\r\n    };\r\n    /**\r\n     * Add or remove this controller to/from a map.\r\n     * @param map OL Map\r\n     */\r\n    /**\r\n     * Add or remove this controller to/from a map.\r\n     * @param {?} olMap\r\n     * @return {?}\r\n     */\r\n    MapController.prototype.setOlMap = /**\r\n     * Add or remove this controller to/from a map.\r\n     * @param {?} olMap\r\n     * @return {?}\r\n     */\r\n    function (olMap$$1) {\r\n        if (olMap$$1 !== undefined && this.getOlMap() !== undefined) {\r\n            throw new Error('This controller is already bound to a map.');\r\n        }\r\n        if (olMap$$1 === undefined) {\r\n            this.teardownObservers();\r\n            this.olMap = olMap$$1;\r\n            return;\r\n        }\r\n        this.olMap = olMap$$1;\r\n    };\r\n    /**\r\n     * Teardown any observers\r\n     */\r\n    /**\r\n     * Teardown any observers\r\n     * @return {?}\r\n     */\r\n    MapController.prototype.teardownObservers = /**\r\n     * Teardown any observers\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.observerKeys.forEach((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        function (key) { return unByKey(key); }));\r\n        this.observerKeys = [];\r\n    };\r\n    return MapController;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Controller to handle map view interactions\r\n */\r\nvar  /**\r\n * Controller to handle map view interactions\r\n */\r\nMapViewController = /** @class */ (function (_super) {\r\n    __extends(MapViewController, _super);\r\n    function MapViewController(options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.options = options;\r\n        /**\r\n         * Observable of the current resolution\r\n         */\r\n        _this.resolution$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Observable of the current state\r\n         */\r\n        _this.state$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Extent stream\r\n         */\r\n        _this.extent$ = new Subject();\r\n        /**\r\n         * History of states\r\n         */\r\n        _this.states = [];\r\n        /**\r\n         * Current state index\r\n         */\r\n        _this.stateIndex = 0;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MapViewController.prototype, \"stateHistory\", {\r\n        /**\r\n         * Whether the view controller should keep the view's state history\r\n         */\r\n        get: /**\r\n         * Whether the view controller should keep the view's state history\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options ? this.options.stateHistory === true : false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MapViewController.prototype, \"olView\", {\r\n        /**\r\n         * OL View\r\n         */\r\n        get: /**\r\n         * OL View\r\n         * @return {?}\r\n         */\r\n        function () { return this.olMap.getView(); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Add or remove this controller to/from a map.\r\n     * @param map OL Map\r\n     */\r\n    /**\r\n     * Add or remove this controller to/from a map.\r\n     * @param {?} olMap\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.setOlMap = /**\r\n     * Add or remove this controller to/from a map.\r\n     * @param {?} olMap\r\n     * @return {?}\r\n     */\r\n    function (olMap$$1) {\r\n        _super.prototype.setOlMap.call(this, olMap$$1);\r\n        this.setupObservers();\r\n    };\r\n    /**\r\n     * Observe move moveend and subscribe to the extent stream\r\n     */\r\n    /**\r\n     * Observe move moveend and subscribe to the extent stream\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.setupObservers = /**\r\n     * Observe move moveend and subscribe to the extent stream\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.stateHistory === true) {\r\n            this.observerKeys.push(this.olMap.on('moveend', (/**\r\n             * @param {?} event\r\n             * @return {?}\r\n             */\r\n            function (event) { return _this.onMoveEnd(event); })));\r\n        }\r\n        this.extent$$ = this.extent$\r\n            .pipe(debounceTime(25))\r\n            .subscribe((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            _this.setExtent(value.extent, value.action);\r\n        }));\r\n    };\r\n    /**\r\n     * Teardown any observers\r\n     */\r\n    /**\r\n     * Teardown any observers\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.teardownObservers = /**\r\n     * Teardown any observers\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        _super.prototype.teardownObservers.call(this);\r\n        if (this.extent$$ !== undefined) {\r\n            this.extent$$.unsubscribe();\r\n            this.extent$$ = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Get the view's OL projection\r\n     * @returns OL projection\r\n     */\r\n    /**\r\n     * Get the view's OL projection\r\n     * @return {?} OL projection\r\n     */\r\n    MapViewController.prototype.getOlProjection = /**\r\n     * Get the view's OL projection\r\n     * @return {?} OL projection\r\n     */\r\n    function () {\r\n        return this.olView.getProjection();\r\n    };\r\n    /**\r\n     * Get the current map view center\r\n     * @param projection Output projection\r\n     * @returns Center\r\n     */\r\n    /**\r\n     * Get the current map view center\r\n     * @param {?=} projection Output projection\r\n     * @return {?} Center\r\n     */\r\n    MapViewController.prototype.getCenter = /**\r\n     * Get the current map view center\r\n     * @param {?=} projection Output projection\r\n     * @return {?} Center\r\n     */\r\n    function (projection) {\r\n        /** @type {?} */\r\n        var center = this.olView.getCenter();\r\n        if (projection && center) {\r\n            center = transform(center, this.getOlProjection(), projection);\r\n        }\r\n        return center;\r\n    };\r\n    /**\r\n     * Get the current view extent\r\n     * @param projection Output projection\r\n     * @returns Extent\r\n     */\r\n    /**\r\n     * Get the current view extent\r\n     * @param {?=} projection Output projection\r\n     * @return {?} Extent\r\n     */\r\n    MapViewController.prototype.getExtent = /**\r\n     * Get the current view extent\r\n     * @param {?=} projection Output projection\r\n     * @return {?} Extent\r\n     */\r\n    function (projection) {\r\n        /** @type {?} */\r\n        var extent = this.olView.calculateExtent(this.olMap.getSize());\r\n        if (projection && extent) {\r\n            extent = transformExtent(extent, this.getOlProjection(), projection);\r\n        }\r\n        return extent;\r\n    };\r\n    /**\r\n     * Get the current scale\r\n     * @param dpi Dot per inches\r\n     * @returns View scale\r\n     */\r\n    /**\r\n     * Get the current scale\r\n     * @param {?=} dpi Dot per inches\r\n     * @return {?} View scale\r\n     */\r\n    MapViewController.prototype.getScale = /**\r\n     * Get the current scale\r\n     * @param {?=} dpi Dot per inches\r\n     * @return {?} View scale\r\n     */\r\n    function (dpi) {\r\n        if (dpi === void 0) { dpi = 72; }\r\n        return getScaleFromResolution(this.getResolution(), this.getOlProjection().getUnits(), dpi);\r\n    };\r\n    /**\r\n     * Get the current resolution\r\n     * @returns Projection denominator\r\n     */\r\n    /**\r\n     * Get the current resolution\r\n     * @return {?} Projection denominator\r\n     */\r\n    MapViewController.prototype.getResolution = /**\r\n     * Get the current resolution\r\n     * @return {?} Projection denominator\r\n     */\r\n    function () {\r\n        return this.olView.getResolution();\r\n    };\r\n    /**\r\n     * Get the current zoom level\r\n     * @returns Zoom level\r\n     */\r\n    /**\r\n     * Get the current zoom level\r\n     * @return {?} Zoom level\r\n     */\r\n    MapViewController.prototype.getZoom = /**\r\n     * Get the current zoom level\r\n     * @return {?} Zoom level\r\n     */\r\n    function () {\r\n        return Math.round(this.olView.getZoom());\r\n    };\r\n    /**\r\n     * Zoom in\r\n     */\r\n    /**\r\n     * Zoom in\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.zoomIn = /**\r\n     * Zoom in\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.zoomTo(this.olView.getZoom() + 1);\r\n    };\r\n    /**\r\n     * Zoom out\r\n     */\r\n    /**\r\n     * Zoom out\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.zoomOut = /**\r\n     * Zoom out\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.zoomTo(this.olView.getZoom() - 1);\r\n    };\r\n    /**\r\n     * Zoom to specific zoom level\r\n     * @param zoom Zoom level\r\n     */\r\n    /**\r\n     * Zoom to specific zoom level\r\n     * @param {?} zoom Zoom level\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.zoomTo = /**\r\n     * Zoom to specific zoom level\r\n     * @param {?} zoom Zoom level\r\n     * @return {?}\r\n     */\r\n    function (zoom) {\r\n        this.olView.animate({\r\n            zoom: zoom,\r\n            duration: 250,\r\n            easing: easeOut\r\n        });\r\n    };\r\n    /**\r\n     * Move to extent after a short delay (100ms) unless\r\n     * a new movement gets registered in the meantime.\r\n     * @param extent Extent to move to\r\n     */\r\n    /**\r\n     * Move to extent after a short delay (100ms) unless\r\n     * a new movement gets registered in the meantime.\r\n     * @param {?} extent Extent to move to\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.moveToExtent = /**\r\n     * Move to extent after a short delay (100ms) unless\r\n     * a new movement gets registered in the meantime.\r\n     * @param {?} extent Extent to move to\r\n     * @return {?}\r\n     */\r\n    function (extent) {\r\n        this.extent$.next({ extent: extent, action: MapViewAction.Move });\r\n    };\r\n    /**\r\n     * Zoom to extent after a short delay (100ms) unless\r\n     * a new movement gets registered in the meantime.\r\n     * @param extent Extent to zoom to\r\n     */\r\n    /**\r\n     * Zoom to extent after a short delay (100ms) unless\r\n     * a new movement gets registered in the meantime.\r\n     * @param {?} extent Extent to zoom to\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.zoomToExtent = /**\r\n     * Zoom to extent after a short delay (100ms) unless\r\n     * a new movement gets registered in the meantime.\r\n     * @param {?} extent Extent to zoom to\r\n     * @return {?}\r\n     */\r\n    function (extent) {\r\n        this.extent$.next({ extent: extent, action: MapViewAction.Zoom });\r\n    };\r\n    /**\r\n     * Return the current view rotation\r\n     * @returns Rotation angle in degrees\r\n     */\r\n    /**\r\n     * Return the current view rotation\r\n     * @return {?} Rotation angle in degrees\r\n     */\r\n    MapViewController.prototype.getRotation = /**\r\n     * Return the current view rotation\r\n     * @return {?} Rotation angle in degrees\r\n     */\r\n    function () {\r\n        return this.olView.getRotation();\r\n    };\r\n    /**\r\n     * Reset the view rotation to 0\r\n     */\r\n    /**\r\n     * Reset the view rotation to 0\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.resetRotation = /**\r\n     * Reset the view rotation to 0\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.olView.animate({ rotation: 0 });\r\n    };\r\n    /**\r\n     * Whether the view has a previous state\r\n     * @returns True if the view has a previous state\r\n     */\r\n    /**\r\n     * Whether the view has a previous state\r\n     * @return {?} True if the view has a previous state\r\n     */\r\n    MapViewController.prototype.hasPreviousState = /**\r\n     * Whether the view has a previous state\r\n     * @return {?} True if the view has a previous state\r\n     */\r\n    function () {\r\n        return this.states.length > 1 && this.stateIndex > 0;\r\n    };\r\n    /**\r\n     * Whether the view has a next state\r\n     * @returns True if the view has a next state\r\n     */\r\n    /**\r\n     * Whether the view has a next state\r\n     * @return {?} True if the view has a next state\r\n     */\r\n    MapViewController.prototype.hasNextState = /**\r\n     * Whether the view has a next state\r\n     * @return {?} True if the view has a next state\r\n     */\r\n    function () {\r\n        return this.states.length > 1 && this.stateIndex < this.states.length - 1;\r\n    };\r\n    /**\r\n     * Restore the previous view state\r\n     */\r\n    /**\r\n     * Restore the previous view state\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.previousState = /**\r\n     * Restore the previous view state\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.hasPreviousState()) {\r\n            this.setStateIndex(this.stateIndex - 1);\r\n        }\r\n    };\r\n    /**\r\n     * Restore the next view state\r\n     */\r\n    /**\r\n     * Restore the next view state\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.nextState = /**\r\n     * Restore the next view state\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.hasNextState()) {\r\n            this.setStateIndex(this.stateIndex + 1);\r\n        }\r\n    };\r\n    /**\r\n     * Clear the state history\r\n     */\r\n    /**\r\n     * Clear the state history\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.clearStateHistory = /**\r\n     * Clear the state history\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.states = [];\r\n        this.stateIndex = 0;\r\n    };\r\n    /**\r\n     * Update the the view to it's intial state\r\n     */\r\n    /**\r\n     * Update the the view to it's intial state\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.setInitialState = /**\r\n     * Update the the view to it's intial state\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.states.length > 0) {\r\n            this.setStateIndex(0);\r\n        }\r\n    };\r\n    /**\r\n     * Move to the extent retrieved from the stream\r\n     * @param extent Extent\r\n     * @param action Either zoom or move\r\n     */\r\n    /**\r\n     * Move to the extent retrieved from the stream\r\n     * @private\r\n     * @param {?} extent Extent\r\n     * @param {?} action Either zoom or move\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.setExtent = /**\r\n     * Move to the extent retrieved from the stream\r\n     * @private\r\n     * @param {?} extent Extent\r\n     * @param {?} action Either zoom or move\r\n     * @return {?}\r\n     */\r\n    function (extent, action) {\r\n        /** @type {?} */\r\n        var olView$$1 = this.olView;\r\n        if (action === MapViewAction.Zoom) {\r\n            olView$$1.fit(extent, { maxZoom: 17 });\r\n        }\r\n        else if (action === MapViewAction.Move) {\r\n            olView$$1.fit(extent, { maxZoom: olView$$1.getZoom() });\r\n        }\r\n    };\r\n    /**\r\n     * Set the view state index\r\n     * @param index State index\r\n     */\r\n    /**\r\n     * Set the view state index\r\n     * @private\r\n     * @param {?} index State index\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.setStateIndex = /**\r\n     * Set the view state index\r\n     * @private\r\n     * @param {?} index State index\r\n     * @return {?}\r\n     */\r\n    function (index) {\r\n        this.stateIndex = index;\r\n        this.setState(this.states[index]);\r\n    };\r\n    /**\r\n     * Set the view state\r\n     * @param state View state\r\n     */\r\n    /**\r\n     * Set the view state\r\n     * @private\r\n     * @param {?} state View state\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.setState = /**\r\n     * Set the view state\r\n     * @private\r\n     * @param {?} state View state\r\n     * @return {?}\r\n     */\r\n    function (state$$1) {\r\n        this.olView.animate({\r\n            resolution: state$$1.resolution,\r\n            center: state$$1.center,\r\n            duration: 0\r\n        });\r\n    };\r\n    /**\r\n     * On move end, get the view state and record it.\r\n     * @param event Map event\r\n     */\r\n    /**\r\n     * On move end, get the view state and record it.\r\n     * @private\r\n     * @param {?} event Map event\r\n     * @return {?}\r\n     */\r\n    MapViewController.prototype.onMoveEnd = /**\r\n     * On move end, get the view state and record it.\r\n     * @private\r\n     * @param {?} event Map event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        /** @type {?} */\r\n        var resolution = this.getResolution();\r\n        if (this.resolution$.value !== resolution) {\r\n            this.resolution$.next(resolution);\r\n        }\r\n        /** @type {?} */\r\n        var state$$1 = {\r\n            resolution: resolution,\r\n            center: this.getCenter(),\r\n            zoom: this.getZoom()\r\n        };\r\n        if (this.stateHistory === true) {\r\n            /** @type {?} */\r\n            var stateIndex = this.stateIndex;\r\n            /** @type {?} */\r\n            var stateAtIndex = this.states.length === 0 ? undefined : this.states[stateIndex];\r\n            if (!viewStatesAreEqual(state$$1, stateAtIndex)) {\r\n                this.states = this.states.slice(0, stateIndex + 1).concat([state$$1]);\r\n                this.stateIndex = this.states.length - 1;\r\n            }\r\n        }\r\n        this.state$.next(state$$1);\r\n    };\r\n    return MapViewController;\r\n}(MapController));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n// TODO: This class is messy. Clearly define it's scope and the map browser's.\r\n// Move some stuff into controllers.\r\nvar  \r\n// TODO: This class is messy. Clearly define it's scope and the map browser's.\r\n// Move some stuff into controllers.\r\nIgoMap = /** @class */ (function () {\r\n    function IgoMap(options) {\r\n        this.layers$ = new BehaviorSubject([]);\r\n        this.geolocation$ = new BehaviorSubject(undefined);\r\n        this.defaultOptions = {\r\n            controls: { attribution: false }\r\n        };\r\n        this.options = Object.assign({}, this.defaultOptions, options);\r\n        this.layerWatcher = new LayerWatcher();\r\n        this.status$ = this.layerWatcher.status$;\r\n        register(proj4);\r\n        this.init();\r\n    }\r\n    Object.defineProperty(IgoMap.prototype, \"layers\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.layers$.value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(IgoMap.prototype, \"projection\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.viewController.getOlProjection().getCode();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.init = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var controls = [];\r\n        if (this.options.controls) {\r\n            if (this.options.controls.attribution) {\r\n                /** @type {?} */\r\n                var attributionOpt = (/** @type {?} */ ((this.options.controls.attribution === true\r\n                    ? {}\r\n                    : this.options.controls.attribution)));\r\n                controls.push(new olAttribution(attributionOpt));\r\n            }\r\n            if (this.options.controls.scaleLine) {\r\n                /** @type {?} */\r\n                var scaleLineOpt = (/** @type {?} */ ((this.options.controls.scaleLine === true\r\n                    ? {}\r\n                    : this.options.controls.scaleLine)));\r\n                controls.push(new olControlScaleLine(scaleLineOpt));\r\n            }\r\n        }\r\n        /** @type {?} */\r\n        var interactions = {};\r\n        if (this.options.interactions === false) {\r\n            interactions = {\r\n                altShiftDragRotate: false,\r\n                doubleClickZoom: false,\r\n                keyboard: false,\r\n                mouseWheelZoom: false,\r\n                shiftDragZoom: false,\r\n                dragPan: false,\r\n                pinchRotate: false,\r\n                pinchZoom: false\r\n            };\r\n        }\r\n        this.ol = new olMap({\r\n            interactions: defaults(interactions),\r\n            controls: controls\r\n        });\r\n        this.setView(this.options.view || {});\r\n        this.viewController = new MapViewController({\r\n            stateHistory: true\r\n        });\r\n        this.viewController.setOlMap(this.ol);\r\n        this.overlay = new Overlay(this);\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.setTarget = /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        this.ol.setTarget(id);\r\n        if (id !== undefined) {\r\n            this.layerWatcher.subscribe((/**\r\n             * @return {?}\r\n             */\r\n            function () { }), null);\r\n        }\r\n        else {\r\n            this.layerWatcher.unsubscribe();\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.updateView = /**\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (options) {\r\n        /** @type {?} */\r\n        var currentView = this.ol.getView();\r\n        /** @type {?} */\r\n        var viewOptions = Object.assign({\r\n            zoom: currentView.getZoom()\r\n        }, currentView.getProperties());\r\n        this.setView(Object.assign(viewOptions, options));\r\n    };\r\n    /**\r\n     * Set the map view\r\n     * @param options Map view options\r\n     */\r\n    /**\r\n     * Set the map view\r\n     * @param {?} options Map view options\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.setView = /**\r\n     * Set the map view\r\n     * @param {?} options Map view options\r\n     * @return {?}\r\n     */\r\n    function (options) {\r\n        if (this.viewController !== undefined) {\r\n            this.viewController.clearStateHistory();\r\n        }\r\n        /** @type {?} */\r\n        var view = new olView(options);\r\n        this.ol.setView(view);\r\n        this.unsubscribeGeolocate();\r\n        if (options) {\r\n            if (options.center) {\r\n                /** @type {?} */\r\n                var projection = view.getProjection().getCode();\r\n                /** @type {?} */\r\n                var center = fromLonLat(options.center, projection);\r\n                view.setCenter(center);\r\n            }\r\n            if (options.geolocate) {\r\n                this.geolocate(true);\r\n            }\r\n        }\r\n    };\r\n    // TODO: Move to ViewController and update every place it's used\r\n    // TODO: Move to ViewController and update every place it's used\r\n    /**\r\n     * @param {?=} projection\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.getCenter = \r\n    // TODO: Move to ViewController and update every place it's used\r\n    /**\r\n     * @param {?=} projection\r\n     * @return {?}\r\n     */\r\n    function (projection) {\r\n        return this.viewController.getCenter();\r\n    };\r\n    // TODO: Move to ViewController and update every place it's used\r\n    // TODO: Move to ViewController and update every place it's used\r\n    /**\r\n     * @param {?=} projection\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.getExtent = \r\n    // TODO: Move to ViewController and update every place it's used\r\n    /**\r\n     * @param {?=} projection\r\n     * @return {?}\r\n     */\r\n    function (projection) {\r\n        return this.viewController.getExtent();\r\n    };\r\n    // TODO: Move to ViewController and update every place it's used\r\n    // TODO: Move to ViewController and update every place it's used\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.getZoom = \r\n    // TODO: Move to ViewController and update every place it's used\r\n    /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.viewController.getZoom();\r\n    };\r\n    /**\r\n     * @param {?} baseLayer\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.changeBaseLayer = /**\r\n     * @param {?} baseLayer\r\n     * @return {?}\r\n     */\r\n    function (baseLayer) {\r\n        var e_1, _a;\r\n        if (!baseLayer) {\r\n            return;\r\n        }\r\n        try {\r\n            for (var _b = __values(this.getBaseLayers()), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var bl = _c.value;\r\n                bl.visible = false;\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        baseLayer.visible = true;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.getBaseLayers = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.layers.filter((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return layer.baseLayer === true; }));\r\n    };\r\n    /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.getLayerById = /**\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        return this.layers.find((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return layer.id && layer.id === id; }));\r\n    };\r\n    /**\r\n     * @param {?} alias\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.getLayerByAlias = /**\r\n     * @param {?} alias\r\n     * @return {?}\r\n     */\r\n    function (alias) {\r\n        return this.layers.find((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return layer.alias && layer.alias === alias; }));\r\n    };\r\n    /**\r\n     * Add a single layer\r\n     * @param layer Layer to add\r\n     * @param push DEPRECATED\r\n     */\r\n    /**\r\n     * Add a single layer\r\n     * @param {?} layer Layer to add\r\n     * @param {?=} push DEPRECATED\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.addLayer = /**\r\n     * Add a single layer\r\n     * @param {?} layer Layer to add\r\n     * @param {?=} push DEPRECATED\r\n     * @return {?}\r\n     */\r\n    function (layer, push) {\r\n        if (push === void 0) { push = true; }\r\n        this.addLayers([layer]);\r\n    };\r\n    /**\r\n     * Add many layers\r\n     * @param layers Layers to add\r\n     * @param push DEPRECATED\r\n     */\r\n    /**\r\n     * Add many layers\r\n     * @param {?} layers Layers to add\r\n     * @param {?=} push DEPRECATED\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.addLayers = /**\r\n     * Add many layers\r\n     * @param {?} layers Layers to add\r\n     * @param {?=} push DEPRECATED\r\n     * @return {?}\r\n     */\r\n    function (layers, push) {\r\n        var _this = this;\r\n        if (push === void 0) { push = true; }\r\n        /** @type {?} */\r\n        var addedLayers = layers\r\n            .map((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return _this.doAddLayer(layer); }))\r\n            .filter((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return layer !== undefined; }));\r\n        this.setLayers([].concat(this.layers, addedLayers));\r\n    };\r\n    /**\r\n     * Remove a single layer\r\n     * @param layer Layer to remove\r\n     */\r\n    /**\r\n     * Remove a single layer\r\n     * @param {?} layer Layer to remove\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.removeLayer = /**\r\n     * Remove a single layer\r\n     * @param {?} layer Layer to remove\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        this.removeLayers([layer]);\r\n    };\r\n    /**\r\n     * Remove many layers\r\n     * @param layers Layers to remove\r\n     */\r\n    /**\r\n     * Remove many layers\r\n     * @param {?} layers Layers to remove\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.removeLayers = /**\r\n     * Remove many layers\r\n     * @param {?} layers Layers to remove\r\n     * @return {?}\r\n     */\r\n    function (layers) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var newLayers = this.layers$.value.slice(0);\r\n        /** @type {?} */\r\n        var layersToRemove = [];\r\n        layers.forEach((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) {\r\n            /** @type {?} */\r\n            var index = _this.getLayerIndex(layer);\r\n            if (index >= 0) {\r\n                layersToRemove.push(layer);\r\n                newLayers.splice(index, 1);\r\n            }\r\n        }));\r\n        layersToRemove.forEach((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return _this.doRemoveLayer(layer); }));\r\n        this.setLayers(newLayers);\r\n    };\r\n    /**\r\n     * Remove all layers\r\n     */\r\n    /**\r\n     * Remove all layers\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.removeAllLayers = /**\r\n     * Remove all layers\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.layers.forEach((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return _this.doRemoveLayer(layer); }));\r\n        this.layers$.next([]);\r\n    };\r\n    /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.raiseLayer = /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        /** @type {?} */\r\n        var index = this.getLayerIndex(layer);\r\n        if (index > 0) {\r\n            this.moveLayer(layer, index, index - 1);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.lowerLayer = /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        /** @type {?} */\r\n        var index = this.getLayerIndex(layer);\r\n        if (index < this.layers.length - 1) {\r\n            this.moveLayer(layer, index, index + 1);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} layer\r\n     * @param {?} from\r\n     * @param {?} to\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.moveLayer = /**\r\n     * @param {?} layer\r\n     * @param {?} from\r\n     * @param {?} to\r\n     * @return {?}\r\n     */\r\n    function (layer, from, to) {\r\n        /** @type {?} */\r\n        var layerTo = this.layers[to];\r\n        /** @type {?} */\r\n        var zIndexTo = layerTo.zIndex;\r\n        /** @type {?} */\r\n        var zIndexFrom = layer.zIndex;\r\n        layer.zIndex = zIndexTo;\r\n        layerTo.zIndex = zIndexFrom;\r\n        this.layers[to] = layer;\r\n        this.layers[from] = layerTo;\r\n        this.layers$.next(this.layers.slice(0));\r\n    };\r\n    /**\r\n     * Add a layer to the OL map and start watching. If the layer is already\r\n     * added to this map, make it visible but don't add it one again.\r\n     * @param layer Layer\r\n     * @returns The layer added, if any\r\n     */\r\n    /**\r\n     * Add a layer to the OL map and start watching. If the layer is already\r\n     * added to this map, make it visible but don't add it one again.\r\n     * @private\r\n     * @param {?} layer Layer\r\n     * @return {?} The layer added, if any\r\n     */\r\n    IgoMap.prototype.doAddLayer = /**\r\n     * Add a layer to the OL map and start watching. If the layer is already\r\n     * added to this map, make it visible but don't add it one again.\r\n     * @private\r\n     * @param {?} layer Layer\r\n     * @return {?} The layer added, if any\r\n     */\r\n    function (layer) {\r\n        if (layer.baseLayer && layer.visible) {\r\n            this.changeBaseLayer(layer);\r\n        }\r\n        /** @type {?} */\r\n        var existingLayer = this.getLayerById(layer.id);\r\n        if (existingLayer !== undefined) {\r\n            existingLayer.visible = true;\r\n            return;\r\n        }\r\n        if (layer.zIndex === undefined || layer.zIndex === 0) {\r\n            /** @type {?} */\r\n            var offset = layer.baseLayer ? 1 : 10;\r\n            layer.zIndex = this.layers.length + offset;\r\n        }\r\n        layer.setMap(this);\r\n        this.layerWatcher.watchLayer(layer);\r\n        this.ol.addLayer(layer.ol);\r\n        return layer;\r\n    };\r\n    /**\r\n     * Remove a layer from the OL map and stop watching\r\n     * @param layer Layer\r\n     */\r\n    /**\r\n     * Remove a layer from the OL map and stop watching\r\n     * @private\r\n     * @param {?} layer Layer\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.doRemoveLayer = /**\r\n     * Remove a layer from the OL map and stop watching\r\n     * @private\r\n     * @param {?} layer Layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        this.layerWatcher.unwatchLayer(layer);\r\n        this.ol.removeLayer(layer.ol);\r\n        layer.setMap(undefined);\r\n    };\r\n    /**\r\n     * Update the layers observable\r\n     * @param layers Layers\r\n     */\r\n    /**\r\n     * Update the layers observable\r\n     * @private\r\n     * @param {?} layers Layers\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.setLayers = /**\r\n     * Update the layers observable\r\n     * @private\r\n     * @param {?} layers Layers\r\n     * @return {?}\r\n     */\r\n    function (layers) {\r\n        this.layers$.next(this.sortLayersByZIndex(layers).slice(0));\r\n    };\r\n    /**\r\n     * Sort layers by descending zIndex\r\n     * @param layers Array of layers\r\n     * @returns The original array, sorted by zIndex\r\n     */\r\n    /**\r\n     * Sort layers by descending zIndex\r\n     * @private\r\n     * @param {?} layers Array of layers\r\n     * @return {?} The original array, sorted by zIndex\r\n     */\r\n    IgoMap.prototype.sortLayersByZIndex = /**\r\n     * Sort layers by descending zIndex\r\n     * @private\r\n     * @param {?} layers Array of layers\r\n     * @return {?} The original array, sorted by zIndex\r\n     */\r\n    function (layers) {\r\n        // Sort by descending zIndex\r\n        return layers.sort((/**\r\n         * @param {?} layer1\r\n         * @param {?} layer2\r\n         * @return {?}\r\n         */\r\n        function (layer1, layer2) { return layer2.zIndex - layer1.zIndex; }));\r\n    };\r\n    /**\r\n     * Get layer index in the map's inenr array of layers\r\n     * @param layer Layer\r\n     * @returns The layer index\r\n     */\r\n    /**\r\n     * Get layer index in the map's inenr array of layers\r\n     * @private\r\n     * @param {?} layer Layer\r\n     * @return {?} The layer index\r\n     */\r\n    IgoMap.prototype.getLayerIndex = /**\r\n     * Get layer index in the map's inenr array of layers\r\n     * @private\r\n     * @param {?} layer Layer\r\n     * @return {?} The layer index\r\n     */\r\n    function (layer) {\r\n        return this.layers.findIndex((/**\r\n         * @param {?} _layer\r\n         * @return {?}\r\n         */\r\n        function (_layer) { return _layer === layer; }));\r\n    };\r\n    // TODO: Create a GeolocationController with everything below\r\n    // TODO: Create a GeolocationController with everything below\r\n    /**\r\n     * @param {?=} track\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.geolocate = \r\n    // TODO: Create a GeolocationController with everything below\r\n    /**\r\n     * @param {?=} track\r\n     * @return {?}\r\n     */\r\n    function (track) {\r\n        var _this = this;\r\n        if (track === void 0) { track = false; }\r\n        /** @type {?} */\r\n        var first = true;\r\n        if (this.geolocation$$) {\r\n            track = this.geolocation.getTracking();\r\n            this.unsubscribeGeolocate();\r\n        }\r\n        this.startGeolocation();\r\n        this.geolocation$$ = this.geolocation$.subscribe((/**\r\n         * @param {?} geolocation\r\n         * @return {?}\r\n         */\r\n        function (geolocation) {\r\n            if (!geolocation) {\r\n                return;\r\n            }\r\n            /** @type {?} */\r\n            var accuracy = geolocation.getAccuracy();\r\n            if (accuracy < 10000) {\r\n                /** @type {?} */\r\n                var geometry = geolocation.getAccuracyGeometry();\r\n                /** @type {?} */\r\n                var extent = geometry.getExtent();\r\n                if (_this.geolocationFeature &&\r\n                    _this.overlay.dataSource.ol.getFeatureById(_this.geolocationFeature.getId())) {\r\n                    _this.overlay.dataSource.ol.removeFeature(_this.geolocationFeature);\r\n                }\r\n                _this.geolocationFeature = new OlFeature({ geometry: geometry });\r\n                _this.geolocationFeature.setId('geolocationFeature');\r\n                _this.overlay.addFeature(_this.geolocationFeature);\r\n                if (first) {\r\n                    _this.viewController.zoomToExtent(extent);\r\n                }\r\n            }\r\n            else if (first) {\r\n                /** @type {?} */\r\n                var view = _this.ol.getView();\r\n                /** @type {?} */\r\n                var coordinates = geolocation.getPosition();\r\n                view.setCenter(coordinates);\r\n                view.setZoom(14);\r\n            }\r\n            if (track) {\r\n                _this.unsubscribeGeolocate();\r\n            }\r\n            first = false;\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.unsubscribeGeolocate = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.stopGeolocation();\r\n        if (this.geolocation$$) {\r\n            this.geolocation$$.unsubscribe();\r\n            this.geolocation$$ = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.startGeolocation = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (!this.geolocation) {\r\n            this.geolocation = new olGeolocation({\r\n                projection: this.projection,\r\n                tracking: true\r\n            });\r\n            this.geolocation.on('change', (/**\r\n             * @param {?} evt\r\n             * @return {?}\r\n             */\r\n            function (evt) {\r\n                _this.geolocation$.next(_this.geolocation);\r\n            }));\r\n        }\r\n        else {\r\n            this.geolocation.setTracking(true);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    IgoMap.prototype.stopGeolocation = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.geolocation) {\r\n            this.geolocation.setTracking(false);\r\n        }\r\n    };\r\n    return IgoMap;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MapBrowserComponent = /** @class */ (function () {\r\n    function MapBrowserComponent(activityService) {\r\n        this.activityService = activityService;\r\n        this.id = \"igo-map-target-\" + new Date().getTime();\r\n    }\r\n    Object.defineProperty(MapBrowserComponent.prototype, \"view\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this._view; },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._view = value;\r\n            if (this.map !== undefined) {\r\n                this.map.updateView(value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MapBrowserComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.status$$ = this.map.status$.subscribe((/**\r\n         * @param {?} status\r\n         * @return {?}\r\n         */\r\n        function (status) {\r\n            return _this.handleStatusChange(status);\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MapBrowserComponent.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.map.setTarget(this.id);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MapBrowserComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.map.setTarget(undefined);\r\n        this.activityService.unregister(this.activityId);\r\n        this.status$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} status\r\n     * @return {?}\r\n     */\r\n    MapBrowserComponent.prototype.handleStatusChange = /**\r\n     * @private\r\n     * @param {?} status\r\n     * @return {?}\r\n     */\r\n    function (status) {\r\n        if (status === SubjectStatus.Working && this.activityId === undefined) {\r\n            this.activityId = this.activityService.register();\r\n        }\r\n        else if (status === SubjectStatus.Done && this.activityId !== undefined) {\r\n            this.activityService.unregister(this.activityId);\r\n            this.activityId = undefined;\r\n        }\r\n    };\r\n    MapBrowserComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-map-browser',\r\n                    template: \"<div [id]=\\\"id\\\" class=\\\"igo-map-browser-target\\\"></div>\\r\\n<ng-content></ng-content>\\r\\n\",\r\n                    styles: [\":host{position:relative;display:block}.igo-map-browser-target,:host{width:100%;height:100%}:host>>>igo-zoom-button{position:absolute;bottom:5px;right:5px}:host>>>igo-geolocate-button{position:absolute;bottom:95px;right:5px}:host>>>igo-rotation-button{position:absolute;top:calc(40px + 5px + 5px);right:5px}:host>>>igo-user-button{position:absolute;bottom:5px;right:calc(5px + 50px)}:host>>>igo-baselayers-switcher{position:absolute;bottom:5px;left:5px}:host.igo-attribution-offset>>>.ol-attribution{left:90px;width:calc(100% - 200px)}@media only screen and (max-width:450px),only screen and (max-height:450px){:host>>>igo-zoom-button{display:none}:host>>>igo-geolocate-button{bottom:5px}:host>>>igo-rotation-button{top:calc(40px + 5px + 5px)}:host>>>igo-user-button{right:calc(5px + 90px)}:host.igo-attribution-offset>>>.ol-attribution{left:50px}}:host>>>.ol-attribution{left:5px;bottom:5px;text-align:left;padding:0;margin-right:90px;background-color:rgba(255,255,255,0);width:calc(100% - 100px)}:host>>>.ol-attribution.ol-logo-only{height:inherit}:host>>>.ol-attribution.ol-collapsed{background:0 0}:host>>>.ol-attribution.ol-collapsed button{-webkit-transform:none;transform:none}:host>>>.ol-attribution button{-webkit-transform:rotate(180deg);transform:rotate(180deg);background-color:#fff;cursor:pointer}:host>>>.ol-scale-line-inner{color:#000;border-color:#000}:host>>>.ol-scale-line{background-color:rgba(255,255,255,0);bottom:4px;-webkit-transform:translate(-50%);transform:translate(-50%);left:50%}:host>>>canvas{display:block}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    MapBrowserComponent.ctorParameters = function () { return [\r\n        { type: ActivityService }\r\n    ]; };\r\n    MapBrowserComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        view: [{ type: Input }]\r\n    };\r\n    return MapBrowserComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MapOfflineDirective = /** @class */ (function () {\r\n    function MapOfflineDirective(component, networkService) {\r\n        this.networkService = networkService;\r\n        this.component = component;\r\n    }\r\n    Object.defineProperty(MapOfflineDirective.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.component.map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MapOfflineDirective.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.networkService.currentState().subscribe((/**\r\n         * @param {?} state\r\n         * @return {?}\r\n         */\r\n        function (state$$1) {\r\n            console.log(state$$1);\r\n            _this.state = state$$1;\r\n            _this.changeLayer();\r\n        }));\r\n        this.map.layers$.subscribe((/**\r\n         * @param {?} layers\r\n         * @return {?}\r\n         */\r\n        function (layers) {\r\n            _this.changeLayer();\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MapOfflineDirective.prototype.changeLayer = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var sourceOptions;\r\n        /** @type {?} */\r\n        var layerList = this.map.layers$.value;\r\n        layerList.forEach((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) {\r\n            if (layer.options.sourceOptions.type === 'mvt') {\r\n                sourceOptions = ((/** @type {?} */ (layer.options.sourceOptions)));\r\n                layer.ol.getSource().clear();\r\n            }\r\n            else if (layer.options.sourceOptions.type === 'xyz') {\r\n                sourceOptions = ((/** @type {?} */ (layer.options.sourceOptions)));\r\n            }\r\n            else if (layer.options.sourceOptions.type === 'vector') {\r\n                sourceOptions = ((/** @type {?} */ (layer.options.sourceOptions)));\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            if (sourceOptions.pathOffline &&\r\n                _this.state.connection === false) {\r\n                if (sourceOptions.excludeAttributeOffline) {\r\n                    sourceOptions.excludeAttributeBackUp = sourceOptions.excludeAttribute;\r\n                    sourceOptions.excludeAttribute = sourceOptions.excludeAttributeOffline;\r\n                }\r\n                layer.ol.getSource().setUrl(sourceOptions.pathOffline);\r\n            }\r\n            else if (sourceOptions.pathOffline &&\r\n                _this.state.connection === true) {\r\n                if (sourceOptions.excludeAttributeBackUp) {\r\n                    sourceOptions.excludeAttribute = sourceOptions.excludeAttributeBackUp;\r\n                }\r\n                layer.ol.getSource().setUrl(sourceOptions.url);\r\n            }\r\n        }));\r\n    };\r\n    MapOfflineDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoMapOffline]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    MapOfflineDirective.ctorParameters = function () { return [\r\n        { type: MapBrowserComponent },\r\n        { type: NetworkService }\r\n    ]; };\r\n    return MapOfflineDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * When injected, this service automatically registers and\r\n * projection defined in the application config. A custom projection\r\n * needs to be registered to be usable by OL.\r\n */\r\nvar ProjectionService = /** @class */ (function () {\r\n    function ProjectionService(config) {\r\n        var _this = this;\r\n        this.config = config;\r\n        /** @type {?} */\r\n        var projections = this.config.getConfig('projections') || [];\r\n        projections.forEach((/**\r\n         * @param {?} projection\r\n         * @return {?}\r\n         */\r\n        function (projection) {\r\n            _this.registerProjection(projection);\r\n        }));\r\n    }\r\n    /**\r\n     * Define a proj4 projection and register it in OL\r\n     * @param projection Projection\r\n     */\r\n    /**\r\n     * Define a proj4 projection and register it in OL\r\n     * @param {?} projection Projection\r\n     * @return {?}\r\n     */\r\n    ProjectionService.prototype.registerProjection = /**\r\n     * Define a proj4 projection and register it in OL\r\n     * @param {?} projection Projection\r\n     * @return {?}\r\n     */\r\n    function (projection) {\r\n        proj4.defs(projection.code, projection.def);\r\n        register(proj4);\r\n        get(projection.code).setExtent(projection.extent);\r\n    };\r\n    ProjectionService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ProjectionService.ctorParameters = function () { return [\r\n        { type: ConfigService }\r\n    ]; };\r\n    /** @nocollapse */ ProjectionService.ngInjectableDef = defineInjectable({ factory: function ProjectionService_Factory() { return new ProjectionService(inject(ConfigService)); }, token: ProjectionService, providedIn: \"root\" });\r\n    return ProjectionService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ZoomButtonComponent = /** @class */ (function () {\r\n    function ZoomButtonComponent() {\r\n    }\r\n    Object.defineProperty(ZoomButtonComponent.prototype, \"zoom\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.map.viewController.getZoom(); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ZoomButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-zoom-button',\r\n                    template: \"<div class=\\\"igo-zoom-button-container\\\">\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    [matTooltip]=\\\"'igo.geo.mapButtons.zoomIn' | translate: {zoom: zoom + 1}\\\"\\r\\n    matTooltipPosition=\\\"left\\\"\\r\\n    [color]=\\\"color\\\"\\r\\n    (click)=\\\"map.viewController.zoomIn()\\\">\\r\\n    <mat-icon svgIcon=\\\"plus\\\"></mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    [matTooltip]=\\\"'igo.geo.mapButtons.zoomOut' | translate: {zoom: zoom - 1}\\\"\\r\\n    matTooltipPosition=\\\"left\\\"\\r\\n    [color]=\\\"color\\\"\\r\\n    (click)=\\\"map.viewController.zoomOut()\\\">\\r\\n    <mat-icon svgIcon=\\\"minus\\\"></mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\",\r\n                    styles: [\".igo-zoom-button-container{width:40px}.igo-zoom-button-container button{background-color:#fff}.igo-zoom-button-container button:hover{background-color:#efefef}.igo-zoom-button-container button:first-child{margin-bottom:2px}:host>>>button .mat-button-ripple-round,button{border-radius:0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ZoomButtonComponent.ctorParameters = function () { return []; };\r\n    ZoomButtonComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        color: [{ type: Input }]\r\n    };\r\n    return ZoomButtonComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar GeolocateButtonComponent = /** @class */ (function () {\r\n    function GeolocateButtonComponent() {\r\n    }\r\n    Object.defineProperty(GeolocateButtonComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GeolocateButtonComponent.prototype, \"color\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._color;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._color = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GeolocateButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-geolocate-button',\r\n                    template: \"<div class=\\\"igo-geolocate-button-container\\\">\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    [matTooltip]=\\\"'igo.geo.mapButtons.geolocate' | translate\\\"\\r\\n    matTooltipPosition=\\\"left\\\"\\r\\n    [color]=\\\"color\\\"\\r\\n    (click)=\\\"map.geolocate()\\\">\\r\\n    <mat-icon svgIcon=\\\"crosshairs-gps\\\"></mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\",\r\n                    styles: [\".igo-geolocate-button-container{width:40px;background-color:#fff}.igo-geolocate-button-container:hover{background-color:#efefef}:host>>>button .mat-button-ripple-round,button{border-radius:0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    GeolocateButtonComponent.ctorParameters = function () { return []; };\r\n    GeolocateButtonComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        color: [{ type: Input }]\r\n    };\r\n    return GeolocateButtonComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @return {?}\r\n */\r\nfunction baseLayersSwitcherSlideInOut() {\r\n    return trigger('baseLayerSwitcherState', [\r\n        state('collapseIcon', style({\r\n            height: '40px',\r\n            width: '40px',\r\n            overflow: 'hidden'\r\n        })),\r\n        state('collapseMap', style({\r\n            height: '85px',\r\n            overflow: 'hidden'\r\n        })),\r\n        state('expand', style({\r\n            overflow: 'hidden'\r\n        })),\r\n        transition('collapse => expand', animate('200ms')),\r\n        transition('expand => collapse', animate('200ms'))\r\n    ]);\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar BaseLayersSwitcherComponent = /** @class */ (function () {\r\n    function BaseLayersSwitcherComponent(mediaService) {\r\n        this.mediaService = mediaService;\r\n        this._baseLayers = [];\r\n        this.expand = false;\r\n        this.showButton = true;\r\n        /** @type {?} */\r\n        var media = this.mediaService.media$.value;\r\n        if (media === Media.Mobile && this.useStaticIcon === undefined) {\r\n            this.useStaticIcon = true;\r\n        }\r\n    }\r\n    Object.defineProperty(BaseLayersSwitcherComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseLayersSwitcherComponent.prototype, \"useStaticIcon\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._useStaticIcon;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._useStaticIcon = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    BaseLayersSwitcherComponent.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.layers$$ = this.map.layers$.subscribe((/**\r\n         * @param {?} arrayLayers\r\n         * @return {?}\r\n         */\r\n        function (arrayLayers) {\r\n            _this._baseLayers = arrayLayers.filter((/**\r\n             * @param {?} l\r\n             * @return {?}\r\n             */\r\n            function (l) { return l.baseLayer; }));\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    BaseLayersSwitcherComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.layers$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    BaseLayersSwitcherComponent.prototype.collapseOrExpand = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.baseLayers.length > 1 || this.useStaticIcon) {\r\n            this.expand = !this.expand;\r\n        }\r\n        else {\r\n            this.expand = false;\r\n        }\r\n    };\r\n    Object.defineProperty(BaseLayersSwitcherComponent.prototype, \"baseLayers\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var mapResolution = this.map.viewController.getResolution();\r\n            /** @type {?} */\r\n            var bl = this._baseLayers.filter((/**\r\n             * @param {?} l\r\n             * @return {?}\r\n             */\r\n            function (l) {\r\n                return ((!l.options.maxResolution ||\r\n                    mapResolution <= l.options.maxResolution) &&\r\n                    (!l.options.minResolution || mapResolution >= l.options.minResolution));\r\n            }));\r\n            /** @type {?} */\r\n            var blHidden = bl.filter((/**\r\n             * @param {?} l\r\n             * @return {?}\r\n             */\r\n            function (l) { return !l.visible; }));\r\n            return blHidden.length + 1 === bl.length ? blHidden : bl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseLayersSwitcherComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-baselayers-switcher',\r\n                    template: \"<div *ngIf=\\\"baseLayers.length > 0\\\"\\r\\n     class=\\\"igo-baselayers-switcher-container\\\"\\r\\n     [ngClass]=\\\"{'container-expand': expand}\\\"\\r\\n     [@baseLayerSwitcherState]=\\\"expand ? 'expand' : useStaticIcon ? 'collapseIcon' : 'collapseMap'\\\"\\r\\n     (@baseLayerSwitcherState.start)=\\\"showButton=false\\\"\\r\\n     (@baseLayerSwitcherState.done)=\\\"showButton=true\\\"\\r\\n     (click)=\\\"collapseOrExpand()\\\">\\r\\n\\r\\n     <div *ngIf=\\\"useStaticIcon && !expand && showButton\\\" class=\\\"igo-baselayers-switcher-button-container\\\">\\r\\n       <button\\r\\n         mat-icon-button\\r\\n         [matTooltip]=\\\"'igo.geo.mapButtons.baselayerSwitcher' | translate\\\"\\r\\n         matTooltipPosition=\\\"right\\\"\\r\\n         color=\\\"primary\\\">\\r\\n         <mat-icon svgIcon=\\\"photo-library\\\"></mat-icon>\\r\\n       </button>\\r\\n     </div>\\r\\n\\r\\n     <igo-mini-basemap *ngFor=\\\"let baseLayer of baseLayers; let i = index\\\"\\r\\n       [map]=\\\"map\\\"\\r\\n       [baseLayer]=\\\"baseLayer\\\"\\r\\n       [display]=\\\"expand || (i === 0 && !useStaticIcon)\\\"\\r\\n       [disabled]=\\\"!expand && baseLayers.length > 1\\\">\\r\\n     </igo-mini-basemap>\\r\\n\\r\\n    <div class=\\\"more-baselayers\\\">\\r\\n      <mat-icon class=\\\"material-icons mat-icon mat-list-avatar\\\" color=\\\"primary\\\" svgIcon=\\\"menu-down\\\"></mat-icon>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\",\r\n                    animations: [baseLayersSwitcherSlideInOut()],\r\n                    styles: [\".igo-baselayers-switcher-container{height:auto;position:relative}.container-expand{overflow:hidden;border-width:0}.more-baselayers{width:80px;height:20px;background-color:#fff;text-align:center;cursor:pointer}.more-baselayers:hover{background-color:#efefef}.igo-baselayers-switcher-button-container{width:40px;background-color:#fff}.igo-baselayers-switcher-button-container:hover{background-color:#efefef}:host>>>button .mat-button-ripple-round,button{border-radius:0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    BaseLayersSwitcherComponent.ctorParameters = function () { return [\r\n        { type: MediaService }\r\n    ]; };\r\n    BaseLayersSwitcherComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        useStaticIcon: [{ type: Input }]\r\n    };\r\n    return BaseLayersSwitcherComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MiniBaseMapComponent = /** @class */ (function () {\r\n    function MiniBaseMapComponent(layerService) {\r\n        this.layerService = layerService;\r\n        this.basemap = new IgoMap({\r\n            controls: {},\r\n            interactions: false\r\n        });\r\n    }\r\n    Object.defineProperty(MiniBaseMapComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n            this.handleMoveEnd();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MiniBaseMapComponent.prototype, \"baseLayer\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._baseLayer;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._baseLayer = value;\r\n            this.handleBaseLayerChanged(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MiniBaseMapComponent.prototype, \"disabled\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._disabled;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._disabled = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MiniBaseMapComponent.prototype, \"display\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._display;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._display = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MiniBaseMapComponent.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.map.ol.on('moveend', (/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.handleMoveEnd(); }));\r\n        this.handleMoveEnd();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MiniBaseMapComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.map.ol.un('moveend', (/**\r\n         * @return {?}\r\n         */\r\n        function () { return _this.handleMoveEnd(); }));\r\n    };\r\n    /**\r\n     * @param {?} baseLayer\r\n     * @return {?}\r\n     */\r\n    MiniBaseMapComponent.prototype.changeBaseLayer = /**\r\n     * @param {?} baseLayer\r\n     * @return {?}\r\n     */\r\n    function (baseLayer) {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        this.map.changeBaseLayer(baseLayer);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MiniBaseMapComponent.prototype.handleMoveEnd = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.basemap.ol.setView(this.map.ol.getView());\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} baselayer\r\n     * @return {?}\r\n     */\r\n    MiniBaseMapComponent.prototype.handleBaseLayerChanged = /**\r\n     * @private\r\n     * @param {?} baselayer\r\n     * @return {?}\r\n     */\r\n    function (baselayer) {\r\n        this.basemap.removeAllLayers();\r\n        /** @type {?} */\r\n        var options = Object.assign(Object.create(baselayer.options), baselayer.options);\r\n        options.visible = true;\r\n        /** @type {?} */\r\n        var layer = this.layerService.createLayer(options);\r\n        this.basemap.addLayer(layer);\r\n    };\r\n    MiniBaseMapComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-mini-basemap',\r\n                    template: \"<div class=\\\"igo-mini-basemap-container\\\">\\r\\n\\r\\n  <div *ngIf=\\\"display\\\" (click)=\\\"changeBaseLayer(baseLayer)\\\">\\r\\n    <igo-map-browser [map]=\\\"basemap\\\"></igo-map-browser>\\r\\n    <div class='igo-mini-basemap-title'>{{baseLayer.title}}</div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\",\r\n                    styles: [\".igo-mini-basemap-container{width:calc(40px * 2);height:calc(40px * 2);background-color:rgba(255,255,255,.01);border:2px solid #fff;box-shadow:0 1px 4px rgba(0,0,0,.3);cursor:pointer;margin-top:5px}.igo-mini-basemap-container:hover .igo-mini-basemap-title{color:#000;text-shadow:0 0 5px #fff}.igo-mini-basemap-container>div{width:100%;height:100%}.igo-mini-basemap-title{position:relative;top:-76px;height:76px;width:76px;text-align:center;vertical-align:bottom;color:#fff;text-shadow:0 0 5px #000;white-space:normal;display:flex;align-items:flex-end;justify-content:center}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    MiniBaseMapComponent.ctorParameters = function () { return [\r\n        { type: LayerService }\r\n    ]; };\r\n    MiniBaseMapComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        baseLayer: [{ type: Input }],\r\n        disabled: [{ type: Input }],\r\n        display: [{ type: Input }]\r\n    };\r\n    return MiniBaseMapComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar RotationButtonComponent = /** @class */ (function () {\r\n    function RotationButtonComponent() {\r\n    }\r\n    Object.defineProperty(RotationButtonComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RotationButtonComponent.prototype, \"showIfNoRotation\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._showIfNoRotation;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._showIfNoRotation = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RotationButtonComponent.prototype, \"color\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._color;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._color = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RotationButtonComponent.prototype, \"rotated\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.map.viewController.getRotation() !== 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} radians\r\n     * @return {?}\r\n     */\r\n    RotationButtonComponent.prototype.rotationStyle = /**\r\n     * @param {?} radians\r\n     * @return {?}\r\n     */\r\n    function (radians) {\r\n        /** @type {?} */\r\n        var rotation = 'rotate(' + radians + 'rad)';\r\n        return {\r\n            transform: rotation\r\n        };\r\n    };\r\n    RotationButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-rotation-button',\r\n                    template: \"<div *ngIf=\\\"rotated && !showIfNoRotation\\\" class=\\\"igo-rotation-button-container\\\"\\r\\n  [matTooltip]=\\\"rotated ? ('igo.geo.mapButtons.resetRotation' | translate): ('igo.geo.mapButtons.tipRotation' | translate)\\\"\\r\\n  matTooltipPosition=\\\"left\\\">\\r\\n  <button mat-icon-button matTooltipPosition=\\\"left\\\" [color]=\\\"color\\\" [disabled]=\\\"!rotated\\\"\\r\\n    (click)=\\\"map.viewController.resetRotation()\\\">\\r\\n    <mat-icon [ngStyle]=\\\"rotationStyle(map.viewController.getRotation())\\\" svgIcon=\\\"navigation\\\">\\r\\n    </mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"showIfNoRotation\\\" class=\\\"igo-rotation-button-container\\\"\\r\\n  [matTooltip]=\\\"rotated ? ('igo.geo.mapButtons.resetRotation' | translate): ('igo.geo.mapButtons.tipRotation' | translate)\\\"\\r\\n  matTooltipPosition=\\\"left\\\">\\r\\n  <button mat-icon-button matTooltipPosition=\\\"left\\\" [color]=\\\"color\\\" [disabled]=\\\"!rotated\\\"\\r\\n    (click)=\\\"map.viewController.resetRotation()\\\">\\r\\n    <mat-icon [ngStyle]=\\\"rotationStyle(map.viewController.getRotation())\\\" svgIcon=\\\"navigation\\\">\\r\\n    </mat-icon>\\r\\n  </button>\\r\\n</div>\",\r\n                    styles: [\".igo-rotation-button-container{width:40px;background-color:#fff}.igo-rotation-button-container:hover{background-color:#efefef}:host>>>button .mat-button-ripple-round,button{border-radius:0}@media only screen and (max-width:450px),only screen and (max-height:450px){:host>>>button .mat-button-ripple-round:disabled,button:disabled{display:none}}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    RotationButtonComponent.ctorParameters = function () { return []; };\r\n    RotationButtonComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        showIfNoRotation: [{ type: Input }],\r\n        color: [{ type: Input }]\r\n    };\r\n    return RotationButtonComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar EsriStyleGenerator = /** @class */ (function () {\r\n    function EsriStyleGenerator() {\r\n        this._converters = {};\r\n        this._converters.esriPMS = EsriStyleGenerator._convertEsriPMS;\r\n        this._converters.esriSFS = EsriStyleGenerator._convertEsriSFS;\r\n        this._converters.esriSLS = EsriStyleGenerator._convertEsriSLS;\r\n        this._converters.esriSMS = EsriStyleGenerator._convertEsriSMS;\r\n        this._converters.esriTS = EsriStyleGenerator._convertEsriTS;\r\n        this._renderers = {};\r\n        this._renderers.uniqueValue = this._renderUniqueValue;\r\n        this._renderers.simple = this._renderSimple;\r\n        this._renderers.classBreaks = this._renderClassBreaks;\r\n    }\r\n    /**\r\n     * @param {?} point\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator._convertPointToPixel = /**\r\n     * @param {?} point\r\n     * @return {?}\r\n     */\r\n    function (point) {\r\n        return point / 0.75;\r\n    };\r\n    /**\r\n     * @param {?} color\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator._transformColor = /**\r\n     * @param {?} color\r\n     * @return {?}\r\n     */\r\n    function (color) {\r\n        // alpha channel is different, runs from 0-255 but in ol3 from 0-1\r\n        return [color[0], color[1], color[2], color[3] / 255];\r\n    };\r\n    /**\r\n     * @param {?} scale\r\n     * @param {?} units\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator._getResolutionForScale = /**\r\n     * @param {?} scale\r\n     * @param {?} units\r\n     * @return {?}\r\n     */\r\n    function (scale, units) {\r\n        /** @type {?} */\r\n        var dpi = 25.4 / 0.28;\r\n        /** @type {?} */\r\n        var mpu = METERS_PER_UNIT[units];\r\n        /** @type {?} */\r\n        var inchesPerMeter = 39.37;\r\n        return parseFloat(scale) / (mpu * inchesPerMeter * dpi);\r\n    };\r\n    /* convert an Esri Text Symbol */\r\n    /* convert an Esri Text Symbol */\r\n    /**\r\n     * @param {?} symbol\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator._convertEsriTS = /* convert an Esri Text Symbol */\r\n    /**\r\n     * @param {?} symbol\r\n     * @return {?}\r\n     */\r\n    function (symbol) {\r\n        /** @type {?} */\r\n        var rotation = EsriStyleGenerator._transformAngle(symbol.angle);\r\n        /** @type {?} */\r\n        var text = symbol.text !== undefined ? symbol.text : undefined;\r\n        return new Style({\r\n            text: new Text({\r\n                fill: new Fill({\r\n                    color: EsriStyleGenerator._transformColor(symbol.color)\r\n                }),\r\n                font: symbol.font.style +\r\n                    ' ' +\r\n                    symbol.font.weight +\r\n                    ' ' +\r\n                    symbol.font.size +\r\n                    ' px ' +\r\n                    symbol.font.family,\r\n                textBaseline: symbol.verticalAlignment,\r\n                textAlign: symbol.horizontalAlignment,\r\n                offsetX: EsriStyleGenerator._convertPointToPixel(symbol.xoffset),\r\n                offsetY: EsriStyleGenerator._convertPointToPixel(symbol.yoffset),\r\n                rotation: rotation,\r\n                text: text\r\n            })\r\n        });\r\n    };\r\n    /* convert an Esri Picture Marker Symbol */\r\n    /* convert an Esri Picture Marker Symbol */\r\n    /**\r\n     * @param {?} symbol\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator._convertEsriPMS = /* convert an Esri Picture Marker Symbol */\r\n    /**\r\n     * @param {?} symbol\r\n     * @return {?}\r\n     */\r\n    function (symbol) {\r\n        /** @type {?} */\r\n        var src = 'data:' + symbol.contentType + ';base64, ' + symbol.imageData;\r\n        /** @type {?} */\r\n        var rotation = EsriStyleGenerator._transformAngle(symbol.angle);\r\n        return new Style({\r\n            image: new Icon({\r\n                src: src,\r\n                rotation: rotation\r\n            })\r\n        });\r\n    };\r\n    /* convert an Esri Simple Fill Symbol */\r\n    /* convert an Esri Simple Fill Symbol */\r\n    /**\r\n     * @param {?} symbol\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator._convertEsriSFS = /* convert an Esri Simple Fill Symbol */\r\n    /**\r\n     * @param {?} symbol\r\n     * @return {?}\r\n     */\r\n    function (symbol) {\r\n        // there is no support in openlayers currently for fill patterns, so style is not interpreted\r\n        /** @type {?} */\r\n        var fill = new Fill({\r\n            color: EsriStyleGenerator._transformColor(symbol.color)\r\n        });\r\n        /** @type {?} */\r\n        var stroke = symbol.outline\r\n            ? EsriStyleGenerator._convertOutline(symbol.outline)\r\n            : undefined;\r\n        return new Style({\r\n            fill: fill,\r\n            stroke: stroke\r\n        });\r\n    };\r\n    /**\r\n     * @param {?} outline\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator._convertOutline = /**\r\n     * @param {?} outline\r\n     * @return {?}\r\n     */\r\n    function (outline) {\r\n        /** @type {?} */\r\n        var lineDash;\r\n        /** @type {?} */\r\n        var color = EsriStyleGenerator._transformColor(outline.color);\r\n        if (outline.style === 'esriSLSDash') {\r\n            lineDash = [5];\r\n        }\r\n        else if (outline.style === 'esriSLSDashDot') {\r\n            lineDash = [5, 5, 1, 2];\r\n        }\r\n        else if (outline.style === 'esriSLSDashDotDot') {\r\n            lineDash = [5, 5, 1, 2, 1, 2];\r\n        }\r\n        else if (outline.style === 'esriSLSDot') {\r\n            lineDash = [1, 2];\r\n        }\r\n        else if (outline.style === 'esriSLSNull') {\r\n            // line not visible, make color fully transparent\r\n            color[3] = 0;\r\n        }\r\n        return new Stroke({\r\n            color: color,\r\n            lineDash: lineDash,\r\n            width: EsriStyleGenerator._convertPointToPixel(outline.width)\r\n        });\r\n    };\r\n    /* convert an Esri Simple Line Symbol */\r\n    /* convert an Esri Simple Line Symbol */\r\n    /**\r\n     * @param {?} symbol\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator._convertEsriSLS = /* convert an Esri Simple Line Symbol */\r\n    /**\r\n     * @param {?} symbol\r\n     * @return {?}\r\n     */\r\n    function (symbol) {\r\n        return new Style({\r\n            stroke: EsriStyleGenerator._convertOutline(symbol)\r\n        });\r\n    };\r\n    /**\r\n     * @param {?} angle\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator._transformAngle = /**\r\n     * @param {?} angle\r\n     * @return {?}\r\n     */\r\n    function (angle) {\r\n        if (angle === 0 || angle === undefined) {\r\n            return undefined;\r\n        }\r\n        /** @type {?} */\r\n        var normalRad = (angle * Math.PI) / 180;\r\n        /** @type {?} */\r\n        var ol3Rad = -normalRad + Math.PI / 2;\r\n        if (ol3Rad < 0) {\r\n            return 2 * Math.PI + ol3Rad;\r\n        }\r\n        else {\r\n            return ol3Rad;\r\n        }\r\n    };\r\n    /* convert an Esri Simple Marker Symbol */\r\n    /* convert an Esri Simple Marker Symbol */\r\n    /**\r\n     * @param {?} symbol\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator._convertEsriSMS = /* convert an Esri Simple Marker Symbol */\r\n    /**\r\n     * @param {?} symbol\r\n     * @return {?}\r\n     */\r\n    function (symbol) {\r\n        /** @type {?} */\r\n        var fill = new Fill({\r\n            color: EsriStyleGenerator._transformColor(symbol.color)\r\n        });\r\n        /** @type {?} */\r\n        var stroke = symbol.outline\r\n            ? EsriStyleGenerator._convertOutline(symbol.outline)\r\n            : undefined;\r\n        /** @type {?} */\r\n        var radius = EsriStyleGenerator._convertPointToPixel(symbol.size) / 2;\r\n        /** @type {?} */\r\n        var rotation = EsriStyleGenerator._transformAngle(symbol.angle);\r\n        if (symbol.style === 'esriSMSCircle') {\r\n            return new Style({\r\n                image: new Circle({\r\n                    radius: radius,\r\n                    fill: fill,\r\n                    stroke: stroke\r\n                })\r\n            });\r\n        }\r\n        else if (symbol.style === 'esriSMSCross') {\r\n            return new Style({\r\n                image: new RegularShape({\r\n                    fill: fill,\r\n                    stroke: stroke,\r\n                    points: 4,\r\n                    radius: radius,\r\n                    radius2: 0,\r\n                    angle: 0,\r\n                    rotation: rotation\r\n                })\r\n            });\r\n        }\r\n        else if (symbol.style === 'esriSMSDiamond') {\r\n            return new Style({\r\n                image: new RegularShape({\r\n                    fill: fill,\r\n                    stroke: stroke,\r\n                    points: 4,\r\n                    radius: radius,\r\n                    rotation: rotation\r\n                })\r\n            });\r\n        }\r\n        else if (symbol.style === 'esriSMSSquare') {\r\n            return new Style({\r\n                image: new RegularShape({\r\n                    fill: fill,\r\n                    stroke: stroke,\r\n                    points: 4,\r\n                    radius: radius,\r\n                    angle: Math.PI / 4,\r\n                    rotation: rotation\r\n                })\r\n            });\r\n        }\r\n        else if (symbol.style === 'esriSMSX') {\r\n            return new Style({\r\n                image: new RegularShape({\r\n                    fill: fill,\r\n                    stroke: stroke,\r\n                    points: 4,\r\n                    radius: radius,\r\n                    radius2: 0,\r\n                    angle: Math.PI / 4,\r\n                    rotation: rotation\r\n                })\r\n            });\r\n        }\r\n        else if (symbol.style === 'esriSMSTriangle') {\r\n            return new Style({\r\n                image: new RegularShape({\r\n                    fill: fill,\r\n                    stroke: stroke,\r\n                    points: 3,\r\n                    radius: radius,\r\n                    angle: 0,\r\n                    rotation: rotation\r\n                })\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} labelingInfo\r\n     * @param {?} mapUnits\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator.prototype._convertLabelingInfo = /**\r\n     * @param {?} labelingInfo\r\n     * @param {?} mapUnits\r\n     * @return {?}\r\n     */\r\n    function (labelingInfo, mapUnits) {\r\n        /** @type {?} */\r\n        var styles = [];\r\n        for (var i = 0, ii = labelingInfo.length; i < ii; ++i) {\r\n            /** @type {?} */\r\n            var labelExpression = labelingInfo[i].labelExpression;\r\n            // only limited support for label expressions\r\n            /** @type {?} */\r\n            var field = labelExpression.substr(labelExpression.indexOf('[') + 1, labelExpression.indexOf(']') - 1);\r\n            /** @type {?} */\r\n            var symbol = labelingInfo[i].symbol;\r\n            /** @type {?} */\r\n            var maxScale = labelingInfo[i].maxScale;\r\n            /** @type {?} */\r\n            var minScale = labelingInfo[i].minScale;\r\n            /** @type {?} */\r\n            var minResolution = null;\r\n            if (maxScale !== 0) {\r\n                minResolution = EsriStyleGenerator._getResolutionForScale(maxScale, mapUnits);\r\n            }\r\n            /** @type {?} */\r\n            var maxResolution = null;\r\n            if (minScale !== 0) {\r\n                maxResolution = EsriStyleGenerator._getResolutionForScale(minScale, mapUnits);\r\n            }\r\n            /** @type {?} */\r\n            var style$$1 = this._converters[symbol.type].call(this, symbol);\r\n            styles.push(((/**\r\n             * @return {?}\r\n             */\r\n            function () {\r\n                return (/**\r\n                 * @param {?} feature\r\n                 * @param {?} resolution\r\n                 * @return {?}\r\n                 */\r\n                function (feature, resolution) {\r\n                    /** @type {?} */\r\n                    var visible = true;\r\n                    if (this.minResolution !== null && this.maxResolution !== null) {\r\n                        visible =\r\n                            resolution < this.maxResolution &&\r\n                                resolution >= this.minResolution;\r\n                    }\r\n                    else if (this.minResolution !== null) {\r\n                        visible = resolution >= this.minResolution;\r\n                    }\r\n                    else if (this.maxResolution !== null) {\r\n                        visible = resolution < this.maxResolution;\r\n                    }\r\n                    if (visible) {\r\n                        /** @type {?} */\r\n                        var value = feature.get(this.field);\r\n                        this.style.getText().setText(value);\r\n                        return [this.style];\r\n                    }\r\n                });\r\n            }))().bind({\r\n                minResolution: minResolution,\r\n                maxResolution: maxResolution,\r\n                field: field,\r\n                style: style$$1\r\n            }));\r\n        }\r\n        return styles;\r\n    };\r\n    /**\r\n     * @param {?} renderer\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator.prototype._renderSimple = /**\r\n     * @param {?} renderer\r\n     * @return {?}\r\n     */\r\n    function (renderer) {\r\n        /** @type {?} */\r\n        var style$$1 = this._converters[renderer.symbol.type].call(this, renderer.symbol);\r\n        return ((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/**\r\n             * @return {?}\r\n             */\r\n            function () {\r\n                return [style$$1];\r\n            });\r\n        }))();\r\n    };\r\n    /**\r\n     * @param {?} renderer\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator.prototype._renderClassBreaks = /**\r\n     * @param {?} renderer\r\n     * @return {?}\r\n     */\r\n    function (renderer) {\r\n        /** @type {?} */\r\n        var defaultSymbol = renderer.defaultSymbol;\r\n        /** @type {?} */\r\n        var defaultStyle = this._converters[defaultSymbol.type].call(this, defaultSymbol);\r\n        /** @type {?} */\r\n        var field = renderer.field;\r\n        /** @type {?} */\r\n        var classes = [];\r\n        for (var i = 0, ii = renderer.classBreakInfos.length; i < ii; ++i) {\r\n            /** @type {?} */\r\n            var classBreakInfo = renderer.classBreakInfos[i];\r\n            /** @type {?} */\r\n            var min = void 0;\r\n            if (classBreakInfo.classMinValue === null ||\r\n                classBreakInfo.classMinValue === undefined) {\r\n                if (i === 0) {\r\n                    min = renderer.minValue;\r\n                }\r\n                else {\r\n                    min = renderer.classBreakInfos[i - 1].classMaxValue;\r\n                }\r\n            }\r\n            else {\r\n                min = classBreakInfo.classMinValue;\r\n            }\r\n            /** @type {?} */\r\n            var max = classBreakInfo.classMaxValue;\r\n            /** @type {?} */\r\n            var symbol = classBreakInfo.symbol;\r\n            /** @type {?} */\r\n            var style$$1 = this._converters[symbol.type].call(this, symbol);\r\n            classes.push({ min: min, max: max, style: style$$1 });\r\n        }\r\n        return ((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/**\r\n             * @param {?} feature\r\n             * @return {?}\r\n             */\r\n            function (feature) {\r\n                /** @type {?} */\r\n                var value = feature.get(field);\r\n                for (var i = 0, ii = classes.length; i < ii; ++i) {\r\n                    /** @type {?} */\r\n                    var condition = void 0;\r\n                    if (i === 0) {\r\n                        condition = value >= classes[i].min && value <= classes[i].max;\r\n                    }\r\n                    else {\r\n                        condition = value > classes[i].min && value <= classes[i].max;\r\n                    }\r\n                    if (condition) {\r\n                        return [classes[i].style];\r\n                    }\r\n                }\r\n                return [defaultStyle];\r\n            });\r\n        }))();\r\n    };\r\n    /**\r\n     * @param {?} renderer\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator.prototype._renderUniqueValue = /**\r\n     * @param {?} renderer\r\n     * @return {?}\r\n     */\r\n    function (renderer) {\r\n        /** @type {?} */\r\n        var defaultSymbol = renderer.defaultSymbol;\r\n        /** @type {?} */\r\n        var defaultStyle = [];\r\n        if (defaultSymbol) {\r\n            defaultStyle = [\r\n                this._converters[defaultSymbol.type].call(this, defaultSymbol)\r\n            ];\r\n        }\r\n        /** @type {?} */\r\n        var field = renderer.field1;\r\n        /** @type {?} */\r\n        var infos = renderer.uniqueValueInfos;\r\n        /** @type {?} */\r\n        var me = this;\r\n        return ((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var hash = {};\r\n            for (var i = 0, ii = infos.length; i < ii; ++i) {\r\n                /** @type {?} */\r\n                var info = infos[i];\r\n                /** @type {?} */\r\n                var symbol = info.symbol;\r\n                hash[info.value] = [me._converters[symbol.type].call(me, symbol)];\r\n            }\r\n            return (/**\r\n             * @param {?} feature\r\n             * @return {?}\r\n             */\r\n            function (feature) {\r\n                /** @type {?} */\r\n                var style$$1 = hash[feature.get(field)];\r\n                return style$$1 ? style$$1 : defaultStyle;\r\n            });\r\n        }))();\r\n    };\r\n    /**\r\n     * @param {?} layerInfo\r\n     * @param {?} mapUnits\r\n     * @return {?}\r\n     */\r\n    EsriStyleGenerator.prototype.generateStyle = /**\r\n     * @param {?} layerInfo\r\n     * @param {?} mapUnits\r\n     * @return {?}\r\n     */\r\n    function (layerInfo, mapUnits) {\r\n        /** @type {?} */\r\n        var drawingInfo = layerInfo.drawingInfo;\r\n        /** @type {?} */\r\n        var styleFunctions = [];\r\n        /** @type {?} */\r\n        var drawingInfoStyle = this._renderers[drawingInfo.renderer.type].call(this, drawingInfo.renderer);\r\n        if (drawingInfoStyle !== undefined) {\r\n            styleFunctions.push(drawingInfoStyle);\r\n        }\r\n        if (layerInfo.labelingInfo) {\r\n            /** @type {?} */\r\n            var labelingInfoStyleFunctions = this._convertLabelingInfo(layerInfo.labelingInfo, mapUnits);\r\n            styleFunctions = styleFunctions.concat(labelingInfoStyleFunctions);\r\n        }\r\n        if (styleFunctions.length === 1) {\r\n            return styleFunctions[0];\r\n        }\r\n        else {\r\n            return ((/**\r\n             * @return {?}\r\n             */\r\n            function () {\r\n                return (/**\r\n                 * @param {?} feature\r\n                 * @param {?} resolution\r\n                 * @return {?}\r\n                 */\r\n                function (feature, resolution) {\r\n                    /** @type {?} */\r\n                    var styles = [];\r\n                    for (var i = 0, ii = styleFunctions.length; i < ii; ++i) {\r\n                        /** @type {?} */\r\n                        var result = styleFunctions[i].call(null, feature, resolution);\r\n                        if (result) {\r\n                            styles = styles.concat(result);\r\n                        }\r\n                    }\r\n                    return styles;\r\n                });\r\n            }))();\r\n        }\r\n    };\r\n    return EsriStyleGenerator;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar CapabilitiesService = /** @class */ (function () {\r\n    function CapabilitiesService(http) {\r\n        this.http = http;\r\n        this.capabilitiesStore = [];\r\n        this.parsers = {\r\n            wms: new WMSCapabilities(),\r\n            wmts: new WMTSCapabilities()\r\n        };\r\n    }\r\n    /**\r\n     * @param {?} baseOptions\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.getWMSOptions = /**\r\n     * @param {?} baseOptions\r\n     * @return {?}\r\n     */\r\n    function (baseOptions) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var url = baseOptions.url;\r\n        /** @type {?} */\r\n        var version = ((/** @type {?} */ (baseOptions.params))).version;\r\n        return this.getCapabilities('wms', url, version).pipe(map((/**\r\n         * @param {?} capabilities\r\n         * @return {?}\r\n         */\r\n        function (capabilities) {\r\n            return _this.parseWMSOptions(baseOptions, capabilities);\r\n        })));\r\n    };\r\n    /**\r\n     * @param {?} baseOptions\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.getWMTSOptions = /**\r\n     * @param {?} baseOptions\r\n     * @return {?}\r\n     */\r\n    function (baseOptions) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var url = baseOptions.url;\r\n        /** @type {?} */\r\n        var version = baseOptions.version;\r\n        /** @type {?} */\r\n        var options = this.getCapabilities('wmts', url, version).pipe(map((/**\r\n         * @param {?} capabilities\r\n         * @return {?}\r\n         */\r\n        function (capabilities) {\r\n            return _this.parseWMTSOptions(baseOptions, capabilities);\r\n        })));\r\n        return options;\r\n    };\r\n    /**\r\n     * @param {?} baseOptions\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.getCartoOptions = /**\r\n     * @param {?} baseOptions\r\n     * @return {?}\r\n     */\r\n    function (baseOptions) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var baseUrl = 'https://' +\r\n            baseOptions.account +\r\n            '.carto.com/api/v2/viz/' +\r\n            baseOptions.mapId +\r\n            '/viz.json';\r\n        return this.http\r\n            .jsonp(baseUrl, 'callback')\r\n            .pipe(map((/**\r\n         * @param {?} cartoOptions\r\n         * @return {?}\r\n         */\r\n        function (cartoOptions) {\r\n            return _this.parseCartoOptions(baseOptions, cartoOptions);\r\n        })));\r\n    };\r\n    /**\r\n     * @param {?} baseOptions\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.getArcgisOptions = /**\r\n     * @param {?} baseOptions\r\n     * @return {?}\r\n     */\r\n    function (baseOptions) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var baseUrl = baseOptions.url + '/' + baseOptions.layer + '?f=json';\r\n        /** @type {?} */\r\n        var modifiedUrl = baseOptions.url.replace('FeatureServer', 'MapServer');\r\n        /** @type {?} */\r\n        var legendUrl = modifiedUrl + '/legend?f=json';\r\n        /** @type {?} */\r\n        var arcgisOptions = this.http.get(baseUrl);\r\n        /** @type {?} */\r\n        var legend = this.http.get(legendUrl).pipe(map((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) { return res; })), catchError((/**\r\n         * @param {?} err\r\n         * @return {?}\r\n         */\r\n        function (err) {\r\n            console.log('No legend associated with this Feature Service');\r\n            return of(err);\r\n        })));\r\n        return forkJoin([arcgisOptions, legend]).pipe(map((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            return _this.parseArcgisOptions(baseOptions, res[0], res[1]);\r\n        })));\r\n    };\r\n    /**\r\n     * @param {?} baseOptions\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.getTileArcgisOptions = /**\r\n     * @param {?} baseOptions\r\n     * @return {?}\r\n     */\r\n    function (baseOptions) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var baseUrl = baseOptions.url + '/' + baseOptions.layer + '?f=json';\r\n        /** @type {?} */\r\n        var legendUrl = baseOptions.url + '/legend?f=json';\r\n        /** @type {?} */\r\n        var arcgisOptions = this.http.get(baseUrl);\r\n        /** @type {?} */\r\n        var legendInfo = this.http.get(legendUrl);\r\n        return forkJoin([arcgisOptions, legendInfo]).pipe(map((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            return _this.parseTileArcgisOptions(baseOptions, res[0], res[1]);\r\n        })));\r\n    };\r\n    /**\r\n     * @param {?} service\r\n     * @param {?} baseUrl\r\n     * @param {?=} version\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.getCapabilities = /**\r\n     * @param {?} service\r\n     * @param {?} baseUrl\r\n     * @param {?=} version\r\n     * @return {?}\r\n     */\r\n    function (service, baseUrl, version) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var params = new HttpParams({\r\n            fromObject: {\r\n                request: 'GetCapabilities',\r\n                service: service,\r\n                version: version || '1.3.0'\r\n            }\r\n        });\r\n        /** @type {?} */\r\n        var request = this.http.get(baseUrl, {\r\n            params: params,\r\n            responseType: 'text'\r\n        });\r\n        return request.pipe(map((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            /** @type {?} */\r\n            var capabilities = _this.parsers[service].read(res);\r\n            return capabilities;\r\n        })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} baseOptions\r\n     * @param {?} capabilities\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.parseWMSOptions = /**\r\n     * @private\r\n     * @param {?} baseOptions\r\n     * @param {?} capabilities\r\n     * @return {?}\r\n     */\r\n    function (baseOptions, capabilities) {\r\n        /** @type {?} */\r\n        var layers = ((/** @type {?} */ (baseOptions.params))).layers;\r\n        /** @type {?} */\r\n        var layer = this.findDataSourceInCapabilities(capabilities.Capability.Layer, layers);\r\n        if (!layer) {\r\n            return baseOptions;\r\n        }\r\n        /** @type {?} */\r\n        var metadata = layer.DataURL ? layer.DataURL[0] : undefined;\r\n        /** @type {?} */\r\n        var abstract = layer.Abstract ? layer.Abstract : undefined;\r\n        /** @type {?} */\r\n        var keywordList = layer.KeywordList ? layer.KeywordList : undefined;\r\n        /** @type {?} */\r\n        var queryable = layer.queryable;\r\n        /** @type {?} */\r\n        var timeFilter = this.getTimeFilter(layer);\r\n        /** @type {?} */\r\n        var timeFilterable = timeFilter && Object.keys(timeFilter).length > 0;\r\n        /** @type {?} */\r\n        var options = ObjectUtils.removeUndefined({\r\n            _layerOptionsFromCapabilities: {\r\n                title: layer.Title,\r\n                maxResolution: getResolutionFromScale(layer.MaxScaleDenominator) || Infinity,\r\n                minResolution: getResolutionFromScale(layer.MinScaleDenominator) || 0,\r\n                metadata: {\r\n                    url: metadata ? metadata.OnlineResource : undefined,\r\n                    extern: metadata ? true : undefined,\r\n                    abstract: abstract,\r\n                    keywordList: keywordList\r\n                }\r\n            },\r\n            queryable: queryable,\r\n            timeFilter: timeFilterable ? timeFilter : undefined,\r\n            timeFilterable: timeFilterable ? true : undefined\r\n        });\r\n        return ObjectUtils.mergeDeep(options, baseOptions);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} baseOptions\r\n     * @param {?} capabilities\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.parseWMTSOptions = /**\r\n     * @private\r\n     * @param {?} baseOptions\r\n     * @param {?} capabilities\r\n     * @return {?}\r\n     */\r\n    function (baseOptions, capabilities) {\r\n        /** @type {?} */\r\n        var options = optionsFromCapabilities(capabilities, baseOptions);\r\n        return Object.assign(options, baseOptions);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} baseOptions\r\n     * @param {?} cartoOptions\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.parseCartoOptions = /**\r\n     * @private\r\n     * @param {?} baseOptions\r\n     * @param {?} cartoOptions\r\n     * @return {?}\r\n     */\r\n    function (baseOptions, cartoOptions) {\r\n        /** @type {?} */\r\n        var layers = [];\r\n        /** @type {?} */\r\n        var params = cartoOptions.layers[1].options.layer_definition;\r\n        params.layers.forEach((/**\r\n         * @param {?} element\r\n         * @return {?}\r\n         */\r\n        function (element) {\r\n            layers.push({\r\n                type: element.type.toLowerCase(),\r\n                options: element.options,\r\n                legend: element.legend\r\n            });\r\n        }));\r\n        /** @type {?} */\r\n        var options = ObjectUtils.removeUndefined({\r\n            config: {\r\n                version: params.version,\r\n                layers: layers\r\n            }\r\n        });\r\n        return ObjectUtils.mergeDeep(options, baseOptions);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} baseOptions\r\n     * @param {?} arcgisOptions\r\n     * @param {?=} legend\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.parseArcgisOptions = /**\r\n     * @private\r\n     * @param {?} baseOptions\r\n     * @param {?} arcgisOptions\r\n     * @param {?=} legend\r\n     * @return {?}\r\n     */\r\n    function (baseOptions, arcgisOptions, legend) {\r\n        /** @type {?} */\r\n        var legendInfo = legend.layers ? legend : undefined;\r\n        /** @type {?} */\r\n        var styleGenerator = new EsriStyleGenerator();\r\n        /** @type {?} */\r\n        var units = arcgisOptions.units === 'esriMeters' ? 'm' : 'degrees';\r\n        /** @type {?} */\r\n        var style$$1 = styleGenerator.generateStyle(arcgisOptions, units);\r\n        /** @type {?} */\r\n        var attributions = new olAttribution({\r\n            html: arcgisOptions.copyrightText\r\n        });\r\n        /** @type {?} */\r\n        var timeExtent;\r\n        /** @type {?} */\r\n        var timeFilter;\r\n        if (arcgisOptions.timeInfo) {\r\n            /** @type {?} */\r\n            var time = arcgisOptions.timeInfo.timeExtent;\r\n            timeExtent = time[0] + ',' + time[1];\r\n            /** @type {?} */\r\n            var min = new Date();\r\n            min.setTime(time[0]);\r\n            /** @type {?} */\r\n            var max = new Date();\r\n            max.setTime(time[1]);\r\n            timeFilter = {\r\n                min: min.toUTCString(),\r\n                max: max.toUTCString(),\r\n                range: true,\r\n                type: 'datetime',\r\n                style: 'calendar'\r\n            };\r\n        }\r\n        /** @type {?} */\r\n        var params = Object.assign({}, {\r\n            legendInfo: legendInfo,\r\n            style: style$$1,\r\n            timeFilter: timeFilter,\r\n            timeExtent: timeExtent,\r\n            attributions: attributions\r\n        });\r\n        /** @type {?} */\r\n        var options = ObjectUtils.removeUndefined({\r\n            params: params\r\n        });\r\n        return ObjectUtils.mergeDeep(options, baseOptions);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} baseOptions\r\n     * @param {?} arcgisOptions\r\n     * @param {?} legend\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.parseTileArcgisOptions = /**\r\n     * @private\r\n     * @param {?} baseOptions\r\n     * @param {?} arcgisOptions\r\n     * @param {?} legend\r\n     * @return {?}\r\n     */\r\n    function (baseOptions, arcgisOptions, legend) {\r\n        /** @type {?} */\r\n        var legendInfo = legend.layers ? legend : undefined;\r\n        /** @type {?} */\r\n        var attributions = new olAttribution({\r\n            html: arcgisOptions.copyrightText\r\n        });\r\n        /** @type {?} */\r\n        var timeExtent;\r\n        /** @type {?} */\r\n        var timeFilter;\r\n        if (arcgisOptions.timeInfo) {\r\n            /** @type {?} */\r\n            var time = arcgisOptions.timeInfo.timeExtent;\r\n            timeExtent = time[0] + ',' + time[1];\r\n            /** @type {?} */\r\n            var min = new Date();\r\n            min.setTime(time[0]);\r\n            /** @type {?} */\r\n            var max = new Date();\r\n            max.setTime(time[1]);\r\n            timeFilter = {\r\n                min: min.toUTCString(),\r\n                max: max.toUTCString(),\r\n                range: true,\r\n                type: 'datetime',\r\n                style: 'calendar'\r\n            };\r\n        }\r\n        /** @type {?} */\r\n        var params = Object.assign({}, {\r\n            layers: 'show:' + baseOptions.layer,\r\n            time: timeExtent\r\n        });\r\n        /** @type {?} */\r\n        var options = ObjectUtils.removeUndefined({\r\n            params: params,\r\n            legendInfo: legendInfo,\r\n            timeFilter: timeFilter,\r\n            attributions: attributions\r\n        });\r\n        return ObjectUtils.mergeDeep(options, baseOptions);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layerArray\r\n     * @param {?} name\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.findDataSourceInCapabilities = /**\r\n     * @private\r\n     * @param {?} layerArray\r\n     * @param {?} name\r\n     * @return {?}\r\n     */\r\n    function (layerArray, name) {\r\n        var _this = this;\r\n        if (Array.isArray(layerArray)) {\r\n            /** @type {?} */\r\n            var layer_1;\r\n            layerArray.find((/**\r\n             * @param {?} value\r\n             * @return {?}\r\n             */\r\n            function (value) {\r\n                layer_1 = _this.findDataSourceInCapabilities(value, name);\r\n                return layer_1 !== undefined;\r\n            }), this);\r\n            return layer_1;\r\n        }\r\n        else if (layerArray.Layer) {\r\n            return this.findDataSourceInCapabilities(layerArray.Layer, name);\r\n        }\r\n        else {\r\n            if (layerArray.Name && layerArray.Name === name) {\r\n                return layerArray;\r\n            }\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    CapabilitiesService.prototype.getTimeFilter = /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        /** @type {?} */\r\n        var dimension;\r\n        if (layer.Dimension) {\r\n            /** @type {?} */\r\n            var timeFilter = {};\r\n            dimension = layer.Dimension[0];\r\n            if (dimension.values) {\r\n                /** @type {?} */\r\n                var minMaxDim = dimension.values.split('/');\r\n                timeFilter.min = minMaxDim[0] !== undefined ? minMaxDim[0] : undefined;\r\n                timeFilter.max = minMaxDim[1] !== undefined ? minMaxDim[1] : undefined;\r\n                timeFilter.step = minMaxDim[2] !== undefined ? minMaxDim[2] : undefined;\r\n            }\r\n            if (dimension.default) {\r\n                timeFilter.value = dimension.default;\r\n            }\r\n            return timeFilter;\r\n        }\r\n    };\r\n    CapabilitiesService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    CapabilitiesService.ctorParameters = function () { return [\r\n        { type: HttpClient }\r\n    ]; };\r\n    /** @nocollapse */ CapabilitiesService.ngInjectableDef = defineInjectable({ factory: function CapabilitiesService_Factory() { return new CapabilitiesService(inject(HttpClient)); }, token: CapabilitiesService, providedIn: \"root\" });\r\n    __decorate([\r\n        Cacheable(),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [String, String, String]),\r\n        __metadata(\"design:returntype\", Observable)\r\n    ], CapabilitiesService.prototype, \"getCapabilities\", null);\r\n    return CapabilitiesService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar DataSourceService = /** @class */ (function () {\r\n    function DataSourceService(capabilitiesService, wfsDataSourceService) {\r\n        this.capabilitiesService = capabilitiesService;\r\n        this.wfsDataSourceService = wfsDataSourceService;\r\n        this.datasources$ = new BehaviorSubject([]);\r\n    }\r\n    /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createAsyncDataSource = /**\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        if (!context.type) {\r\n            console.error(context);\r\n            throw new Error('Datasource needs a type');\r\n        }\r\n        /** @type {?} */\r\n        var dataSource;\r\n        switch (context.type.toLowerCase()) {\r\n            case 'osm':\r\n                dataSource = this.createOSMDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'vector':\r\n                dataSource = this.createFeatureDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'wfs':\r\n                dataSource = this.createWFSDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'wms':\r\n                dataSource = this.createWMSDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'wmts':\r\n                dataSource = this.createWMTSDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'xyz':\r\n                dataSource = this.createXYZDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'carto':\r\n                dataSource = this.createCartoDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'arcgisrest':\r\n                dataSource = this.createArcGISRestDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'websocket':\r\n                dataSource = this.createWebSocketDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'mvt':\r\n                dataSource = this.createMVTDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'tilearcgisrest':\r\n                dataSource = this.createTileArcGISRestDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            case 'cluster':\r\n                dataSource = this.createClusterDataSource((/** @type {?} */ (context)));\r\n                break;\r\n            default:\r\n                console.error(context);\r\n                throw new Error('Invalid datasource type');\r\n        }\r\n        this.datasources$.next(this.datasources$.value.concat([dataSource]));\r\n        return dataSource;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createOSMDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) { return d.next(new OSMDataSource(context)); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createFeatureDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) { return d.next(new FeatureDataSource(context)); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createWebSocketDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) { return d.next(new WebSocketDataSource(context)); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createWFSDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) {\r\n            return d.next(new WFSDataSource(context, _this.wfsDataSourceService));\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createWMSDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        if (context.optionsFromCapabilities) {\r\n            return this.capabilitiesService\r\n                .getWMSOptions(context)\r\n                .pipe(map((/**\r\n             * @param {?} options\r\n             * @return {?}\r\n             */\r\n            function (options) {\r\n                return new WMSDataSource(options, _this.wfsDataSourceService);\r\n            })));\r\n        }\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) {\r\n            return d.next(new WMSDataSource(context, _this.wfsDataSourceService));\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createWMTSDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        if (context.optionsFromCapabilities) {\r\n            return this.capabilitiesService\r\n                .getWMTSOptions(context)\r\n                .pipe(map((/**\r\n             * @param {?} options\r\n             * @return {?}\r\n             */\r\n            function (options) { return new WMTSDataSource(options); })));\r\n        }\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) { return d.next(new WMTSDataSource(context)); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createXYZDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) { return d.next(new XYZDataSource(context)); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createCartoDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        if (context.mapId) {\r\n            return this.capabilitiesService\r\n                .getCartoOptions(context)\r\n                .pipe(map((/**\r\n             * @param {?} options\r\n             * @return {?}\r\n             */\r\n            function (options) { return new CartoDataSource(options); })));\r\n        }\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) { return d.next(new CartoDataSource(context)); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createArcGISRestDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        return this.capabilitiesService\r\n            .getArcgisOptions(context)\r\n            .pipe(map((/**\r\n         * @param {?} options\r\n         * @return {?}\r\n         */\r\n        function (options) {\r\n            return new ArcGISRestDataSource(options);\r\n        })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createTileArcGISRestDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        return this.capabilitiesService\r\n            .getTileArcgisOptions(context)\r\n            .pipe(map((/**\r\n         * @param {?} options\r\n         * @return {?}\r\n         */\r\n        function (options) {\r\n            return new TileArcGISRestDataSource(options);\r\n        })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createMVTDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) { return d.next(new MVTDataSource(context)); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    DataSourceService.prototype.createClusterDataSource = /**\r\n     * @private\r\n     * @param {?} context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        return new Observable((/**\r\n         * @param {?} d\r\n         * @return {?}\r\n         */\r\n        function (d) { return d.next(new ClusterDataSource(context)); }));\r\n    };\r\n    DataSourceService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    DataSourceService.ctorParameters = function () { return [\r\n        { type: CapabilitiesService },\r\n        { type: WFSService }\r\n    ]; };\r\n    /** @nocollapse */ DataSourceService.ngInjectableDef = defineInjectable({ factory: function DataSourceService_Factory() { return new DataSourceService(inject(CapabilitiesService), inject(WFSService)); }, token: DataSourceService, providedIn: \"root\" });\r\n    return DataSourceService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar LayerService = /** @class */ (function () {\r\n    function LayerService(styleService, dataSourceService, config) {\r\n        this.styleService = styleService;\r\n        this.dataSourceService = dataSourceService;\r\n        this.config = config;\r\n        if (this.config) {\r\n            this.tokenKey = this.config.getConfig('auth.tokenKey');\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    LayerService.prototype.createLayer = /**\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    function (layerOptions) {\r\n        if (!layerOptions.source) {\r\n            return;\r\n        }\r\n        if (layerOptions.source.options &&\r\n            layerOptions.source.options.optionsFromCapabilities) {\r\n            layerOptions = ObjectUtils.mergeDeep(((/** @type {?} */ (layerOptions.source.options)))._layerOptionsFromCapabilities ||\r\n                {}, layerOptions || {});\r\n        }\r\n        /** @type {?} */\r\n        var layer;\r\n        switch (layerOptions.source.constructor) {\r\n            case OSMDataSource:\r\n            case WMTSDataSource:\r\n            case XYZDataSource:\r\n            case CartoDataSource:\r\n            case TileArcGISRestDataSource:\r\n                layer = this.createTileLayer((/** @type {?} */ (layerOptions)));\r\n                break;\r\n            case FeatureDataSource:\r\n            case WFSDataSource:\r\n            case ArcGISRestDataSource:\r\n            case WebSocketDataSource:\r\n            case ClusterDataSource:\r\n                layer = this.createVectorLayer((/** @type {?} */ (layerOptions)));\r\n                break;\r\n            case WMSDataSource:\r\n                layer = this.createImageLayer((/** @type {?} */ (layerOptions)));\r\n                break;\r\n            case MVTDataSource:\r\n                layer = this.createVectorTileLayer((/** @type {?} */ (layerOptions)));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return layer;\r\n    };\r\n    /**\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    LayerService.prototype.createAsyncLayer = /**\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    function (layerOptions) {\r\n        var _this = this;\r\n        if (layerOptions.source) {\r\n            return new Observable((/**\r\n             * @param {?} d\r\n             * @return {?}\r\n             */\r\n            function (d) { return d.next(_this.createLayer(layerOptions)); }));\r\n        }\r\n        return this.dataSourceService\r\n            .createAsyncDataSource(layerOptions.sourceOptions)\r\n            .pipe(map((/**\r\n         * @param {?} source\r\n         * @return {?}\r\n         */\r\n        function (source) {\r\n            layerOptions.source = source;\r\n            return _this.createLayer(layerOptions);\r\n        })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    LayerService.prototype.createImageLayer = /**\r\n     * @private\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    function (layerOptions) {\r\n        if (this.tokenKey) {\r\n            layerOptions.token = localStorage.getItem(this.tokenKey);\r\n        }\r\n        return new ImageLayer(layerOptions);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    LayerService.prototype.createTileLayer = /**\r\n     * @private\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    function (layerOptions) {\r\n        return new TileLayer(layerOptions);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    LayerService.prototype.createVectorLayer = /**\r\n     * @private\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    function (layerOptions) {\r\n        /** @type {?} */\r\n        var style$$1;\r\n        if (layerOptions.style !== undefined) {\r\n            style$$1 = this.styleService.createStyle(layerOptions.style);\r\n        }\r\n        if (layerOptions.source instanceof ArcGISRestDataSource) {\r\n            /** @type {?} */\r\n            var source = (/** @type {?} */ (layerOptions.source));\r\n            style$$1 = source.options.params.style;\r\n        }\r\n        else if (layerOptions.styleByAttribute) {\r\n            /** @type {?} */\r\n            var serviceStyle_1 = this.styleService;\r\n            layerOptions.style = (/**\r\n             * @param {?} feature\r\n             * @return {?}\r\n             */\r\n            function (feature) {\r\n                return serviceStyle_1.createStyleByAttribute(feature, layerOptions.styleByAttribute);\r\n            });\r\n            return new VectorLayer(layerOptions);\r\n        }\r\n        if (layerOptions.source instanceof ClusterDataSource) {\r\n            /** @type {?} */\r\n            var serviceStyle_2 = this.styleService;\r\n            layerOptions.style = (/**\r\n             * @param {?} feature\r\n             * @return {?}\r\n             */\r\n            function (feature) {\r\n                return serviceStyle_2.createClusterStyle(feature, layerOptions.clusterParam);\r\n            });\r\n            return new VectorLayer(layerOptions);\r\n        }\r\n        /** @type {?} */\r\n        var layerOptionsOl = Object.assign({}, layerOptions, {\r\n            style: style$$1\r\n        });\r\n        return new VectorLayer(layerOptionsOl);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    LayerService.prototype.createVectorTileLayer = /**\r\n     * @private\r\n     * @param {?} layerOptions\r\n     * @return {?}\r\n     */\r\n    function (layerOptions) {\r\n        /** @type {?} */\r\n        var style$$1;\r\n        if (layerOptions.style !== undefined) {\r\n            style$$1 = this.styleService.createStyle(layerOptions.style);\r\n        }\r\n        if (layerOptions.styleByAttribute) {\r\n            /** @type {?} */\r\n            var serviceStyle_3 = this.styleService;\r\n            layerOptions.style = (/**\r\n             * @param {?} feature\r\n             * @return {?}\r\n             */\r\n            function (feature) {\r\n                return serviceStyle_3.createStyleByAttribute(feature, layerOptions.styleByAttribute);\r\n            });\r\n            return new VectorTileLayer(layerOptions);\r\n        }\r\n        /** @type {?} */\r\n        var layerOptionsOl = Object.assign({}, layerOptions, {\r\n            style: style$$1\r\n        });\r\n        return new VectorTileLayer(layerOptionsOl);\r\n    };\r\n    LayerService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    LayerService.ctorParameters = function () { return [\r\n        { type: StyleService },\r\n        { type: DataSourceService },\r\n        { type: ConfigService, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    /** @nocollapse */ LayerService.ngInjectableDef = defineInjectable({ factory: function LayerService_Factory() { return new LayerService(inject(StyleService), inject(DataSourceService), inject(ConfigService, 8)); }, token: LayerService, providedIn: \"root\" });\r\n    return LayerService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar CatalogItemType = {\r\n    Layer: 'layer',\r\n    Group: 'group',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar QueryService = /** @class */ (function () {\r\n    function QueryService(http) {\r\n        this.http = http;\r\n        this.queryEnabled = true;\r\n    }\r\n    /**\r\n     * @param {?} layers\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.query = /**\r\n     * @param {?} layers\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (layers, options) {\r\n        var _this = this;\r\n        return layers\r\n            .filter((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return layer.visible && layer.isInResolutionsRange; }))\r\n            .map((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return _this.queryLayer(layer, options); }));\r\n    };\r\n    /**\r\n     * @param {?} layer\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.queryLayer = /**\r\n     * @param {?} layer\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (layer, options) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var url = this.getQueryUrl(layer.dataSource, options);\r\n        if (!url) {\r\n            return of([]);\r\n        }\r\n        if (((/** @type {?} */ (layer.dataSource))).options.queryFormat === QueryFormat.HTMLGML2) {\r\n            /** @type {?} */\r\n            var urlGml = this.getQueryUrl(layer.dataSource, options, true);\r\n            return this.http.get(urlGml, { responseType: 'text' })\r\n                .pipe(mergeMap((/**\r\n             * @param {?} gmlRes\r\n             * @return {?}\r\n             */\r\n            function (gmlRes) {\r\n                /** @type {?} */\r\n                var imposedGeom = _this.mergeGML(gmlRes, url);\r\n                return _this.http.get(url, { responseType: 'text' })\r\n                    .pipe(map(((/**\r\n                 * @param {?} res\r\n                 * @return {?}\r\n                 */\r\n                function (res) { return _this.extractData(res, layer, options, url, imposedGeom); }))));\r\n            })));\r\n        }\r\n        /** @type {?} */\r\n        var request = this.http.get(url, { responseType: 'text' });\r\n        return request.pipe(map((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) { return _this.extractData(res, layer, options, url); })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} gmlRes\r\n     * @param {?} url\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.mergeGML = /**\r\n     * @private\r\n     * @param {?} gmlRes\r\n     * @param {?} url\r\n     * @return {?}\r\n     */\r\n    function (gmlRes, url) {\r\n        /** @type {?} */\r\n        var parser = new olFormatGML2();\r\n        /** @type {?} */\r\n        var features = parser.readFeatures(gmlRes);\r\n        // Handle non standard GML output (MapServer)\r\n        if (features.length === 0) {\r\n            parser = new WMSGetFeatureInfo();\r\n            features = parser.readFeatures(gmlRes);\r\n        }\r\n        /** @type {?} */\r\n        var olmline = new MultiLineString([]);\r\n        /** @type {?} */\r\n        var pts;\r\n        /** @type {?} */\r\n        var ptsArray = [];\r\n        /** @type {?} */\r\n        var olmpoly = new MultiPolygon([]);\r\n        /** @type {?} */\r\n        var firstFeatureType;\r\n        /** @type {?} */\r\n        var nbFeatures = features.length;\r\n        // Check if geometry intersect bbox\r\n        // for geoserver getfeatureinfo response in data projection, not call projection\r\n        /** @type {?} */\r\n        var searchParams = this.getQueryParams(url.toLowerCase());\r\n        /** @type {?} */\r\n        var bboxRaw = searchParams.bbox;\r\n        /** @type {?} */\r\n        var bbox$$1 = bboxRaw.split(',');\r\n        /** @type {?} */\r\n        var bboxExtent = createEmpty();\r\n        extend(bboxExtent, bbox$$1);\r\n        /** @type {?} */\r\n        var outBboxExtent = false;\r\n        features.map((/**\r\n         * @param {?} feature\r\n         * @return {?}\r\n         */\r\n        function (feature) {\r\n            /*  if (!feature.getGeometry().simplify(100).intersectsExtent(bboxExtent)) {\r\n                    outBboxExtent = true;\r\n                    // TODO: Check to project the geometry?\r\n                  }*/\r\n            /** @type {?} */\r\n            var featureGeometryCoordinates = feature.getGeometry().getCoordinates();\r\n            /** @type {?} */\r\n            var featureGeometryType = feature.getGeometry().getType();\r\n            if (!firstFeatureType && !outBboxExtent) {\r\n                firstFeatureType = featureGeometryType;\r\n            }\r\n            {\r\n                switch (featureGeometryType) {\r\n                    case 'Point':\r\n                        if (nbFeatures === 1) {\r\n                            pts = new Point(featureGeometryCoordinates, 'XY');\r\n                        }\r\n                        else {\r\n                            ptsArray.push(featureGeometryCoordinates);\r\n                        }\r\n                        break;\r\n                    case 'LineString':\r\n                        olmline.appendLineString(new LineString(featureGeometryCoordinates, 'XY'));\r\n                        break;\r\n                    case 'Polygon':\r\n                        olmpoly.appendPolygon(new Polygon(featureGeometryCoordinates, 'XY'));\r\n                        break;\r\n                    case 'MultiPolygon':\r\n                        olmpoly = new MultiPolygon(featureGeometryCoordinates, 'XY');\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n            }\r\n        }));\r\n        /** @type {?} */\r\n        var olmpts;\r\n        if (ptsArray.length === 0 && pts) {\r\n            olmpts = {\r\n                type: pts.getType(),\r\n                coordinates: pts.getCoordinates()\r\n            };\r\n        }\r\n        else {\r\n            olmpts = {\r\n                type: 'Polygon',\r\n                coordinates: [this.convexHull(ptsArray)]\r\n            };\r\n        }\r\n        switch (firstFeatureType) {\r\n            case 'LineString':\r\n                return {\r\n                    type: olmline.getType(),\r\n                    coordinates: olmline.getCoordinates()\r\n                };\r\n            case 'Point':\r\n                return olmpts;\r\n            case 'Polygon':\r\n                return {\r\n                    type: olmpoly.getType(),\r\n                    coordinates: olmpoly.getCoordinates()\r\n                };\r\n            case 'MultiPolygon':\r\n                return {\r\n                    type: olmpoly.getType(),\r\n                    coordinates: olmpoly.getCoordinates()\r\n                };\r\n            default:\r\n                return;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} a\r\n     * @param {?} b\r\n     * @param {?} o\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.cross = /**\r\n     * @param {?} a\r\n     * @param {?} b\r\n     * @param {?} o\r\n     * @return {?}\r\n     */\r\n    function (a, b, o) {\r\n        return (a[0] - o[0]) * (b[1] - o[1]) - (a[1] - o[1]) * (b[0] - o[0]);\r\n    };\r\n    /**\r\n     * @param points An array of [X, Y] coordinates\r\n     * This method is use instead of turf.js convexHull because Turf needs at least 3 point to make a hull.\r\n     * https://en.wikibooks.org/wiki/Algorithm_Implementation/Geometry/Convex_hull/Monotone_chain#JavaScript\r\n     */\r\n    /**\r\n     * @param {?} points An array of [X, Y] coordinates\r\n     * This method is use instead of turf.js convexHull because Turf needs at least 3 point to make a hull.\r\n     * https://en.wikibooks.org/wiki/Algorithm_Implementation/Geometry/Convex_hull/Monotone_chain#JavaScript\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.convexHull = /**\r\n     * @param {?} points An array of [X, Y] coordinates\r\n     * This method is use instead of turf.js convexHull because Turf needs at least 3 point to make a hull.\r\n     * https://en.wikibooks.org/wiki/Algorithm_Implementation/Geometry/Convex_hull/Monotone_chain#JavaScript\r\n     * @return {?}\r\n     */\r\n    function (points) {\r\n        var e_1, _a;\r\n        points.sort((/**\r\n         * @param {?} a\r\n         * @param {?} b\r\n         * @return {?}\r\n         */\r\n        function (a, b) {\r\n            return a[0] === b[0] ? a[1] - b[1] : a[0] - b[0];\r\n        }));\r\n        /** @type {?} */\r\n        var lower = [];\r\n        try {\r\n            for (var points_1 = __values(points), points_1_1 = points_1.next(); !points_1_1.done; points_1_1 = points_1.next()) {\r\n                var point = points_1_1.value;\r\n                while (lower.length >= 2 && this.cross(lower[lower.length - 2], lower[lower.length - 1], point) <= 0) {\r\n                    lower.pop();\r\n                }\r\n                lower.push(point);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (points_1_1 && !points_1_1.done && (_a = points_1.return)) _a.call(points_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        /** @type {?} */\r\n        var upper = [];\r\n        for (var i = points.length - 1; i >= 0; i--) {\r\n            while (upper.length >= 2 && this.cross(upper[upper.length - 2], upper[upper.length - 1], points[i]) <= 0) {\r\n                upper.pop();\r\n            }\r\n            upper.push(points[i]);\r\n        }\r\n        upper.pop();\r\n        lower.pop();\r\n        return lower.concat(upper);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} layer\r\n     * @param {?} options\r\n     * @param {?} url\r\n     * @param {?=} imposedGeometry\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.extractData = /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} layer\r\n     * @param {?} options\r\n     * @param {?} url\r\n     * @param {?=} imposedGeometry\r\n     * @return {?}\r\n     */\r\n    function (res, layer, options, url, imposedGeometry) {\r\n        /** @type {?} */\r\n        var queryDataSource = (/** @type {?} */ (layer.dataSource));\r\n        /** @type {?} */\r\n        var allowedFieldsAndAlias;\r\n        if (layer.options &&\r\n            layer.options.sourceOptions &&\r\n            layer.options.sourceOptions.sourceFields &&\r\n            layer.options.sourceOptions.sourceFields.length >= 1) {\r\n            allowedFieldsAndAlias = {};\r\n            layer.options.sourceOptions.sourceFields.forEach((/**\r\n             * @param {?} sourceField\r\n             * @return {?}\r\n             */\r\n            function (sourceField) {\r\n                /** @type {?} */\r\n                var alias = sourceField.alias ? sourceField.alias : sourceField.name;\r\n                allowedFieldsAndAlias[sourceField.name] = alias;\r\n            }));\r\n        }\r\n        /** @type {?} */\r\n        var features = [];\r\n        switch (queryDataSource.options.queryFormat) {\r\n            case QueryFormat.GML3:\r\n                features = this.extractGML3Data(res, layer.zIndex, allowedFieldsAndAlias);\r\n                break;\r\n            case QueryFormat.JSON:\r\n            case QueryFormat.GEOJSON:\r\n                features = this.extractGeoJSONData(res);\r\n                break;\r\n            case QueryFormat.ESRIJSON:\r\n                features = this.extractEsriJSONData(res, layer.zIndex);\r\n                break;\r\n            case QueryFormat.TEXT:\r\n                features = this.extractTextData(res);\r\n                break;\r\n            case QueryFormat.HTML:\r\n                features = this.extractHtmlData(res, queryDataSource.queryHtmlTarget, url);\r\n                break;\r\n            case QueryFormat.HTMLGML2:\r\n                features = this.extractHtmlData(res, queryDataSource.queryHtmlTarget, url, imposedGeometry);\r\n                break;\r\n            case QueryFormat.GML2:\r\n            default:\r\n                features = this.extractGML2Data(res, layer, allowedFieldsAndAlias);\r\n                break;\r\n        }\r\n        return features.map((/**\r\n         * @param {?} feature\r\n         * @param {?} index\r\n         * @return {?}\r\n         */\r\n        function (feature, index) {\r\n            /** @type {?} */\r\n            var title = feature.properties[queryDataSource.queryTitle];\r\n            if (!title && features.length > 1) {\r\n                title = layer.title + \" (\" + (index + 1) + \")\";\r\n            }\r\n            else if (!title) {\r\n                title = layer.title;\r\n            }\r\n            /** @type {?} */\r\n            var meta = Object.assign({}, feature.meta || {}, {\r\n                id: uuid(),\r\n                title: title,\r\n                mapTitle: title,\r\n                sourceTitle: layer.title,\r\n                order: 1000 - layer.zIndex\r\n            });\r\n            return Object.assign(feature, {\r\n                meta: meta,\r\n                projection: queryDataSource.options.type === 'carto'\r\n                    ? 'EPSG:4326'\r\n                    : options.projection\r\n            });\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} zIndex\r\n     * @param {?=} allowedFieldsAndAlias\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.extractGML2Data = /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} zIndex\r\n     * @param {?=} allowedFieldsAndAlias\r\n     * @return {?}\r\n     */\r\n    function (res, zIndex, allowedFieldsAndAlias) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var parser = new olFormatGML2();\r\n        /** @type {?} */\r\n        var features = parser.readFeatures(res);\r\n        // Handle non standard GML output (MapServer)\r\n        if (features.length === 0) {\r\n            parser = new WMSGetFeatureInfo();\r\n            features = parser.readFeatures(res);\r\n        }\r\n        return features.map((/**\r\n         * @param {?} feature\r\n         * @return {?}\r\n         */\r\n        function (feature) {\r\n            return _this.featureToResult(feature, zIndex, allowedFieldsAndAlias);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} zIndex\r\n     * @param {?=} allowedFieldsAndAlias\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.extractGML3Data = /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} zIndex\r\n     * @param {?=} allowedFieldsAndAlias\r\n     * @return {?}\r\n     */\r\n    function (res, zIndex, allowedFieldsAndAlias) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var parser = new olFormatGML3();\r\n        /** @type {?} */\r\n        var features = parser.readFeatures(res);\r\n        return features.map((/**\r\n         * @param {?} feature\r\n         * @return {?}\r\n         */\r\n        function (feature) {\r\n            return _this.featureToResult(feature, zIndex, allowedFieldsAndAlias);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} res\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.extractGeoJSONData = /**\r\n     * @private\r\n     * @param {?} res\r\n     * @return {?}\r\n     */\r\n    function (res) {\r\n        /** @type {?} */\r\n        var features = [];\r\n        try {\r\n            features = JSON.parse(res).features;\r\n        }\r\n        catch (e) {\r\n            console.warn('query.service: Unable to parse geojson', '\\n', res);\r\n        }\r\n        return features;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} zIndex\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.extractEsriJSONData = /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} zIndex\r\n     * @return {?}\r\n     */\r\n    function (res, zIndex) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var parser = new olFormatEsriJSON();\r\n        /** @type {?} */\r\n        var features = parser.readFeatures(res);\r\n        return features.map((/**\r\n         * @param {?} feature\r\n         * @return {?}\r\n         */\r\n        function (feature) { return _this.featureToResult(feature, zIndex); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} res\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.extractTextData = /**\r\n     * @private\r\n     * @param {?} res\r\n     * @return {?}\r\n     */\r\n    function (res) {\r\n        // TODO\r\n        return [];\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} htmlTarget\r\n     * @param {?} url\r\n     * @param {?=} imposedGeometry\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.extractHtmlData = /**\r\n     * @private\r\n     * @param {?} res\r\n     * @param {?} htmlTarget\r\n     * @param {?} url\r\n     * @param {?=} imposedGeometry\r\n     * @return {?}\r\n     */\r\n    function (res, htmlTarget, url, imposedGeometry) {\r\n        // _blank , iframe or undefined\r\n        /** @type {?} */\r\n        var searchParams = this.getQueryParams(url.toLowerCase());\r\n        /** @type {?} */\r\n        var bboxRaw = searchParams.bbox;\r\n        /** @type {?} */\r\n        var width = parseInt(searchParams.width, 10);\r\n        /** @type {?} */\r\n        var height = parseInt(searchParams.height, 10);\r\n        /** @type {?} */\r\n        var xPosition = parseInt(searchParams.i || searchParams.x, 10);\r\n        /** @type {?} */\r\n        var yPosition = parseInt(searchParams.j || searchParams.y, 10);\r\n        /** @type {?} */\r\n        var projection = searchParams.crs || searchParams.srs || 'EPSG:3857';\r\n        /** @type {?} */\r\n        var bbox$$1 = bboxRaw.split(',');\r\n        /** @type {?} */\r\n        var threshold = (Math.abs(parseFloat(bbox$$1[0])) - Math.abs(parseFloat(bbox$$1[2]))) * 0.05;\r\n        // for context in degree (EPSG:4326,4269...)\r\n        if (Math.abs(parseFloat(bbox$$1[0])) < 180) {\r\n            threshold = 0.045;\r\n        }\r\n        /** @type {?} */\r\n        var clickx = parseFloat(bbox$$1[0]) +\r\n            (Math.abs(parseFloat(bbox$$1[0]) - parseFloat(bbox$$1[2])) * xPosition) /\r\n                width -\r\n            threshold;\r\n        /** @type {?} */\r\n        var clicky = parseFloat(bbox$$1[1]) +\r\n            (Math.abs(parseFloat(bbox$$1[1]) - parseFloat(bbox$$1[3])) * yPosition) /\r\n                height -\r\n            threshold;\r\n        /** @type {?} */\r\n        var clickx1 = clickx + threshold * 2;\r\n        /** @type {?} */\r\n        var clicky1 = clicky + threshold * 2;\r\n        /** @type {?} */\r\n        var wktPoly = 'POLYGON((' +\r\n            clickx +\r\n            ' ' +\r\n            clicky +\r\n            ', ' +\r\n            clickx +\r\n            ' ' +\r\n            clicky1 +\r\n            ', ' +\r\n            clickx1 +\r\n            ' ' +\r\n            clicky1 +\r\n            ', ' +\r\n            clickx1 +\r\n            ' ' +\r\n            clicky +\r\n            ', ' +\r\n            clickx +\r\n            ' ' +\r\n            clicky +\r\n            '))';\r\n        /** @type {?} */\r\n        var format = new WKT();\r\n        /** @type {?} */\r\n        var tenPercentWidthGeom = format.readFeature(wktPoly);\r\n        /** @type {?} */\r\n        var f = (/** @type {?} */ (tenPercentWidthGeom.getGeometry()));\r\n        if (htmlTarget !== QueryHtmlTarget.BLANK &&\r\n            htmlTarget !== QueryHtmlTarget.IFRAME) {\r\n            htmlTarget = QueryHtmlTarget.IFRAME;\r\n        }\r\n        /** @type {?} */\r\n        var bodyTagStart = res.toLowerCase().indexOf('<body>');\r\n        /** @type {?} */\r\n        var bodyTagEnd = res.toLowerCase().lastIndexOf('</body>') + 7;\r\n        // replace \\r \\n  and ' ' with '' to validate if the body is really empty.\r\n        /** @type {?} */\r\n        var body = res.slice(bodyTagStart, bodyTagEnd).replace(/(\\r|\\n|\\s)/g, '');\r\n        if (body === '<body></body>' || res === '') {\r\n            return [];\r\n        }\r\n        return [\r\n            {\r\n                type: FEATURE,\r\n                projection: projection,\r\n                properties: { target: htmlTarget, body: res, url: url },\r\n                geometry: imposedGeometry || { type: f.getType(), coordinates: f.getCoordinates() }\r\n            }\r\n        ];\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} url\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.getQueryParams = /**\r\n     * @private\r\n     * @param {?} url\r\n     * @return {?}\r\n     */\r\n    function (url) {\r\n        /** @type {?} */\r\n        var queryString = url.split('?');\r\n        if (!queryString[1]) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var pairs = queryString[1].split('&');\r\n        /** @type {?} */\r\n        var result = {};\r\n        pairs.forEach((/**\r\n         * @param {?} pair\r\n         * @return {?}\r\n         */\r\n        function (pair) {\r\n            pair = pair.split('=');\r\n            result[pair[0]] = decodeURIComponent(pair[1] || '');\r\n        }));\r\n        return result;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} featureOL\r\n     * @param {?} zIndex\r\n     * @param {?=} allowedFieldsAndAlias\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.featureToResult = /**\r\n     * @private\r\n     * @param {?} featureOL\r\n     * @param {?} zIndex\r\n     * @param {?=} allowedFieldsAndAlias\r\n     * @return {?}\r\n     */\r\n    function (featureOL, zIndex, allowedFieldsAndAlias) {\r\n        /** @type {?} */\r\n        var featureGeometry = (/** @type {?} */ (featureOL.getGeometry()));\r\n        /** @type {?} */\r\n        var properties = Object.assign({}, featureOL.getProperties());\r\n        delete properties.geometry;\r\n        delete properties.boundedBy;\r\n        delete properties.shape;\r\n        delete properties.SHAPE;\r\n        delete properties.the_geom;\r\n        /** @type {?} */\r\n        var geometry;\r\n        if (featureGeometry !== undefined) {\r\n            geometry = {\r\n                type: featureGeometry.getType(),\r\n                coordinates: featureGeometry.getCoordinates()\r\n            };\r\n        }\r\n        return {\r\n            type: FEATURE,\r\n            projection: undefined,\r\n            properties: properties,\r\n            geometry: geometry,\r\n            meta: {\r\n                id: uuid(),\r\n                order: 1000 - zIndex,\r\n                alias: allowedFieldsAndAlias\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} datasource\r\n     * @param {?} options\r\n     * @param {?=} forceGML2\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.getQueryUrl = /**\r\n     * @private\r\n     * @param {?} datasource\r\n     * @param {?} options\r\n     * @param {?=} forceGML2\r\n     * @return {?}\r\n     */\r\n    function (datasource, options, forceGML2) {\r\n        if (forceGML2 === void 0) { forceGML2 = false; }\r\n        /** @type {?} */\r\n        var url;\r\n        switch (datasource.constructor) {\r\n            case WMSDataSource:\r\n                /** @type {?} */\r\n                var wmsDatasource = (/** @type {?} */ (datasource));\r\n                /** @type {?} */\r\n                var WMSGetFeatureInfoOptions = {\r\n                    INFO_FORMAT: wmsDatasource.params.info_format ||\r\n                        this.getMimeInfoFormat(datasource.options.queryFormat),\r\n                    QUERY_LAYERS: wmsDatasource.params.layers,\r\n                    FEATURE_COUNT: wmsDatasource.params.feature_count || '5'\r\n                };\r\n                if (forceGML2) {\r\n                    WMSGetFeatureInfoOptions.INFO_FORMAT =\r\n                        this.getMimeInfoFormat(QueryFormat.GML2);\r\n                }\r\n                url = wmsDatasource.ol.getGetFeatureInfoUrl(options.coordinates, options.resolution, options.projection, WMSGetFeatureInfoOptions);\r\n                if (wmsDatasource.params.version !== '1.3.0') {\r\n                    url = url.replace('&I=', '&X=');\r\n                    url = url.replace('&J=', '&Y=');\r\n                }\r\n                break;\r\n            case CartoDataSource:\r\n                /** @type {?} */\r\n                var cartoDatasource = (/** @type {?} */ (datasource));\r\n                /** @type {?} */\r\n                var baseUrl = 'https://' +\r\n                    cartoDatasource.options.account +\r\n                    '.carto.com/api/v2/sql?';\r\n                /** @type {?} */\r\n                var format = 'format=GeoJSON';\r\n                /** @type {?} */\r\n                var sql = '&q=' + cartoDatasource.options.config.layers[0].options.sql;\r\n                /** @type {?} */\r\n                var clause = ' WHERE ST_Intersects(the_geom_webmercator,ST_BUFFER(ST_SetSRID(ST_POINT(';\r\n                /** @type {?} */\r\n                var meters = cartoDatasource.options.queryPrecision\r\n                    ? cartoDatasource.options.queryPrecision\r\n                    : '1000';\r\n                /** @type {?} */\r\n                var coordinates = options.coordinates[0] +\r\n                    ',' +\r\n                    options.coordinates[1] +\r\n                    '),3857),' +\r\n                    meters +\r\n                    '))';\r\n                url = \"\" + baseUrl + format + sql + clause + coordinates;\r\n                break;\r\n            case TileArcGISRestDataSource:\r\n                /** @type {?} */\r\n                var tileArcGISRestDatasource = (/** @type {?} */ (datasource));\r\n                /** @type {?} */\r\n                var extent = boundingExtent([options.coordinates]);\r\n                if (tileArcGISRestDatasource.options.queryPrecision) {\r\n                    extent = buffer(extent, tileArcGISRestDatasource.options.queryPrecision);\r\n                }\r\n                /** @type {?} */\r\n                var serviceUrl = tileArcGISRestDatasource.options.url +\r\n                    '/' +\r\n                    tileArcGISRestDatasource.options.layer +\r\n                    '/query/';\r\n                /** @type {?} */\r\n                var geometry = encodeURIComponent('{\"xmin\":' +\r\n                    extent[0] +\r\n                    ',\"ymin\":' +\r\n                    extent[1] +\r\n                    ',\"xmax\":' +\r\n                    extent[2] +\r\n                    ',\"ymax\":' +\r\n                    extent[3] +\r\n                    ',\"spatialReference\":{\"wkid\":102100}}');\r\n                /** @type {?} */\r\n                var params = [\r\n                    'f=json',\r\n                    \"geometry=\" + geometry,\r\n                    'geometryType=esriGeometryEnvelope',\r\n                    'inSR=102100',\r\n                    'spatialRel=esriSpatialRelIntersects',\r\n                    'outFields=*',\r\n                    'returnGeometry=true',\r\n                    'outSR=102100'\r\n                ];\r\n                url = serviceUrl + \"?\" + params.join('&');\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return url;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} queryFormat\r\n     * @return {?}\r\n     */\r\n    QueryService.prototype.getMimeInfoFormat = /**\r\n     * @private\r\n     * @param {?} queryFormat\r\n     * @return {?}\r\n     */\r\n    function (queryFormat) {\r\n        /** @type {?} */\r\n        var mime;\r\n        switch (queryFormat) {\r\n            case QueryFormat.GML2:\r\n                mime = 'application/vnd.ogc.gml';\r\n                break;\r\n            case QueryFormat.GML3:\r\n                mime = 'application/vnd.ogc.gml/3.1.1';\r\n                break;\r\n            case QueryFormat.JSON:\r\n                mime = 'application/json';\r\n                break;\r\n            case QueryFormat.GEOJSON:\r\n                mime = 'application/geojson';\r\n                break;\r\n            case QueryFormat.TEXT:\r\n                mime = 'text/plain';\r\n                break;\r\n            case QueryFormat.HTML:\r\n                mime = 'text/html';\r\n                break;\r\n            case QueryFormat.HTMLGML2:\r\n                mime = 'text/html';\r\n                break;\r\n            default:\r\n                mime = 'application/vnd.ogc.gml';\r\n                break;\r\n        }\r\n        return mime;\r\n    };\r\n    QueryService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    QueryService.ctorParameters = function () { return [\r\n        { type: HttpClient }\r\n    ]; };\r\n    /** @nocollapse */ QueryService.ngInjectableDef = defineInjectable({ factory: function QueryService_Factory() { return new QueryService(inject(HttpClient)); }, token: QueryService, providedIn: \"root\" });\r\n    return QueryService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This directive makes a map queryable with a click of with a drag box.\r\n * By default, all layers are queryable but this cna ben controlled at\r\n * the layer level.\r\n */\r\nvar QueryDirective = /** @class */ (function () {\r\n    function QueryDirective(component, queryService) {\r\n        this.component = component;\r\n        this.queryService = queryService;\r\n        /**\r\n         * Subscriptions to ongoing queries\r\n         */\r\n        this.queries$$ = [];\r\n        /**\r\n         * Whter to query features or not\r\n         */\r\n        this.queryFeatures = false;\r\n        /**\r\n         * Feature query hit tolerance\r\n         */\r\n        this.queryFeaturesHitTolerance = 0;\r\n        /**\r\n         * Whether all query should complete before emitting an event\r\n         */\r\n        this.waitForAllQueries = true;\r\n        /**\r\n         * Event emitted when a query (or all queries) complete\r\n         */\r\n        this.query = new EventEmitter();\r\n    }\r\n    Object.defineProperty(QueryDirective.prototype, \"map\", {\r\n        /**\r\n         * IGO map\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * IGO map\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.component.map)))));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Start listening to click and drag box events\r\n     * @internal\r\n     */\r\n    /**\r\n     * Start listening to click and drag box events\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    QueryDirective.prototype.ngAfterViewInit = /**\r\n     * Start listening to click and drag box events\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.listenToMapClick();\r\n    };\r\n    /**\r\n     * Stop listening to click and drag box events and cancel ongoind requests\r\n     * @internal\r\n     */\r\n    /**\r\n     * Stop listening to click and drag box events and cancel ongoind requests\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    QueryDirective.prototype.ngOnDestroy = /**\r\n     * Stop listening to click and drag box events and cancel ongoind requests\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.cancelOngoingQueries();\r\n        this.unlistenToMapClick();\r\n    };\r\n    /**\r\n     * On map click, issue queries\r\n     */\r\n    /**\r\n     * On map click, issue queries\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    QueryDirective.prototype.listenToMapClick = /**\r\n     * On map click, issue queries\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.mapClickListener = this.map.ol.on('singleclick', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return _this.onMapEvent(event); }));\r\n    };\r\n    /**\r\n     * Stop listenig for map clicks\r\n     */\r\n    /**\r\n     * Stop listenig for map clicks\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    QueryDirective.prototype.unlistenToMapClick = /**\r\n     * Stop listenig for map clicks\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.map.ol.un(this.mapClickListener.type, this.mapClickListener.listener);\r\n        this.mapClickListener = undefined;\r\n    };\r\n    /**\r\n     * Issue queries from a map event and emit events with the results\r\n     * @param event OL map browser pointer event\r\n     */\r\n    /**\r\n     * Issue queries from a map event and emit events with the results\r\n     * @private\r\n     * @param {?} event OL map browser pointer event\r\n     * @return {?}\r\n     */\r\n    QueryDirective.prototype.onMapEvent = /**\r\n     * Issue queries from a map event and emit events with the results\r\n     * @private\r\n     * @param {?} event OL map browser pointer event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        var _this = this;\r\n        this.cancelOngoingQueries();\r\n        if (!this.queryService.queryEnabled) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var queries$ = [];\r\n        if (this.queryFeatures) {\r\n            queries$.push(this.doQueryFeatures(event));\r\n        }\r\n        /** @type {?} */\r\n        var resolution = this.map.ol.getView().getResolution();\r\n        /** @type {?} */\r\n        var queryLayers = this.map.layers.filter(layerIsQueryable);\r\n        queries$.push.apply(queries$, __spread(this.queryService.query(queryLayers, {\r\n            coordinates: event.coordinate,\r\n            projection: this.map.projection,\r\n            resolution: resolution\r\n        })));\r\n        if (queries$.length === 0) {\r\n            return;\r\n        }\r\n        if (this.waitForAllQueries) {\r\n            this.queries$$.push(zip.apply(void 0, __spread(queries$)).subscribe((/**\r\n             * @param {?} results\r\n             * @return {?}\r\n             */\r\n            function (results) {\r\n                /** @type {?} */\r\n                var features = [].concat.apply([], __spread(results));\r\n                _this.query.emit({ features: features, event: event });\r\n            })));\r\n        }\r\n        else {\r\n            this.queries$$ = queries$.map((/**\r\n             * @param {?} query$\r\n             * @return {?}\r\n             */\r\n            function (query$) {\r\n                return query$.subscribe((/**\r\n                 * @param {?} features\r\n                 * @return {?}\r\n                 */\r\n                function (features) {\r\n                    _this.query.emit({ features: features, event: event });\r\n                }));\r\n            }));\r\n        }\r\n    };\r\n    /**\r\n     * Query features already present on the map\r\n     * @param event OL map browser pointer event\r\n     */\r\n    /**\r\n     * Query features already present on the map\r\n     * @private\r\n     * @param {?} event OL map browser pointer event\r\n     * @return {?}\r\n     */\r\n    QueryDirective.prototype.doQueryFeatures = /**\r\n     * Query features already present on the map\r\n     * @private\r\n     * @param {?} event OL map browser pointer event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var olFeatures = event.map.getFeaturesAtPixel(event.pixel, {\r\n            hitTolerance: this.queryFeaturesHitTolerance || 0,\r\n            layerFilter: this.queryFeaturesCondition ? this.queryFeaturesCondition : olLayerIsQueryable\r\n        });\r\n        /** @type {?} */\r\n        var features = (olFeatures || []).map((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            return featureFromOl(olFeature, _this.map.projection);\r\n        }));\r\n        return of(features);\r\n    };\r\n    /**\r\n     * Cancel ongoing requests, if any\r\n     */\r\n    /**\r\n     * Cancel ongoing requests, if any\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    QueryDirective.prototype.cancelOngoingQueries = /**\r\n     * Cancel ongoing requests, if any\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.queries$$.forEach((/**\r\n         * @param {?} sub\r\n         * @return {?}\r\n         */\r\n        function (sub) { return sub.unsubscribe(); }));\r\n        this.queries$$ = [];\r\n    };\r\n    QueryDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoQuery]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    QueryDirective.ctorParameters = function () { return [\r\n        { type: MapBrowserComponent, decorators: [{ type: Self }] },\r\n        { type: QueryService }\r\n    ]; };\r\n    QueryDirective.propDecorators = {\r\n        queryFeatures: [{ type: Input }],\r\n        queryFeaturesHitTolerance: [{ type: Input }],\r\n        queryFeaturesCondition: [{ type: Input }],\r\n        waitForAllQueries: [{ type: Input }],\r\n        query: [{ type: Output }]\r\n    };\r\n    return QueryDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Base search source class\r\n */\r\nvar SearchSource = /** @class */ (function () {\r\n    function SearchSource(options) {\r\n        var _this = this;\r\n        this.options = Object.assign({}, this.getDefaultOptions(), options);\r\n        // Set Default Params from Settings\r\n        this.settings.forEach((/**\r\n         * @param {?} setting\r\n         * @return {?}\r\n         */\r\n        function (setting) {\r\n            _this.setParamFromSetting(setting);\r\n        }));\r\n    }\r\n    /**\r\n     * Get search source's id\r\n     * @returns Search source's id\r\n     */\r\n    /**\r\n     * Get search source's id\r\n     * @return {?} Search source's id\r\n     */\r\n    SearchSource.prototype.getId = /**\r\n     * Get search source's id\r\n     * @return {?} Search source's id\r\n     */\r\n    function () {\r\n        throw new Error('You have to implement the method \"getId\".');\r\n    };\r\n    /**\r\n     * Get search source's default options\r\n     * @returns Search source default options\r\n     */\r\n    /**\r\n     * Get search source's default options\r\n     * @protected\r\n     * @return {?} Search source default options\r\n     */\r\n    SearchSource.prototype.getDefaultOptions = /**\r\n     * Get search source's default options\r\n     * @protected\r\n     * @return {?} Search source default options\r\n     */\r\n    function () {\r\n        throw new Error('You have to implement the method \"getDefaultOptions\".');\r\n    };\r\n    Object.defineProperty(SearchSource.prototype, \"title\", {\r\n        /**\r\n         * Search source's title\r\n         */\r\n        get: /**\r\n         * Search source's title\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.title;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchSource.prototype, \"available\", {\r\n        /**\r\n         * Whether the search source is available\r\n         */\r\n        get: /**\r\n         * Whether the search source is available\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.available !== false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchSource.prototype, \"enabled\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.available && this.options.enabled !== false;\r\n        },\r\n        /**\r\n         * Whether the search source is enabled\r\n         */\r\n        set: /**\r\n         * Whether the search source is enabled\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.options.enabled = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchSource.prototype, \"searchUrl\", {\r\n        /**\r\n         * Search url\r\n         */\r\n        get: /**\r\n         * Search url\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.searchUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchSource.prototype, \"params\", {\r\n        /**\r\n         * Search query params\r\n         */\r\n        get: /**\r\n         * Search query params\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.params === undefined ? {} : this.options.params;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchSource.prototype, \"settings\", {\r\n        /**\r\n         * Search settings\r\n         */\r\n        get: /**\r\n         * Search settings\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.settings === undefined ? [] : this.options.settings;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Set params from selected settings\r\n     */\r\n    /**\r\n     * Set params from selected settings\r\n     * @param {?} setting\r\n     * @return {?}\r\n     */\r\n    SearchSource.prototype.setParamFromSetting = /**\r\n     * Set params from selected settings\r\n     * @param {?} setting\r\n     * @return {?}\r\n     */\r\n    function (setting) {\r\n        var _this = this;\r\n        var _a;\r\n        switch (setting.type) {\r\n            case 'radiobutton':\r\n                setting.values.forEach((/**\r\n                 * @param {?} conf\r\n                 * @return {?}\r\n                 */\r\n                function (conf) {\r\n                    var _a;\r\n                    if (conf.enabled) {\r\n                        _this.options.params = Object.assign((_this.options.params || {}), (_a = {}, _a[setting.name] = conf.value, _a));\r\n                    }\r\n                }));\r\n                break;\r\n            case 'checkbox':\r\n                /** @type {?} */\r\n                var confValue_1 = '';\r\n                setting.values.forEach((/**\r\n                 * @param {?} conf\r\n                 * @return {?}\r\n                 */\r\n                function (conf) {\r\n                    if (conf.enabled) {\r\n                        confValue_1 += conf.value + ',';\r\n                    }\r\n                }));\r\n                confValue_1 = confValue_1.slice(0, -1);\r\n                this.options.params = Object.assign((this.options.params || {}), (_a = {}, _a[setting.name] = confValue_1, _a));\r\n                break;\r\n        }\r\n    };\r\n    Object.defineProperty(SearchSource.prototype, \"displayOrder\", {\r\n        /**\r\n         * Search results display order\r\n         */\r\n        get: /**\r\n         * Search results display order\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.order === undefined ? 99 : this.options.order;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Check if hashtag is valid\r\n     * @param hashtag hashtag from query\r\n     * @param completeMatch boolean\r\n     */\r\n    /**\r\n     * Check if hashtag is valid\r\n     * @param {?} searchSourceSetting\r\n     * @param {?} hashtag hashtag from query\r\n     * @param {?=} completeMatch boolean\r\n     * @return {?}\r\n     */\r\n    SearchSource.prototype.hashtagValid = /**\r\n     * Check if hashtag is valid\r\n     * @param {?} searchSourceSetting\r\n     * @param {?} hashtag hashtag from query\r\n     * @param {?=} completeMatch boolean\r\n     * @return {?}\r\n     */\r\n    function (searchSourceSetting, hashtag, completeMatch) {\r\n        if (completeMatch === void 0) { completeMatch = false; }\r\n        /** @type {?} */\r\n        var hashtagIsValid = false;\r\n        searchSourceSetting.values.forEach((/**\r\n         * @param {?} conf\r\n         * @return {?}\r\n         */\r\n        function (conf) {\r\n            /** @type {?} */\r\n            var re = new RegExp('' + hashtag.substring(1) + '', 'g');\r\n            if (typeof conf.value === 'string') {\r\n                if ((completeMatch && conf.value === hashtag.substring(1)) ||\r\n                    (!completeMatch && conf.value.match(re))) {\r\n                    hashtagIsValid = true;\r\n                }\r\n            }\r\n        }));\r\n        return hashtagIsValid;\r\n    };\r\n    /**\r\n     * @param {?} search\r\n     * @return {?}\r\n     */\r\n    SearchSource.prototype.getSettingsValues = /**\r\n     * @param {?} search\r\n     * @return {?}\r\n     */\r\n    function (search) {\r\n        return this.getDefaultOptions().settings.find((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            return value.name === search;\r\n        }));\r\n    };\r\n    /**\r\n     * Search source ID\r\n     * \\@internal\r\n     */\r\n    SearchSource.id = '';\r\n    /**\r\n     * Search source type\r\n     * \\@internal\r\n     */\r\n    SearchSource.type = '';\r\n    return SearchSource;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Map search source. For now it has no search capability. All it does\r\n * is act as a placeholder for the map query results' \"search source\".\r\n */\r\nvar QuerySearchSource = /** @class */ (function (_super) {\r\n    __extends(QuerySearchSource, _super);\r\n    function QuerySearchSource(options) {\r\n        return _super.call(this, options) || this;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    QuerySearchSource.prototype.getId = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return QuerySearchSource.id;\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    QuerySearchSource.prototype.getDefaultOptions = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            title: 'Carte'\r\n        };\r\n    };\r\n    QuerySearchSource.id = 'map';\r\n    QuerySearchSource.type = FEATURE;\r\n    QuerySearchSource.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    QuerySearchSource.ctorParameters = function () { return [\r\n        { type: undefined, decorators: [{ type: Inject, args: ['options',] }] }\r\n    ]; };\r\n    return QuerySearchSource;\r\n}(SearchSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar CatalogService = /** @class */ (function () {\r\n    function CatalogService(http, config, languageService, capabilitiesService) {\r\n        this.http = http;\r\n        this.config = config;\r\n        this.languageService = languageService;\r\n        this.capabilitiesService = capabilitiesService;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.loadCatalogs = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var contextConfig = this.config.getConfig('context') || {};\r\n        /** @type {?} */\r\n        var catalogConfig = this.config.getConfig('catalog') || {};\r\n        /** @type {?} */\r\n        var apiUrl = catalogConfig.url || contextConfig.url;\r\n        /** @type {?} */\r\n        var catalogsFromConfig = catalogConfig.sources || [];\r\n        if (apiUrl === undefined) {\r\n            return of(catalogsFromConfig);\r\n        }\r\n        /** @type {?} */\r\n        var observables$ = [];\r\n        // Base layers catalog\r\n        if (catalogConfig.baseLayers) {\r\n            /** @type {?} */\r\n            var translate = this.languageService.translate;\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.geo.catalog.baseLayers');\r\n            /** @type {?} */\r\n            var baseLayersCatalog = {\r\n                id: 'catalog.baselayers',\r\n                title: title,\r\n                url: apiUrl + \"/baselayers\",\r\n                type: 'baselayers'\r\n            };\r\n            observables$.push(of(baseLayersCatalog));\r\n        }\r\n        // Catalogs from API\r\n        /** @type {?} */\r\n        var catalogsFromApi$ = this.http\r\n            .get(apiUrl + \"/catalogs\")\r\n            .pipe(catchError((/**\r\n         * @param {?} response\r\n         * @return {?}\r\n         */\r\n        function (response) { return EMPTY; })));\r\n        observables$.push(catalogsFromApi$);\r\n        // Catalogs from config\r\n        if (catalogsFromConfig.length > 0) {\r\n            observables$.push(of(catalogsFromConfig));\r\n        }\r\n        return (/** @type {?} */ (concat.apply(void 0, __spread(observables$))));\r\n    };\r\n    /**\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.loadCatalogItems = /**\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        if (catalog.type === 'baselayers') {\r\n            return this.loadCatalogBaseLayerItems(catalog);\r\n        }\r\n        else if (catalog.type === 'wmts') {\r\n            return this.loadCatalogWMTSLayerItems(catalog);\r\n        }\r\n        return this.loadCatalogWMSLayerItems(catalog);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.loadCatalogBaseLayerItems = /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        // TODO: I'm not sure this works\r\n        return this.getCatalogBaseLayersOptions(catalog)\r\n            .pipe(map((/**\r\n         * @param {?} layersOptions\r\n         * @return {?}\r\n         */\r\n        function (layersOptions) {\r\n            /** @type {?} */\r\n            var items = layersOptions.map((/**\r\n             * @param {?} layerOptions\r\n             * @return {?}\r\n             */\r\n            function (layerOptions) {\r\n                return (/** @type {?} */ ({\r\n                    id: generateIdFromSourceOptions(layerOptions.sourceOptions),\r\n                    title: layerOptions.title,\r\n                    type: CatalogItemType.Layer,\r\n                    options: layerOptions\r\n                }));\r\n            }));\r\n            return [{\r\n                    id: 'catalog.group.baselayers',\r\n                    type: CatalogItemType.Group,\r\n                    title: catalog.title,\r\n                    items: items\r\n                }];\r\n        })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.getCatalogBaseLayersOptions = /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        return this.http.get(catalog.url);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.loadCatalogWMSLayerItems = /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        var _this = this;\r\n        return this.getCatalogWMSCapabilities(catalog)\r\n            .pipe(map((/**\r\n         * @param {?} capabilities\r\n         * @return {?}\r\n         */\r\n        function (capabilities) {\r\n            /** @type {?} */\r\n            var items = [];\r\n            _this.includeRecursiveItems(catalog, capabilities.Capability.Layer, items);\r\n            return items;\r\n        })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.loadCatalogWMTSLayerItems = /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        var _this = this;\r\n        return this.getCatalogWMTSCapabilities(catalog)\r\n            .pipe(map((/**\r\n         * @param {?} capabilities\r\n         * @return {?}\r\n         */\r\n        function (capabilities) { return _this.getWMTSItems(catalog, capabilities); })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.getCatalogWMSCapabilities = /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        return this.capabilitiesService.getCapabilities('wms', catalog.url, catalog.version);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.getCatalogWMTSCapabilities = /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        return this.capabilitiesService.getCapabilities('wmts', catalog.url, catalog.version);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @param {?} layerList\r\n     * @param {?} items\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.includeRecursiveItems = /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @param {?} layerList\r\n     * @param {?} items\r\n     * @return {?}\r\n     */\r\n    function (catalog, layerList, items) {\r\n        var _this = this;\r\n        var e_1, _a;\r\n        // Dig all levels until last level (layer object are not defined on last level)\r\n        /** @type {?} */\r\n        var regexes = (catalog.regFilters || []).map((/**\r\n         * @param {?} pattern\r\n         * @return {?}\r\n         */\r\n        function (pattern) { return new RegExp(pattern); }));\r\n        /** @type {?} */\r\n        var catalogQueryParams = catalog.queryParams || {};\r\n        /** @type {?} */\r\n        var catalogSourceOptions = catalog.sourceOptions || {};\r\n        var _loop_1 = function (group) {\r\n            if (group.Layer !== undefined) {\r\n                // recursive, check next level\r\n                this_1.includeRecursiveItems(catalog, group, items);\r\n                return \"continue\";\r\n            }\r\n            /** @type {?} */\r\n            var catalogTooltipType = this_1.retrieveTooltipType(catalog);\r\n            /** @type {?} */\r\n            var layersQueryFormat = this_1.findCatalogInfoFormat(catalog);\r\n            // TODO: Slice that into multiple methods\r\n            // Define object of group layer\r\n            /** @type {?} */\r\n            var groupItem = {\r\n                id: \"catalog.group.\" + layerList.Name,\r\n                type: CatalogItemType.Group,\r\n                title: layerList.Title,\r\n                items: layerList.Layer.reduce((/**\r\n                 * @param {?} layers\r\n                 * @param {?} layer\r\n                 * @return {?}\r\n                 */\r\n                function (layers, layer) {\r\n                    /** @type {?} */\r\n                    var configuredQueryFormat = _this.retriveLayerInfoFormat(layer.Name, layersQueryFormat);\r\n                    if (_this.testLayerRegexes(layer.Name, regexes) === false) {\r\n                        return layers;\r\n                    }\r\n                    /** @type {?} */\r\n                    var metadata = layer.DataURL ? layer.DataURL[0] : undefined;\r\n                    /** @type {?} */\r\n                    var abstract = layer.Abstract ? layer.Abstract : undefined;\r\n                    /** @type {?} */\r\n                    var keywordList = layer.KeywordList ? layer.KeywordList : undefined;\r\n                    /** @type {?} */\r\n                    var timeFilter = _this.capabilitiesService.getTimeFilter(layer);\r\n                    /** @type {?} */\r\n                    var timeFilterable = timeFilter && Object.keys(timeFilter).length > 0 ? true : false;\r\n                    /** @type {?} */\r\n                    var params = Object.assign({}, catalogQueryParams, {\r\n                        layers: layer.Name,\r\n                        feature_count: catalog.count\r\n                    });\r\n                    /** @type {?} */\r\n                    var baseSourceOptions = {\r\n                        type: 'wms',\r\n                        url: catalog.url,\r\n                        crossOrigin: catalog.setCrossOriginAnonymous ? 'anonymous' : undefined,\r\n                        timeFilter: __assign({}, timeFilter, catalog.timeFilter),\r\n                        timeFilterable: timeFilterable ? true : false,\r\n                        queryable: layer.queryable,\r\n                        queryFormat: configuredQueryFormat,\r\n                        queryHtmlTarget: catalog.queryHtmlTarget || QueryHtmlTarget.IFRAME\r\n                    };\r\n                    /** @type {?} */\r\n                    var sourceOptions = (/** @type {?} */ (Object.assign({}, baseSourceOptions, catalogSourceOptions, { params: params })));\r\n                    layers.push({\r\n                        id: generateIdFromSourceOptions(sourceOptions),\r\n                        type: CatalogItemType.Layer,\r\n                        title: layer.Title,\r\n                        options: {\r\n                            title: layer.Title,\r\n                            maxResolution: getResolutionFromScale(layer.MaxScaleDenominator) || Infinity,\r\n                            minResolution: getResolutionFromScale(layer.MinScaleDenominator) || 0,\r\n                            metadata: {\r\n                                url: metadata ? metadata.OnlineResource : undefined,\r\n                                extern: metadata ? true : undefined,\r\n                                abstract: abstract,\r\n                                keywordList: keywordList\r\n                            },\r\n                            tooltip: (/** @type {?} */ ({ type: catalogTooltipType })),\r\n                            sourceOptions: sourceOptions\r\n                        }\r\n                    });\r\n                    return layers;\r\n                }), [])\r\n            };\r\n            if (groupItem.items.length !== 0) {\r\n                items.push(groupItem);\r\n            }\r\n            return \"break\";\r\n        };\r\n        var this_1 = this;\r\n        try {\r\n            for (var _b = __values(layerList.Layer), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var group = _c.value;\r\n                var state_1 = _loop_1(group);\r\n                if (state_1 === \"break\")\r\n                    break;\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @param {?} capabilities\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.getWMTSItems = /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @param {?} capabilities\r\n     * @return {?}\r\n     */\r\n    function (catalog, capabilities) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var layers = capabilities.Contents.Layer;\r\n        /** @type {?} */\r\n        var regexes = (catalog.regFilters || []).map((/**\r\n         * @param {?} pattern\r\n         * @return {?}\r\n         */\r\n        function (pattern) { return new RegExp(pattern); }));\r\n        /** @type {?} */\r\n        var catalogQueryParams = catalog.queryParams || {};\r\n        /** @type {?} */\r\n        var catalogSourceOptions = catalog.sourceOptions || {};\r\n        return layers.map((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) {\r\n            if (_this.testLayerRegexes(layer.Identifier, regexes) === false) {\r\n                return undefined;\r\n            }\r\n            /** @type {?} */\r\n            var params = Object.assign({}, catalogQueryParams, {\r\n                version: '1.0.0'\r\n            });\r\n            /** @type {?} */\r\n            var baseSourceOptions = (/** @type {?} */ ({\r\n                type: 'wmts',\r\n                url: catalog.url,\r\n                crossOrigin: catalog.setCrossOriginAnonymous ? 'anonymous' : undefined,\r\n                layer: layer.Identifier,\r\n                matrixSet: catalog.matrixSet,\r\n                optionsFromCapabilities: true,\r\n                requestEncoding: catalog.requestEncoding || 'KVP',\r\n                style: 'default'\r\n            }));\r\n            /** @type {?} */\r\n            var sourceOptions = (/** @type {?} */ (Object.assign({}, baseSourceOptions, catalogSourceOptions, { params: params })));\r\n            return {\r\n                id: generateIdFromSourceOptions(sourceOptions),\r\n                type: CatalogItemType.Layer,\r\n                title: layer.Title,\r\n                options: {\r\n                    title: layer.Title,\r\n                    sourceOptions: sourceOptions\r\n                }\r\n            };\r\n        }))\r\n            .filter((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) { return item !== undefined; }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layerName\r\n     * @param {?} regexes\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.testLayerRegexes = /**\r\n     * @private\r\n     * @param {?} layerName\r\n     * @param {?} regexes\r\n     * @return {?}\r\n     */\r\n    function (layerName, regexes) {\r\n        if (regexes.length === 0) {\r\n            return true;\r\n        }\r\n        return regexes.find((/**\r\n         * @param {?} regex\r\n         * @return {?}\r\n         */\r\n        function (regex) { return regex.test(layerName); })) !== undefined;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layerNameFromCatalog\r\n     * @param {?} layersQueryFormat\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.retriveLayerInfoFormat = /**\r\n     * @private\r\n     * @param {?} layerNameFromCatalog\r\n     * @param {?} layersQueryFormat\r\n     * @return {?}\r\n     */\r\n    function (layerNameFromCatalog, layersQueryFormat) {\r\n        /** @type {?} */\r\n        var currentLayerInfoFormat = layersQueryFormat.find((/**\r\n         * @param {?} f\r\n         * @return {?}\r\n         */\r\n        function (f) { return f.layer === layerNameFromCatalog; }));\r\n        /** @type {?} */\r\n        var baseInfoFormat = layersQueryFormat.find((/**\r\n         * @param {?} f\r\n         * @return {?}\r\n         */\r\n        function (f) { return f.layer === '*'; }));\r\n        /** @type {?} */\r\n        var queryFormat;\r\n        if (currentLayerInfoFormat) {\r\n            queryFormat = currentLayerInfoFormat.queryFormat;\r\n        }\r\n        else if (baseInfoFormat) {\r\n            queryFormat = baseInfoFormat.queryFormat;\r\n        }\r\n        return queryFormat;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.retrieveTooltipType = /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        if (!catalog.tooltipType) {\r\n            return TooltipType.TITLE;\r\n        }\r\n        return catalog.tooltipType;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    CatalogService.prototype.findCatalogInfoFormat = /**\r\n     * @private\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        /** @type {?} */\r\n        var layersQueryFormat = [];\r\n        if (!catalog.queryFormat) {\r\n            return layersQueryFormat;\r\n        }\r\n        Object.keys(catalog.queryFormat).forEach((/**\r\n         * @param {?} configuredInfoFormat\r\n         * @return {?}\r\n         */\r\n        function (configuredInfoFormat) {\r\n            if (catalog.queryFormat[configuredInfoFormat] instanceof Array) {\r\n                catalog.queryFormat[configuredInfoFormat].forEach((/**\r\n                 * @param {?} layerName\r\n                 * @return {?}\r\n                 */\r\n                function (layerName) {\r\n                    if (!layersQueryFormat.find((/**\r\n                     * @param {?} specific\r\n                     * @return {?}\r\n                     */\r\n                    function (specific) { return specific.layer === layerName; }))) {\r\n                        layersQueryFormat.push({ layer: layerName, queryFormat: (/** @type {?} */ (configuredInfoFormat)) });\r\n                    }\r\n                }));\r\n            }\r\n            else {\r\n                if (!layersQueryFormat.find((/**\r\n                 * @param {?} specific\r\n                 * @return {?}\r\n                 */\r\n                function (specific) { return specific.layer === catalog.queryFormat[configuredInfoFormat]; }))) {\r\n                    layersQueryFormat.push({ layer: catalog.queryFormat[configuredInfoFormat], queryFormat: (/** @type {?} */ (configuredInfoFormat)) });\r\n                }\r\n            }\r\n        }));\r\n        return layersQueryFormat;\r\n    };\r\n    CatalogService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    CatalogService.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: ConfigService },\r\n        { type: LanguageService },\r\n        { type: CapabilitiesService }\r\n    ]; };\r\n    /** @nocollapse */ CatalogService.ngInjectableDef = defineInjectable({ factory: function CatalogService_Factory() { return new CatalogService(inject(HttpClient), inject(ConfigService), inject(LanguageService), inject(CapabilitiesService)); }, token: CatalogService, providedIn: \"root\" });\r\n    return CatalogService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Component to browse a catalog's groups and layers and display them on a map.\r\n */\r\nvar CatalogBrowserComponent = /** @class */ (function () {\r\n    function CatalogBrowserComponent(layerService, cdRef) {\r\n        this.layerService = layerService;\r\n        this.cdRef = cdRef;\r\n        /**\r\n         * Whether a group can be toggled when it's collapsed\r\n         */\r\n        this.toggleCollapsedGroup = true;\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.ngOnInit = /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var currentItems = this.map.layers.map((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) {\r\n            return {\r\n                id: layer.id,\r\n                title: layer.title,\r\n                type: CatalogItemType.Layer\r\n            };\r\n        }));\r\n        this.store.state.updateMany(currentItems, { added: true }, true);\r\n        if (this.catalog && this.catalog.sortDirection !== undefined) {\r\n            this.store.view.sort({\r\n                direction: this.catalog.sortDirection,\r\n                valueAccessor: (/**\r\n                 * @param {?} item\r\n                 * @return {?}\r\n                 */\r\n                function (item) { return item.title; })\r\n            });\r\n        }\r\n        this.watcher = new EntityStoreWatcher(this.store, this.cdRef);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.watcher.destroy();\r\n    };\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.isGroup = /**\r\n     * \\@internal\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        return item.type === CatalogItemType.Group;\r\n    };\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.isLayer = /**\r\n     * \\@internal\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        return item.type === CatalogItemType.Layer;\r\n    };\r\n    /**\r\n     * When a layer is added or removed, add or remove it from the map\r\n     * @internal\r\n     * @param event Layer added event\r\n     */\r\n    /**\r\n     * When a layer is added or removed, add or remove it from the map\r\n     * \\@internal\r\n     * @param {?} event Layer added event\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.onLayerAddedChange = /**\r\n     * When a layer is added or removed, add or remove it from the map\r\n     * \\@internal\r\n     * @param {?} event Layer added event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        /** @type {?} */\r\n        var layer = event.layer;\r\n        this.store.state.update(layer, { added: event.added }, false);\r\n        event.added ? this.addLayerToMap(layer) : this.removeLayerFromMap(layer);\r\n    };\r\n    /**\r\n     * When a froup is added or removed, add or remove it from the map\r\n     * @internal\r\n     * @param event Group added event\r\n     */\r\n    /**\r\n     * When a froup is added or removed, add or remove it from the map\r\n     * \\@internal\r\n     * @param {?} event Group added event\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.onGroupAddedChange = /**\r\n     * When a froup is added or removed, add or remove it from the map\r\n     * \\@internal\r\n     * @param {?} event Group added event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        /** @type {?} */\r\n        var group = event.group;\r\n        this.store.state.update(group, { added: event.added }, false);\r\n        event.added ? this.addGroupToMap(group) : this.removeGroupFromMap(group);\r\n    };\r\n    /**\r\n     * Add layer to map\r\n     * @param layer Catalog layer\r\n     */\r\n    /**\r\n     * Add layer to map\r\n     * @private\r\n     * @param {?} layer Catalog layer\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.addLayerToMap = /**\r\n     * Add layer to map\r\n     * @private\r\n     * @param {?} layer Catalog layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        this.addLayersToMap([layer]);\r\n    };\r\n    /**\r\n     * Remove layer from map\r\n     * @param layer Catalog layer\r\n     */\r\n    /**\r\n     * Remove layer from map\r\n     * @private\r\n     * @param {?} layer Catalog layer\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.removeLayerFromMap = /**\r\n     * Remove layer from map\r\n     * @private\r\n     * @param {?} layer Catalog layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        this.removeLayersFromMap([layer]);\r\n    };\r\n    /**\r\n     * Add multiple layers to map\r\n     * @param layers Catalog layers\r\n     */\r\n    /**\r\n     * Add multiple layers to map\r\n     * @private\r\n     * @param {?} layers Catalog layers\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.addLayersToMap = /**\r\n     * Add multiple layers to map\r\n     * @private\r\n     * @param {?} layers Catalog layers\r\n     * @return {?}\r\n     */\r\n    function (layers) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var layers$ = layers.map((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) {\r\n            return _this.layerService.createAsyncLayer(layer.options);\r\n        }));\r\n        zip.apply(void 0, __spread(layers$)).subscribe((/**\r\n         * @param {?} oLayers\r\n         * @return {?}\r\n         */\r\n        function (oLayers) {\r\n            _this.store.state.updateMany(layers, { added: true });\r\n            _this.map.addLayers(oLayers);\r\n        }));\r\n    };\r\n    /**\r\n     * Remove multiple layers from map\r\n     * @param layers Catalog layers\r\n     */\r\n    /**\r\n     * Remove multiple layers from map\r\n     * @private\r\n     * @param {?} layers Catalog layers\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.removeLayersFromMap = /**\r\n     * Remove multiple layers from map\r\n     * @private\r\n     * @param {?} layers Catalog layers\r\n     * @return {?}\r\n     */\r\n    function (layers) {\r\n        var _this = this;\r\n        layers.forEach((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) {\r\n            _this.store.state.update(layer, { added: false });\r\n            /** @type {?} */\r\n            var oLayer = _this.map.getLayerById(layer.id);\r\n            if (oLayer !== undefined) {\r\n                _this.map.removeLayer(oLayer);\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * Add all the layers of a group to map\r\n     * @param group Catalog group\r\n     */\r\n    /**\r\n     * Add all the layers of a group to map\r\n     * @private\r\n     * @param {?} group Catalog group\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.addGroupToMap = /**\r\n     * Add all the layers of a group to map\r\n     * @private\r\n     * @param {?} group Catalog group\r\n     * @return {?}\r\n     */\r\n    function (group) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var layers = group.items.filter((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) {\r\n            /** @type {?} */\r\n            var added = _this.store.state.get(item).added || false;\r\n            return _this.isLayer(item) && added === false;\r\n        }));\r\n        this.addLayersToMap((/** @type {?} */ (layers)));\r\n    };\r\n    /**\r\n     * Remove all the layers of a groufrom map\r\n     * @param group Catalog group\r\n     */\r\n    /**\r\n     * Remove all the layers of a groufrom map\r\n     * @private\r\n     * @param {?} group Catalog group\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserComponent.prototype.removeGroupFromMap = /**\r\n     * Remove all the layers of a groufrom map\r\n     * @private\r\n     * @param {?} group Catalog group\r\n     * @return {?}\r\n     */\r\n    function (group) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var layers = group.items.filter((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) {\r\n            /** @type {?} */\r\n            var added = _this.store.state.get(item).added || false;\r\n            return _this.isLayer(item) && added === true;\r\n        }));\r\n        this.removeLayersFromMap((/** @type {?} */ (layers)));\r\n    };\r\n    CatalogBrowserComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-catalog-browser',\r\n                    template: \"<igo-list [navigation]=\\\"false\\\" [selection]=\\\"false\\\">\\r\\n  <ng-template ngFor let-item [ngForOf]=\\\"store.view.all$() | async\\\">\\r\\n    <ng-container *ngIf=\\\"isGroup(item)\\\">\\r\\n      <igo-catalog-browser-group\\r\\n        [catalog]=\\\"catalog\\\"\\r\\n        [group]=\\\"item\\\"\\r\\n        [state]=\\\"store.state\\\"\\r\\n        [toggleCollapsed]=\\\"toggleCollapsedGroup\\\"\\r\\n        (addedChange)=\\\"onGroupAddedChange($event)\\\"\\r\\n        (layerAddedChange)=\\\"onLayerAddedChange($event)\\\">\\r\\n      </igo-catalog-browser-group>\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container *ngIf=\\\"isLayer(item)\\\">\\r\\n      <igo-catalog-browser-layer\\r\\n        igoListItem\\r\\n        [layer]=\\\"item\\\"\\r\\n        [added]=\\\"store.state.get(item).added\\\"\\r\\n        [disabled]=\\\"store.state.get(item).added\\\"\\r\\n        (addedChange)=\\\"onLayerAddedChange($event)\\\">\\r\\n      </igo-catalog-browser-layer>\\r\\n    </ng-container>\\r\\n  </ng-template>\\r\\n</igo-list>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    CatalogBrowserComponent.ctorParameters = function () { return [\r\n        { type: LayerService },\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    CatalogBrowserComponent.propDecorators = {\r\n        catalog: [{ type: Input }],\r\n        store: [{ type: Input }],\r\n        map: [{ type: Input }],\r\n        toggleCollapsedGroup: [{ type: Input }]\r\n    };\r\n    return CatalogBrowserComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Catalog browser layer item\r\n */\r\nvar CatalogBrowserLayerComponent = /** @class */ (function () {\r\n    function CatalogBrowserLayerComponent() {\r\n        /**\r\n         * Event emitted when the add/remove button is clicked\r\n         */\r\n        this.addedChange = new EventEmitter();\r\n    }\r\n    Object.defineProperty(CatalogBrowserLayerComponent.prototype, \"title\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return getEntityTitle(this.layer); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CatalogBrowserLayerComponent.prototype, \"icon\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return getEntityIcon(this.layer) || 'layers'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * On toggle button click, emit the added change event\r\n     * @internal\r\n     */\r\n    /**\r\n     * On toggle button click, emit the added change event\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserLayerComponent.prototype.onToggleClick = /**\r\n     * On toggle button click, emit the added change event\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.added ? this.remove() : this.add();\r\n    };\r\n    /**\r\n     * Emit added change event with added = true\r\n     */\r\n    /**\r\n     * Emit added change event with added = true\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserLayerComponent.prototype.add = /**\r\n     * Emit added change event with added = true\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.added = true;\r\n        this.addedChange.emit({ added: true, layer: this.layer });\r\n    };\r\n    /**\r\n     * Emit added change event with added = false\r\n     */\r\n    /**\r\n     * Emit added change event with added = false\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserLayerComponent.prototype.remove = /**\r\n     * Emit added change event with added = false\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.added = false;\r\n        this.addedChange.emit({ added: false, layer: this.layer });\r\n    };\r\n    CatalogBrowserLayerComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-catalog-browser-layer',\r\n                    template: \"<mat-list-item>\\r\\n  <mat-icon mat-list-avatar svgIcon=\\\"{{icon}}\\\"></mat-icon>\\r\\n  <h4 mat-line>{{title}}</h4>\\r\\n\\r\\n  <igo-metadata-button [layer]=\\\"layer\\\"></igo-metadata-button>\\r\\n\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    tooltip-position=\\\"below\\\"\\r\\n    matTooltipShowDelay=\\\"500\\\"\\r\\n    [matTooltip]=\\\"(added ? 'igo.geo.catalog.layer.removeFromMap' : 'igo.geo.catalog.layer.addToMap') | translate\\\"\\r\\n    [color]=\\\"added ? 'warn' : ''\\\"\\r\\n    (click)=\\\"onToggleClick()\\\">\\r\\n    <mat-icon [svgIcon]=\\\"added ? 'delete' : 'plus'\\\"></mat-icon>\\r\\n  </button>\\r\\n\\r\\n</mat-list-item>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    CatalogBrowserLayerComponent.ctorParameters = function () { return []; };\r\n    CatalogBrowserLayerComponent.propDecorators = {\r\n        layer: [{ type: Input }],\r\n        added: [{ type: Input }],\r\n        addedChange: [{ type: Output }]\r\n    };\r\n    return CatalogBrowserLayerComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Catalog browser group item\r\n */\r\nvar CatalogBrowserGroupComponent = /** @class */ (function () {\r\n    function CatalogBrowserGroupComponent() {\r\n        /**\r\n         * Group's items store\r\n         * \\@internal\r\n         */\r\n        this.store = new EntityStore([]);\r\n        /**\r\n         * Whether all the layers of the group are added\r\n         * \\@internal\r\n         */\r\n        this.added$ = new BehaviorSubject(false);\r\n        /**\r\n         * Whether the toggle button is disabled\r\n         * \\@internal\r\n         */\r\n        this.disabled$ = new BehaviorSubject(false);\r\n        /**\r\n         * Whether the group is collapsed\r\n         */\r\n        this.collapsed = true;\r\n        /**\r\n         * Whether the group can be toggled when it's collapsed\r\n         */\r\n        this.toggleCollapsed = true;\r\n        /**\r\n         * Event emitted when the add/remove button of the group is clicked\r\n         */\r\n        this.addedChange = new EventEmitter();\r\n        /**\r\n         * Event emitted when the add/remove button of a layer is clicked\r\n         */\r\n        this.layerAddedChange = new EventEmitter();\r\n    }\r\n    Object.defineProperty(CatalogBrowserGroupComponent.prototype, \"title\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.group.title;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.ngOnInit = /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.store.load(this.group.items);\r\n        this.evaluateAdded();\r\n        this.evaluateDisabled(this.collapsed);\r\n        if (this.catalog && this.catalog.sortDirection !== undefined) {\r\n            this.store.view.sort({\r\n                direction: this.catalog.sortDirection,\r\n                valueAccessor: (/**\r\n                 * @param {?} item\r\n                 * @return {?}\r\n                 */\r\n                function (item) { return item.title; })\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.store.destroy();\r\n    };\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.isGroup = /**\r\n     * \\@internal\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        return item.type === CatalogItemType.Group;\r\n    };\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.isLayer = /**\r\n     * \\@internal\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        return item.type === CatalogItemType.Layer;\r\n    };\r\n    /**\r\n     * On toggle button click, emit the added change event\r\n     * @internal\r\n     */\r\n    /**\r\n     * On toggle button click, emit the added change event\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.onToggleClick = /**\r\n     * On toggle button click, emit the added change event\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.added$.value ? this.remove() : this.add();\r\n    };\r\n    /**\r\n     * On toggle button click, emit the added change event\r\n     * @internal\r\n     */\r\n    /**\r\n     * On toggle button click, emit the added change event\r\n     * \\@internal\r\n     * @param {?} collapsed\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.onToggleCollapsed = /**\r\n     * On toggle button click, emit the added change event\r\n     * \\@internal\r\n     * @param {?} collapsed\r\n     * @return {?}\r\n     */\r\n    function (collapsed) {\r\n        this.evaluateDisabled(collapsed);\r\n    };\r\n    /**\r\n     * When a layer is added or removed, evaluate if all the layers of the group\r\n     * are now added or removed. If so, consider that the group itself is added\r\n     * or removed.\r\n     * @internal\r\n     * @param event Layer added change event\r\n     */\r\n    /**\r\n     * When a layer is added or removed, evaluate if all the layers of the group\r\n     * are now added or removed. If so, consider that the group itself is added\r\n     * or removed.\r\n     * \\@internal\r\n     * @param {?} event Layer added change event\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.onLayerAddedChange = /**\r\n     * When a layer is added or removed, evaluate if all the layers of the group\r\n     * are now added or removed. If so, consider that the group itself is added\r\n     * or removed.\r\n     * \\@internal\r\n     * @param {?} event Layer added change event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        this.layerAddedChange.emit(event);\r\n        this.tryToggleGroup(event);\r\n    };\r\n    /**\r\n     * Emit added change event with added = true\r\n     */\r\n    /**\r\n     * Emit added change event with added = true\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.add = /**\r\n     * Emit added change event with added = true\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.added$.next(true);\r\n        this.addedChange.emit({\r\n            added: true,\r\n            group: this.group\r\n        });\r\n    };\r\n    /**\r\n     * Emit added change event with added = true\r\n     */\r\n    /**\r\n     * Emit added change event with added = true\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.remove = /**\r\n     * Emit added change event with added = true\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.added$.next(false);\r\n        this.addedChange.emit({\r\n            added: false,\r\n            group: this.group\r\n        });\r\n    };\r\n    /**\r\n     * If all the layers of the group added or removed, add or remove the group itself.\r\n     * @param event The last layer added change event to occur\r\n     */\r\n    /**\r\n     * If all the layers of the group added or removed, add or remove the group itself.\r\n     * @private\r\n     * @param {?} event The last layer added change event to occur\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.tryToggleGroup = /**\r\n     * If all the layers of the group added or removed, add or remove the group itself.\r\n     * @private\r\n     * @param {?} event The last layer added change event to occur\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var added = event.added;\r\n        /** @type {?} */\r\n        var layer = event.layer;\r\n        /** @type {?} */\r\n        var layersAdded = this.store.view\r\n            .all()\r\n            .filter((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) { return item.id !== layer.id; }))\r\n            .map((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) { return _this.state.get(item).added || false; }));\r\n        if (layersAdded.every((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { return value === added; }))) {\r\n            added ? this.add() : this.remove();\r\n        }\r\n        else if (this.added$.value === true) {\r\n            this.added$.next(false);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.evaluateAdded = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var added = this.store.all().every((/**\r\n         * @param {?} item\r\n         * @return {?}\r\n         */\r\n        function (item) {\r\n            return (_this.state.get(item).added || false) === true;\r\n        }));\r\n        this.added$.next(added);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} collapsed\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserGroupComponent.prototype.evaluateDisabled = /**\r\n     * @private\r\n     * @param {?} collapsed\r\n     * @return {?}\r\n     */\r\n    function (collapsed) {\r\n        /** @type {?} */\r\n        var disabled = false;\r\n        if (this.toggleCollapsed === false) {\r\n            disabled = collapsed;\r\n        }\r\n        this.disabled$.next(disabled);\r\n    };\r\n    CatalogBrowserGroupComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-catalog-browser-group',\r\n                    template: \"<mat-list-item>\\r\\n  <mat-icon\\r\\n    mat-list-avatar\\r\\n    svgIcon=\\\"chevron-up\\\"\\r\\n    igoCollapse\\r\\n    class=\\\"igo-chevron\\\"\\r\\n    [target]=\\\"items\\\"\\r\\n    [collapsed]=\\\"collapsed\\\"\\r\\n    (toggle)=\\\"onToggleCollapsed($event)\\\">\\r\\n  </mat-icon>\\r\\n\\r\\n  <h4 matLine>{{title}}</h4>\\r\\n\\r\\n  <ng-container *ngIf=\\\"added$ | async; else notadded\\\">\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      tooltip-position=\\\"below\\\"\\r\\n      matTooltipShowDelay=\\\"500\\\"\\r\\n      [matTooltip]=\\\"'igo.geo.catalog.group.removeFromMap' | translate\\\"\\r\\n      color=\\\"warn\\\"\\r\\n      [disabled]=\\\"disabled$ | async\\\"\\r\\n      (click)=\\\"onToggleClick()\\\">\\r\\n      <mat-icon svgIcon=\\\"delete\\\"></mat-icon>\\r\\n    </button>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-template #notadded>\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      tooltip-position=\\\"below\\\"\\r\\n      matTooltipShowDelay=\\\"500\\\"\\r\\n      [matTooltip]=\\\"'igo.geo.catalog.group.addToMap' | translate\\\"\\r\\n      [disabled]=\\\"disabled$ | async\\\"\\r\\n      (click)=\\\"onToggleClick()\\\">\\r\\n      <mat-icon svgIcon=\\\"plus\\\"></mat-icon>\\r\\n    </button>\\r\\n  </ng-template>\\r\\n</mat-list-item>\\r\\n\\r\\n<div #items>\\r\\n  <ng-template ngFor let-item [ngForOf]=\\\"store.view.all$() | async\\\">\\r\\n    <ng-container *ngIf=\\\"isGroup(item)\\\"></ng-container>\\r\\n    <ng-container *ngIf=\\\"isLayer(item)\\\">\\r\\n      <igo-catalog-browser-layer\\r\\n        igoListItem\\r\\n        [layer]=\\\"item\\\"\\r\\n        [added]=\\\"state.get(item).added\\\"\\r\\n        [disabled]=\\\"state.get(item).added\\\"\\r\\n        (addedChange)=\\\"onLayerAddedChange($event)\\\">\\r\\n      </igo-catalog-browser-layer>\\r\\n    </ng-container>\\r\\n  </ng-template>\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    CatalogBrowserGroupComponent.propDecorators = {\r\n        catalog: [{ type: Input }],\r\n        group: [{ type: Input }],\r\n        collapsed: [{ type: Input }],\r\n        toggleCollapsed: [{ type: Input }],\r\n        state: [{ type: Input }],\r\n        addedChange: [{ type: Output }],\r\n        layerAddedChange: [{ type: Output }]\r\n    };\r\n    return CatalogBrowserGroupComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoCatalogBrowserModule = /** @class */ (function () {\r\n    function IgoCatalogBrowserModule() {\r\n    }\r\n    IgoCatalogBrowserModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatButtonModule,\r\n                        MatIconModule,\r\n                        MatListModule,\r\n                        MatTooltipModule,\r\n                        IgoLanguageModule,\r\n                        IgoListModule,\r\n                        IgoCollapsibleModule,\r\n                        IgoMetadataModule\r\n                    ],\r\n                    exports: [\r\n                        CatalogBrowserComponent\r\n                    ],\r\n                    declarations: [\r\n                        CatalogBrowserComponent,\r\n                        CatalogBrowserGroupComponent,\r\n                        CatalogBrowserLayerComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoCatalogBrowserModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Component to browse a list of available catalogs\r\n */\r\nvar CatalogLibaryComponent = /** @class */ (function () {\r\n    function CatalogLibaryComponent() {\r\n        /**\r\n         * Event emitted a catalog is selected or unselected\r\n         */\r\n        this.catalogSelectChange = new EventEmitter();\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    CatalogLibaryComponent.prototype.ngOnInit = /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.store.state.clear();\r\n    };\r\n    /**\r\n     * When a catalog is selected, update it's state in the store\r\n     * and emit the catalog select change event\r\n     * @internal\r\n     */\r\n    /**\r\n     * When a catalog is selected, update it's state in the store\r\n     * and emit the catalog select change event\r\n     * \\@internal\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    CatalogLibaryComponent.prototype.onCatalogSelect = /**\r\n     * When a catalog is selected, update it's state in the store\r\n     * and emit the catalog select change event\r\n     * \\@internal\r\n     * @param {?} catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        this.store.state.update(catalog, {\r\n            selected: true,\r\n            focused: true\r\n        }, true);\r\n        this.catalogSelectChange.emit({ selected: true, catalog: catalog });\r\n    };\r\n    CatalogLibaryComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-catalog-library',\r\n                    template: \"<igo-list [navigation]=\\\"false\\\">\\r\\n  <ng-template ngFor let-catalog [ngForOf]=\\\"store.view.all$() | async\\\">\\r\\n    <igo-catalog-library-item\\r\\n      igoListItem\\r\\n      color=\\\"accent\\\"\\r\\n      [map]=\\\"map\\\"\\r\\n      [catalog]=\\\"catalog\\\"\\r\\n      (select)=\\\"onCatalogSelect(catalog)\\\">\\r\\n    </igo-catalog-library-item>\\r\\n  </ng-template>\\r\\n</igo-list>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    CatalogLibaryComponent.propDecorators = {\r\n        store: [{ type: Input }],\r\n        map: [{ type: Input }],\r\n        catalogSelectChange: [{ type: Output }]\r\n    };\r\n    return CatalogLibaryComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Catalog library item\r\n */\r\nvar CatalogLibaryItemComponent = /** @class */ (function () {\r\n    function CatalogLibaryItemComponent() {\r\n    }\r\n    Object.defineProperty(CatalogLibaryItemComponent.prototype, \"title\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return getEntityTitle(this.catalog); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CatalogLibaryItemComponent.prototype, \"icon\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return getEntityIcon(this.catalog) || 'image-multiple'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CatalogLibaryItemComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-catalog-library-item',\r\n                    template: \"<mat-list-item>\\r\\n  <mat-icon mat-list-avatar svgIcon=\\\"{{icon}}\\\"></mat-icon>\\r\\n  <h4 mat-line>{{title}}</h4>\\r\\n</mat-list-item>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    CatalogLibaryItemComponent.propDecorators = {\r\n        catalog: [{ type: Input }],\r\n        map: [{ type: Input }]\r\n    };\r\n    return CatalogLibaryItemComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoCatalogLibraryModule = /** @class */ (function () {\r\n    function IgoCatalogLibraryModule() {\r\n    }\r\n    IgoCatalogLibraryModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatIconModule,\r\n                        MatListModule,\r\n                        MatTooltipModule,\r\n                        IgoListModule\r\n                    ],\r\n                    exports: [\r\n                        CatalogLibaryComponent\r\n                    ],\r\n                    declarations: [\r\n                        CatalogLibaryComponent,\r\n                        CatalogLibaryItemComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoCatalogLibraryModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoCatalogModule = /** @class */ (function () {\r\n    function IgoCatalogModule() {\r\n    }\r\n    IgoCatalogModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatIconModule,\r\n                        MatListModule,\r\n                        MatTooltipModule,\r\n                        IgoListModule,\r\n                        IgoCollapsibleModule\r\n                    ],\r\n                    exports: [\r\n                        IgoCatalogBrowserModule,\r\n                        IgoCatalogLibraryModule\r\n                    ],\r\n                    declarations: []\r\n                },] }\r\n    ];\r\n    return IgoCatalogModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoDataSourceModule = /** @class */ (function () {\r\n    function IgoDataSourceModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoDataSourceModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoDataSourceModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoDataSourceModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    exports: [],\r\n                    declarations: []\r\n                },] }\r\n    ];\r\n    return IgoDataSourceModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar FilterableDataSourcePipe = /** @class */ (function () {\r\n    function FilterableDataSourcePipe() {\r\n    }\r\n    /**\r\n     * @param {?} value\r\n     * @param {?} arg\r\n     * @return {?}\r\n     */\r\n    FilterableDataSourcePipe.prototype.transform = /**\r\n     * @param {?} value\r\n     * @param {?} arg\r\n     * @return {?}\r\n     */\r\n    function (value, arg) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var layers;\r\n        if (arg === 'time') {\r\n            layers = value.filter((/**\r\n             * @param {?} layer\r\n             * @return {?}\r\n             */\r\n            function (layer) {\r\n                /** @type {?} */\r\n                var datasource = (/** @type {?} */ (layer.dataSource));\r\n                return (_this.isTimeFilterable(datasource) &&\r\n                    datasource.options.timeFilter !== undefined &&\r\n                    Object.keys(datasource.options.timeFilter).length);\r\n            }));\r\n        }\r\n        if (arg === 'ogc') {\r\n            layers = value.filter((/**\r\n             * @param {?} layer\r\n             * @return {?}\r\n             */\r\n            function (layer) {\r\n                /** @type {?} */\r\n                var datasource = (/** @type {?} */ (layer.dataSource));\r\n                return _this.isOgcFilterable(datasource);\r\n            }));\r\n        }\r\n        return layers;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} dataSource\r\n     * @return {?}\r\n     */\r\n    FilterableDataSourcePipe.prototype.isTimeFilterable = /**\r\n     * @private\r\n     * @param {?} dataSource\r\n     * @return {?}\r\n     */\r\n    function (dataSource) {\r\n        if (dataSource.options.type !== 'wms') {\r\n            return false;\r\n        }\r\n        return dataSource.options.timeFilterable;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} dataSource\r\n     * @return {?}\r\n     */\r\n    FilterableDataSourcePipe.prototype.isOgcFilterable = /**\r\n     * @private\r\n     * @param {?} dataSource\r\n     * @return {?}\r\n     */\r\n    function (dataSource) {\r\n        if (dataSource.options.ogcFilters &&\r\n            dataSource.options.ogcFilters.enabled) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    FilterableDataSourcePipe.decorators = [\r\n        { type: Pipe, args: [{\r\n                    name: 'filterableDataSource'\r\n                },] }\r\n    ];\r\n    return FilterableDataSourcePipe;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TimeFilterService = /** @class */ (function () {\r\n    function TimeFilterService() {\r\n    }\r\n    /**\r\n     * @param {?} datasource\r\n     * @param {?} date\r\n     * @return {?}\r\n     */\r\n    TimeFilterService.prototype.filterByDate = /**\r\n     * @param {?} datasource\r\n     * @param {?} date\r\n     * @return {?}\r\n     */\r\n    function (datasource, date) {\r\n        /** @type {?} */\r\n        var time;\r\n        /** @type {?} */\r\n        var newdateform;\r\n        /** @type {?} */\r\n        var newdateformStart;\r\n        /** @type {?} */\r\n        var newdateformEnd;\r\n        if (Array.isArray(date)) {\r\n            /** @type {?} */\r\n            var dates = [];\r\n            if (date[0]) {\r\n                newdateformStart = this.reformatDateTime(date[0]);\r\n                dates.push(date[0]);\r\n            }\r\n            if (date[1]) {\r\n                newdateformEnd = this.reformatDateTime(date[1]);\r\n                dates.push(date[1]);\r\n            }\r\n            if (dates.length === 2 && newdateformStart !== newdateformEnd) {\r\n                if (datasource instanceof TileArcGISRestDataSource) {\r\n                    time = newdateformStart + ',' + newdateformEnd;\r\n                }\r\n                else {\r\n                    time = newdateformStart + '/' + newdateformEnd;\r\n                }\r\n            }\r\n            if (newdateformStart === newdateformEnd) {\r\n                time = newdateformStart;\r\n            }\r\n        }\r\n        else if (date) {\r\n            newdateform = this.reformatDateTime(date);\r\n            time = newdateform;\r\n        }\r\n        /** @type {?} */\r\n        var params = { time: time };\r\n        datasource.ol.updateParams(params);\r\n    };\r\n    /**\r\n     * @param {?} datasource\r\n     * @param {?} year\r\n     * @return {?}\r\n     */\r\n    TimeFilterService.prototype.filterByYear = /**\r\n     * @param {?} datasource\r\n     * @param {?} year\r\n     * @return {?}\r\n     */\r\n    function (datasource, year) {\r\n        /** @type {?} */\r\n        var time;\r\n        /** @type {?} */\r\n        var newdateformStart;\r\n        /** @type {?} */\r\n        var newdateformEnd;\r\n        if (Array.isArray(year)) {\r\n            /** @type {?} */\r\n            var years = [];\r\n            if (year[0]) {\r\n                newdateformStart = year[0];\r\n                years.push(year[0]);\r\n            }\r\n            if (year[1]) {\r\n                newdateformEnd = year[1];\r\n                years.push(year[1]);\r\n            }\r\n            if (years.length === 2 && newdateformStart !== newdateformEnd) {\r\n                if (datasource instanceof TileArcGISRestDataSource) {\r\n                    time = newdateformStart + ',' + newdateformEnd;\r\n                }\r\n                else {\r\n                    time = newdateformStart + '/' + newdateformEnd;\r\n                }\r\n            }\r\n            if (newdateformStart === newdateformEnd) {\r\n                time = newdateformStart;\r\n            }\r\n        }\r\n        else if (year) {\r\n            time = year;\r\n        }\r\n        /** @type {?} */\r\n        var params = { time: time };\r\n        datasource.ol.updateParams(params);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    TimeFilterService.prototype.reformatDateTime = /**\r\n     * @private\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        /** @type {?} */\r\n        var year = value.getFullYear();\r\n        /** @type {?} */\r\n        var month = value.getMonth() + 1;\r\n        /** @type {?} */\r\n        var day = value.getUTCDate();\r\n        /** @type {?} */\r\n        var hour = value.getUTCHours();\r\n        /** @type {?} */\r\n        var minute = value.getUTCMinutes();\r\n        if (Number(month) < 10) {\r\n            month = '0' + month;\r\n        }\r\n        if (Number(day) < 10) {\r\n            day = '0' + day;\r\n        }\r\n        if (Number(hour) < 10) {\r\n            hour = '0' + hour;\r\n        }\r\n        if (Number(minute) < 10) {\r\n            minute = '0' + minute;\r\n        }\r\n        return year + '-' + month + '-' + day + 'T' + hour + ':' + minute + ':00Z';\r\n    };\r\n    TimeFilterService.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    TimeFilterService.ctorParameters = function () { return []; };\r\n    return TimeFilterService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar OgcFilterOperatorType = {\r\n    BasicNumericOperator: 'BasicNumericOperator',\r\n    Basic: 'Basic',\r\n    BasicAndSpatial: 'BasicAndSpatial',\r\n    Spatial: 'Spatial',\r\n    All: 'All',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OGCFilterService = /** @class */ (function () {\r\n    function OGCFilterService() {\r\n    }\r\n    /**\r\n     * @param {?} wmsDatasource\r\n     * @param {?} filterString\r\n     * @return {?}\r\n     */\r\n    OGCFilterService.prototype.filterByOgc = /**\r\n     * @param {?} wmsDatasource\r\n     * @param {?} filterString\r\n     * @return {?}\r\n     */\r\n    function (wmsDatasource, filterString) {\r\n        /** @type {?} */\r\n        var appliedFilter = new OgcFilterWriter().formatProcessedOgcFilter(filterString, wmsDatasource.options.params.layers);\r\n        wmsDatasource.ol.updateParams({ filter: appliedFilter });\r\n    };\r\n    /**\r\n     * @param {?} wfsDatasource\r\n     * @return {?}\r\n     */\r\n    OGCFilterService.prototype.setOgcWFSFiltersOptions = /**\r\n     * @param {?} wfsDatasource\r\n     * @return {?}\r\n     */\r\n    function (wfsDatasource) {\r\n        /** @type {?} */\r\n        var options = wfsDatasource.options;\r\n        /** @type {?} */\r\n        var ogcFilterWriter = new OgcFilterWriter();\r\n        if (options.ogcFilters.enabled && options.ogcFilters.filters) {\r\n            options.ogcFilters.filters = ogcFilterWriter.checkIgoFiltersProperties(options.ogcFilters.filters, options.paramsWFS.fieldNameGeometry, true);\r\n            if (!options.ogcFilters.interfaceOgcFilters) {\r\n                options.ogcFilters.interfaceOgcFilters = ogcFilterWriter.defineInterfaceFilterSequence(options.ogcFilters.filters, options.paramsWFS.fieldNameGeometry);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} wmsDatasource\r\n     * @return {?}\r\n     */\r\n    OGCFilterService.prototype.setOgcWMSFiltersOptions = /**\r\n     * @param {?} wmsDatasource\r\n     * @return {?}\r\n     */\r\n    function (wmsDatasource) {\r\n        /** @type {?} */\r\n        var options = wmsDatasource.options;\r\n        /** @type {?} */\r\n        var ogcFilterWriter = new OgcFilterWriter();\r\n        if (options.ogcFilters.enabled && options.ogcFilters.filters) {\r\n            options.ogcFilters.filters = ogcFilterWriter.checkIgoFiltersProperties(options.ogcFilters.filters, options.fieldNameGeometry, true);\r\n            if (!options.ogcFilters.interfaceOgcFilters) {\r\n                options.ogcFilters.interfaceOgcFilters = ogcFilterWriter.defineInterfaceFilterSequence(\r\n                // With some wms server, this param must be set to make spatials call.\r\n                options.ogcFilters.filters, options.fieldNameGeometry);\r\n            }\r\n            this.filterByOgc((/** @type {?} */ (wmsDatasource)), ogcFilterWriter.buildFilter(options.ogcFilters.filters));\r\n            options.filtered = true;\r\n        }\r\n        else {\r\n            options.ogcFilters.filters = undefined;\r\n            options.ogcFilters.interfaceOgcFilters = [];\r\n            options.filtered = false;\r\n        }\r\n    };\r\n    OGCFilterService.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    OGCFilterService.ctorParameters = function () { return []; };\r\n    return OGCFilterService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar DownloadService = /** @class */ (function () {\r\n    function DownloadService(messageService, languageService) {\r\n        this.messageService = messageService;\r\n        this.languageService = languageService;\r\n    }\r\n    /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    DownloadService.prototype.open = /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        /** @type {?} */\r\n        var translate = this.languageService.translate;\r\n        /** @type {?} */\r\n        var title = translate.instant('igo.geo.download.title');\r\n        this.messageService.success(translate.instant('igo.geo.download.start'), title);\r\n        /** @type {?} */\r\n        var DSOptions = layer.dataSource.options;\r\n        if (Object.keys(DSOptions.download).length > 0) {\r\n            if (DSOptions.download.dynamicUrl &&\r\n                DSOptions.download.url === undefined) {\r\n                /** @type {?} */\r\n                var wfsOptions = void 0;\r\n                if (((/** @type {?} */ (layer.dataSource.options))).paramsWFS &&\r\n                    Object.keys(((/** @type {?} */ (layer.dataSource.options))).paramsWFS).length > 0) {\r\n                    wfsOptions = ((/** @type {?} */ (layer.dataSource.options))).paramsWFS;\r\n                }\r\n                else {\r\n                    wfsOptions = ((/** @type {?} */ (layer.dataSource.options))).params;\r\n                }\r\n                /** @type {?} */\r\n                var outputFormatDownload = wfsOptions.outputFormatDownload === undefined\r\n                    ? 'outputformat=' + wfsOptions.outputFormat\r\n                    : 'outputformat=' + wfsOptions.outputFormatDownload;\r\n                /** @type {?} */\r\n                var baseurl = DSOptions.download.dynamicUrl\r\n                    .replace(/&?outputformat=[^&]*/gi, '')\r\n                    .replace(/&?filter=[^&]*/gi, '')\r\n                    .replace(/&?bbox=[^&]*/gi, '');\r\n                /** @type {?} */\r\n                var ogcFilters = ((/** @type {?} */ (layer.dataSource.options))).ogcFilters;\r\n                /** @type {?} */\r\n                var filterQueryString = void 0;\r\n                filterQueryString = new OgcFilterWriter()\r\n                    .handleOgcFiltersAppliedValue(layer.dataSource.options, ogcFilters.geometryName);\r\n                if (!filterQueryString) {\r\n                    // Prevent getting all the features for empty filter\r\n                    filterQueryString = new OgcFilterWriter().buildFilter(undefined, layer.map.getExtent(), new olProjection({ code: layer.map.projection }), ogcFilters.geometryName);\r\n                }\r\n                else {\r\n                    filterQueryString = 'filter=' + filterQueryString;\r\n                }\r\n                window.open(baseurl + \"&\" + filterQueryString + \"&\" + outputFormatDownload, '_blank');\r\n            }\r\n            else if (DSOptions.download) {\r\n                window.open(DSOptions.download.url, '_blank');\r\n            }\r\n        }\r\n    };\r\n    DownloadService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    DownloadService.ctorParameters = function () { return [\r\n        { type: MessageService },\r\n        { type: LanguageService }\r\n    ]; };\r\n    /** @nocollapse */ DownloadService.ngInjectableDef = defineInjectable({ factory: function DownloadService_Factory() { return new DownloadService(inject(MessageService), inject(LanguageService)); }, token: DownloadService, providedIn: \"root\" });\r\n    return DownloadService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar DownloadButtonComponent = /** @class */ (function () {\r\n    function DownloadButtonComponent(downloadService) {\r\n        this.downloadService = downloadService;\r\n        this._color = 'primary';\r\n    }\r\n    Object.defineProperty(DownloadButtonComponent.prototype, \"layer\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._layer;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._layer = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DownloadButtonComponent.prototype, \"color\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._color;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._color = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    DownloadButtonComponent.prototype.openDownload = /**\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        this.downloadService.open(layer);\r\n    };\r\n    Object.defineProperty(DownloadButtonComponent.prototype, \"options\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (!this.layer) {\r\n                return;\r\n            }\r\n            return this.layer.dataSource.options;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DownloadButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-download-button',\r\n                    template: \"<button\\r\\n  *ngIf=\\\"options && options.download && (options.download['dynamicUrl'] || options.download['url']) \\\"\\r\\n  mat-icon-button\\r\\n  tooltip-position=\\\"below\\\"\\r\\n  matTooltipShowDelay=\\\"500\\\"\\r\\n  [matTooltip]=\\\"'igo.geo.download.action' | translate\\\"\\r\\n  [color]=\\\"color\\\"\\r\\n  (click)=\\\"openDownload(layer)\\\">\\r\\n  <mat-icon svgIcon=\\\"download\\\"></mat-icon>\\r\\n</button>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    DownloadButtonComponent.ctorParameters = function () { return [\r\n        { type: DownloadService }\r\n    ]; };\r\n    DownloadButtonComponent.propDecorators = {\r\n        layer: [{ type: Input }],\r\n        color: [{ type: Input }]\r\n    };\r\n    return DownloadButtonComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoDownloadModule = /** @class */ (function () {\r\n    function IgoDownloadModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoDownloadModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoDownloadModule\r\n        };\r\n    };\r\n    IgoDownloadModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    exports: [DownloadButtonComponent],\r\n                    declarations: [DownloadButtonComponent]\r\n                },] }\r\n    ];\r\n    return IgoDownloadModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar FeatureDetailsComponent = /** @class */ (function () {\r\n    function FeatureDetailsComponent(cdRef, sanitizer) {\r\n        this.cdRef = cdRef;\r\n        this.sanitizer = sanitizer;\r\n    }\r\n    Object.defineProperty(FeatureDetailsComponent.prototype, \"feature\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._feature;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._feature = value;\r\n            this.cdRef.detectChanges();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FeatureDetailsComponent.prototype, \"title\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return getEntityTitle(this.feature);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FeatureDetailsComponent.prototype, \"icon\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return getEntityIcon(this.feature) || 'link';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    FeatureDetailsComponent.prototype.htmlSanitizer = /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        return this.sanitizer.bypassSecurityTrustResourceUrl(value);\r\n    };\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    FeatureDetailsComponent.prototype.isObject = /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        return typeof value === 'object';\r\n    };\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    FeatureDetailsComponent.prototype.isUrl = /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        if (typeof value === 'string') {\r\n            return (value.slice(0, 8) === 'https://' || value.slice(0, 7) === 'http://');\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} feature\r\n     * @return {?}\r\n     */\r\n    FeatureDetailsComponent.prototype.filterFeatureProperties = /**\r\n     * @param {?} feature\r\n     * @return {?}\r\n     */\r\n    function (feature) {\r\n        /** @type {?} */\r\n        var allowedFieldsAndAlias = feature.meta ? feature.meta.alias : undefined;\r\n        /** @type {?} */\r\n        var properties = Object.assign({}, feature.properties);\r\n        if (allowedFieldsAndAlias) {\r\n            Object.keys(properties).forEach((/**\r\n             * @param {?} property\r\n             * @return {?}\r\n             */\r\n            function (property) {\r\n                if (Object.keys(allowedFieldsAndAlias).indexOf(property) === -1) {\r\n                    delete properties[property];\r\n                }\r\n                else {\r\n                    properties[allowedFieldsAndAlias[property]] = properties[property];\r\n                    if (allowedFieldsAndAlias[property] !== property) {\r\n                        delete properties[property];\r\n                    }\r\n                }\r\n            }));\r\n            return properties;\r\n        }\r\n        else {\r\n            return feature.properties;\r\n        }\r\n    };\r\n    FeatureDetailsComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-feature-details',\r\n                    template: \"<table class=\\\"igo-striped\\\" *ngIf=\\\"feature && isObject(feature.properties) && feature.properties.target !== 'iframe'\\\">\\r\\n  <tbody>\\r\\n    <tr *ngFor=\\\"let property of filterFeatureProperties(feature) | keyvalue\\\">\\r\\n\\r\\n      <td *ngIf=\\\"feature.properties.target === '_blank' && property.key === 'url'\\\">\\r\\n        <mat-icon mat-list-avatar svgIcon=\\\"{{icon}}\\\"></mat-icon>\\r\\n      </td>\\r\\n\\r\\n      <td *ngIf=\\\"feature.properties.target === '_blank' && property.key === 'url'\\\">\\r\\n        <a href=\\\"{{property.value}}\\\" target='_blank'> {{ 'igo.geo.targetHtmlUrl' | translate }} {{title}}</a>\\r\\n      </td>\\r\\n\\r\\n      <td *ngIf=\\\"feature.properties.target === undefined\\\">\\r\\n        {{property.key }}\\r\\n      </td>\\r\\n\\r\\n      <td *ngIf=\\\"feature.properties.target === undefined && !isObject(property.value) && !isUrl(property.value)\\\" [innerHTML]=property.value>\\r\\n      </td>\\r\\n\\r\\n      <td *ngIf=\\\"feature.properties.target === undefined && !isObject(property.value) && isUrl(property.value)\\\">\\r\\n        <a href=\\\"{{property.value}}\\\" target='_blank'>{{ 'igo.geo.targetHtmlUrl' | translate }} </a>\\r\\n      </td>\\r\\n\\r\\n      <td *ngIf=\\\"feature.properties.target === undefined && isObject(property.value)\\\" [innerHTML]=\\\"property.value | json\\\">\\r\\n      </td>\\r\\n\\r\\n    </tr>\\r\\n  </tbody>\\r\\n</table>\\r\\n<iframe *ngIf=\\\"feature && isObject(feature.properties) && feature.properties.target === 'iframe'\\\" [src]='htmlSanitizer(feature.properties.url)'></iframe>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"table{width:100%;white-space:nowrap}table td{padding:5px}iframe{height:calc(100% - 4px);width:100%;border:0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    FeatureDetailsComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef },\r\n        { type: DomSanitizer }\r\n    ]; };\r\n    FeatureDetailsComponent.propDecorators = {\r\n        feature: [{ type: Input }]\r\n    };\r\n    return FeatureDetailsComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoFeatureDetailsModule = /** @class */ (function () {\r\n    function IgoFeatureDetailsModule() {\r\n    }\r\n    IgoFeatureDetailsModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatIconModule,\r\n                        IgoLanguageModule,\r\n                        IgoKeyValueModule\r\n                    ],\r\n                    exports: [FeatureDetailsComponent],\r\n                    declarations: [FeatureDetailsComponent]\r\n                },] }\r\n    ];\r\n    return IgoFeatureDetailsModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * A configurable form, optionnally bound to a feature.\r\n * This component creates an entity form and, on submit,\r\n * returns a feature made out of the submitted data. It also\r\n * does things like managing the feature visibility while it's being updated\r\n * as well as disabling the selection of another feature.\r\n */\r\nvar FeatureFormComponent = /** @class */ (function () {\r\n    function FeatureFormComponent() {\r\n        this.feature$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Event emitted when the form is submitted\r\n         */\r\n        this.submitForm = new EventEmitter();\r\n    }\r\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    FeatureFormComponent.prototype.ngOnChanges = /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    function (changes) {\r\n        /** @type {?} */\r\n        var store = changes.store;\r\n        if (store && store.currentValue !== store.previousValue) {\r\n            this.setStore(store.currentValue);\r\n        }\r\n        /** @type {?} */\r\n        var feature = changes.feature;\r\n        if (feature && feature.currentValue !== feature.previousValue) {\r\n            this.feature$.next(feature.currentValue);\r\n        }\r\n    };\r\n    /**\r\n     * Show the original feature and reactivate the selection\r\n     * @internal\r\n     */\r\n    /**\r\n     * Show the original feature and reactivate the selection\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    FeatureFormComponent.prototype.ngOnDestroy = /**\r\n     * Show the original feature and reactivate the selection\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.setStore(undefined);\r\n    };\r\n    /**\r\n     * Transform the form data to a feature and emit an event\r\n     * @param event Form submit event\r\n     * @internal\r\n     */\r\n    /**\r\n     * Transform the form data to a feature and emit an event\r\n     * \\@internal\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    FeatureFormComponent.prototype.onSubmit = /**\r\n     * Transform the form data to a feature and emit an event\r\n     * \\@internal\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var feature = this.formDataToFeature(data);\r\n        this.submitForm.emit(feature);\r\n    };\r\n    /**\r\n     * Transform the form data to a feature\r\n     * @param data Form data\r\n     * @returns A feature\r\n     */\r\n    /**\r\n     * Transform the form data to a feature\r\n     * @private\r\n     * @param {?} data Form data\r\n     * @return {?} A feature\r\n     */\r\n    FeatureFormComponent.prototype.formDataToFeature = /**\r\n     * Transform the form data to a feature\r\n     * @private\r\n     * @param {?} data Form data\r\n     * @return {?} A feature\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var properties = {};\r\n        /** @type {?} */\r\n        var meta = {};\r\n        if (this.feature === undefined) {\r\n            ((/** @type {?} */ (meta))).id = uuid();\r\n        }\r\n        else {\r\n            Object.assign(properties, this.feature.properties);\r\n            Object.assign(meta, this.feature.meta, {\r\n                revision: getEntityRevision(this.feature) + 1\r\n            });\r\n        }\r\n        /** @type {?} */\r\n        var propertyPrefix = 'properties.';\r\n        Object.entries(data).forEach((/**\r\n         * @param {?} entry\r\n         * @return {?}\r\n         */\r\n        function (entry) {\r\n            var _a = __read(entry, 2), key = _a[0], value = _a[1];\r\n            if (key.startsWith(propertyPrefix)) {\r\n                /** @type {?} */\r\n                var property = key.substr(propertyPrefix.length);\r\n                properties[property] = value;\r\n            }\r\n        }));\r\n        /** @type {?} */\r\n        var geometry = data.geometry;\r\n        if (geometry === undefined && this.feature !== undefined) {\r\n            geometry = this.feature.geometry;\r\n        }\r\n        return {\r\n            meta: (/** @type {?} */ (meta)),\r\n            type: FEATURE,\r\n            geometry: geometry,\r\n            projection: 'EPSG:4326',\r\n            properties: properties\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} store\r\n     * @return {?}\r\n     */\r\n    FeatureFormComponent.prototype.setStore = /**\r\n     * @private\r\n     * @param {?} store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        if (this.store !== undefined) {\r\n            this.activateStoreSelection(this.store);\r\n        }\r\n        if (store !== undefined) {\r\n            this.deactivateStoreSelection(store);\r\n        }\r\n        this.store = store;\r\n    };\r\n    /**\r\n     * Deactivate feature selection from the store and from the map\r\n     */\r\n    /**\r\n     * Deactivate feature selection from the store and from the map\r\n     * @private\r\n     * @param {?} store\r\n     * @return {?}\r\n     */\r\n    FeatureFormComponent.prototype.deactivateStoreSelection = /**\r\n     * Deactivate feature selection from the store and from the map\r\n     * @private\r\n     * @param {?} store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        /** @type {?} */\r\n        var selectionStrategy = store.getStrategyOfType(FeatureStoreSelectionStrategy);\r\n        if (selectionStrategy !== undefined) {\r\n            selectionStrategy.deactivate();\r\n            ((/** @type {?} */ (selectionStrategy))).unselectAll();\r\n        }\r\n    };\r\n    /**\r\n     * Reactivate feature selection from the store and from the map\r\n     */\r\n    /**\r\n     * Reactivate feature selection from the store and from the map\r\n     * @private\r\n     * @param {?} store\r\n     * @return {?}\r\n     */\r\n    FeatureFormComponent.prototype.activateStoreSelection = /**\r\n     * Reactivate feature selection from the store and from the map\r\n     * @private\r\n     * @param {?} store\r\n     * @return {?}\r\n     */\r\n    function (store) {\r\n        // TODO: maybe we should recativate the strategies only if they\r\n        // were active in the first place\r\n        store.activateStrategyOfType(FeatureStoreSelectionStrategy);\r\n    };\r\n    FeatureFormComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-feature-form',\r\n                    template: \"\\r\\n<igo-form\\r\\n  [form]=\\\"form\\\"\\r\\n  [formData]=\\\"feature$ | async\\\"\\r\\n  (submitForm)=\\\"onSubmit($event)\\\">\\r\\n\\r\\n  <ng-content></ng-content>\\r\\n  \\r\\n  <ng-content select=\\\"[formButtons]\\\" formButtons></ng-content>\\r\\n  \\r\\n</igo-form>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{display:block}igo-form{height:100%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    FeatureFormComponent.ctorParameters = function () { return []; };\r\n    FeatureFormComponent.propDecorators = {\r\n        form: [{ type: Input }],\r\n        feature: [{ type: Input }],\r\n        store: [{ type: Input }],\r\n        submitForm: [{ type: Output }]\r\n    };\r\n    return FeatureFormComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoFeatureFormModule = /** @class */ (function () {\r\n    function IgoFeatureFormModule() {\r\n    }\r\n    IgoFeatureFormModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoFormModule\r\n                    ],\r\n                    exports: [\r\n                        IgoFormModule,\r\n                        FeatureFormComponent\r\n                    ],\r\n                    declarations: [\r\n                        FeatureFormComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoFeatureFormModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoFeatureModule = /** @class */ (function () {\r\n    function IgoFeatureModule() {\r\n    }\r\n    IgoFeatureModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [\r\n                        IgoFeatureDetailsModule,\r\n                        IgoFeatureFormModule\r\n                    ],\r\n                    declarations: [],\r\n                    providers: []\r\n                },] }\r\n    ];\r\n    return IgoFeatureModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TimeFilterFormComponent = /** @class */ (function () {\r\n    function TimeFilterFormComponent() {\r\n        this.listYears = [];\r\n        this.startListYears = [];\r\n        this.endListYears = [];\r\n        this.playIcon = 'play_circle_filled';\r\n        this.change = new EventEmitter();\r\n        this.yearChange = new EventEmitter();\r\n    }\r\n    Object.defineProperty(TimeFilterFormComponent.prototype, \"options\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._options;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._options = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeFilterFormComponent.prototype, \"currentValue\", {\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            if (value) {\r\n                if (this.type !== 'year') {\r\n                    /** @type {?} */\r\n                    var valueArray = value.split('/');\r\n                    if (valueArray.length > 0) {\r\n                        /** @type {?} */\r\n                        var startDate = new Date(valueArray[0]);\r\n                        /** @type {?} */\r\n                        var endDate = new Date(valueArray[1]);\r\n                        if (!isNaN(startDate.valueOf())) {\r\n                            this.startDate = startDate;\r\n                        }\r\n                        if (!isNaN(endDate.valueOf())) {\r\n                            this.endDate = endDate;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeFilterFormComponent.prototype, \"type\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.type === undefined ? 'date' : this.options.type;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeFilterFormComponent.prototype, \"isRange\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.range === undefined || this.options.style === 'slider'\r\n                ? false\r\n                : this.options.range;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeFilterFormComponent.prototype, \"style\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.style === undefined ? 'slider' : this.options.style;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeFilterFormComponent.prototype, \"step\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var step = 10800000;\r\n            if (this.options.step === undefined) {\r\n                switch (this.type) {\r\n                    case 'date':\r\n                    case 'datetime':\r\n                        step = 10800000;\r\n                        break;\r\n                    case 'time':\r\n                        step = 3600000;\r\n                        break;\r\n                    case 'year':\r\n                        step = 31536000000;\r\n                        break;\r\n                    default:\r\n                        step = 10800000;\r\n                }\r\n            }\r\n            else {\r\n                step = this.getStepDefinition(this.options.step);\r\n            }\r\n            return step;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeFilterFormComponent.prototype, \"timeInterval\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.timeInterval === undefined\r\n                ? 2000\r\n                : this.options.timeInterval;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeFilterFormComponent.prototype, \"min\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.min === undefined\r\n                ? undefined\r\n                : new Date(this.options.min);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeFilterFormComponent.prototype, \"max\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.max === undefined\r\n                ? undefined\r\n                : new Date(this.options.max);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeFilterFormComponent.prototype, \"is\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.range === undefined ? false : this.options.range;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.startDate === undefined) {\r\n            /** @type {?} */\r\n            var utcmin = new Date(this.min);\r\n            this.startDate = new Date(utcmin.getTime() + utcmin.getTimezoneOffset() * 60000);\r\n        }\r\n        if (this.endDate === undefined) {\r\n            /** @type {?} */\r\n            var utcmax = new Date(this.max);\r\n            this.endDate = new Date(utcmax.getTime() + utcmax.getTimezoneOffset() * 60000);\r\n        }\r\n        if (this.startYear === undefined) {\r\n            this.startYear = new Date(this.startDate).getFullYear();\r\n            this.initStartYear = this.startYear;\r\n        }\r\n        if (this.endYear === undefined) {\r\n            this.endYear = new Date(this.endDate).getFullYear();\r\n            this.initEndYear = this.endYear;\r\n        }\r\n        if (!this.isRange) {\r\n            for (var i = this.startYear; i <= this.endYear + 1; i++) {\r\n                this.listYears.push(i);\r\n            }\r\n        }\r\n        else {\r\n            for (var i = this.startYear; i < this.endYear; i++) {\r\n                this.startListYears.push(i);\r\n            }\r\n            for (var i = this.startYear + 1; i <= this.endYear; i++) {\r\n                this.endListYears.push(i);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.handleDateChange = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        this.setupDateOutput();\r\n        this.applyTypeChange();\r\n        // Only if is range, use 2 dates to make the range\r\n        if (this.isRange) {\r\n            this.change.emit([this.startDate, this.endDate]);\r\n        }\r\n        else {\r\n            this.change.emit(this.startDate);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.handleYearChange = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (this.isRange) {\r\n            this.endListYears = [];\r\n            for (var i = this.startYear + 1; i <= this.initEndYear; i++) {\r\n                this.endListYears.push(i);\r\n            }\r\n            this.startListYears = [];\r\n            for (var i = this.initStartYear + 1; i < this.endYear; i++) {\r\n                this.startListYears.push(i);\r\n            }\r\n            this.yearChange.emit([this.startYear, this.endYear]);\r\n        }\r\n        else {\r\n            this.yearChange.emit(this.year);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.handleListYearChange = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        this.handleYearChange([this.startYear, this.endYear]);\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.handleListYearStartChange = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        this.change.emit([this.startDate, this.endDate]);\r\n    };\r\n    /**\r\n     * @param {?} date\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.dateToNumber = /**\r\n     * @param {?} date\r\n     * @return {?}\r\n     */\r\n    function (date) {\r\n        /** @type {?} */\r\n        var newDate;\r\n        if (date) {\r\n            newDate = new Date(date);\r\n        }\r\n        else {\r\n            newDate = new Date(this.min);\r\n        }\r\n        return newDate.getTime();\r\n    };\r\n    /**\r\n     * @param {?} label\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.setSliderThumbLabel = /**\r\n     * @param {?} label\r\n     * @return {?}\r\n     */\r\n    function (label) {\r\n        /** @type {?} */\r\n        var thumbLabel = this.findThumbLabel(this.mySlider._elementRef.nativeElement.childNodes);\r\n        if (thumbLabel) {\r\n            thumbLabel.textContent = label;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} test\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.findThumbLabel = /**\r\n     * @param {?} test\r\n     * @return {?}\r\n     */\r\n    function (test) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var thumbLabel;\r\n        test.forEach((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            if (value.className === 'mat-slider-thumb-label-text') {\r\n                thumbLabel = value;\r\n            }\r\n            if (value.children.length > 0 && !thumbLabel) {\r\n                thumbLabel = _this.findThumbLabel(value.childNodes);\r\n            }\r\n        }), this);\r\n        return thumbLabel;\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.playFilter = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (this.interval) {\r\n            this.stopFilter();\r\n        }\r\n        else {\r\n            this.playIcon = 'pause_circle_filled';\r\n            this.interval = setInterval((/**\r\n             * @param {?} that\r\n             * @return {?}\r\n             */\r\n            function (that) {\r\n                /** @type {?} */\r\n                var newMinDateNumber;\r\n                /** @type {?} */\r\n                var maxDateNumber = new Date(that.max);\r\n                newMinDateNumber =\r\n                    that.date === undefined ? that.min.getTime() : that.date.getTime();\r\n                newMinDateNumber += that.mySlider.step;\r\n                that.date = new Date(newMinDateNumber);\r\n                if (newMinDateNumber > maxDateNumber.getTime()) {\r\n                    that.stopFilter();\r\n                }\r\n                that.handleDateChange({ value: that.date, date: that.date });\r\n            }), this.timeInterval, this);\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.stopFilter = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.interval) {\r\n            clearInterval(this.interval);\r\n        }\r\n        this.interval = undefined;\r\n        this.playIcon = 'play_circle_filled';\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.handleSliderDateChange = /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        this.date = new Date(event.value);\r\n        this.setSliderThumbLabel(this.handleSliderTooltip());\r\n        this.handleDateChange(event);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.handleSliderValue = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.options.current === true || !this.min) {\r\n            /** @type {?} */\r\n            var currentDate = new Date();\r\n            this.date = this.getRoundedDate(currentDate);\r\n        }\r\n        return this.date === undefined ? this.min.getTime() : this.date.getTime();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.handleSliderTooltip = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var label;\r\n        switch (this.type) {\r\n            case 'date':\r\n                label =\r\n                    this.date === undefined\r\n                        ? this.min.toDateString()\r\n                        : this.date.toDateString();\r\n                break;\r\n            case 'time':\r\n                label =\r\n                    this.date === undefined\r\n                        ? this.min.toTimeString()\r\n                        : this.date.toTimeString();\r\n                break;\r\n            // datetime\r\n            default:\r\n                label =\r\n                    this.date === undefined\r\n                        ? this.min.toUTCString()\r\n                        : this.date.toUTCString();\r\n                break;\r\n        }\r\n        return label;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.setupDateOutput = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.style === 'slider') {\r\n            this.startDate = new Date(this.date);\r\n            this.startDate.setSeconds(-(this.step / 1000));\r\n            this.endDate = new Date(this.startDate);\r\n            this.endDate.setSeconds(this.step / 1000);\r\n        }\r\n        else if (!this.isRange && !!this.date) {\r\n            this.endDate = new Date(this.date);\r\n            this.startDate = new Date(this.date);\r\n        }\r\n        else if (this.isRange && (!!this.date || !this.date)) {\r\n            this.startDate =\r\n                this.startDate === undefined ? new Date(this.min) : this.startDate;\r\n            this.endDate =\r\n                this.endDate === undefined ? new Date(this.max) : this.endDate;\r\n        }\r\n        else if (!this.date) {\r\n            this.startDate =\r\n                this.startDate === undefined ? new Date(this.min) : this.startDate;\r\n            this.endDate =\r\n                this.endDate === undefined ? new Date(this.max) : this.endDate;\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.applyTypeChange = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        switch (this.type) {\r\n            case 'date':\r\n                if (this.startDate !== undefined || this.endDate !== undefined) {\r\n                    this.startDate.setHours(0);\r\n                    this.startDate.setMinutes(0);\r\n                    this.startDate.setSeconds(0);\r\n                    this.endDate.setHours(23);\r\n                    this.endDate.setMinutes(59);\r\n                    this.endDate.setSeconds(59);\r\n                }\r\n                break;\r\n            case 'time':\r\n                if (this.style === 'calendar') {\r\n                    if (this.startDate.getDay() !== this.min.getDay()) {\r\n                        /** @type {?} */\r\n                        var selectedHour = this.startDate.getHours();\r\n                        /** @type {?} */\r\n                        var selectedMinute = this.startDate.getMinutes();\r\n                        this.startDate = this.min;\r\n                        this.startDate.setHours(selectedHour);\r\n                        this.startDate.setMinutes(selectedMinute);\r\n                    }\r\n                    if (this.endDate.getDay() !== this.min.getDay()) {\r\n                        /** @type {?} */\r\n                        var selectedHour = this.endDate.getHours();\r\n                        /** @type {?} */\r\n                        var selectedMinute = this.endDate.getMinutes();\r\n                        this.endDate = this.min;\r\n                        this.endDate.setHours(selectedHour);\r\n                        this.endDate.setMinutes(selectedMinute);\r\n                    }\r\n                }\r\n                if (!this.isRange && this.step > 60 * 60 * 1000) {\r\n                    this.startDate.setMinutes(0);\r\n                    this.startDate.setSeconds(0);\r\n                    this.endDate.setMinutes(59);\r\n                    this.endDate.setSeconds(59);\r\n                }\r\n                break;\r\n            // datetime\r\n            default:\r\n            // do nothing\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.getRangeMinDate = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.startDate === undefined ? this.min : this.startDate;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeFilterFormComponent.prototype.getRangeMaxDate = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.endDate === undefined ? this.max : this.endDate;\r\n    };\r\n    /**\r\n     * Round date at a certain time, 10 minutes by Default\r\n     * @param date - Date to Round\r\n     * @param atMinute - round to closest 'atMinute' minute, rounded 10 by default\r\n     * @return the rounded date\r\n     */\r\n    /**\r\n     * Round date at a certain time, 10 minutes by Default\r\n     * @param {?} date - Date to Round\r\n     * @param {?=} atMinute - round to closest 'atMinute' minute, rounded 10 by default\r\n     * @return {?} the rounded date\r\n     */\r\n    TimeFilterFormComponent.prototype.getRoundedDate = /**\r\n     * Round date at a certain time, 10 minutes by Default\r\n     * @param {?} date - Date to Round\r\n     * @param {?=} atMinute - round to closest 'atMinute' minute, rounded 10 by default\r\n     * @return {?} the rounded date\r\n     */\r\n    function (date, atMinute) {\r\n        if (atMinute === void 0) { atMinute = 10; }\r\n        /** @type {?} */\r\n        var coeff = 1000 * 60 * atMinute;\r\n        return new Date(Math.round(date.getTime() / coeff) * coeff);\r\n    };\r\n    /**\r\n     * Get the step (period) definition from the layer dimension tag\r\n     * @param step The step as ISO 8601 example: PT10M for 10 Minutes\r\n     * @return the duration in milliseconds\r\n     */\r\n    /**\r\n     * Get the step (period) definition from the layer dimension tag\r\n     * @param {?} step The step as ISO 8601 example: PT10M for 10 Minutes\r\n     * @return {?} the duration in milliseconds\r\n     */\r\n    TimeFilterFormComponent.prototype.getStepDefinition = /**\r\n     * Get the step (period) definition from the layer dimension tag\r\n     * @param {?} step The step as ISO 8601 example: PT10M for 10 Minutes\r\n     * @return {?} the duration in milliseconds\r\n     */\r\n    function (step) {\r\n        return duration(step).asMilliseconds();\r\n    };\r\n    TimeFilterFormComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-time-filter-form',\r\n                    template: \"<!-- <div *ngIf=\\\"style === 'calendar' && type !=='year'\\\">\\r\\n  <div *ngIf=\\\"!isRange\\\" class=\\\"igo-col igo-col-100 igo-col-100-m\\\">\\r\\n    <mat-form-field>\\r\\n      <mat-datetimepicker-toggle [for]=\\\"datetimePicker\\\" matSuffix></mat-datetimepicker-toggle>\\r\\n      <mat-datetimepicker #datetimePicker type=\\\"{{type}}\\\" openOnFocus=\\\"true\\\" timeInterval=\\\"5\\\"></mat-datetimepicker>\\r\\n      <input matInput autocomplete=\\\"false\\\"\\r\\n        placeholder=\\\"{{'igo.geo.timeFilter.date' | translate}}\\\"\\r\\n        [matDatetimepicker]=\\\"datetimePicker\\\"\\r\\n        [(ngModel)]=\\\"date\\\"\\r\\n        [min]=\\\"min\\\"\\r\\n        [max]=\\\"max\\\"\\r\\n        readonly=\\\"readonly\\\"\\r\\n        (dateChange)=\\\"handleDateChange($event)\\\">\\r\\n    </mat-form-field>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"isRange\\\">\\r\\n    <div class=\\\"igo-col igo-col-100\\\">\\r\\n      <mat-form-field>\\r\\n        <mat-datetimepicker-toggle [for]=\\\"minDatetimePicker\\\" matSuffix></mat-datetimepicker-toggle>\\r\\n        <mat-datetimepicker #minDatetimePicker type=\\\"{{type}}\\\" openOnFocus=\\\"true\\\" timeInterval=\\\"5\\\"></mat-datetimepicker>\\r\\n        <input matInput autocomplete=\\\"false\\\"\\r\\n          placeholder=\\\"{{'igo.geo.timeFilter.startDate' | translate}}\\\"\\r\\n          [matDatetimepicker]=\\\"minDatetimePicker\\\"\\r\\n          [(ngModel)]=\\\"startDate\\\"\\r\\n          [min]=\\\"min\\\"\\r\\n          [max]=\\\"getRangeMaxDate()\\\"\\r\\n          readonly=\\\"readonly\\\"\\r\\n          (input)=\\\"startDate\\\"\\r\\n          (dateChange)=\\\"handleDateChange($event)\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"igo-col igo-col-100\\\">\\r\\n      <mat-form-field>\\r\\n        <mat-datetimepicker-toggle [for]=\\\"maxDatetimePicker\\\" matSuffix></mat-datetimepicker-toggle>\\r\\n        <mat-datetimepicker #maxDatetimePicker type=\\\"{{type}}\\\" openOnFocus=\\\"true\\\" timeInterval=\\\"5\\\"></mat-datetimepicker>\\r\\n        <input matInput autocomplete=\\\"false\\\"\\r\\n          placeholder=\\\"{{'igo.geo.timeFilter.endDate' | translate}}\\\"\\r\\n          [matDatetimepicker]=\\\"maxDatetimePicker\\\"\\r\\n          [(ngModel)]=\\\"endDate\\\"\\r\\n          [min]=\\\"getRangeMinDate()\\\"\\r\\n          [max]=\\\"max\\\"\\r\\n          readonly=\\\"readonly\\\"\\r\\n          (dateChange)=\\\"handleDateChange($event)\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"style === 'calendar' && type ==='year'\\\">\\r\\n\\r\\n  <div *ngIf=\\\"!isRange\\\" class=\\\"igo-col igo-col-100 igo-col-100-m\\\">\\r\\n        <mat-form-field>\\r\\n            <mat-select placeholder=\\\"{{'igo.geo.timeFilter.date' | translate}}\\\" [(ngModel)]=\\\"year\\\" (selectionChange)=\\\"handleYearChange($event)\\\">\\r\\n                  <mat-option [value]=\\\"year\\\" *ngFor=\\\"let year of listYears\\\">{{year}}</mat-option>\\r\\n            </mat-select>\\r\\n        </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"isRange\\\">\\r\\n    <div class=\\\"igo-col igo-col-100\\\">\\r\\n        <mat-form-field>\\r\\n            <mat-select placeholder=\\\"{{'igo.geo.timeFilter.startDate' | translate}}\\\" [(ngModel)]=\\\"startYear\\\" (selectionChange)=\\\"handleYearChange($event)\\\">\\r\\n              <mat-option [value]=\\\"startYear\\\" *ngFor=\\\"let startYear of startListYears\\\">{{startYear}}</mat-option>\\r\\n            </mat-select>\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"igo-col igo-col-100\\\">\\r\\n    <mat-form-field>\\r\\n        <mat-select placeholder=\\\"{{'igo.geo.timeFilter.endDate' | translate}}\\\" [(ngModel)]=\\\"endYear\\\" (selectionChange)=\\\"handleYearChange($event)\\\">\\r\\n              <mat-option [value]=\\\"endYear\\\" *ngFor=\\\"let endYear of endListYears\\\">{{endYear}}</mat-option>\\r\\n        </mat-select>\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\\r\\n  <br>\\r\\n\\r\\n\\r\\n<div *ngIf=\\\"style === 'slider'\\\" class=\\\"igo-col igo-col-100 igo-col-100-m\\\">\\r\\n  <mat-slider\\r\\n      id=\\\"time-slider\\\"\\r\\n      tickInterval=\\\"auto\\\"\\r\\n      step=\\\"{{step}}\\\"\\r\\n      [min]=\\\"dateToNumber(min)\\\"\\r\\n      [max]=\\\"dateToNumber(max)\\\"\\r\\n      [value]=\\\"handleSliderValue()\\\"\\r\\n      thumbLabel\\r\\n      (input)=\\\"handleSliderDateChange($event)\\\"\\r\\n      (selectionChange)=\\\"handleSliderDateChange($event)\\\">\\r\\n  </mat-slider>\\r\\n  <p class=\\\"date-below\\\">{{handleSliderTooltip()}}</p>\\r\\n  <button mat-icon-button color=\\\"primary\\\" (click)=\\\"playFilter($event)\\\">\\r\\n   <mat-icon svgIcon=\\\"{{playIcon}}\\\"></mat-icon>\\r\\n  </button>\\r\\n</div> -->\\r\\n\",\r\n                    styles: [\".igo-layer-filters-container{padding-left:5px}mat-slider>>>div.mat-slider-thumb-label{width:32px;height:32px;margin:0 auto}mat-slider>>>span.mat-slider-thumb-label-text{font-size:8px}#time-slider{width:70%;margin:0 auto}@media only screen and (max-width:450px),only screen and (max-height:450px){#time-slider{width:60%;margin:0 auto}}#playFilterIcon{font-size:32px;cursor:pointer}.date-below{margin:0}mat-form-field{text-align:center}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    TimeFilterFormComponent.ctorParameters = function () { return []; };\r\n    TimeFilterFormComponent.propDecorators = {\r\n        options: [{ type: Input }],\r\n        currentValue: [{ type: Input }],\r\n        change: [{ type: Output }],\r\n        yearChange: [{ type: Output }],\r\n        mySlider: [{ type: ViewChild, args: [MatSlider,] }]\r\n    };\r\n    return TimeFilterFormComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TimeFilterItemComponent = /** @class */ (function () {\r\n    function TimeFilterItemComponent(timeFilterService) {\r\n        this.timeFilterService = timeFilterService;\r\n    }\r\n    Object.defineProperty(TimeFilterItemComponent.prototype, \"layer\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._layer;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._layer = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeFilterItemComponent.prototype, \"datasource\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (this.layer.dataSource));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} year\r\n     * @return {?}\r\n     */\r\n    TimeFilterItemComponent.prototype.handleYearChange = /**\r\n     * @param {?} year\r\n     * @return {?}\r\n     */\r\n    function (year) {\r\n        this.timeFilterService.filterByYear(this.datasource, year);\r\n    };\r\n    /**\r\n     * @param {?} date\r\n     * @return {?}\r\n     */\r\n    TimeFilterItemComponent.prototype.handleDateChange = /**\r\n     * @param {?} date\r\n     * @return {?}\r\n     */\r\n    function (date) {\r\n        this.timeFilterService.filterByDate(this.datasource, date);\r\n    };\r\n    TimeFilterItemComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-time-filter-item',\r\n                    template: \"<mat-list-item>\\r\\n  <mat-icon\\r\\n    class=\\\"igo-chevron\\\"\\r\\n    mat-list-avatar\\r\\n    igoCollapse\\r\\n    [target]=\\\"filters\\\"\\r\\n    [collapsed]=\\\"false\\\"\\r\\n    svgIcon=\\\"chevron-up\\\" >\\r\\n  </mat-icon>\\r\\n  <h4 matLine>{{layer.title}}</h4>\\r\\n</mat-list-item>\\r\\n\\r\\n<div #filters class=\\\"igo-datasource-filters-container\\\">\\r\\n  <igo-time-filter-form\\r\\n    [options]=\\\"datasource.options.timeFilter\\\"\\r\\n    [currentValue]=\\\"datasource.options.params.time\\\"\\r\\n    (change)=\\\"handleDateChange($event)\\\"\\r\\n    (yearChange)=\\\"handleYearChange($event)\\\">\\r\\n  </igo-time-filter-form>\\r\\n</div>\\r\\n\",\r\n                    styles: [\":host{overflow:hidden}.igo-datasource-filters-container{text-align:center;width:100%;display:inline-block}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    TimeFilterItemComponent.ctorParameters = function () { return [\r\n        { type: TimeFilterService }\r\n    ]; };\r\n    TimeFilterItemComponent.propDecorators = {\r\n        layer: [{ type: Input }]\r\n    };\r\n    return TimeFilterItemComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TimeFilterListComponent = /** @class */ (function () {\r\n    function TimeFilterListComponent(cdRef) {\r\n        this.cdRef = cdRef;\r\n        this._layers = [];\r\n    }\r\n    Object.defineProperty(TimeFilterListComponent.prototype, \"layers\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._layers;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._layers = value;\r\n            this.cdRef.detectChanges();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TimeFilterListComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-time-filter-list',\r\n                    template: \"<igo-list [navigation]=\\\"false\\\" [selection]=\\\"false\\\">\\r\\n  <ng-template ngFor let-layer [ngForOf]=\\\"layers | filterableDataSource: 'time'\\\">\\r\\n    <igo-time-filter-item igoListItem [layer]=\\\"layer\\\"></igo-time-filter-item>\\r\\n  </ng-template>\\r\\n</igo-list>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    TimeFilterListComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    TimeFilterListComponent.propDecorators = {\r\n        layers: [{ type: Input }]\r\n    };\r\n    return TimeFilterListComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TimeFilterListBindingDirective = /** @class */ (function () {\r\n    function TimeFilterListBindingDirective(component, mapService) {\r\n        this.mapService = mapService;\r\n        this.component = component;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeFilterListBindingDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        // Override input layers\r\n        this.component.layers = [];\r\n        this.layers$$ = this.mapService.getMap().layers$.subscribe((/**\r\n         * @param {?} layers\r\n         * @return {?}\r\n         */\r\n        function (layers) {\r\n            _this.component.layers = layers;\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeFilterListBindingDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.layers$$.unsubscribe();\r\n    };\r\n    TimeFilterListBindingDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoTimeFilterListBinding]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    TimeFilterListBindingDirective.ctorParameters = function () { return [\r\n        { type: TimeFilterListComponent, decorators: [{ type: Self }] },\r\n        { type: MapService }\r\n    ]; };\r\n    return TimeFilterListBindingDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WktService = /** @class */ (function () {\r\n    function WktService() {\r\n    }\r\n    /**\r\n     * @param {?} wkt\r\n     * @param {?} wktProj\r\n     * @param {?=} featureProj\r\n     * @return {?}\r\n     */\r\n    WktService.prototype.wktToFeature = /**\r\n     * @param {?} wkt\r\n     * @param {?} wktProj\r\n     * @param {?=} featureProj\r\n     * @return {?}\r\n     */\r\n    function (wkt, wktProj, featureProj) {\r\n        if (featureProj === void 0) { featureProj = 'EPSG:3857'; }\r\n        return new olWKT().readFeature(wkt, {\r\n            dataProjection: wktProj,\r\n            featureProjection: featureProj\r\n        });\r\n    };\r\n    /**\r\n     * @param {?} epsgTO\r\n     * @param {?} extent\r\n     * @param {?} extentProj\r\n     * @return {?}\r\n     */\r\n    WktService.prototype.extentToWkt = /**\r\n     * @param {?} epsgTO\r\n     * @param {?} extent\r\n     * @param {?} extentProj\r\n     * @return {?}\r\n     */\r\n    function (epsgTO, extent, extentProj) {\r\n        /** @type {?} */\r\n        var currentExtent = transformExtent(extent, extentProj, epsgTO);\r\n        currentExtent = this.roundCoordinateArray(currentExtent, epsgTO, 0);\r\n        /** @type {?} */\r\n        var wktPoly = \"POLYGON((\\n      \" + extent[0] + \" \" + extent[1] + \",\\n      \" + extent[0] + \" \" + extent[3] + \",\\n      \" + extent[2] + \" \" + extent[3] + \",\\n      \" + extent[2] + \" \" + extent[1] + \",\\n      \" + extent[0] + \" \" + extent[1] + \"))\";\r\n        /** @type {?} */\r\n        var wktLine = \"LINESTRING(\\n      \" + extent[0] + \" \" + extent[1] + \",\\n      \" + extent[0] + \" \" + extent[3] + \",\\n      \" + extent[2] + \" \" + extent[3] + \",\\n      \" + extent[2] + \" \" + extent[1] + \",\\n      \" + extent[0] + \" \" + extent[1] + \")\";\r\n        /** @type {?} */\r\n        var wktMultiPoints = \"MULTIPOINT(\\n        \" + extent[0] + \" \" + extent[1] + \",\\n        \" + extent[0] + \" \" + extent[3] + \",\\n        \" + extent[2] + \" \" + extent[3] + \",\\n        \" + extent[2] + \" \" + extent[1] + \")\";\r\n        return {\r\n            wktPoly: wktPoly,\r\n            wktLine: wktLine,\r\n            wktMultiPoints: wktMultiPoints\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} coordinateArray\r\n     * @param {?} projection\r\n     * @param {?=} decimal\r\n     * @return {?}\r\n     */\r\n    WktService.prototype.roundCoordinateArray = /**\r\n     * @private\r\n     * @param {?} coordinateArray\r\n     * @param {?} projection\r\n     * @param {?=} decimal\r\n     * @return {?}\r\n     */\r\n    function (coordinateArray, projection, decimal) {\r\n        if (decimal === void 0) { decimal = 0; }\r\n        /** @type {?} */\r\n        var lproj = get(projection);\r\n        /** @type {?} */\r\n        var units = lproj.getUnits();\r\n        /** @type {?} */\r\n        var olUnits = ['ft', 'm', 'us-ft'];\r\n        if (olUnits.indexOf(units) !== -1) {\r\n            coordinateArray = this.roundArray(coordinateArray, decimal);\r\n        }\r\n        return coordinateArray;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} array\r\n     * @param {?=} decimal\r\n     * @return {?}\r\n     */\r\n    WktService.prototype.roundArray = /**\r\n     * @private\r\n     * @param {?} array\r\n     * @param {?=} decimal\r\n     * @return {?}\r\n     */\r\n    function (array, decimal) {\r\n        if (decimal === void 0) { decimal = 0; }\r\n        /** @type {?} */\r\n        var x = 0;\r\n        while (x < array.length) {\r\n            array[x] = array[x].toFixed(decimal);\r\n            x++;\r\n        }\r\n        return array;\r\n    };\r\n    /**\r\n     * @param {?} snrc\r\n     * @param {?=} epsgTO\r\n     * @return {?}\r\n     */\r\n    WktService.prototype.snrcToWkt = /**\r\n     * @param {?} snrc\r\n     * @param {?=} epsgTO\r\n     * @return {?}\r\n     */\r\n    function (snrc, epsgTO) {\r\n        if (epsgTO === void 0) { epsgTO = 'EPSG:3857'; }\r\n        snrc = snrc.toLowerCase();\r\n        /** @type {?} */\r\n        var wktPoly;\r\n        /** @type {?} */\r\n        var ew = {\r\n            1: { from: -56, to: -64 },\r\n            2: { from: -64, to: -72 },\r\n            3: { from: -72, to: -80 },\r\n            4: { from: -80, to: -88 },\r\n            5: { from: -88, to: -96 },\r\n            6: { from: -96, to: -104 },\r\n            7: { from: -104, to: -112 },\r\n            8: { from: -112, to: -120 },\r\n            9: { from: -120, to: -128 },\r\n            10: { from: -128, to: -136 }\r\n        };\r\n        /** @type {?} */\r\n        var sn = {\r\n            1: { from: 44, to: 48 },\r\n            2: { from: 48, to: 52 },\r\n            3: { from: 52, to: 56 },\r\n            4: { from: 56, to: 60 },\r\n            5: { from: 60, to: 64 },\r\n            6: { from: 64, to: 68 },\r\n            7: { from: 68, to: 72 },\r\n            8: { from: 72, to: 76 },\r\n            9: { from: 76, to: -128 }\r\n        };\r\n        /** @type {?} */\r\n        var snrc250kIndex = [\r\n            ['m', 'n', 'o', 'p'],\r\n            ['l', 'k', 'j', 'i'],\r\n            ['e', 'f', 'g', 'h'],\r\n            ['d', 'c', 'b', 'a']\r\n        ];\r\n        /** @type {?} */\r\n        var snrc50kIndex = [\r\n            ['13', '14', '15', '16'],\r\n            ['12', '11', '10', '09'],\r\n            ['05', '06', '07', '08'],\r\n            ['04', '03', '02', '01']\r\n        ];\r\n        /** @type {?} */\r\n        var checkSNRC50k = /\\d{2,3}[a-p][0,1][0-9]/gi;\r\n        /** @type {?} */\r\n        var checkSNRC250k = /\\d{2,3}[a-p]/gi;\r\n        /** @type {?} */\r\n        var checkSNRC1m = /\\d{2,3}/gi;\r\n        /** @type {?} */\r\n        var snrc1m = false;\r\n        /** @type {?} */\r\n        var snrc250k = false;\r\n        /** @type {?} */\r\n        var snrc50k = false;\r\n        if (checkSNRC50k.test(snrc)) {\r\n            snrc50k = true;\r\n        }\r\n        else {\r\n            if (checkSNRC250k.test(snrc)) {\r\n                snrc250k = true;\r\n            }\r\n            else {\r\n                if (checkSNRC1m.test(snrc)) {\r\n                    snrc1m = true;\r\n                }\r\n            }\r\n        }\r\n        if (snrc1m) {\r\n            snrc += 'a01';\r\n        }\r\n        else if (snrc250k) {\r\n            snrc += '01';\r\n        }\r\n        if (/\\d{2,3}[a-p][0,1][0-9]/gi.test(snrc)) {\r\n            /** @type {?} */\r\n            var regex1m = /(?=[a-p])/gi;\r\n            /** @type {?} */\r\n            var ar1m = snrc.split(regex1m);\r\n            /** @type {?} */\r\n            var part1m = ar1m[0];\r\n            /** @type {?} */\r\n            var part250k_1 = ar1m[1][0];\r\n            /** @type {?} */\r\n            var part50k_1 = ar1m[1].split(part250k_1)[1];\r\n            /** @type {?} */\r\n            var separator = 1;\r\n            if (part1m.length === 3) {\r\n                separator = 2;\r\n            }\r\n            /** @type {?} */\r\n            var partEW = part1m.substring(0, separator);\r\n            /** @type {?} */\r\n            var partSN = part1m.substring(separator);\r\n            /** @type {?} */\r\n            var unit1mEW = 8;\r\n            /** @type {?} */\r\n            var unit1mSN = 4;\r\n            /** @type {?} */\r\n            var unit250kEW = 2;\r\n            /** @type {?} */\r\n            var unit250kSN = 1;\r\n            /** @type {?} */\r\n            var unit50kEW = 0.5;\r\n            /** @type {?} */\r\n            var unit50kSN = 0.25;\r\n            /** @type {?} */\r\n            var index250kEW_1 = 0;\r\n            /** @type {?} */\r\n            var index250kSN_1 = 0;\r\n            /** @type {?} */\r\n            var index50kEW_1 = 0;\r\n            /** @type {?} */\r\n            var index50kSN_1 = 0;\r\n            snrc250kIndex.forEach((/**\r\n             * @param {?} element\r\n             * @return {?}\r\n             */\r\n            function (element) {\r\n                if (element.indexOf(part250k_1) !== -1) {\r\n                    index250kSN_1 = snrc250kIndex.indexOf(element);\r\n                    index250kEW_1 = element.indexOf(part250k_1);\r\n                }\r\n            }));\r\n            snrc50kIndex.forEach((/**\r\n             * @param {?} element\r\n             * @return {?}\r\n             */\r\n            function (element) {\r\n                if (element.indexOf(part50k_1) !== -1) {\r\n                    index50kSN_1 = snrc50kIndex.indexOf(element);\r\n                    index50kEW_1 = element.indexOf(part50k_1);\r\n                }\r\n            }));\r\n            /** @type {?} */\r\n            var increment250kEW = 0;\r\n            /** @type {?} */\r\n            var increment250kSN = 0;\r\n            /** @type {?} */\r\n            var increment50kEW = 0;\r\n            /** @type {?} */\r\n            var increment50kSN = 0;\r\n            /** @type {?} */\r\n            var unitPerTypeEW = unit1mEW;\r\n            /** @type {?} */\r\n            var unitPerTypeSN = unit1mSN;\r\n            if (snrc250k) {\r\n                increment250kEW = index250kEW_1 * unit250kEW;\r\n                increment250kSN = index250kSN_1 * unit250kSN;\r\n                increment50kEW = 0;\r\n                increment50kSN = 0;\r\n                unitPerTypeEW = unit250kEW;\r\n                unitPerTypeSN = unit250kSN;\r\n            }\r\n            else if (snrc50k) {\r\n                increment250kEW = index250kEW_1 * unit250kEW;\r\n                increment250kSN = index250kSN_1 * unit250kSN;\r\n                increment50kEW = index50kEW_1 * unit50kEW;\r\n                increment50kSN = index50kSN_1 * unit50kSN;\r\n                unitPerTypeEW = unit50kEW;\r\n                unitPerTypeSN = unit50kSN;\r\n            }\r\n            /** @type {?} */\r\n            var coord = {\r\n                ul: [\r\n                    ew[partEW].to + increment250kEW + increment50kEW,\r\n                    sn[partSN].to - increment250kSN - increment50kSN\r\n                ]\r\n            };\r\n            coord.lr = [\r\n                coord.ul[0] + unitPerTypeEW,\r\n                coord.ul[1] - unitPerTypeSN\r\n            ];\r\n            coord.ur = [coord.ul[0], coord.ul[1] - unitPerTypeSN];\r\n            coord.ll = [coord.ul[0] + unitPerTypeEW, coord.ul[1]];\r\n            coord.ul = transform([coord.ul[0], coord.ul[1]], 'EPSG:4326', epsgTO);\r\n            coord.lr = transform([coord.lr[0], coord.lr[1]], 'EPSG:4326', epsgTO);\r\n            coord.ur = transform([coord.ur[0], coord.ur[1]], 'EPSG:4326', epsgTO);\r\n            coord.ll = transform([coord.ll[0], coord.ll[1]], 'EPSG:4326', epsgTO);\r\n            // Rounded coordinate to shorten url in get\r\n            coord.ul = this.roundCoordinateArray(coord.ul, epsgTO, 0);\r\n            coord.lr = this.roundCoordinateArray(coord.lr, epsgTO, 0);\r\n            coord.ur = this.roundCoordinateArray(coord.ur, epsgTO, 0);\r\n            coord.ll = this.roundCoordinateArray(coord.ll, epsgTO, 0);\r\n            wktPoly =\r\n                'POLYGON((' +\r\n                    [\r\n                        coord.ul.join(' '),\r\n                        coord.ur.join(' '),\r\n                        coord.lr.join(' '),\r\n                        coord.ll.join(' '),\r\n                        coord.ul.join(' ')\r\n                    ].join(',') +\r\n                    '))';\r\n            /** @type {?} */\r\n            var wktLine = 'LINESTRING(' +\r\n                [\r\n                    coord.ul.join(' '),\r\n                    coord.ur.join(' '),\r\n                    coord.lr.join(' '),\r\n                    coord.ll.join(' '),\r\n                    coord.ul.join(' ')\r\n                ].join(',') +\r\n                ')';\r\n            /** @type {?} */\r\n            var wktMultiPoints = 'MULTIPOINT(' +\r\n                [\r\n                    coord.ul.join(' '),\r\n                    coord.ur.join(' '),\r\n                    coord.lr.join(' '),\r\n                    coord.ll.join(' ')\r\n                ].join(',') +\r\n                ')';\r\n            return {\r\n                wktPoly: wktPoly,\r\n                wktLine: wktLine,\r\n                wktMultiPoints: wktMultiPoints\r\n            };\r\n        }\r\n    };\r\n    WktService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    WktService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ WktService.ngInjectableDef = defineInjectable({ factory: function WktService_Factory() { return new WktService(); }, token: WktService, providedIn: \"root\" });\r\n    return WktService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OgcFilterFormComponent = /** @class */ (function () {\r\n    function OgcFilterFormComponent(wktService) {\r\n        this.wktService = wktService;\r\n        this.value = '';\r\n        this.color = 'primary';\r\n        this.snrc = '';\r\n        this.baseOverlayName = 'ogcFilterOverlay_';\r\n        // TODO: Filter permitted operator based on wfscapabilities\r\n        // Need to work on regex on XML capabilities because\r\n        // comaparison operator's name varies between WFS servers...\r\n        // Ex: IsNull vs PropertyIsNull vs IsNil ...\r\n        this.ogcFilterOperators = new OgcFilterWriter().operators;\r\n        this.igoSpatialSelectors = [\r\n            {\r\n                type: 'fixedExtent'\r\n            },\r\n            {\r\n                type: 'snrc'\r\n            }\r\n        ];\r\n        // TODO: selectFeature & drawFeature\r\n    }\r\n    Object.defineProperty(OgcFilterFormComponent.prototype, \"activeFilters\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            this.updateField();\r\n            return this.datasource.options.ogcFilters.interfaceOgcFilters.filter((/**\r\n             * @param {?} f\r\n             * @return {?}\r\n             */\r\n            function (f) { return f.active === true; }));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterFormComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.computeAllowedOperators();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterFormComponent.prototype.computeAllowedOperators = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var allowedOperators = this.datasource.options.ogcFilters.allowedOperatorsType;\r\n        /** @type {?} */\r\n        var effectiveOperators = {};\r\n        if (!allowedOperators) {\r\n            allowedOperators = OgcFilterOperatorType.BasicAndSpatial;\r\n        }\r\n        switch (allowedOperators.toLowerCase()) {\r\n            case 'all':\r\n                effectiveOperators = this.ogcFilterOperators;\r\n                break;\r\n            case 'spatial':\r\n                effectiveOperators = {\r\n                    Intersects: { spatial: true, fieldRestrict: [] },\r\n                    Within: { spatial: true, fieldRestrict: [] },\r\n                };\r\n                break;\r\n            case 'basicandspatial':\r\n                effectiveOperators = {\r\n                    PropertyIsEqualTo: { spatial: false, fieldRestrict: [] },\r\n                    PropertyIsNotEqualTo: { spatial: false, fieldRestrict: [] },\r\n                    Intersects: { spatial: true, fieldRestrict: [] },\r\n                    Within: { spatial: true, fieldRestrict: [] },\r\n                };\r\n                break;\r\n            case 'basic':\r\n                effectiveOperators = {\r\n                    PropertyIsEqualTo: { spatial: false, fieldRestrict: [] },\r\n                    PropertyIsNotEqualTo: { spatial: false, fieldRestrict: [] }\r\n                };\r\n                break;\r\n            case 'basicnumeric':\r\n                effectiveOperators = {\r\n                    PropertyIsEqualTo: { spatial: false, fieldRestrict: [] },\r\n                    PropertyIsNotEqualTo: { spatial: false, fieldRestrict: [] },\r\n                    PropertyIsGreaterThan: { spatial: false, fieldRestrict: ['number'] },\r\n                    PropertyIsGreaterThanOrEqualTo: { spatial: false, fieldRestrict: ['number'] },\r\n                    PropertyIsLessThan: { spatial: false, fieldRestrict: ['number'] },\r\n                    PropertyIsLessThanOrEqualTo: { spatial: false, fieldRestrict: ['number'] },\r\n                };\r\n                break;\r\n            default:\r\n                effectiveOperators = {\r\n                    PropertyIsEqualTo: { spatial: false, fieldRestrict: [] },\r\n                    PropertyIsNotEqualTo: { spatial: false, fieldRestrict: [] },\r\n                    Intersects: { spatial: true, fieldRestrict: [] },\r\n                    Within: { spatial: true, fieldRestrict: [] },\r\n                };\r\n        }\r\n        this.ogcFilterOperators = effectiveOperators;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterFormComponent.prototype.updateField = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (!this.datasource.options.sourceFields) {\r\n            return;\r\n        }\r\n        this.fields = this.datasource.options.sourceFields\r\n            .filter((/**\r\n         * @param {?} sf\r\n         * @return {?}\r\n         */\r\n        function (sf) { return (sf.excludeFromOgcFilters === undefined || !sf.excludeFromOgcFilters); }));\r\n        this.fields.filter((/**\r\n         * @param {?} f\r\n         * @return {?}\r\n         */\r\n        function (f) { return f.name === _this.currentFilter.propertyName; }))\r\n            .forEach((/**\r\n         * @param {?} element\r\n         * @return {?}\r\n         */\r\n        function (element) {\r\n            _this.values = element.values !== undefined ? element.values.sort() : [];\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @param {?} filter\r\n     * @param {?} property\r\n     * @return {?}\r\n     */\r\n    OgcFilterFormComponent.prototype.toggleFilterState = /**\r\n     * @param {?} event\r\n     * @param {?} filter\r\n     * @param {?} property\r\n     * @return {?}\r\n     */\r\n    function (event, filter, property) {\r\n        this.updateField();\r\n        if (event.checked) {\r\n            this.datasource.options.ogcFilters.interfaceOgcFilters\r\n                .filter((/**\r\n             * @param {?} f\r\n             * @return {?}\r\n             */\r\n            function (f) { return f.filterid === filter.filterid; }))\r\n                .forEach((/**\r\n             * @param {?} element\r\n             * @return {?}\r\n             */\r\n            function (element) {\r\n                element[property] = true;\r\n            }));\r\n        }\r\n        else {\r\n            this.removeOverlayByID(filter.filterid);\r\n            this.datasource.options.ogcFilters.interfaceOgcFilters\r\n                .filter((/**\r\n             * @param {?} f\r\n             * @return {?}\r\n             */\r\n            function (f) { return f.filterid === filter.filterid; }))\r\n                .forEach((/**\r\n             * @param {?} element\r\n             * @return {?}\r\n             */\r\n            function (element) {\r\n                element[property] = false;\r\n            }));\r\n        }\r\n        this.refreshFilters();\r\n    };\r\n    /**\r\n     * @param {?} filter\r\n     * @return {?}\r\n     */\r\n    OgcFilterFormComponent.prototype.deleteFilter = /**\r\n     * @param {?} filter\r\n     * @return {?}\r\n     */\r\n    function (filter) {\r\n        /** @type {?} */\r\n        var ogcFilters = this.datasource.options.ogcFilters;\r\n        ogcFilters.interfaceOgcFilters = ogcFilters.interfaceOgcFilters.filter((/**\r\n         * @param {?} f\r\n         * @return {?}\r\n         */\r\n        function (f) { return f.filterid !== filter.filterid; }));\r\n        this.removeOverlayByID(filter.filterid);\r\n        this.refreshFilters();\r\n    };\r\n    /**\r\n     * @param {?} filter\r\n     * @param {?} property\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    OgcFilterFormComponent.prototype.changeNumericProperty = /**\r\n     * @param {?} filter\r\n     * @param {?} property\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (filter, property, value) {\r\n        this.changeProperty(filter, property, parseFloat(value));\r\n        this.refreshFilters();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    OgcFilterFormComponent.prototype.removeOverlayByID = /**\r\n     * @private\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        /** @type {?} */\r\n        var overlayId = this.baseOverlayName + id;\r\n        if (this.map.overlay.dataSource.ol.getFeatureById(overlayId)) {\r\n            this.map.overlay.dataSource.ol.removeFeature(this.map.overlay.dataSource.ol.getFeatureById(overlayId));\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} filter\r\n     * @return {?}\r\n     */\r\n    OgcFilterFormComponent.prototype.changeOperator = /**\r\n     * @param {?} filter\r\n     * @return {?}\r\n     */\r\n    function (filter) {\r\n        if (this.ogcFilterOperators[filter.operator].spatial === false) {\r\n            this.removeOverlayByID(filter.filterid);\r\n        }\r\n        this.refreshFilters();\r\n    };\r\n    /**\r\n     * @param {?} filter\r\n     * @param {?} property\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    OgcFilterFormComponent.prototype.changeProperty = /**\r\n     * @param {?} filter\r\n     * @param {?} property\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (filter, property, value) {\r\n        this.datasource.options.ogcFilters.interfaceOgcFilters\r\n            .filter((/**\r\n         * @param {?} f\r\n         * @return {?}\r\n         */\r\n        function (f) { return f.filterid === filter.filterid; }))\r\n            .forEach((/**\r\n         * @param {?} element\r\n         * @return {?}\r\n         */\r\n        function (element) {\r\n            element[property] = value;\r\n        }));\r\n        this.refreshFilters();\r\n    };\r\n    /**\r\n     * @param {?} filter\r\n     * @param {?=} value\r\n     * @return {?}\r\n     */\r\n    OgcFilterFormComponent.prototype.changeGeometry = /**\r\n     * @param {?} filter\r\n     * @param {?=} value\r\n     * @return {?}\r\n     */\r\n    function (filter, value) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var checkSNRC50k = /\\d{2,3}[a-l][0,1][0-9]/gi;\r\n        /** @type {?} */\r\n        var checkSNRC250k = /\\d{2,3}[a-p]/gi;\r\n        /** @type {?} */\r\n        var checkSNRC1m = /\\d{2,3}/gi;\r\n        /** @type {?} */\r\n        var mapProjection = this.map.projection;\r\n        this.removeOverlayByID(filter.filterid);\r\n        this.datasource.options.ogcFilters.interfaceOgcFilters\r\n            .filter((/**\r\n         * @param {?} f\r\n         * @return {?}\r\n         */\r\n        function (f) { return f.filterid === filter.filterid; }))\r\n            .forEach((/**\r\n         * @param {?} element\r\n         * @return {?}\r\n         */\r\n        function (element) {\r\n            /** @type {?} */\r\n            var wktPoly;\r\n            if (filter.igoSpatialSelector === 'snrc') {\r\n                if (value === '' && _this.snrc !== '') {\r\n                    wktPoly = _this.wktService.snrcToWkt(_this.snrc).wktPoly;\r\n                    element.wkt_geometry = wktPoly;\r\n                }\r\n                else if (value !== '' &&\r\n                    (checkSNRC1m.test(value) ||\r\n                        checkSNRC250k.test(value) ||\r\n                        checkSNRC50k.test(value))) {\r\n                    wktPoly = _this.wktService.snrcToWkt(value).wktPoly;\r\n                    element.wkt_geometry = wktPoly;\r\n                }\r\n            }\r\n            else if (filter.igoSpatialSelector === 'fixedExtent') {\r\n                wktPoly = _this.wktService.extentToWkt(mapProjection, _this.map.getExtent(), mapProjection).wktPoly;\r\n                element.wkt_geometry = wktPoly;\r\n            }\r\n        }));\r\n        this.refreshFilters();\r\n    };\r\n    OgcFilterFormComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-ogc-filter-form',\r\n                    template: \"<mat-list-item>\\r\\n\\r\\n  <div class=\\\"igo-col igo-col-90 igo-col-100-m\\\">\\r\\n    <mat-select class=\\\"logical\\\" [disabled]=\\\"!currentFilter.active\\\" (selectionChange)=\\\"refreshFilters()\\\" [(ngModel)]=\\\"currentFilter.parentLogical\\\"\\r\\n      *ngIf=\\\"activeFilters.indexOf(currentFilter) !== 0 && currentFilter.active===true\\\">\\r\\n      <mat-option value=\\\"And\\\">{{'igo.geo.operators.And' | translate}}</mat-option>\\r\\n      <mat-option value=\\\"Or\\\">{{'igo.geo.operators.Or' | translate}}</mat-option>\\r\\n    </mat-select>\\r\\n  </div>\\r\\n  <!-- NON SPATIAL -->\\r\\n  <div class=\\\"igo-col igo-col-90 igo-col-100-m\\\" *ngIf=\\\"(currentFilter.operator !== 'Intersects' && currentFilter.operator !== 'Contains' && currentFilter.operator !== 'Within')\\\">\\r\\n    <span *ngIf=\\\"fields && fields.length > 0 && fields[0].name !== ''\\\">\\r\\n      <mat-select [disabled]=\\\"!currentFilter.active\\\" *ngIf=\\\"['Contains','Intersects','Within'].indexOf(currentFilter.operator) === -1\\\"\\r\\n        [(ngModel)]=\\\"currentFilter.propertyName\\\" tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.sourceFields.selectField' | translate\\\"\\r\\n        (selectionChange)=\\\"updateField()\\\">\\r\\n        <mat-option *ngFor=\\\"let field of fields\\\" [value]=\\\"field.name\\\">{{field.alias}}</mat-option>\\r\\n      </mat-select>\\r\\n    </span>\\r\\n    <span *ngIf=\\\"fields && fields.length === 1 && fields[0].name === ''\\\">\\r\\n      <mat-form-field>\\r\\n        <input [disabled]=\\\"!currentFilter.active\\\" matInput #fieldPerUser (keyup)=\\\"changeProperty(currentFilter,'propertyName',fieldPerUser.value)\\\"\\r\\n          (blur)=\\\"changeProperty(currentFilter,'propertyName',fieldPerUser.value)\\\" [(ngModel)]=\\\"currentFilter.propertyName\\\">\\r\\n\\r\\n        <button mat-button *ngIf=\\\"currentFilter.propertyName\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"currentFilter.propertyName=''\\\">\\r\\n          <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n        </button>\\r\\n      </mat-form-field>\\r\\n\\r\\n    </span>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-col igo-col-90 igo-col-100-m\\\" *ngIf=\\\"(currentFilter.operator !== 'Intersects' && currentFilter.operator !== 'Contains' && currentFilter.operator !== 'Within')\\\">\\r\\n    <mat-select [disabled]=\\\"!currentFilter.active\\\" [(ngModel)]=\\\"currentFilter.operator\\\" (selectionChange)=\\\"changeOperator(currentFilter)\\\">\\r\\n      <mat-option *ngFor=\\\"let operator of ogcFilterOperators | keyvalue\\\" [value]=\\\"operator.key\\\">{{('igo.geo.operators.'+ operator.key) | translate}}</mat-option>\\r\\n    </mat-select>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-col igo-col-90 igo-col-100-m\\\" *ngIf=\\\"(currentFilter.operator !== 'Intersects' && currentFilter.operator !== 'Contains' && currentFilter.operator !== 'Within')\\\">\\r\\n\\r\\n    <!-- PropertyIsEqualTo -->\\r\\n    <span *ngIf=\\\"currentFilter.operator === 'PropertyIsEqualTo' || currentFilter.operator === 'PropertyIsNotEqualTo'\\\">\\r\\n      <mat-form-field>\\r\\n        <input [disabled]=\\\"!currentFilter.active\\\" matInput [matAutocomplete]=\\\"auto\\\" #expressionequalto (keyup)=\\\"changeProperty(currentFilter,'expression',expressionequalto.value)\\\"\\r\\n          (ngModelChange)=\\\"changeProperty(currentFilter,'expression',expressionequalto.value)\\\" [ngModel]=\\\"currentFilter.expression\\\">\\r\\n        <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n          <mat-option *ngFor=\\\"let value of values\\\" [value]=\\\"value\\\">\\r\\n            <span>{{ value }}</span>\\r\\n          </mat-option>\\r\\n        </mat-autocomplete>\\r\\n        <button mat-button *ngIf=\\\"currentFilter.expression\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"currentFilter.expression=''\\\">\\r\\n          <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n        </button>\\r\\n      </mat-form-field>\\r\\n\\r\\n    </span>\\r\\n    <!-- PropertyIsEqualTo  -->\\r\\n\\r\\n\\r\\n    <!-- PropertyIsLike  -->\\r\\n    <span *ngIf=\\\"currentFilter.operator === 'PropertyIsLike'\\\">\\r\\n      <mat-form-field>\\r\\n        <input [disabled]=\\\"!currentFilter.active\\\" matInput [matAutocomplete]=\\\"auto\\\" #pattern (keyup)=\\\"changeProperty(currentFilter,'pattern',pattern.value)\\\"\\r\\n          (ngModelChange)=\\\"changeProperty(currentFilter,'pattern',pattern.value)\\\" [ngModel]=\\\"currentFilter.pattern\\\">\\r\\n        <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n          <mat-option *ngFor=\\\"let value of values\\\" [value]=\\\"value\\\">\\r\\n            <span>{{ value }}</span>\\r\\n          </mat-option>\\r\\n        </mat-autocomplete>\\r\\n        <button mat-button *ngIf=\\\"currentFilter.pattern\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"currentFilter.pattern=''\\\">\\r\\n          <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n        </button>\\r\\n      </mat-form-field>\\r\\n\\r\\n    </span>\\r\\n    <!-- PropertyIsLike  -->\\r\\n\\r\\n    <!-- PropertyIsNull  -->\\r\\n    <span *ngIf=\\\"currentFilter.operator === 'PropertyIsNull'\\\"></span>\\r\\n    <!-- PropertyIsNull  -->\\r\\n\\r\\n    <!-- PropertyIs_Than  -->\\r\\n    <span *ngIf=\\\"currentFilter.operator === 'PropertyIsGreaterThan' || currentFilter.operator === 'PropertyIsGreaterThanOrEqualTo' || currentFilter.operator === 'PropertyIsLessThan' || currentFilter.operator === 'PropertyIsLessThanOrEqualTo'\\\">\\r\\n      <mat-form-field>\\r\\n        <input [disabled]=\\\"!currentFilter.active\\\" matInput [matAutocomplete]=\\\"auto\\\" #expressionthan type=\\\"number\\\" (keyup)=\\\"changeNumericProperty(currentFilter,'expression',expressionthan.value)\\\"\\r\\n          (ngModelChange)=\\\"changeNumericProperty(currentFilter,'expression',expressionthan.value)\\\" [ngModel]=\\\"currentFilter.expression\\\">\\r\\n        <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n          <mat-option *ngFor=\\\"let value of values\\\" [value]=\\\"value\\\">\\r\\n            <span>{{ value }}</span>\\r\\n          </mat-option>\\r\\n        </mat-autocomplete>\\r\\n        <button mat-button *ngIf=\\\"currentFilter.expression\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"currentFilter.expression=''\\\">\\r\\n          <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n        </button>\\r\\n      </mat-form-field>\\r\\n    </span>\\r\\n    <!-- PropertyIs_Than  -->\\r\\n\\r\\n\\r\\n    <!-- PropertyIsBetween -->\\r\\n    <span *ngIf=\\\"currentFilter.operator === 'PropertyIsBetween'\\\">\\r\\n      <mat-form-field>\\r\\n        <input [disabled]=\\\"!currentFilter.active\\\" matInput [matAutocomplete]=\\\"auto\\\" #lowerBoundary type=\\\"number\\\" (keyup)=\\\"changeNumericProperty(currentFilter,'lowerBoundary',lowerBoundary.value)\\\"\\r\\n          (ngModelChange)=\\\"changeNumericProperty(currentFilter,'lowerBoundary',lowerBoundary.value)\\\" [ngModel]=\\\"currentFilter.lowerBoundary\\\">\\r\\n        <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n          <mat-option *ngFor=\\\"let value of values\\\" [value]=\\\"value\\\">\\r\\n            <span>{{ value }}</span>\\r\\n          </mat-option>\\r\\n        </mat-autocomplete>\\r\\n        <button mat-button *ngIf=\\\"currentFilter.lowerBoundary\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"currentFilter.lowerBoundary=''\\\">\\r\\n          <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n        </button>\\r\\n      </mat-form-field>\\r\\n      <mat-form-field>\\r\\n        <input [disabled]=\\\"!currentFilter.active\\\" matInput [matAutocomplete]=\\\"auto\\\" #upperBoundary type=\\\"number\\\" (keyup)=\\\"changeNumericProperty(currentFilter,'upperBoundary',upperBoundary.value)\\\"\\r\\n          (ngModelChange)=\\\"changeNumericProperty(currentFilter,'upperBoundary',upperBoundary.value)\\\" [ngModel]=\\\"currentFilter.upperBoundary\\\">\\r\\n        <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n          <mat-option *ngFor=\\\"let value of values\\\" [value]=\\\"value\\\">\\r\\n            <span>{{ value }}</span>\\r\\n          </mat-option>\\r\\n        </mat-autocomplete>\\r\\n        <button mat-button *ngIf=\\\"currentFilter.upperBoundary\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"currentFilter.upperBoundary=''\\\">\\r\\n          <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n        </button>\\r\\n      </mat-form-field>\\r\\n\\r\\n    </span>\\r\\n    <!-- PropertyIsBetween  -->\\r\\n\\r\\n\\r\\n    <!-- During -->\\r\\n    <span *ngIf=\\\"currentFilter.operator === 'During'\\\">\\r\\n      <mat-form-field>\\r\\n        <input [disabled]=\\\"!currentFilter.active\\\" matInput [matAutocomplete]=\\\"auto\\\" #begin (keyup)=\\\"changeProperty(currentFilter,'begin',begin.value)\\\"\\r\\n          (ngModelChange)=\\\"changeProperty(currentFilter,'begin',begin.value)\\\" [ngModel]=\\\"currentFilter.begin\\\">\\r\\n        <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n          <mat-option *ngFor=\\\"let value of values \\\" [value]=\\\"value\\\">\\r\\n            <span>{{ value }}</span>\\r\\n          </mat-option>\\r\\n        </mat-autocomplete>\\r\\n        <button mat-button *ngIf=\\\"currentFilter.begin\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"currentFilter.begin=''\\\">\\r\\n          <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n        </button>\\r\\n      </mat-form-field>\\r\\n\\r\\n      <mat-form-field>\\r\\n        <input [disabled]=\\\"!currentFilter.active\\\" matInput [matAutocomplete]=\\\"auto\\\" #end (keyup)=\\\"changeProperty(currentFilter,'end',end.value)\\\"\\r\\n          (ngModelChange)=\\\"changeProperty(currentFilter,'end',end.value)\\\" [ngModel]=\\\"currentFilter.end\\\">\\r\\n        <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n          <mat-option *ngFor=\\\"let value of values\\\" [value]=\\\"value\\\">\\r\\n            <span>{{ value }}</span>\\r\\n          </mat-option>\\r\\n        </mat-autocomplete>\\r\\n        <button mat-button *ngIf=\\\"currentFilter.end\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"currentFilter.end=''\\\">\\r\\n          <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n        </button>\\r\\n      </mat-form-field>\\r\\n\\r\\n\\r\\n    </span>\\r\\n    <!-- During  -->\\r\\n  </div>\\r\\n  <!-- NON SPATIAL -->\\r\\n\\r\\n\\r\\n  <!-- PropertySpatial  -->\\r\\n  <div class=\\\"igo-col igo-col-90 igo-col-100-m\\\" *ngIf=\\\"(currentFilter.operator === 'Intersects' || currentFilter.operator === 'Contains' || currentFilter.operator === 'Within')\\\">\\r\\n    <mat-select [disabled]=\\\"!currentFilter.active\\\" [(ngModel)]=\\\"currentFilter.operator\\\" (selectionChange)=\\\"changeOperator(currentFilter)\\\">\\r\\n      <mat-option *ngFor=\\\"let operator of ogcFilterOperators | keyvalue\\\" [value]=\\\"operator.key\\\">{{('igo.geo.operators.'+ operator.key) | translate}}</mat-option>\\r\\n    </mat-select>\\r\\n  </div>\\r\\n  <div class=\\\"igo-col igo-col-90 igo-col-100-m\\\" *ngIf=\\\"(currentFilter.operator === 'Intersects' || currentFilter.operator === 'Contains' || currentFilter.operator === 'Within')\\\">\\r\\n    <mat-select [disabled]=\\\"!currentFilter.active\\\" [(ngModel)]=\\\"currentFilter.igoSpatialSelector\\\" (selectionChange)=\\\"changeGeometry(currentFilter,value)\\\">\\r\\n      <mat-option *ngFor=\\\"let igoSpatialSelector of igoSpatialSelectors\\\" [value]=\\\"igoSpatialSelector.type\\\">{{('igo.geo.spatialSelector.'+ igoSpatialSelector.type) | translate}}</mat-option>\\r\\n    </mat-select>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-col igo-col-90 igo-col-100-m\\\" *ngIf=\\\"(currentFilter.operator === 'Intersects' || currentFilter.operator === 'Contains' || currentFilter.operator === 'Within')\\\">\\r\\n    <button mat-button [disabled]=\\\"!currentFilter.active\\\" *ngIf=\\\"currentFilter.igoSpatialSelector === 'fixedExtent'\\\"\\r\\n      matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"changeGeometry(currentFilter,value)\\\" tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\"\\r\\n      [matTooltip]=\\\"'igo.geo.spatialSelector.btnSetExtent' | translate\\\">\\r\\n      <mat-icon svgIcon=\\\"arrow-expand-all\\\"></mat-icon>\\r\\n    </button>\\r\\n\\r\\n\\r\\n    <mat-form-field *ngIf=\\\"currentFilter.igoSpatialSelector === 'snrc'\\\">\\r\\n      <input matInput #htmlSnrc (keyup)=\\\"changeGeometry(currentFilter,htmlSnrc.value)\\\" (blur)=\\\"changeGeometry(currentFilter,htmlSnrc.value)\\\"\\r\\n        [(ngModel)]=\\\"snrc\\\">\\r\\n      <button mat-button *ngIf=\\\"snrc\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"snrc=''\\\">\\r\\n        <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n      </button>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n  <!-- PropertySpatial  -->\\r\\n\\r\\n  <div class=\\\"igo-col igo-col-100 igo-col-100-m\\\">\\r\\n    <div class=\\\"igo-layer-button-group\\\">\\r\\n      <mat-slide-toggle class=\\\"example-margin\\\" (change)=\\\"toggleFilterState($event,currentFilter,'active')\\\" tooltip-position=\\\"below\\\"\\r\\n        matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.filter.toggleFilterState' | translate\\\" [color]=\\\"color\\\" [checked]=\\\"currentFilter.active\\\"\\r\\n        [disabled]=\\\"disabled\\\">\\r\\n      </mat-slide-toggle>\\r\\n      <button mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.filter.removeFilter' | translate\\\"\\r\\n        color=\\\"warn\\\" (click)=\\\"deleteFilter(currentFilter)\\\">\\r\\n        <mat-icon svgIcon=\\\"delete\\\"></mat-icon>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n  <mat-divider></mat-divider>\\r\\n</mat-list-item>\\r\\n\",\r\n                    styles: [\":host{overflow:hidden}.mat-list-item{height:auto}.mat-list-item>>>div.mat-list-item-content{display:inline-table}.logical{font-weight:700}input,mat-select{margin-top:10px;text-align:center}.igo-layer-actions-container{width:100%;display:inline-block}.igo-layer-actions-container>div{text-align:center}.igo-layer-button-group{float:center;padding:0 3px}@media only screen and (max-width:450px),only screen and (max-height:450px){.igo-layer-button-group{float:none}}mat-icon.disabled{color:rgba(0,0,0,.38)}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    OgcFilterFormComponent.ctorParameters = function () { return [\r\n        { type: WktService }\r\n    ]; };\r\n    OgcFilterFormComponent.propDecorators = {\r\n        refreshFilters: [{ type: Input }],\r\n        datasource: [{ type: Input }],\r\n        map: [{ type: Input }],\r\n        currentFilter: [{ type: Input }]\r\n    };\r\n    return OgcFilterFormComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OgcFilterableFormComponent = /** @class */ (function () {\r\n    function OgcFilterableFormComponent() {\r\n        this.color = 'primary';\r\n    }\r\n    Object.defineProperty(OgcFilterableFormComponent.prototype, \"refreshFunc\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.refreshFilters;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OgcFilterableFormComponent.prototype, \"advancedOgcFilters\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (this.datasource.options.ogcFilters) {\r\n                return this.datasource.options.ogcFilters.advancedOgcFilters;\r\n            }\r\n            return;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OgcFilterableFormComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-ogc-filterable-form',\r\n                    template: \"<igo-list *ngIf=\\\"!advancedOgcFilters\\\" [navigation]=\\\"false\\\" [selection]=\\\"true\\\">\\r\\n  <igo-ogc-filter-toggle-button igoListItem [datasource]=\\\"datasource\\\" [map]=\\\"map\\\" [refreshFilters]=\\\"refreshFunc\\\">\\r\\n  </igo-ogc-filter-toggle-button>\\r\\n</igo-list>\\r\\n\\r\\n<igo-list *ngIf=\\\"advancedOgcFilters\\\" [navigation]=\\\"false\\\" [selection]=\\\"true\\\">\\r\\n  <ng-template ngFor let-currentFilter [ngForOf]=\\\"this.datasource.options.ogcFilters.interfaceOgcFilters\\\">\\r\\n    <igo-ogc-filter-form igoListItem [color]=\\\"color\\\" [currentFilter]=\\\"currentFilter\\\" [datasource]=\\\"datasource\\\"\\r\\n      [map]=\\\"map\\\" [refreshFilters]=\\\"refreshFunc\\\">\\r\\n    </igo-ogc-filter-form>\\r\\n  </ng-template>\\r\\n</igo-list>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    OgcFilterableFormComponent.ctorParameters = function () { return []; };\r\n    OgcFilterableFormComponent.propDecorators = {\r\n        datasource: [{ type: Input }],\r\n        map: [{ type: Input }],\r\n        refreshFilters: [{ type: Input }]\r\n    };\r\n    return OgcFilterableFormComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OgcFilterableItemComponent = /** @class */ (function () {\r\n    function OgcFilterableItemComponent(ogcFilterService, downloadService) {\r\n        this.ogcFilterService = ogcFilterService;\r\n        this.downloadService = downloadService;\r\n        this.color = 'primary';\r\n        this.defaultLogicalParent = 'And';\r\n        this.hasActiveSpatialFilter = false;\r\n        this.filtersAreEditable = true;\r\n        this.filtersCollapsed = true;\r\n        this.hasPushButton = false;\r\n    }\r\n    Object.defineProperty(OgcFilterableItemComponent.prototype, \"refreshFunc\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.refreshFilters.bind(this);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OgcFilterableItemComponent.prototype, \"datasource\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (this.layer.dataSource));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OgcFilterableItemComponent.prototype, \"downloadable\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return ((/** @type {?} */ (this.datasource.options))).download;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterableItemComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var ogcFilters = this.datasource.options.ogcFilters;\r\n        if (ogcFilters.pushButtons &&\r\n            ogcFilters.pushButtons.length > 0) {\r\n            if (ogcFilters.advancedOgcFilters === undefined) {\r\n                ogcFilters.advancedOgcFilters = false;\r\n            }\r\n            this.hasPushButton = true;\r\n        }\r\n        switch (this.datasource.options.type) {\r\n            case 'wms':\r\n                this.ogcFilterService.setOgcWMSFiltersOptions(this.datasource);\r\n                break;\r\n            case 'wfs':\r\n                this.ogcFilterService.setOgcWFSFiltersOptions(this.datasource);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        if (ogcFilters) {\r\n            if (ogcFilters.interfaceOgcFilters) {\r\n                this.lastRunOgcFilter = JSON.parse(JSON.stringify(ogcFilters.interfaceOgcFilters));\r\n                if (ogcFilters.interfaceOgcFilters.filter((/**\r\n                 * @param {?} f\r\n                 * @return {?}\r\n                 */\r\n                function (f) { return f.wkt_geometry; })).length >= 1) {\r\n                    this.hasActiveSpatialFilter = true;\r\n                }\r\n            }\r\n            this.filtersAreEditable = ogcFilters.editable\r\n                ? ogcFilters.editable\r\n                : false;\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterableItemComponent.prototype.addFilterToSequence = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.filtersCollapsed = false;\r\n        /** @type {?} */\r\n        var interfaceOgcFilters = this.datasource.options.ogcFilters.interfaceOgcFilters;\r\n        /** @type {?} */\r\n        var arr = interfaceOgcFilters || [];\r\n        /** @type {?} */\r\n        var lastLevel = arr.length === 0 ? 0 : arr[arr.length - 1].level;\r\n        /** @type {?} */\r\n        var firstFieldName = '';\r\n        if (this.datasource.options.sourceFields.length > 0) {\r\n            firstFieldName =\r\n                this.datasource.options.sourceFields[0].name === undefined\r\n                    ? ''\r\n                    : this.datasource.options.sourceFields[0].name;\r\n        }\r\n        /** @type {?} */\r\n        var fieldNameGeometry;\r\n        /** @type {?} */\r\n        var datasourceOptions = (/** @type {?} */ (this.datasource\r\n            .options));\r\n        if (datasourceOptions.fieldNameGeometry) {\r\n            fieldNameGeometry = datasourceOptions.fieldNameGeometry;\r\n        }\r\n        else if (((/** @type {?} */ (this.datasource.options))).paramsWFS &&\r\n            ((/** @type {?} */ (this.datasource.options))).paramsWFS.fieldNameGeometry) {\r\n            fieldNameGeometry = ((/** @type {?} */ (this.datasource.options))).paramsWFS\r\n                .fieldNameGeometry;\r\n        }\r\n        /** @type {?} */\r\n        var status = arr.length === 0 ? true : false;\r\n        arr.push(new OgcFilterWriter().addInterfaceFilter((/** @type {?} */ ({\r\n            propertyName: firstFieldName,\r\n            operator: 'PropertyIsEqualTo',\r\n            active: status,\r\n            igoSpatialSelector: 'fixedExtent'\r\n        })), fieldNameGeometry, lastLevel, this.defaultLogicalParent));\r\n        this.datasource.options.ogcFilters.interfaceOgcFilters = arr;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterableItemComponent.prototype.openDownload = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.downloadService.open(this.layer);\r\n    };\r\n    /**\r\n     * @param {?=} force\r\n     * @return {?}\r\n     */\r\n    OgcFilterableItemComponent.prototype.refreshFilters = /**\r\n     * @param {?=} force\r\n     * @return {?}\r\n     */\r\n    function (force) {\r\n        if (force === true) {\r\n            this.lastRunOgcFilter = undefined;\r\n        }\r\n        /** @type {?} */\r\n        var ogcFilters = this.datasource.options.ogcFilters;\r\n        /** @type {?} */\r\n        var ogcFilterWriter = new OgcFilterWriter();\r\n        /** @type {?} */\r\n        var activeFilters = ogcFilters.interfaceOgcFilters.filter((/**\r\n         * @param {?} f\r\n         * @return {?}\r\n         */\r\n        function (f) { return f.active === true; }));\r\n        if (activeFilters.length === 0) {\r\n            ogcFilters.filters = undefined;\r\n            ogcFilters.filtered = false;\r\n        }\r\n        if (activeFilters.length > 1) {\r\n            activeFilters[0].parentLogical = activeFilters[1].parentLogical;\r\n        }\r\n        if (activeFilters.filter((/**\r\n         * @param {?} af\r\n         * @return {?}\r\n         */\r\n        function (af) { return ['Contains', 'Intersects', 'Within'].indexOf(af.operator) !== -1; })).length === 0) {\r\n            this.hasActiveSpatialFilter = false;\r\n        }\r\n        else {\r\n            this.hasActiveSpatialFilter = true;\r\n        }\r\n        if (!(JSON.stringify(this.lastRunOgcFilter) === JSON.stringify(activeFilters))) {\r\n            if (this.layer.dataSource.options.type === 'wfs') {\r\n                /** @type {?} */\r\n                var ogcDataSource = this.layer.dataSource;\r\n                /** @type {?} */\r\n                var ogcLayer = ogcDataSource.options.ogcFilters;\r\n                ogcLayer.filters = ogcFilterWriter.rebuiltIgoOgcFilterObjectFromSequence(activeFilters);\r\n                this.layer.dataSource.ol.clear();\r\n            }\r\n            else if (this.layer.dataSource.options.type === 'wms' &&\r\n                ogcFilters.enabled) {\r\n                /** @type {?} */\r\n                var rebuildFilter = '';\r\n                if (activeFilters.length >= 1) {\r\n                    /** @type {?} */\r\n                    var ogcDataSource = this.layer.dataSource;\r\n                    /** @type {?} */\r\n                    var ogcLayer = ogcDataSource.options.ogcFilters;\r\n                    ogcLayer.filters = ogcFilterWriter.rebuiltIgoOgcFilterObjectFromSequence(activeFilters);\r\n                    rebuildFilter = ogcFilterWriter.buildFilter(ogcLayer.filters, undefined, undefined, ((/** @type {?} */ (this.layer.dataSource.options))).fieldNameGeometry);\r\n                }\r\n                this.ogcFilterService.filterByOgc((/** @type {?} */ (this.datasource)), rebuildFilter);\r\n                this.datasource.options.ogcFilters.filtered =\r\n                    activeFilters.length === 0 ? false : true;\r\n            }\r\n            this.lastRunOgcFilter = JSON.parse(JSON.stringify(activeFilters));\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterableItemComponent.prototype.setVisible = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.layer.visible = true;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterableItemComponent.prototype.isAdvancedOgcFilters = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.datasource.options.ogcFilters.advancedOgcFilters;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterableItemComponent.prototype.addFilterDisabled = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return (!this.datasource.options.sourceFields || this.datasource.options.sourceFields.length === 0);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    OgcFilterableItemComponent.prototype.changeOgcFiltersAdvancedOgcFilters = /**\r\n     * @private\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        this.datasource.options.ogcFilters.advancedOgcFilters = value;\r\n    };\r\n    /**\r\n     * @param {?} isAdvancedOgcFilters\r\n     * @return {?}\r\n     */\r\n    OgcFilterableItemComponent.prototype.changeOgcFilterType = /**\r\n     * @param {?} isAdvancedOgcFilters\r\n     * @return {?}\r\n     */\r\n    function (isAdvancedOgcFilters) {\r\n        this.changeOgcFiltersAdvancedOgcFilters(isAdvancedOgcFilters.checked);\r\n        if (isAdvancedOgcFilters.checked) {\r\n            this.refreshFilters(true);\r\n        }\r\n    };\r\n    OgcFilterableItemComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-ogc-filterable-item',\r\n                    template: \"<span *ngIf=\\\"filtersAreEditable\\\">\\r\\n<mat-list-item>\\r\\n\\r\\n  <mat-icon *ngIf=\\\"ogcFiltersHeaderShown\\\" class=\\\"igo-chevron\\\" mat-list-avatar igoCollapse [target]=\\\"ogcFilters\\\" [collapsed]=\\\"filtersCollapsed\\\" svgIcon=\\\"chevron-up\\\">\\r\\n  </mat-icon>\\r\\n  <h4 *ngIf=\\\"ogcFiltersHeaderShown\\\" matLine [matTooltip]=\\\"layer.title\\\" matTooltipShowDelay=\\\"500\\\">{{layer.title}}</h4>\\r\\n  <h4 *ngIf=\\\"!ogcFiltersHeaderShown\\\" matLine></h4>\\r\\n\\r\\n  <span *ngIf=\\\"downloadable && ogcFiltersHeaderShown\\\">\\r\\n    <button mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.download.action' | translate\\\"\\r\\n      [color]=\\\"color\\\" (click)=\\\"openDownload()\\\">\\r\\n      <mat-icon svgIcon=\\\"download\\\"></mat-icon>\\r\\n    </button>\\r\\n  </span>\\r\\n  <button *ngIf=\\\"isAdvancedOgcFilters()\\\" [disabled]=\\\"addFilterDisabled()\\\" mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\"\\r\\n    [matTooltip]=\\\"'igo.geo.filter.addFilter' | translate\\\" [color]=\\\"color\\\" (click)=\\\"addFilterToSequence()\\\">\\r\\n    <mat-icon svgIcon=\\\"plus\\\"></mat-icon>\\r\\n  </button>\\r\\n</mat-list-item>\\r\\n\\r\\n<button *ngIf=\\\"!layer.visible && ogcFiltersHeaderShown\\\" mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.layer.showLayer' | translate\\\"\\r\\ncolor=\\\"warn\\\" (click)=\\\"setVisible()\\\">\\r\\n<mat-icon svgIcon=\\\"error-outline\\\"></mat-icon>\\r\\n</button>\\r\\n\\r\\n<div #ogcFilters class=\\\"igo-datasource-filters-container\\\">\\r\\n  <igo-ogc-filterable-form [datasource]=\\\"datasource\\\" [map]=\\\"map\\\" [refreshFilters]=\\\"refreshFunc\\\">\\r\\n  </igo-ogc-filterable-form>\\r\\n\\r\\n  <mat-checkbox labelPosition='before' *ngIf=\\\"hasPushButton\\\" (change)=\\\"changeOgcFilterType($event)\\\"\\r\\n    [(ngModel)]=\\\"datasource.options.ogcFilters.advancedOgcFilters\\\">\\r\\n    {{'igo.geo.filter.advancedOgcFilters' | translate}}\\r\\n  </mat-checkbox>\\r\\n</div>\\r\\n</span>\\r\\n\",\r\n                    styles: [\":host{overflow:hidden}.igo-datasource-filters-container{text-align:center;width:100%;display:inline-block}mat-icon.disabled{color:rgba(0,0,0,.38)}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    OgcFilterableItemComponent.ctorParameters = function () { return [\r\n        { type: OGCFilterService },\r\n        { type: DownloadService }\r\n    ]; };\r\n    OgcFilterableItemComponent.propDecorators = {\r\n        layer: [{ type: Input }],\r\n        map: [{ type: Input }],\r\n        ogcFiltersHeaderShown: [{ type: Input }]\r\n    };\r\n    return OgcFilterableItemComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OgcFilterableListComponent = /** @class */ (function () {\r\n    function OgcFilterableListComponent() {\r\n    }\r\n    OgcFilterableListComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-ogc-filterable-list',\r\n                    template: \"<igo-list [navigation]=\\\"false\\\" [selection]=\\\"false\\\">\\r\\n  <ng-template ngFor let-layer [ngForOf]=\\\"layers | filterableDataSource: 'ogc'\\\">\\r\\n    <igo-ogc-filterable-item igoListItem [ogcFiltersHeaderShown]=\\\"true\\\" [layer]=\\\"layer\\\" \\r\\n    [map]=\\\"layer.map\\\" ></igo-ogc-filterable-item>\\r\\n  </ng-template>\\r\\n</igo-list>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    OgcFilterableListComponent.ctorParameters = function () { return []; };\r\n    OgcFilterableListComponent.propDecorators = {\r\n        layers: [{ type: Input }],\r\n        map: [{ type: Input }]\r\n    };\r\n    return OgcFilterableListComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OgcFilterableListBindingDirective = /** @class */ (function () {\r\n    function OgcFilterableListBindingDirective(component, mapService) {\r\n        this.mapService = mapService;\r\n        this.component = component;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterableListBindingDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        // Override input layers\r\n        this.component.layers = [];\r\n        this.layers$$ = this.mapService.getMap().layers$.subscribe((/**\r\n         * @param {?} layers\r\n         * @return {?}\r\n         */\r\n        function (layers) {\r\n            _this.component.layers = layers;\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterableListBindingDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.layers$$.unsubscribe();\r\n    };\r\n    OgcFilterableListBindingDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoOgcFilterableListBinding]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    OgcFilterableListBindingDirective.ctorParameters = function () { return [\r\n        { type: OgcFilterableListComponent, decorators: [{ type: Self }] },\r\n        { type: MapService }\r\n    ]; };\r\n    return OgcFilterableListBindingDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OgcFilterButtonComponent = /** @class */ (function () {\r\n    function OgcFilterButtonComponent() {\r\n        this.color = 'primary';\r\n        this.ogcFilterCollapse = false;\r\n    }\r\n    Object.defineProperty(OgcFilterButtonComponent.prototype, \"options\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (!this.layer) {\r\n                return;\r\n            }\r\n            return this.layer.dataSource.options;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterButtonComponent.prototype.toggleOgcFilter = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.layer.isInResolutionsRange) {\r\n            this.ogcFilterCollapse = !this.ogcFilterCollapse;\r\n        }\r\n    };\r\n    OgcFilterButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-ogc-filter-button',\r\n                    template: \"<button *ngIf=\\\"ogcFiltersInLayers && options.ogcFilters && (options.ogcFilters.enabled\\r\\n&& options.ogcFilters.editable)\\\"\\r\\n  mat-icon-button\\r\\n  collapsibleButton\\r\\n  tooltip-position=\\\"below\\\"\\r\\n  matTooltipShowDelay=\\\"500\\\"\\r\\n  [matTooltip]=\\\"'igo.geo.filter.filterBy' | translate\\\"\\r\\n  [color]=\\\"color\\\"\\r\\n  (click)=\\\"toggleOgcFilter()\\\">\\r\\n  <mat-icon\\r\\n    [ngClass]='{disabled: !layer.isInResolutionsRange}'svgIcon=\\\"filter\\\"></mat-icon>\\r\\n</button>\\r\\n\\r\\n<div #ogcFilter class=\\\"igo-layer-actions-container\\\"\\r\\n*ngIf=\\\"options.ogcFilters && (options.ogcFilters.enabled\\r\\n&& options.ogcFilters.editable)\\\">\\r\\n  <igo-ogc-filterable-item\\r\\n    *ngIf=\\\"ogcFilterCollapse && options.ogcFilters.enabled\\\"\\r\\n    igoListItem\\r\\n    [ogcFiltersHeaderShown]=\\\"false\\\"\\r\\n    [map]=\\\"layer.map\\\"\\r\\n    [layer]=\\\"layer\\\">\\r\\n  </igo-ogc-filterable-item>\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    OgcFilterButtonComponent.ctorParameters = function () { return []; };\r\n    OgcFilterButtonComponent.propDecorators = {\r\n        layer: [{ type: Input }],\r\n        map: [{ type: Input }],\r\n        color: [{ type: Input }],\r\n        ogcFiltersInLayers: [{ type: Input }]\r\n    };\r\n    return OgcFilterButtonComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OgcFilterToggleButtonComponent = /** @class */ (function () {\r\n    function OgcFilterToggleButtonComponent(ogcFilterService) {\r\n        this.ogcFilterService = ogcFilterService;\r\n        this.color = 'primary';\r\n        this.pushButtonBundle = [];\r\n        this.ogcFilterWriter = new OgcFilterWriter();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OgcFilterToggleButtonComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.datasource.options.ogcFilters &&\r\n            this.datasource.options.ogcFilters.pushButtons) {\r\n            this.pushButtonBundle = (/** @type {?} */ (this.datasource.options.ogcFilters.pushButtons));\r\n        }\r\n        this.applyFilters();\r\n    };\r\n    /**\r\n     * @param {?} pb\r\n     * @return {?}\r\n     */\r\n    OgcFilterToggleButtonComponent.prototype.getToolTip = /**\r\n     * @param {?} pb\r\n     * @return {?}\r\n     */\r\n    function (pb) {\r\n        /** @type {?} */\r\n        var tt;\r\n        if (pb.tooltip) {\r\n            tt = pb.tooltip;\r\n        }\r\n        return tt || '';\r\n    };\r\n    /**\r\n     * @param {?} pb\r\n     * @return {?}\r\n     */\r\n    OgcFilterToggleButtonComponent.prototype.getButtonColor = /**\r\n     * @param {?} pb\r\n     * @return {?}\r\n     */\r\n    function (pb) {\r\n        /** @type {?} */\r\n        var styles;\r\n        if (pb.color) {\r\n            styles = {\r\n                'background-color': pb.enabled ? \"rgba(\" + pb.color + \")\" : \"rgba(255,255,255,0)\",\r\n            };\r\n        }\r\n        return styles;\r\n    };\r\n    /**\r\n     * @param {?} bundle\r\n     * @return {?}\r\n     */\r\n    OgcFilterToggleButtonComponent.prototype.bundleIsVertical = /**\r\n     * @param {?} bundle\r\n     * @return {?}\r\n     */\r\n    function (bundle) {\r\n        return bundle.vertical ? bundle.vertical : false;\r\n    };\r\n    /**\r\n     * @param {?=} currentOgcPushButton\r\n     * @return {?}\r\n     */\r\n    OgcFilterToggleButtonComponent.prototype.applyFilters = /**\r\n     * @param {?=} currentOgcPushButton\r\n     * @return {?}\r\n     */\r\n    function (currentOgcPushButton) {\r\n        if (currentOgcPushButton) {\r\n            currentOgcPushButton.enabled = !currentOgcPushButton.enabled;\r\n        }\r\n        /** @type {?} */\r\n        var filterQueryString = '';\r\n        /** @type {?} */\r\n        var conditions = [];\r\n        this.pushButtonBundle.map((/**\r\n         * @param {?} buttonBundle\r\n         * @return {?}\r\n         */\r\n        function (buttonBundle) {\r\n            /** @type {?} */\r\n            var bundleCondition = [];\r\n            buttonBundle.ogcPushButtons\r\n                .filter((/**\r\n             * @param {?} ogcpb\r\n             * @return {?}\r\n             */\r\n            function (ogcpb) { return ogcpb.enabled === true; }))\r\n                .forEach((/**\r\n             * @param {?} enabledPb\r\n             * @return {?}\r\n             */\r\n            function (enabledPb) { return bundleCondition.push(enabledPb.filters); }));\r\n            if (bundleCondition.length >= 1) {\r\n                if (bundleCondition.length === 1) {\r\n                    conditions.push(bundleCondition[0]);\r\n                }\r\n                else {\r\n                    conditions.push({ logical: buttonBundle.logical, filters: bundleCondition });\r\n                }\r\n            }\r\n        }));\r\n        if (conditions.length >= 1) {\r\n            filterQueryString = this.ogcFilterWriter\r\n                .buildFilter(conditions.length === 1 ?\r\n                conditions[0] : (/** @type {?} */ ({ logical: 'And', filters: conditions })));\r\n        }\r\n        if (this.datasource.options.type === 'wms') {\r\n            this.ogcFilterService.filterByOgc((/** @type {?} */ (this.datasource)), filterQueryString);\r\n        }\r\n        if (this.datasource.options.type === 'wfs') {\r\n            // TODO: Check how to prevent wfs to refresh when filter icon is pushed...\r\n            this.datasource.ol.clear();\r\n        }\r\n    };\r\n    OgcFilterToggleButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-ogc-filter-toggle-button',\r\n                    template: \"<ng-container *ngFor=\\\"let bundle of pushButtonBundle\\\">\\r\\n        <mat-button-toggle-group appearance=\\\"legacy\\\" vertical={{bundleIsVertical(bundle)}} multiple=\\\"true\\\">\\r\\n            <mat-button-toggle [ngStyle]=\\\"getButtonColor(ogcPushButton)\\\" [checked]=\\\"ogcPushButton.enabled\\\"\\r\\n                (change)=\\\"applyFilters(ogcPushButton)\\\" tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\"\\r\\n                [matTooltip]=\\\"getToolTip(ogcPushButton)\\\" *ngFor=\\\"let ogcPushButton of bundle.ogcPushButtons\\\"\\r\\n                [value]=\\\"ogcPushButton\\\">{{ogcPushButton.title}}\\r\\n            </mat-button-toggle>\\r\\n        </mat-button-toggle-group>\\r\\n</ng-container>\\r\\n\",\r\n                    styles: [\".mat-button-toggle-checked{font-weight:700}.mat-button-toggle-group{margin:5px;flex-wrap:wrap}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    OgcFilterToggleButtonComponent.ctorParameters = function () { return [\r\n        { type: OGCFilterService }\r\n    ]; };\r\n    OgcFilterToggleButtonComponent.propDecorators = {\r\n        refreshFilters: [{ type: Input }],\r\n        datasource: [{ type: Input }],\r\n        map: [{ type: Input }]\r\n    };\r\n    return OgcFilterToggleButtonComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoFilterModule = /** @class */ (function () {\r\n    function IgoFilterModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoFilterModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoFilterModule,\r\n            providers: [\r\n                {\r\n                    provide: MAT_DATE_LOCALE,\r\n                    useValue: 'fr'\r\n                }\r\n            ]\r\n        };\r\n    };\r\n    IgoFilterModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        MatAutocompleteModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatButtonToggleModule,\r\n                        MatCheckboxModule,\r\n                        MatSliderModule,\r\n                        MatSlideToggleModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatOptionModule,\r\n                        MatSelectModule,\r\n                        MatListModule,\r\n                        MatTooltipModule,\r\n                        MatDatepickerModule,\r\n                        MatNativeDateModule,\r\n                        // MatDatetimepickerModule,\r\n                        // MatNativeDatetimeModule,\r\n                        IgoLanguageModule,\r\n                        IgoCollapsibleModule,\r\n                        IgoListModule,\r\n                        IgoKeyValueModule\r\n                    ],\r\n                    exports: [\r\n                        FilterableDataSourcePipe,\r\n                        TimeFilterFormComponent,\r\n                        TimeFilterItemComponent,\r\n                        TimeFilterListComponent,\r\n                        TimeFilterListBindingDirective,\r\n                        OgcFilterFormComponent,\r\n                        OgcFilterButtonComponent,\r\n                        OgcFilterToggleButtonComponent,\r\n                        OgcFilterableFormComponent,\r\n                        OgcFilterableItemComponent,\r\n                        OgcFilterableListComponent,\r\n                        OgcFilterableListBindingDirective\r\n                    ],\r\n                    declarations: [\r\n                        FilterableDataSourcePipe,\r\n                        TimeFilterFormComponent,\r\n                        TimeFilterItemComponent,\r\n                        TimeFilterListComponent,\r\n                        TimeFilterListBindingDirective,\r\n                        OgcFilterFormComponent,\r\n                        OgcFilterButtonComponent,\r\n                        OgcFilterToggleButtonComponent,\r\n                        OgcFilterableFormComponent,\r\n                        OgcFilterableItemComponent,\r\n                        OgcFilterableListComponent,\r\n                        OgcFilterableListBindingDirective\r\n                    ],\r\n                    providers: [TimeFilterService, OGCFilterService]\r\n                },] }\r\n    ];\r\n    return IgoFilterModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This input allows a user to draw a new geometry or to edit\r\n * an existing one on a map.\r\n */\r\nvar GeometryFormFieldComponent = /** @class */ (function () {\r\n    function GeometryFormFieldComponent(cdRef) {\r\n        this.cdRef = cdRef;\r\n        this.geometryType$ = new BehaviorSubject(undefined);\r\n        this.drawGuide$ = new BehaviorSubject(0);\r\n        this.value$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Whether a geometry type toggle should be displayed\r\n         */\r\n        this.geometryTypeField = false;\r\n        /**\r\n         * Available geometry types\r\n         */\r\n        this.geometryTypes = ['Point', 'LineString', 'Polygon'];\r\n        /**\r\n         * Whether a draw guide field should be displayed\r\n         */\r\n        this.drawGuideField = false;\r\n        /**\r\n         * The drawGuide around the mouse pointer to help drawing\r\n         */\r\n        this.drawGuide = null;\r\n        /**\r\n         * Draw guide placeholder\r\n         */\r\n        this.drawGuidePlaceholder = '';\r\n        /**\r\n         * Whether a measure tooltip should be displayed\r\n         */\r\n        this.measure = false;\r\n    }\r\n    Object.defineProperty(GeometryFormFieldComponent.prototype, \"geometryTypeModel\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.geometryType$.value; },\r\n        /**\r\n         * The geometry type model\r\n         */\r\n        set: /**\r\n         * The geometry type model\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { this.geometryType$.next(value); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GeometryFormFieldComponent.prototype, \"drawGuideModel\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.drawGuide$.value; },\r\n        /**\r\n         * The draw guide model\r\n         */\r\n        set: /**\r\n         * The draw guide model\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { this.drawGuide$.next(value); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Set up a value stream\r\n     * @internal\r\n     */\r\n    /**\r\n     * Set up a value stream\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldComponent.prototype.ngOnInit = /**\r\n     * Set up a value stream\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.geometryType$.next(this.geometryType);\r\n        this.drawGuide$.next(this.drawGuide);\r\n        this.value$.next(this.formControl.value ? this.formControl.value : undefined);\r\n        this.value$$ = this.formControl.valueChanges.subscribe((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            _this.value$.next(value ? value : undefined);\r\n        }));\r\n    };\r\n    /**\r\n     * Unsubscribe to the value stream\r\n     * @internal\r\n     */\r\n    /**\r\n     * Unsubscribe to the value stream\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldComponent.prototype.ngOnDestroy = /**\r\n     * Unsubscribe to the value stream\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.value$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @param {?} geometryType\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldComponent.prototype.onGeometryTypeChange = /**\r\n     * @param {?} geometryType\r\n     * @return {?}\r\n     */\r\n    function (geometryType) {\r\n        if (this.value$.value !== undefined) {\r\n            return;\r\n        }\r\n        this.geometryType$.next(geometryType);\r\n    };\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldComponent.prototype.onDrawGuideChange = /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        this.drawGuide$.next(value);\r\n    };\r\n    GeometryFormFieldComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-geometry-form-field',\r\n                    template: \"<igo-geometry-form-field-input\\r\\n  [formControl]=\\\"formControl\\\"\\r\\n  [map]=\\\"map\\\"\\r\\n  [geometryType]=\\\"geometryType$ | async\\\"\\r\\n  [drawGuide]=\\\"drawGuide$ | async\\\"\\r\\n  [measure]=\\\"measure\\\"\\r\\n  [drawStyle]=\\\"drawStyle\\\"\\r\\n  [overlayStyle]=\\\"overlayStyle\\\">\\r\\n</igo-geometry-form-field-input>\\r\\n\\r\\n<div *ngIf=\\\"geometryTypeField\\\" class=\\\"geometry-type-toggle\\\">\\r\\n  <mat-button-toggle-group\\r\\n    [disabled]=\\\"(value$ | async) !== undefined\\\"\\r\\n    [ngModel]=\\\"geometryTypeModel\\\"\\r\\n    (ngModelChange)=\\\"onGeometryTypeChange($event)\\\">\\r\\n    <mat-button-toggle\\r\\n      value=\\\"Point\\\"\\r\\n      [disabled]=\\\"geometryTypes.indexOf('Point') < 0\\\">\\r\\n      {{'igo.geo.geometry.point' | translate}}\\r\\n    </mat-button-toggle>\\r\\n    <mat-button-toggle\\r\\n      value=\\\"LineString\\\"\\r\\n      [disabled]=\\\"geometryTypes.indexOf('LineString') < 0\\\">\\r\\n      {{'igo.geo.geometry.line' | translate}}\\r\\n    </mat-button-toggle>\\r\\n    <mat-button-toggle\\r\\n      value=\\\"Polygon\\\"\\r\\n      [disabled]=\\\"geometryTypes.indexOf('Polygon') < 0\\\">\\r\\n      {{'igo.geo.geometry.polygon' | translate}}\\r\\n    </mat-button-toggle>\\r\\n  </mat-button-toggle-group>\\r\\n</div>\\r\\n\\r\\n<mat-form-field *ngIf=\\\"drawGuideField\\\" class=\\\"draw-guide-field\\\">\\r\\n  <input\\r\\n    matInput\\r\\n    type=\\\"number\\\"\\r\\n    [placeholder]=\\\"drawGuidePlaceholder\\\"\\r\\n    [ngModel]=\\\"drawGuideModel\\\"\\r\\n    (ngModelChange)=\\\"onDrawGuideChange($event)\\\">\\r\\n  <mat-icon\\r\\n    matPrefix\\r\\n    [color]=\\\"'primary'\\\"\\r\\n    svgIcon=\\\"adjust\\\">    \\r\\n  </mat-icon>\\r\\n  <span matSuffix class=\\\"draw-guide-units\\\">{{'igo.geo.measure.meters' | translate}}</span>\\r\\n</mat-form-field>\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{display:block;width:100%}.draw-guide-field,.geometry-type-toggle{width:100%}.geometry-type-toggle{padding:10px;text-align:center}.draw-guide-field mat-icon{margin:0 10px}.draw-guide-units{padding:10px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    GeometryFormFieldComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    GeometryFormFieldComponent.propDecorators = {\r\n        formControl: [{ type: Input }],\r\n        map: [{ type: Input }],\r\n        geometryType: [{ type: Input }],\r\n        geometryTypeField: [{ type: Input }],\r\n        geometryTypes: [{ type: Input }],\r\n        drawGuideField: [{ type: Input }],\r\n        drawGuide: [{ type: Input }],\r\n        drawGuidePlaceholder: [{ type: Input }],\r\n        measure: [{ type: Input }],\r\n        drawStyle: [{ type: Input }],\r\n        overlayStyle: [{ type: Input }]\r\n    };\r\n    /**\r\n     * This input allows a user to draw a new geometry or to edit\r\n     * an existing one on a map.\r\n     */\r\n    GeometryFormFieldComponent = __decorate([\r\n        FormFieldComponent('geometry'),\r\n        __metadata(\"design:paramtypes\", [ChangeDetectorRef])\r\n    ], GeometryFormFieldComponent);\r\n    return GeometryFormFieldComponent;\r\n}());\n\nvar _a, _b;\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar MEASURE_UNIT_AUTO = 'auto';\r\n/** @enum {string} */\r\nvar MeasureType = {\r\n    Length: 'length',\r\n    Area: 'area',\r\n};\r\n/** @enum {string} */\r\nvar MeasureLengthUnit = {\r\n    Meters: 'meters',\r\n    Kilometers: 'kilometers',\r\n    Miles: 'miles',\r\n    Feet: 'feet',\r\n};\r\n/** @type {?} */\r\nvar MeasureLengthUnitAbbreviation = (_a = {},\r\n    _a[MeasureLengthUnit.Meters] = 'm',\r\n    _a[MeasureLengthUnit.Kilometers] = 'km',\r\n    _a[MeasureLengthUnit.Miles] = 'mi',\r\n    _a[MeasureLengthUnit.Feet] = 'ft',\r\n    _a);\r\n/** @enum {string} */\r\nvar MeasureAreaUnit = {\r\n    SquareMeters: 'squareMeters',\r\n    SquareKilometers: 'squareKilometers',\r\n    SquareMiles: 'squareMiles',\r\n    SquareFeet: 'squareFeet',\r\n    Hectares: 'hectares',\r\n    Acres: 'acres',\r\n};\r\n/** @type {?} */\r\nvar MeasureAreaUnitAbbreviation = (_b = {},\r\n    _b[MeasureAreaUnit.SquareMeters] = 'm²',\r\n    _b[MeasureAreaUnit.SquareKilometers] = 'km²',\r\n    _b[MeasureAreaUnit.SquareMiles] = 'mi²',\r\n    _b[MeasureAreaUnit.SquareFeet] = 'ft²',\r\n    _b[MeasureAreaUnit.Hectares] = 'ha',\r\n    _b[MeasureAreaUnit.Acres] = 'ac',\r\n    _b);\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Convert value from meters to kilometers\r\n * @param {?} value Value in meters\r\n * @return {?} Value in kilometers\r\n */\r\nfunction metersToKilometers(value) {\r\n    return value * 0.001;\r\n}\r\n/**\r\n * Convert value from meters to feet\r\n * @param {?} value Value in meters\r\n * @return {?} Value in feet\r\n */\r\nfunction metersToFeet(value) {\r\n    return value * 3.2808;\r\n}\r\n/**\r\n * Convert value from meters to miles\r\n * @param {?} value Value in meters\r\n * @return {?} Value in miles\r\n */\r\nfunction metersToMiles(value) {\r\n    return value * 0.000621;\r\n}\r\n/**\r\n * Convert value from square meters to square kilometers\r\n * @param {?} value Value in square meters\r\n * @return {?} Value in square kilometers\r\n */\r\nfunction squareMetersToSquareKilometers(value) {\r\n    return value * 0.000001;\r\n}\r\n/**\r\n * Convert value from square meters to square miles\r\n * @param {?} value Value in square meters\r\n * @return {?} Value in square miles\r\n */\r\nfunction squareMetersToSquareMiles(value) {\r\n    return value * 0.0000003861;\r\n}\r\n/**\r\n * Convert value from square meters to square feet\r\n * @param {?} value Value in square meters\r\n * @return {?} Value in square feet\r\n */\r\nfunction squareMetersToSquareFeet(value) {\r\n    return value * 10.764;\r\n}\r\n/**\r\n * Convert value from square meters to hectares\r\n * @param {?} value Value in square meters\r\n * @return {?} Value in hectares\r\n */\r\nfunction squareMetersToHectares(value) {\r\n    return value * 0.0001;\r\n}\r\n/**\r\n * Convert value from square meters to acres\r\n * @param {?} value Value in square meters\r\n * @return {?} Value in acres\r\n */\r\nfunction squareMetersToAcres(value) {\r\n    return value * 0.00024711;\r\n}\r\n/**\r\n * Convert value from meters to the specified length unit\r\n * @param {?} value Value in meters\r\n * @param {?} unit Length unit\r\n * @return {?} Value in unit\r\n */\r\nfunction metersToUnit(value, unit) {\r\n    /** @type {?} */\r\n    var conversionMapper = new Map([\r\n        [MeasureLengthUnit.Meters, (/**\r\n             * @param {?} val\r\n             * @return {?}\r\n             */\r\n            function (val) { return val; })],\r\n        [MeasureLengthUnit.Kilometers, metersToKilometers],\r\n        [MeasureLengthUnit.Miles, metersToMiles],\r\n        [MeasureLengthUnit.Feet, metersToFeet],\r\n    ]);\r\n    /** @type {?} */\r\n    var conversion = conversionMapper.get(unit);\r\n    return conversion ? conversion(value) : undefined;\r\n}\r\n/**\r\n * Convert value from square meters to the specified area unit\r\n * @param {?} value Value in meters\r\n * @param {?} unit Area unit\r\n * @return {?} Value in unit\r\n */\r\nfunction squareMetersToUnit(value, unit) {\r\n    /** @type {?} */\r\n    var conversionMapper = new Map([\r\n        [MeasureAreaUnit.SquareMeters, (/**\r\n             * @param {?} val\r\n             * @return {?}\r\n             */\r\n            function (val) { return val; })],\r\n        [MeasureAreaUnit.SquareKilometers, squareMetersToSquareKilometers],\r\n        [MeasureAreaUnit.SquareMiles, squareMetersToSquareMiles],\r\n        [MeasureAreaUnit.SquareFeet, squareMetersToSquareFeet],\r\n        [MeasureAreaUnit.Hectares, squareMetersToHectares],\r\n        [MeasureAreaUnit.Acres, squareMetersToAcres],\r\n    ]);\r\n    /** @type {?} */\r\n    var conversion = conversionMapper.get(unit);\r\n    return conversion ? conversion(value) : undefined;\r\n}\r\n/**\r\n * This method format a measure to a readable format\r\n * @param {?} measure Measure\r\n * @param {?=} options Formatting options\r\n * @return {?} Formatted measure\r\n */\r\nfunction formatMeasure(measure, options) {\r\n    /** @type {?} */\r\n    var decimal = options.decimal;\r\n    if (decimal === undefined || decimal < 0) {\r\n        decimal = 1;\r\n    }\r\n    /** @type {?} */\r\n    var parts = [];\r\n    if (options.locale !== undefined) {\r\n        parts.push(measure.toLocaleString(options.locale, {\r\n            minimumFractionDigits: decimal,\r\n            maximumFractionDigits: decimal\r\n        }));\r\n    }\r\n    else {\r\n        parts.push(measure.toFixed(decimal).toString());\r\n    }\r\n    if (options.unit !== undefined && options.unitAbbr === true) {\r\n        parts.push(MeasureLengthUnitAbbreviation[options.unit] ||\r\n            MeasureAreaUnitAbbreviation[options.unit]);\r\n    }\r\n    return parts.filter((/**\r\n     * @param {?} p\r\n     * @return {?}\r\n     */\r\n    function (p) { return p !== undefined; })).join(' ');\r\n}\r\n/**\r\n * Compute best length measure unit for a given measure in meters\r\n * @param {?} value Value in meters\r\n * @return {?} Measure unit\r\n */\r\nfunction computeBestLengthUnit(value) {\r\n    /** @type {?} */\r\n    var unit = MeasureLengthUnit.Meters;\r\n    /** @type {?} */\r\n    var converted = value;\r\n    /** @type {?} */\r\n    var possibleUnits = [MeasureLengthUnit.Kilometers];\r\n    while (converted > 1000 && possibleUnits.length > 0) {\r\n        unit = possibleUnits.pop();\r\n        converted = metersToUnit(value, unit);\r\n    }\r\n    return unit;\r\n}\r\n/**\r\n * Compute best length measure unit for a given measure in square meters\r\n * @param {?} value Value in meters\r\n * @return {?} Measure unit\r\n */\r\nfunction computeBestAreaUnit(value) {\r\n    /** @type {?} */\r\n    var unit = MeasureAreaUnit.SquareMeters;\r\n    /** @type {?} */\r\n    var converted = value;\r\n    /** @type {?} */\r\n    var possibleUnits = [MeasureAreaUnit.SquareKilometers];\r\n    while (converted > 1000000 && possibleUnits.length > 0) {\r\n        unit = possibleUnits.pop();\r\n        converted = squareMetersToUnit(value, unit);\r\n    }\r\n    return unit;\r\n}\r\n/**\r\n * Create a default style for a measure interaction\r\n * @return {?} OL style\r\n */\r\nfunction createMeasureInteractionStyle() {\r\n    return new Style({\r\n        stroke: new Stroke({\r\n            color: '#ffcc33',\r\n            lineDash: [10, 10],\r\n            width: 2\r\n        }),\r\n        fill: new Fill({\r\n            color: 'rgba(255, 255, 255, 0.2)'\r\n        }),\r\n        image: new Circle({\r\n            radius: 5,\r\n            stroke: new Stroke({\r\n                color: '#ffcc33',\r\n            }),\r\n            fill: new Fill({\r\n                color: 'rgba(255, 255, 255, 0.2)'\r\n            })\r\n        })\r\n    });\r\n}\r\n/**\r\n * Create a default style for a measure layer\r\n * @return {?} OL style\r\n */\r\nfunction createMeasureLayerStyle() {\r\n    return new Style({\r\n        stroke: new Stroke({\r\n            color: '#ffcc33',\r\n            width: 2\r\n        }),\r\n        fill: new Fill({\r\n            color: 'rgba(255, 255, 255, 0.2)'\r\n        })\r\n    });\r\n}\r\n/**\r\n * Compute the length in meters of an OL geometry with a given projection\r\n * @param {?} olGeometry Ol geometry\r\n * @param {?} projection olGeometry's projection\r\n * @return {?} Length in meters\r\n */\r\nfunction measureOlGeometryLength(olGeometry, projection) {\r\n    if (olGeometry instanceof OlPoint) {\r\n        return undefined;\r\n    }\r\n    if (olGeometry.getFlatCoordinates().length === 0) {\r\n        return undefined;\r\n    }\r\n    return getLength(olGeometry, { projection: projection });\r\n}\r\n/**\r\n * Compute the area in square meters of an OL geometry with a given projection\r\n * @param {?} olGeometry Ol geometry\r\n * @param {?} projection olGeometry's projection\r\n * @return {?} Area in square meters\r\n */\r\nfunction measureOlGeometryArea(olGeometry, projection) {\r\n    if (olGeometry instanceof OlPoint || olGeometry instanceof OlLineString) {\r\n        return undefined;\r\n    }\r\n    if (olGeometry.getFlatCoordinates().length === 0) {\r\n        return undefined;\r\n    }\r\n    return getArea$1(olGeometry, { projection: projection });\r\n}\r\n/**\r\n * Compute the area (square meters), length (meters) and last length (meters)\r\n * of an OL geometry with a given projection.\r\n * @param {?} olGeometry Ol geometry\r\n * @param {?} projection olGeometry's projection\r\n * @return {?} Computed measure\r\n */\r\nfunction measureOlGeometry(olGeometry, projection) {\r\n    /** @type {?} */\r\n    var length = measureOlGeometryLength(olGeometry, projection);\r\n    /** @type {?} */\r\n    var area = measureOlGeometryArea(olGeometry, projection);\r\n    /** @type {?} */\r\n    var lengths = [];\r\n    /** @type {?} */\r\n    var coordinates = olGeometry.flatCoordinates;\r\n    /** @type {?} */\r\n    var coordinatesLength = coordinates.length;\r\n    for (var i = 0; i <= coordinatesLength - 4; i += 2) {\r\n        /** @type {?} */\r\n        var olSegment = new OlLineString([\r\n            [coordinates[i], coordinates[i + 1]],\r\n            [coordinates[i + 2], coordinates[i + 3]]\r\n        ]);\r\n        lengths.push(measureOlGeometryLength(olSegment, projection));\r\n    }\r\n    return {\r\n        area: area,\r\n        length: length,\r\n        lengths: lengths\r\n    };\r\n}\r\n/**\r\n * Update an OL geometry midpoints and return an array of those points\r\n * @param {?} olGeometry OL Geometry\r\n * @return {?} OL points\r\n */\r\nfunction updateOlGeometryMidpoints(olGeometry) {\r\n    /** @type {?} */\r\n    var olMidpoints = getOlGeometryMidpoints(olGeometry);\r\n    // TODO: handle multi geometries\r\n    /** @type {?} */\r\n    var coordinates = olGeometry.flatCoordinates;\r\n    /** @type {?} */\r\n    var midpointsLength = olMidpoints.length;\r\n    for (var i = 0; i < midpointsLength; i++) {\r\n        /** @type {?} */\r\n        var j = i * 2;\r\n        /** @type {?} */\r\n        var olSegment = new OlLineString([\r\n            [coordinates[j], coordinates[j + 1]],\r\n            [coordinates[j + 2], coordinates[j + 3]]\r\n        ]);\r\n        /** @type {?} */\r\n        var midpointCoordinate = olSegment.getCoordinateAt(0.5);\r\n        /** @type {?} */\r\n        var olMidpoint = olMidpoints[i];\r\n        if (olMidpoint !== undefined) {\r\n            olMidpoint.setCoordinates(midpointCoordinate);\r\n        }\r\n        else {\r\n            olMidpoints[i] = new OlPoint(midpointCoordinate);\r\n        }\r\n    }\r\n    return olMidpoints;\r\n}\r\n/**\r\n * Clear an OL geometry midpoints and return an array of those points\r\n * @param {?} olGeometry OL Geometry\r\n * @return {?}\r\n */\r\nfunction clearOlGeometryMidpoints(olGeometry) {\r\n    /** @type {?} */\r\n    var olMidpoints = olGeometry.get('_midpoints') || [];\r\n    /** @type {?} */\r\n    var midpointsLength = olMidpoints.length;\r\n    for (var i = 0; i < midpointsLength; i++) {\r\n        /** @type {?} */\r\n        var olMidpoint = olMidpoints[i];\r\n        if (olMidpoint !== undefined) {\r\n            if (olMidpoint !== undefined) {\r\n                clearOlMidpointTooltip(olMidpoint);\r\n            }\r\n        }\r\n    }\r\n    olGeometry.set('_midpoints', undefined, true);\r\n    return olMidpoints;\r\n}\r\n/**\r\n * Return an array of  OL geometry midpoints, if any\r\n * @param {?} olGeometry OL Geometry\r\n * @return {?} OL points\r\n */\r\nfunction getOlGeometryMidpoints(olGeometry) {\r\n    /** @type {?} */\r\n    var expectedNumber = Math.max((olGeometry.flatCoordinates.length / 2) - 1, 0);\r\n    // TODO: This works but it's quite messy. If time permits,\r\n    // clean this. Maybe a Tooltip class could handle that\r\n    /** @type {?} */\r\n    var olMidpoints = olGeometry.get('_midpoints');\r\n    if (olMidpoints === undefined) {\r\n        olMidpoints = new Array(expectedNumber);\r\n        olGeometry.set('_midpoints', olMidpoints, true);\r\n        return olMidpoints;\r\n    }\r\n    if (expectedNumber === olMidpoints.length) {\r\n        return olMidpoints;\r\n    }\r\n    if (expectedNumber > olMidpoints.length) {\r\n        olMidpoints.push.apply(olMidpoints, __spread(new Array(expectedNumber - olMidpoints.length)));\r\n        return olMidpoints;\r\n    }\r\n    for (var i = expectedNumber; i < olMidpoints.length; i++) {\r\n        /** @type {?} */\r\n        var olMidpoint = olMidpoints[expectedNumber];\r\n        if (olMidpoint !== undefined) {\r\n            clearOlMidpointTooltip(olMidpoint);\r\n        }\r\n    }\r\n    olMidpoints.splice(expectedNumber);\r\n    return olMidpoints;\r\n}\r\n/**\r\n * Remove an OL midpoint's tooltip from the map\r\n * @param {?} olMidpoint OL Point\r\n * @return {?}\r\n */\r\nfunction clearOlMidpointTooltip(olMidpoint) {\r\n    /** @type {?} */\r\n    var olTooltip = olMidpoint.get('_tooltip');\r\n    if (olTooltip !== undefined) {\r\n        /** @type {?} */\r\n        var olMap$$1 = olTooltip.getMap();\r\n        if (olMap$$1 !== undefined) {\r\n            olMap$$1.removeOverlay(olTooltip);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Add an OL overlay at each midpoint and return an array of those overlays\r\n * @param {?} olGeometry OL Geometry\r\n * @return {?} OL overlays\r\n */\r\nfunction updateOlTooltipsAtMidpoints(olGeometry) {\r\n    /** @type {?} */\r\n    var olMidpoints = updateOlGeometryMidpoints(olGeometry);\r\n    /** @type {?} */\r\n    var olTooltips = olMidpoints.map((/**\r\n     * @param {?} olMidpoint\r\n     * @return {?}\r\n     */\r\n    function (olMidpoint) {\r\n        /** @type {?} */\r\n        var olTooltip = olMidpoint.get('_tooltip');\r\n        if (olTooltip === undefined) {\r\n            olTooltip = createOlTooltipAtPoint(olMidpoint);\r\n        }\r\n        else {\r\n            olTooltip.setPosition(olMidpoint.flatCoordinates);\r\n        }\r\n        return olTooltip;\r\n    }));\r\n    return olTooltips;\r\n}\r\n/**\r\n * Return an array of OL overlay at midspoints, if any\r\n * @param {?} olGeometry OL Geometry\r\n * @return {?} OL overlays\r\n */\r\nfunction getOlTooltipsAtMidpoints(olGeometry) {\r\n    /** @type {?} */\r\n    var olMidpoints = getOlGeometryMidpoints(olGeometry);\r\n    return olMidpoints.map((/**\r\n     * @param {?} olMidpoint\r\n     * @return {?}\r\n     */\r\n    function (olMidpoint) {\r\n        return olMidpoint ? olMidpoint.get('_tooltip') : undefined;\r\n    }));\r\n}\r\n/**\r\n * Update an OL geometry center and return it\r\n * @param {?} olGeometry OL Geometry\r\n * @return {?} OL point\r\n */\r\nfunction updateOlGeometryCenter(olGeometry) {\r\n    /** @type {?} */\r\n    var olCenter = olGeometry.get('_center');\r\n    /** @type {?} */\r\n    var centerCoordinate = getCenter(olGeometry.getExtent());\r\n    if (olCenter !== undefined) {\r\n        olCenter.setCoordinates(centerCoordinate);\r\n    }\r\n    else {\r\n        olCenter = new OlPoint(centerCoordinate);\r\n        olGeometry.set('_center', olCenter);\r\n    }\r\n    return olCenter;\r\n}\r\n/**\r\n * Add an OL overlay at the center of a geometry and return that overlay\r\n * @param {?} olGeometry OL Geometry\r\n * @return {?} OL overlay\r\n */\r\nfunction updateOlTooltipAtCenter(olGeometry) {\r\n    /** @type {?} */\r\n    var olCenter = updateOlGeometryCenter(olGeometry);\r\n    /** @type {?} */\r\n    var olTooltip = olCenter.get('_tooltip');\r\n    if (olTooltip === undefined) {\r\n        olTooltip = createOlTooltipAtPoint(olCenter);\r\n    }\r\n    else {\r\n        olTooltip.setPosition(olCenter.flatCoordinates);\r\n    }\r\n    return olTooltip;\r\n}\r\n/**\r\n * Return an array of OL overlay at midspoints, if any\r\n * @param {?} olGeometry OL Geometry\r\n * @return {?} OL overlays\r\n */\r\nfunction getOlTooltipAtCenter(olGeometry) {\r\n    /** @type {?} */\r\n    var olCenter = olGeometry.get('_center');\r\n    return olCenter ? olCenter.get('_tooltip') : undefined;\r\n}\r\n/**\r\n * Get all the tooltips of an OL geometry\r\n * @param {?} olGeometry OL Geometry\r\n * @return {?} OL overlays\r\n */\r\nfunction getTooltipsOfOlGeometry(olGeometry) {\r\n    /** @type {?} */\r\n    var olTooltips = [].concat(getOlTooltipsAtMidpoints(olGeometry) || []);\r\n    /** @type {?} */\r\n    var olCenterTooltip = getOlTooltipAtCenter(olGeometry);\r\n    if (olCenterTooltip !== undefined) {\r\n        olTooltips.push(olCenterTooltip);\r\n    }\r\n    return olTooltips;\r\n}\r\n/**\r\n * Create an OL overlay at a point and bind the overlay to the point\r\n * @param {?} olPoint OL Point\r\n * @return {?} OL overlay\r\n */\r\nfunction createOlTooltipAtPoint(olPoint) {\r\n    /** @type {?} */\r\n    var olTooltip = new OlOverlay({\r\n        element: document.createElement('div'),\r\n        offset: [-30, -10],\r\n        className: [\r\n            'igo-map-tooltip',\r\n            'igo-map-tooltip-measure'\r\n        ].join(' '),\r\n        stopEvent: false\r\n    });\r\n    olTooltip.setPosition(olPoint.flatCoordinates);\r\n    olPoint.set('_tooltip', olTooltip);\r\n    return olTooltip;\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/* tslint:disable */\r\n// See this issue: https://github.com/Microsoft/TypeScript/issues/13965\r\n// And the solution: https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work\r\n// for an explanation as to why the prototype is set manually\r\n/* tslint:enable */\r\nvar GeometrySliceError = /** @class */ (function (_super) {\r\n    __extends(GeometrySliceError, _super);\r\n    function GeometrySliceError() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return GeometrySliceError;\r\n}(Error));\r\nvar GeometrySliceMultiPolygonError = /** @class */ (function (_super) {\r\n    __extends(GeometrySliceMultiPolygonError, _super);\r\n    function GeometrySliceMultiPolygonError() {\r\n        var _this = _super.call(this, 'Can\\'t slice a MultiPolygon.') || this;\r\n        Object.setPrototypeOf(_this, GeometrySliceMultiPolygonError.prototype);\r\n        return _this;\r\n    }\r\n    return GeometrySliceMultiPolygonError;\r\n}(GeometrySliceError));\r\nvar GeometrySliceLineStringError = /** @class */ (function (_super) {\r\n    __extends(GeometrySliceLineStringError, _super);\r\n    function GeometrySliceLineStringError() {\r\n        var _this = _super.call(this, 'Can\\'t slice with a line that has more than 2 points.') || this;\r\n        Object.setPrototypeOf(_this, GeometrySliceLineStringError.prototype);\r\n        return _this;\r\n    }\r\n    return GeometrySliceLineStringError;\r\n}(GeometrySliceError));\r\nvar GeometrySliceTooManyIntersectionError = /** @class */ (function (_super) {\r\n    __extends(GeometrySliceTooManyIntersectionError, _super);\r\n    function GeometrySliceTooManyIntersectionError() {\r\n        var _this = _super.call(this, 'More than 2 intersections found between the target polygon and the slicing line.') || this;\r\n        Object.setPrototypeOf(_this, GeometrySliceTooManyIntersectionError.prototype);\r\n        return _this;\r\n    }\r\n    return GeometrySliceTooManyIntersectionError;\r\n}(GeometrySliceError));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Create a default style for draw and modify interactions\r\n * @param {?=} color Style color (R, G, B)\r\n * @return {?} OL style\r\n */\r\nfunction createDrawInteractionStyle(color) {\r\n    color = color || [0, 153, 255];\r\n    return new Style({\r\n        stroke: new Stroke({\r\n            color: color.concat([1]),\r\n            width: 2\r\n        }),\r\n        fill: new Fill({\r\n            color: color.concat([0.2])\r\n        }),\r\n        image: new Circle({\r\n            radius: 8,\r\n            stroke: new Stroke({\r\n                color: color.concat([1])\r\n            }),\r\n            fill: new Fill({\r\n                color: color.concat([0.2])\r\n            })\r\n        })\r\n    });\r\n}\r\n/**\r\n * Create a default style for drawing a hole\r\n * @return {?} OL style\r\n */\r\nfunction createDrawHoleInteractionStyle() {\r\n    return new Style({\r\n        stroke: new Stroke({\r\n            color: [0, 153, 255, 1],\r\n            width: 2\r\n        })\r\n    });\r\n}\r\n/**\r\n * Slice geometry into two parts\r\n * @param {?} olGeometry OL geometry\r\n * @param {?} olSlicer Slicing line\r\n * @return {?} New OL geometries\r\n */\r\nfunction sliceOlGeometry(olGeometry, olSlicer) {\r\n    if (olGeometry instanceof OlPolygon) {\r\n        return sliceOlPolygon(olGeometry, olSlicer);\r\n    }\r\n    else if (olGeometry instanceof OlLineString) {\r\n        return sliceOlLineString(olGeometry, olSlicer);\r\n    }\r\n    return [];\r\n}\r\n/**\r\n * Slice OL LineString into one or more lines\r\n * @param {?} olLineString OL line string\r\n * @param {?} olSlicer Slicing line\r\n * @return {?} New OL line strings\r\n */\r\nfunction sliceOlLineString(olLineString, olSlicer) {\r\n    return [];\r\n}\r\n/**\r\n * Slice OL Polygon into one or more polygons\r\n * @param {?} olPolygon OL polygon\r\n * @param {?} olSlicer Slicing line\r\n * @return {?} New OL polygons\r\n */\r\nfunction sliceOlPolygon(olPolygon, olSlicer) {\r\n    if (olPolygon.getLinearRingCount() > 1) {\r\n        throw new GeometrySliceMultiPolygonError();\r\n    }\r\n    if (olSlicer.getCoordinates().length > 2) {\r\n        throw new GeometrySliceLineStringError();\r\n    }\r\n    /** @type {?} */\r\n    var olGeoJSON = new OlGeoJSON();\r\n    /** @type {?} */\r\n    var slicer = olGeoJSON.writeGeometryObject(olSlicer);\r\n    /** @type {?} */\r\n    var outerCoordinates = olPolygon.getLinearRing(0).getCoordinates();\r\n    /** @type {?} */\r\n    var parts = [[], []];\r\n    /** @type {?} */\r\n    var totalIntersectionCount = 0;\r\n    for (var i = 0, ii = outerCoordinates.length - 1; i < ii; i++) {\r\n        /** @type {?} */\r\n        var segmentCoordinates = [outerCoordinates[i], outerCoordinates[i + 1]];\r\n        /** @type {?} */\r\n        var segment = lineString(segmentCoordinates);\r\n        /** @type {?} */\r\n        var intersections = lineIntersect(segment, slicer).features;\r\n        /** @type {?} */\r\n        var intersectionCount = intersections.length;\r\n        totalIntersectionCount += intersectionCount;\r\n        if (intersectionCount > 1 || totalIntersectionCount > 2) {\r\n            throw new GeometrySliceTooManyIntersectionError();\r\n        }\r\n        parts[0].push(segmentCoordinates[0]);\r\n        if (intersectionCount === 1) {\r\n            /** @type {?} */\r\n            var intersection = intersections[0].geometry.coordinates;\r\n            parts[0].push(intersection);\r\n            parts[1].push(intersection);\r\n            parts.reverse();\r\n        }\r\n    }\r\n    if (totalIntersectionCount <= 1) {\r\n        return [];\r\n    }\r\n    parts[0].push(parts[0][0]);\r\n    parts[1].push(parts[1][0]);\r\n    return [new OlPolygon([parts[0]]), new OlPolygon([parts[1]])];\r\n}\r\n/**\r\n * Splice geometry into two parts\r\n * @param {?} olPolygon\r\n * @param {?} olLinearRing\r\n * @return {?} New OL geometries\r\n */\r\nfunction addLinearRingToOlPolygon(olPolygon, olLinearRing) {\r\n    // TODO: make some validation and support updating an existing linear ring\r\n    olPolygon.appendLinearRing(olLinearRing);\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Control to draw geometries\r\n */\r\nvar  /**\r\n * Control to draw geometries\r\n */\r\nDrawControl = /** @class */ (function () {\r\n    function DrawControl(options) {\r\n        this.options = options;\r\n        /**\r\n         * Draw start observable\r\n         */\r\n        this.start$ = new Subject();\r\n        /**\r\n         * Draw end observable\r\n         */\r\n        this.end$ = new Subject();\r\n        /**\r\n         * Geometry changes observable\r\n         */\r\n        this.changes$ = new Subject();\r\n        if (options.layer !== undefined) {\r\n            this.olOverlayLayer = options.layer;\r\n        }\r\n        else {\r\n            this.olOverlayLayer = this.createOlInnerOverlayLayer();\r\n        }\r\n    }\r\n    Object.defineProperty(DrawControl.prototype, \"active\", {\r\n        /**\r\n         * Wheter the control is active\r\n         */\r\n        get: /**\r\n         * Wheter the control is active\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.olMap !== undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DrawControl.prototype, \"geometryType\", {\r\n        /**\r\n         * Geometry type\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Geometry type\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.geometryType;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DrawControl.prototype, \"olOverlaySource\", {\r\n        /**\r\n         * OL overlay source\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * OL overlay source\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.olOverlayLayer.getSource();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Add or remove this control to/from a map.\r\n     * @param map OL Map\r\n     */\r\n    /**\r\n     * Add or remove this control to/from a map.\r\n     * @param {?} olMap\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.setOlMap = /**\r\n     * Add or remove this control to/from a map.\r\n     * @param {?} olMap\r\n     * @return {?}\r\n     */\r\n    function (olMap$$1) {\r\n        if (olMap$$1 === undefined) {\r\n            this.clearOlInnerOverlaySource();\r\n            this.removeOlInnerOverlayLayer();\r\n            this.removeOlDrawInteraction();\r\n            this.olMap = olMap$$1;\r\n            return;\r\n        }\r\n        this.olMap = olMap$$1;\r\n        this.addOlInnerOverlayLayer();\r\n        this.addOlDrawInteraction();\r\n    };\r\n    /**\r\n     * Return the overlay source\r\n     */\r\n    /**\r\n     * Return the overlay source\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.getSource = /**\r\n     * Return the overlay source\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.olOverlaySource;\r\n    };\r\n    /**\r\n     * Create an overlay source if none is defined in the options\r\n     */\r\n    /**\r\n     * Create an overlay source if none is defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.createOlInnerOverlayLayer = /**\r\n     * Create an overlay source if none is defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return new OlVectorLayer({\r\n            source: this.options.source ? this.options.source : new OlVectorSource(),\r\n            style: this.options.layerStyle,\r\n            zIndex: 500\r\n        });\r\n    };\r\n    /**\r\n     * Clear the overlay layer if it wasn't defined in the options\r\n     */\r\n    /**\r\n     * Clear the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.removeOlInnerOverlayLayer = /**\r\n     * Clear the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.options.layer === undefined && this.olMap !== undefined) {\r\n            this.olMap.removeLayer(this.olOverlayLayer);\r\n        }\r\n    };\r\n    /**\r\n     * Add the overlay layer if it wasn't defined in the options\r\n     */\r\n    /**\r\n     * Add the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.addOlInnerOverlayLayer = /**\r\n     * Add the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.options.layer === undefined) {\r\n            this.olMap.addLayer(this.olOverlayLayer);\r\n        }\r\n    };\r\n    /**\r\n     * Clear the overlay source if it wasn't defined in the options\r\n     */\r\n    /**\r\n     * Clear the overlay source if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.clearOlInnerOverlaySource = /**\r\n     * Clear the overlay source if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.options.layer === undefined && this.options.source === undefined) {\r\n            this.olOverlaySource.clear();\r\n        }\r\n    };\r\n    /**\r\n     * Add a draw interaction to the map an set up some listeners\r\n     */\r\n    /**\r\n     * Add a draw interaction to the map an set up some listeners\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.addOlDrawInteraction = /**\r\n     * Add a draw interaction to the map an set up some listeners\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var olDrawInteraction = new OlDraw({\r\n            type: this.geometryType,\r\n            source: this.getSource(),\r\n            stopClick: true,\r\n            style: this.options.drawStyle,\r\n            maxPoints: this.options.maxPoints,\r\n            freehand: false,\r\n            freehandCondition: (/**\r\n             * @return {?}\r\n             */\r\n            function () { return false; })\r\n        });\r\n        this.onDrawStartKey = olDrawInteraction\r\n            .on('drawstart', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return _this.onDrawStart(event); }));\r\n        this.onDrawEndKey = olDrawInteraction\r\n            .on('drawend', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return _this.onDrawEnd(event); }));\r\n        this.olMap.addInteraction(olDrawInteraction);\r\n        this.olDrawInteraction = olDrawInteraction;\r\n    };\r\n    /**\r\n     * Remove the draw interaction\r\n     */\r\n    /**\r\n     * Remove the draw interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.removeOlDrawInteraction = /**\r\n     * Remove the draw interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.olDrawInteraction === undefined) {\r\n            return;\r\n        }\r\n        this.unsubscribeToKeyDown();\r\n        unByKey(this.onDrawStartKey);\r\n        unByKey(this.onDrawEndKey);\r\n        if (this.olMap !== undefined) {\r\n            this.olMap.removeInteraction(this.olDrawInteraction);\r\n        }\r\n        this.olDrawInteraction = undefined;\r\n    };\r\n    /**\r\n     * When drawing starts, clear the overlay and start watching from changes\r\n     * @param event Draw start event\r\n     */\r\n    /**\r\n     * When drawing starts, clear the overlay and start watching from changes\r\n     * @private\r\n     * @param {?} event Draw start event\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.onDrawStart = /**\r\n     * When drawing starts, clear the overlay and start watching from changes\r\n     * @private\r\n     * @param {?} event Draw start event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var olGeometry = event.feature.getGeometry();\r\n        this.start$.next(olGeometry);\r\n        this.clearOlInnerOverlaySource();\r\n        this.onChangesKey = olGeometry.on('change', (/**\r\n         * @param {?} olGeometryEvent\r\n         * @return {?}\r\n         */\r\n        function (olGeometryEvent) {\r\n            _this.changes$.next(olGeometryEvent.target);\r\n        }));\r\n        this.subscribeToKeyDown();\r\n    };\r\n    /**\r\n     * When drawing ends, update the geometry observable and start watching from changes\r\n     * @param event Draw end event\r\n     */\r\n    /**\r\n     * When drawing ends, update the geometry observable and start watching from changes\r\n     * @private\r\n     * @param {?} event Draw end event\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.onDrawEnd = /**\r\n     * When drawing ends, update the geometry observable and start watching from changes\r\n     * @private\r\n     * @param {?} event Draw end event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        this.unsubscribeToKeyDown();\r\n        if (this.onChangesKey !== undefined) {\r\n            unByKey(this.onChangesKey);\r\n        }\r\n        this.end$.next(event.feature.getGeometry());\r\n    };\r\n    /**\r\n     * Subscribe to CTRL key down to activate the draw control\r\n     */\r\n    /**\r\n     * Subscribe to CTRL key down to activate the draw control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.subscribeToKeyDown = /**\r\n     * Subscribe to CTRL key down to activate the draw control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.unsubscribeToKeyDown();\r\n        this.keyDown$$ = fromEvent(document, 'keydown').subscribe((/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            // On ESC key down, remove the last vertex\r\n            if (event.keyCode === 27) {\r\n                _this.olDrawInteraction.removeLastPoint();\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * Unsubscribe to key down\r\n     */\r\n    /**\r\n     * Unsubscribe to key down\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    DrawControl.prototype.unsubscribeToKeyDown = /**\r\n     * Unsubscribe to key down\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.keyDown$$ !== undefined) {\r\n            this.keyDown$$.unsubscribe();\r\n            this.keyDown$$ = undefined;\r\n        }\r\n    };\r\n    return DrawControl;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Control to modify geometries\r\n */\r\nvar  /**\r\n * Control to modify geometries\r\n */\r\nModifyControl = /** @class */ (function () {\r\n    function ModifyControl(options) {\r\n        this.options = options;\r\n        /**\r\n         * Modify start observable\r\n         */\r\n        this.start$ = new Subject();\r\n        /**\r\n         * Modify end observable\r\n         */\r\n        this.end$ = new Subject();\r\n        /**\r\n         * Geometry changes observable\r\n         */\r\n        this.changes$ = new Subject();\r\n        this.olModifyInteractionIsActive = false;\r\n        this.olTranslateInteractionIsActive = false;\r\n        this.olDrawInteractionIsActive = false;\r\n        this.removedOlInteractions = [];\r\n        if (options.layer !== undefined) {\r\n            this.olOverlayLayer = options.layer;\r\n        }\r\n        else {\r\n            this.olOverlayLayer = this.createOlInnerOverlayLayer();\r\n        }\r\n        this.olLinearRingsLayer = this.createOlLinearRingsLayer();\r\n    }\r\n    Object.defineProperty(ModifyControl.prototype, \"active\", {\r\n        /**\r\n         * Wheter the control is active\r\n         */\r\n        get: /**\r\n         * Wheter the control is active\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.olMap !== undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ModifyControl.prototype, \"olOverlaySource\", {\r\n        /**\r\n         * OL overlay source\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * OL overlay source\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.olOverlayLayer.getSource();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ModifyControl.prototype, \"olLinearRingsSource\", {\r\n        /**\r\n         * OL linear rings source\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * OL linear rings source\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.olLinearRingsLayer.getSource();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Add or remove this control to/from a map.\r\n     * @param map OL Map\r\n     */\r\n    /**\r\n     * Add or remove this control to/from a map.\r\n     * @param {?} olMap\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.setOlMap = /**\r\n     * Add or remove this control to/from a map.\r\n     * @param {?} olMap\r\n     * @return {?}\r\n     */\r\n    function (olMap$$1) {\r\n        if (olMap$$1 === undefined) {\r\n            this.clearOlInnerOverlaySource();\r\n            this.removeOlInnerOverlayLayer();\r\n            this.removeOlModifyInteraction();\r\n            this.removeOlTranslateInteraction();\r\n            this.removeOlDrawInteraction();\r\n            this.olMap = olMap$$1;\r\n            return;\r\n        }\r\n        this.olMap = olMap$$1;\r\n        this.addOlInnerOverlayLayer();\r\n        this.addOlDrawInteraction();\r\n        this.addOlTranslateInteraction();\r\n        this.activateTranslateInteraction();\r\n        this.addOlModifyInteraction();\r\n        this.activateModifyInteraction();\r\n    };\r\n    /**\r\n     * Return the overlay source\r\n     */\r\n    /**\r\n     * Return the overlay source\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.getSource = /**\r\n     * Return the overlay source\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.olOverlaySource;\r\n    };\r\n    /**\r\n     * Add an OL geometry to the overlay and start modifying it\r\n     * @param olGeometry Ol Geometry\r\n     */\r\n    /**\r\n     * Add an OL geometry to the overlay and start modifying it\r\n     * @param {?} olGeometry Ol Geometry\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.setOlGeometry = /**\r\n     * Add an OL geometry to the overlay and start modifying it\r\n     * @param {?} olGeometry Ol Geometry\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        /** @type {?} */\r\n        var olFeature = new OlFeature({ geometry: olGeometry });\r\n        this.olOverlaySource.clear();\r\n        this.olOverlaySource.addFeature(olFeature);\r\n    };\r\n    /**\r\n     * Create an overlay source if none is defined in the options\r\n     */\r\n    /**\r\n     * Create an overlay source if none is defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.createOlInnerOverlayLayer = /**\r\n     * Create an overlay source if none is defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return new OlVectorLayer({\r\n            source: this.options.source ? this.options.source : new OlVectorSource(),\r\n            style: this.options.layerStyle,\r\n            zIndex: 500\r\n        });\r\n    };\r\n    /**\r\n     * Add the overlay layer if it wasn't defined in the options\r\n     */\r\n    /**\r\n     * Add the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.addOlInnerOverlayLayer = /**\r\n     * Add the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.options.layer === undefined) {\r\n            this.olMap.addLayer(this.olOverlayLayer);\r\n        }\r\n    };\r\n    /**\r\n     * Clear the overlay layer if it wasn't defined in the options\r\n     */\r\n    /**\r\n     * Clear the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.removeOlInnerOverlayLayer = /**\r\n     * Clear the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.options.layer === undefined && this.olMap !== undefined) {\r\n            this.olMap.removeLayer(this.olOverlayLayer);\r\n        }\r\n    };\r\n    /**\r\n     * Clear the overlay source if it wasn't defined in the options\r\n     */\r\n    /**\r\n     * Clear the overlay source if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.clearOlInnerOverlaySource = /**\r\n     * Clear the overlay source if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.options.layer === undefined && this.options.source === undefined) {\r\n            this.olOverlaySource.clear();\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.createOlLinearRingsLayer = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return new OlVectorLayer({\r\n            source: new OlVectorSource(),\r\n            style: createDrawHoleInteractionStyle(),\r\n            zIndex: 500\r\n        });\r\n    };\r\n    /**\r\n     * Add the linear rings layer\r\n     */\r\n    /**\r\n     * Add the linear rings layer\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.addOlLinearRingsLayer = /**\r\n     * Add the linear rings layer\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.olMap.addLayer(this.olLinearRingsLayer);\r\n    };\r\n    /**\r\n     * Clear the linear rings layer\r\n     */\r\n    /**\r\n     * Clear the linear rings layer\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.removeOlLinearRingsLayer = /**\r\n     * Clear the linear rings layer\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.olMap.removeLayer(this.olLinearRingsLayer);\r\n    };\r\n    /**\r\n     * Clear the linear rings source\r\n     */\r\n    /**\r\n     * Clear the linear rings source\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.clearOlLinearRingsSource = /**\r\n     * Clear the linear rings source\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.olLinearRingsSource.clear(true);\r\n    };\r\n    /**\r\n     * Add a modify interaction to the map an set up some listeners\r\n     */\r\n    /**\r\n     * Add a modify interaction to the map an set up some listeners\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.addOlModifyInteraction = /**\r\n     * Add a modify interaction to the map an set up some listeners\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var olModifyInteraction = new OlModify({\r\n            source: this.olOverlaySource,\r\n            style: this.options.drawStyle\r\n        });\r\n        this.olModifyInteraction = olModifyInteraction;\r\n    };\r\n    /**\r\n     * Remove the modify interaction\r\n     */\r\n    /**\r\n     * Remove the modify interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.removeOlModifyInteraction = /**\r\n     * Remove the modify interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.olModifyInteraction === undefined) {\r\n            return;\r\n        }\r\n        this.deactivateModifyInteraction();\r\n        this.olModifyInteraction = undefined;\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.activateModifyInteraction = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.olModifyInteractionIsActive === true) {\r\n            return;\r\n        }\r\n        this.olModifyInteractionIsActive = true;\r\n        this.onModifyStartKey = this.olModifyInteraction\r\n            .on('modifystart', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return _this.onModifyStart(event); }));\r\n        this.onModifyEndKey = this.olModifyInteraction\r\n            .on('modifyend', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return _this.onModifyEnd(event); }));\r\n        this.olMap.addInteraction(this.olModifyInteraction);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.deactivateModifyInteraction = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.olModifyInteractionIsActive === false) {\r\n            return;\r\n        }\r\n        this.olModifyInteractionIsActive = false;\r\n        unByKey(this.onModifyStartKey);\r\n        unByKey(this.onModifyEndKey);\r\n        if (this.olMap !== undefined) {\r\n            this.olMap.removeInteraction(this.olModifyInteraction);\r\n        }\r\n    };\r\n    /**\r\n     * When modifying starts, clear the overlay and start watching for changes\r\n     * @param event Modify start event\r\n     */\r\n    /**\r\n     * When modifying starts, clear the overlay and start watching for changes\r\n     * @private\r\n     * @param {?} event Modify start event\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.onModifyStart = /**\r\n     * When modifying starts, clear the overlay and start watching for changes\r\n     * @private\r\n     * @param {?} event Modify start event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var olGeometry = event.features.item(0).getGeometry();\r\n        this.start$.next(olGeometry);\r\n        this.onModifyKey = olGeometry.on('change', (/**\r\n         * @param {?} olGeometryEvent\r\n         * @return {?}\r\n         */\r\n        function (olGeometryEvent) {\r\n            _this.changes$.next(olGeometryEvent.target);\r\n        }));\r\n    };\r\n    /**\r\n     * When modifying ends, update the geometry observable and stop watching for changes\r\n     * @param event Modify end event\r\n     */\r\n    /**\r\n     * When modifying ends, update the geometry observable and stop watching for changes\r\n     * @private\r\n     * @param {?} event Modify end event\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.onModifyEnd = /**\r\n     * When modifying ends, update the geometry observable and stop watching for changes\r\n     * @private\r\n     * @param {?} event Modify end event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (this.onModifyKey !== undefined) {\r\n            unByKey(this.onModifyKey);\r\n        }\r\n        this.end$.next(event.features.item(0).getGeometry());\r\n    };\r\n    /**\r\n     * Subscribe to CTRL key down to activate the draw control\r\n     */\r\n    /**\r\n     * Subscribe to CTRL key down to activate the draw control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.subscribeToKeyDown = /**\r\n     * Subscribe to CTRL key down to activate the draw control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.keyDown$$ = fromEvent(document, 'keydown').subscribe((/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            // On ESC key down, remove the last vertex\r\n            if (event.keyCode === 27 && _this.olDrawInteractionIsActive === true) {\r\n                _this.olDrawInteraction.removeLastPoint();\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * Unsubscribe to key down\r\n     */\r\n    /**\r\n     * Unsubscribe to key down\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.unsubscribeToKeyDown = /**\r\n     * Unsubscribe to key down\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.keyDown$$ !== undefined) {\r\n            this.keyDown$$.unsubscribe();\r\n        }\r\n    };\r\n    /**\r\n     * Add a translate interaction to the map an set up some listeners\r\n     */\r\n    /**\r\n     * Add a translate interaction to the map an set up some listeners\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.addOlTranslateInteraction = /**\r\n     * Add a translate interaction to the map an set up some listeners\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var olTranslateInteraction = new OlTranslate({\r\n            layers: [this.olOverlayLayer]\r\n        });\r\n        this.olTranslateInteraction = olTranslateInteraction;\r\n    };\r\n    /**\r\n     * Remove the translate interaction\r\n     */\r\n    /**\r\n     * Remove the translate interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.removeOlTranslateInteraction = /**\r\n     * Remove the translate interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.olTranslateInteraction === undefined) {\r\n            return;\r\n        }\r\n        this.deactivateTranslateInteraction();\r\n        this.olTranslateInteraction = undefined;\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.activateTranslateInteraction = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.olTranslateInteractionIsActive === true) {\r\n            return;\r\n        }\r\n        this.olTranslateInteractionIsActive = true;\r\n        this.onTranslateStartKey = this.olTranslateInteraction\r\n            .on('translatestart', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return _this.onTranslateStart(event); }));\r\n        this.onTranslateEndKey = this.olTranslateInteraction\r\n            .on('translateend', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return _this.onTranslateEnd(event); }));\r\n        this.olMap.addInteraction(this.olTranslateInteraction);\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.deactivateTranslateInteraction = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.olTranslateInteractionIsActive === false) {\r\n            return;\r\n        }\r\n        this.olTranslateInteractionIsActive = false;\r\n        unByKey(this.onTranslateStartKey);\r\n        unByKey(this.onTranslateEndKey);\r\n        if (this.olMap !== undefined) {\r\n            this.olMap.removeInteraction(this.olTranslateInteraction);\r\n        }\r\n    };\r\n    /**\r\n     * When translation starts, clear the overlay and start watching for changes\r\n     * @param event Translate start event\r\n     */\r\n    /**\r\n     * When translation starts, clear the overlay and start watching for changes\r\n     * @private\r\n     * @param {?} event Translate start event\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.onTranslateStart = /**\r\n     * When translation starts, clear the overlay and start watching for changes\r\n     * @private\r\n     * @param {?} event Translate start event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var olGeometry = event.features.item(0).getGeometry();\r\n        this.start$.next(olGeometry);\r\n        this.onTranslateKey = olGeometry.on('change', (/**\r\n         * @param {?} olGeometryEvent\r\n         * @return {?}\r\n         */\r\n        function (olGeometryEvent) {\r\n            _this.changes$.next(olGeometryEvent.target);\r\n        }));\r\n    };\r\n    /**\r\n     * When translation ends, update the geometry observable and stop watchign for changes\r\n     * @param event Translate end event\r\n     */\r\n    /**\r\n     * When translation ends, update the geometry observable and stop watchign for changes\r\n     * @private\r\n     * @param {?} event Translate end event\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.onTranslateEnd = /**\r\n     * When translation ends, update the geometry observable and stop watchign for changes\r\n     * @private\r\n     * @param {?} event Translate end event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (this.onTranslateKey !== undefined) {\r\n            unByKey(this.onTranslateKey);\r\n        }\r\n        this.end$.next(event.features.item(0).getGeometry());\r\n    };\r\n    /**\r\n     * Add a draw interaction to the map an set up some listeners\r\n     */\r\n    /**\r\n     * Add a draw interaction to the map an set up some listeners\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.addOlDrawInteraction = /**\r\n     * Add a draw interaction to the map an set up some listeners\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var olDrawInteraction = new OlDraw({\r\n            type: 'Polygon',\r\n            source: this.olLinearRingsSource,\r\n            stopClick: true,\r\n            style: createDrawHoleInteractionStyle(),\r\n            condition: (/**\r\n             * @param {?} event\r\n             * @return {?}\r\n             */\r\n            function (event) {\r\n                return _this.getOlGeometry().intersectsCoordinate(event.coordinate);\r\n            })\r\n        });\r\n        this.olDrawInteraction = olDrawInteraction;\r\n        this.subscribeToDrawKeyDown();\r\n    };\r\n    /**\r\n     * Subscribe to CTRL key down to activate the draw control\r\n     */\r\n    /**\r\n     * Subscribe to CTRL key down to activate the draw control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.subscribeToDrawKeyDown = /**\r\n     * Subscribe to CTRL key down to activate the draw control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.drawKeyDown$$ = fromEvent(document, 'keydown').subscribe((/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            if (event.keyCode !== 17) {\r\n                return;\r\n            }\r\n            _this.unsubscribeToDrawKeyDown();\r\n            /** @type {?} */\r\n            var olGeometry = _this.getOlGeometry();\r\n            if (!olGeometry || !(olGeometry instanceof OlPolygon)) {\r\n                return;\r\n            }\r\n            _this.subscribeToDrawKeyUp();\r\n            _this.deactivateModifyInteraction();\r\n            _this.deactivateTranslateInteraction();\r\n            _this.activateDrawInteraction();\r\n        }));\r\n    };\r\n    /**\r\n     * Subscribe to CTRL key up to deactivate the draw control\r\n     */\r\n    /**\r\n     * Subscribe to CTRL key up to deactivate the draw control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.subscribeToDrawKeyUp = /**\r\n     * Subscribe to CTRL key up to deactivate the draw control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.drawKeyUp$$ = fromEvent(document, 'keyup').subscribe((/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            if (event.keyCode !== 17) {\r\n                return;\r\n            }\r\n            _this.unsubscribeToDrawKeyUp();\r\n            _this.subscribeToDrawKeyDown();\r\n            _this.deactivateDrawInteraction();\r\n            _this.activateModifyInteraction();\r\n            _this.activateTranslateInteraction();\r\n        }));\r\n    };\r\n    /**\r\n     * Unsubscribe to draw key down\r\n     */\r\n    /**\r\n     * Unsubscribe to draw key down\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.unsubscribeToDrawKeyDown = /**\r\n     * Unsubscribe to draw key down\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.drawKeyDown$$ !== undefined) {\r\n            this.drawKeyDown$$.unsubscribe();\r\n        }\r\n    };\r\n    /**\r\n     * Unsubscribe to key up\r\n     */\r\n    /**\r\n     * Unsubscribe to key up\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.unsubscribeToDrawKeyUp = /**\r\n     * Unsubscribe to key up\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.drawKeyUp$$ !== undefined) {\r\n            this.drawKeyUp$$.unsubscribe();\r\n        }\r\n    };\r\n    /**\r\n     * Remove the draw interaction\r\n     */\r\n    /**\r\n     * Remove the draw interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.removeOlDrawInteraction = /**\r\n     * Remove the draw interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.olDrawInteraction === undefined) {\r\n            return;\r\n        }\r\n        this.unsubscribeToKeyDown();\r\n        this.unsubscribeToDrawKeyUp();\r\n        this.unsubscribeToDrawKeyDown();\r\n        this.deactivateDrawInteraction();\r\n        this.olDrawInteraction = undefined;\r\n    };\r\n    /**\r\n     * Activate the draw interaction\r\n     */\r\n    /**\r\n     * Activate the draw interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.activateDrawInteraction = /**\r\n     * Activate the draw interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.olDrawInteractionIsActive === true) {\r\n            return;\r\n        }\r\n        this.clearOlLinearRingsSource();\r\n        this.addOlLinearRingsLayer();\r\n        this.olMap.getInteractions().forEach((/**\r\n         * @param {?} olInteraction\r\n         * @return {?}\r\n         */\r\n        function (olInteraction) {\r\n            if (olInteraction instanceof OlDragBoxInteraction) {\r\n                _this.olMap.removeInteraction(olInteraction);\r\n                _this.removedOlInteractions.push(olInteraction);\r\n            }\r\n        }));\r\n        this.olDrawInteractionIsActive = true;\r\n        this.onDrawStartKey = this.olDrawInteraction\r\n            .on('drawstart', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return _this.onDrawStart(event); }));\r\n        this.onDrawEndKey = this.olDrawInteraction\r\n            .on('drawend', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) { return _this.onDrawEnd(event); }));\r\n        this.olMap.addInteraction(this.olDrawInteraction);\r\n    };\r\n    /**\r\n     * Deactivate the draw interaction\r\n     */\r\n    /**\r\n     * Deactivate the draw interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.deactivateDrawInteraction = /**\r\n     * Deactivate the draw interaction\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.olDrawInteractionIsActive === false) {\r\n            return;\r\n        }\r\n        this.removeOlLinearRingsLayer();\r\n        this.removedOlInteractions.forEach((/**\r\n         * @param {?} olInteraction\r\n         * @return {?}\r\n         */\r\n        function (olInteraction) {\r\n            _this.olMap.addInteraction(olInteraction);\r\n        }));\r\n        this.olDrawInteractionIsActive = false;\r\n        unByKey(this.onDrawStartKey);\r\n        unByKey(this.onDrawEndKey);\r\n        if (this.olMap !== undefined) {\r\n            this.olMap.removeInteraction(this.olDrawInteraction);\r\n        }\r\n    };\r\n    /**\r\n     * When draw start, add a new linerar ring to the geometrty and start watching for changes\r\n     * @param event Draw start event\r\n     */\r\n    /**\r\n     * When draw start, add a new linerar ring to the geometrty and start watching for changes\r\n     * @private\r\n     * @param {?} event Draw start event\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.onDrawStart = /**\r\n     * When draw start, add a new linerar ring to the geometrty and start watching for changes\r\n     * @private\r\n     * @param {?} event Draw start event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var olGeometry = event.feature.getGeometry();\r\n        /** @type {?} */\r\n        var linearRingCoordinates = olGeometry.getLinearRing().getCoordinates();\r\n        this.addLinearRingToOlGeometry(linearRingCoordinates);\r\n        this.start$.next(this.getOlGeometry());\r\n        this.onDrawKey = olGeometry.on('change', (/**\r\n         * @param {?} olGeometryEvent\r\n         * @return {?}\r\n         */\r\n        function (olGeometryEvent) {\r\n            /** @type {?} */\r\n            var _linearRingCoordinates = olGeometryEvent.target.getLinearRing().getCoordinates();\r\n            _this.updateLinearRingOfOlGeometry(_linearRingCoordinates);\r\n            _this.changes$.next(_this.getOlGeometry());\r\n        }));\r\n        this.subscribeToKeyDown();\r\n    };\r\n    /**\r\n     * When translation ends, update the geometry observable and stop watchign for changes\r\n     * @param event Draw end event\r\n     */\r\n    /**\r\n     * When translation ends, update the geometry observable and stop watchign for changes\r\n     * @private\r\n     * @param {?} event Draw end event\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.onDrawEnd = /**\r\n     * When translation ends, update the geometry observable and stop watchign for changes\r\n     * @private\r\n     * @param {?} event Draw end event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (this.onDrawKey !== undefined) {\r\n            unByKey(this.onDrawKey);\r\n        }\r\n        /** @type {?} */\r\n        var linearRingCoordinates = event.feature.getGeometry().getLinearRing().getCoordinates();\r\n        this.updateLinearRingOfOlGeometry(linearRingCoordinates);\r\n        this.clearOlLinearRingsSource();\r\n        this.end$.next(this.getOlGeometry());\r\n        this.unsubscribeToKeyDown();\r\n    };\r\n    /**\r\n     * Add a linear ring to the geometry being modified\r\n     * @param coordinates Linear ring coordinates\r\n     */\r\n    /**\r\n     * Add a linear ring to the geometry being modified\r\n     * @private\r\n     * @param {?} coordinates Linear ring coordinates\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.addLinearRingToOlGeometry = /**\r\n     * Add a linear ring to the geometry being modified\r\n     * @private\r\n     * @param {?} coordinates Linear ring coordinates\r\n     * @return {?}\r\n     */\r\n    function (coordinates) {\r\n        /** @type {?} */\r\n        var olGeometry = this.getOlGeometry();\r\n        /** @type {?} */\r\n        var olLinearRing = new OlLinearRing(coordinates);\r\n        addLinearRingToOlPolygon(olGeometry, olLinearRing);\r\n    };\r\n    /**\r\n     * Update the last linear ring of the geometry being modified\r\n     * @param coordinates Linear ring coordinates\r\n     */\r\n    /**\r\n     * Update the last linear ring of the geometry being modified\r\n     * @private\r\n     * @param {?} coordinates Linear ring coordinates\r\n     * @return {?}\r\n     */\r\n    ModifyControl.prototype.updateLinearRingOfOlGeometry = /**\r\n     * Update the last linear ring of the geometry being modified\r\n     * @private\r\n     * @param {?} coordinates Linear ring coordinates\r\n     * @return {?}\r\n     */\r\n    function (coordinates) {\r\n        /** @type {?} */\r\n        var olGeometry = this.getOlGeometry();\r\n        // Remove the last linear ring (the one we are updating)\r\n        /** @type {?} */\r\n        var olLinearRings = olGeometry.getLinearRings().slice(0, -1);\r\n        /** @type {?} */\r\n        var newCoordinates = olLinearRings.map((/**\r\n         * @param {?} olLinearRing\r\n         * @return {?}\r\n         */\r\n        function (olLinearRing) {\r\n            return olLinearRing.getCoordinates();\r\n        }));\r\n        newCoordinates.push(coordinates);\r\n        olGeometry.setCoordinates(newCoordinates);\r\n    };\r\n    /**\r\n     * Get the geometry being modified\r\n     * @returns OL Geometry\r\n     */\r\n    /**\r\n     * Get the geometry being modified\r\n     * @private\r\n     * @return {?} OL Geometry\r\n     */\r\n    ModifyControl.prototype.getOlGeometry = /**\r\n     * Get the geometry being modified\r\n     * @private\r\n     * @return {?} OL Geometry\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var olFeatures = this.olOverlaySource.getFeatures();\r\n        return olFeatures.length > 0 ? olFeatures[0].getGeometry() : undefined;\r\n    };\r\n    return ModifyControl;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Control to modify geometries\r\n */\r\nvar  /**\r\n * Control to modify geometries\r\n */\r\nSliceControl = /** @class */ (function () {\r\n    function SliceControl(options) {\r\n        this.options = options;\r\n        /**\r\n         * Slice end observable\r\n         */\r\n        this.end$ = new Subject();\r\n        /**\r\n         * Slice error, if any\r\n         */\r\n        this.error$ = new Subject();\r\n        if (options.layer !== undefined) {\r\n            this.olOverlayLayer = options.layer;\r\n        }\r\n        else {\r\n            this.olOverlayLayer = this.createOlInnerOverlayLayer();\r\n        }\r\n    }\r\n    Object.defineProperty(SliceControl.prototype, \"active\", {\r\n        /**\r\n         * Wheter the control is active\r\n         */\r\n        get: /**\r\n         * Wheter the control is active\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.olMap !== undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SliceControl.prototype, \"olOverlaySource\", {\r\n        /**\r\n         * OL overlay source\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * OL overlay source\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.olOverlayLayer.getSource();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Add or remove this control to/from a map.\r\n     * @param map OL Map\r\n     */\r\n    /**\r\n     * Add or remove this control to/from a map.\r\n     * @param {?} olMap\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.setOlMap = /**\r\n     * Add or remove this control to/from a map.\r\n     * @param {?} olMap\r\n     * @return {?}\r\n     */\r\n    function (olMap$$1) {\r\n        if (olMap$$1 === undefined) {\r\n            this.clearOlInnerOverlaySource();\r\n            this.removeOlInnerOverlayLayer();\r\n            this.removeDrawLineControl();\r\n            this.olMap = olMap$$1;\r\n            return;\r\n        }\r\n        this.olMap = olMap$$1;\r\n        this.addOlInnerOverlayLayer();\r\n        this.addDrawLineControl();\r\n    };\r\n    /**\r\n     * Return the overlay source\r\n     */\r\n    /**\r\n     * Return the overlay source\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.getSource = /**\r\n     * Return the overlay source\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.olOverlaySource;\r\n    };\r\n    /**\r\n     * Add an OL geometry to the overlay for slicing\r\n     * @param olGeometry Ol Geometry\r\n     */\r\n    /**\r\n     * Add an OL geometry to the overlay for slicing\r\n     * @param {?} olGeometry Ol Geometry\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.setOlGeometry = /**\r\n     * Add an OL geometry to the overlay for slicing\r\n     * @param {?} olGeometry Ol Geometry\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        /** @type {?} */\r\n        var olFeature = new OlFeature({ geometry: olGeometry });\r\n        this.olOverlaySource.clear();\r\n        this.olOverlaySource.addFeature(olFeature);\r\n    };\r\n    /**\r\n     * Create an overlay source if none is defined in the options\r\n     */\r\n    /**\r\n     * Create an overlay source if none is defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.createOlInnerOverlayLayer = /**\r\n     * Create an overlay source if none is defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return new OlVectorLayer({\r\n            source: this.options.source ? this.options.source : new OlVectorSource(),\r\n            style: this.options.layerStyle,\r\n            zIndex: 500\r\n        });\r\n    };\r\n    /**\r\n     * Clear the overlay layer if it wasn't defined in the options\r\n     */\r\n    /**\r\n     * Clear the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.removeOlInnerOverlayLayer = /**\r\n     * Clear the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.options.layer === undefined && this.olMap !== undefined) {\r\n            this.olMap.removeLayer(this.olOverlayLayer);\r\n        }\r\n    };\r\n    /**\r\n     * Add the overlay layer if it wasn't defined in the options\r\n     */\r\n    /**\r\n     * Add the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.addOlInnerOverlayLayer = /**\r\n     * Add the overlay layer if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.options.layer === undefined) {\r\n            this.olMap.addLayer(this.olOverlayLayer);\r\n        }\r\n    };\r\n    /**\r\n     * Clear the overlay source if it wasn't defined in the options\r\n     */\r\n    /**\r\n     * Clear the overlay source if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.clearOlInnerOverlaySource = /**\r\n     * Clear the overlay source if it wasn't defined in the options\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.options.layer === undefined && this.options.source === undefined) {\r\n            this.olOverlaySource.clear();\r\n        }\r\n    };\r\n    /**\r\n     * Create a draw line control and add it to the map\r\n     */\r\n    /**\r\n     * Create a draw line control and add it to the map\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.addDrawLineControl = /**\r\n     * Create a draw line control and add it to the map\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.drawLineControl = new DrawControl({\r\n            geometryType: 'LineString',\r\n            drawStyle: this.options.drawStyle,\r\n            maxPoints: 2\r\n        });\r\n        this.drawLineStart$$ = this.drawLineControl.start$\r\n            .subscribe((/**\r\n         * @param {?} olLine\r\n         * @return {?}\r\n         */\r\n        function (olLine) { return _this.onDrawLineStart(olLine); }));\r\n        this.drawLineEnd$$ = this.drawLineControl.end$\r\n            .subscribe((/**\r\n         * @param {?} olLine\r\n         * @return {?}\r\n         */\r\n        function (olLine) { return _this.onDrawLineEnd(olLine); }));\r\n        this.drawLineControl.setOlMap(this.olMap);\r\n    };\r\n    /**\r\n     * Remove draw line control\r\n     */\r\n    /**\r\n     * Remove draw line control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.removeDrawLineControl = /**\r\n     * Remove draw line control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.drawLineControl === undefined) {\r\n            return;\r\n        }\r\n        this.drawLineStart$$.unsubscribe();\r\n        this.drawLineEnd$$.unsubscribe();\r\n        this.drawLineControl.getSource().clear();\r\n        this.drawLineControl.setOlMap(undefined);\r\n    };\r\n    /**\r\n     * Clear the draw source and track the geometry being draw\r\n     * @param olLine Ol linestring or polygon\r\n     */\r\n    /**\r\n     * Clear the draw source and track the geometry being draw\r\n     * @private\r\n     * @param {?} olLine Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.onDrawLineStart = /**\r\n     * Clear the draw source and track the geometry being draw\r\n     * @private\r\n     * @param {?} olLine Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    function (olLine) {\r\n        this.drawLineControl.getSource().clear();\r\n    };\r\n    /**\r\n     * Slice the first geometry encountered with the drawn line\r\n     * @param olLine Ol linestring\r\n     */\r\n    /**\r\n     * Slice the first geometry encountered with the drawn line\r\n     * @private\r\n     * @param {?} olLine Ol linestring\r\n     * @return {?}\r\n     */\r\n    SliceControl.prototype.onDrawLineEnd = /**\r\n     * Slice the first geometry encountered with the drawn line\r\n     * @private\r\n     * @param {?} olLine Ol linestring\r\n     * @return {?}\r\n     */\r\n    function (olLine) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var olSlicedGeometries = [];\r\n        /** @type {?} */\r\n        var lineExtent = olLine.getExtent();\r\n        /** @type {?} */\r\n        var olFeaturesToRemove = [];\r\n        try {\r\n            this.olOverlaySource.forEachFeatureInExtent(lineExtent, (/**\r\n             * @param {?} olFeature\r\n             * @return {?}\r\n             */\r\n            function (olFeature) {\r\n                /** @type {?} */\r\n                var olGeometry = olFeature.getGeometry();\r\n                /** @type {?} */\r\n                var olParts = sliceOlGeometry(olGeometry, olLine);\r\n                if (olParts.length > 0) {\r\n                    olSlicedGeometries.push.apply(olSlicedGeometries, __spread(olParts));\r\n                    olFeaturesToRemove.push(olFeature);\r\n                }\r\n            }));\r\n        }\r\n        catch (e) {\r\n            if (e instanceof GeometrySliceError) {\r\n                this.error$.next(e);\r\n                return;\r\n            }\r\n            else {\r\n                throw e;\r\n            }\r\n        }\r\n        this.drawLineControl.getSource().clear();\r\n        this.olOverlaySource.addFeatures(olSlicedGeometries.map((/**\r\n         * @param {?} olGeometry\r\n         * @return {?}\r\n         */\r\n        function (olGeometry) { return new OlFeature(olGeometry); })));\r\n        olFeaturesToRemove.forEach((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            _this.olOverlaySource.removeFeature(olFeature);\r\n        }));\r\n        this.error$.next(undefined);\r\n        this.end$.next(olSlicedGeometries);\r\n    };\r\n    return SliceControl;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MeasurerDialogComponent = /** @class */ (function () {\r\n    function MeasurerDialogComponent(dialogRef, data) {\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        this.measureAreaUnit = MeasureAreaUnit;\r\n        this.measureLengthUnit = MeasureLengthUnit;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MeasurerDialogComponent.prototype.onNoClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.dialogRef.close();\r\n    };\r\n    MeasurerDialogComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-measurer-dialog',\r\n                    template: \"<div mat-dialog-content>\\r\\n  <h3>{{'igo.geo.measure.dialog.title' | translate}}</h3>\\r\\n\\r\\n  <table>\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th colspan=\\\"2\\\">{{'igo.geo.measure.dialog.length.title' | translate}}</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr>\\r\\n        <td>{{'igo.geo.measure.dialog.lengthInMeters' | translate}}</td>\\r\\n        <td>{{data.length | measureFormat: measureLengthUnit.Meters}}</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>{{'igo.geo.measure.dialog.lengthInKilometers' | translate}}</td>\\r\\n        <td>{{data.length | measureFormat: measureLengthUnit.Kilometers}}</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>{{'igo.geo.measure.dialog.lengthInMiles' | translate}}</td>\\r\\n        <td>{{data.length | measureFormat: measureLengthUnit.Miles}}</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>{{'igo.geo.measure.dialog.lengthInFeet' | translate}}</td>\\r\\n        <td>{{data.length | measureFormat: measureLengthUnit.Feet}}</td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n\\r\\n  <table>\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th colspan=\\\"2\\\">{{'igo.geo.measure.dialog.area.title' | translate}}</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr>\\r\\n        <td>{{'igo.geo.measure.dialog.areaInSquareMeters' | translate}}</td>\\r\\n        <td>{{data.area | measureFormat: measureAreaUnit.SquareMeters}}</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>{{'igo.geo.measure.dialog.areaInSquareKilometers' | translate}}</td>\\r\\n        <td>{{data.area | measureFormat:measureAreaUnit.SquareKilometers}}</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>{{'igo.geo.measure.dialog.areaInSquareMiles' | translate}}</td>\\r\\n        <td>{{data.area | measureFormat: measureAreaUnit.SquareMiles}}</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>{{'igo.geo.measure.dialog.areaInAcres' | translate}}</td>\\r\\n        <td>{{data.area | measureFormat: measureAreaUnit.Acres}}</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>{{'igo.geo.measure.dialog.areaInHectares' | translate}}</td>\\r\\n        <td>{{data.area | measureFormat: measureAreaUnit.Hectares}}</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>{{'igo.geo.measure.dialog.perimeterInMeters' | translate}}</td>\\r\\n        <td>{{data.perimeter | measureFormat: measureLengthUnit.Meters}}</td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n</div>\\r\\n\",\r\n                    styles: [\"h3{text-align:center;margin:0}table{width:100%;padding:10px}table tbody tr td:last-child{padding-left:10px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    MeasurerDialogComponent.ctorParameters = function () { return [\r\n        { type: MatDialogRef },\r\n        { type: undefined, decorators: [{ type: Inject, args: [MAT_DIALOG_DATA,] }] }\r\n    ]; };\r\n    return MeasurerDialogComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Tool to measure lengths and areas\r\n */\r\nvar MeasurerComponent = /** @class */ (function () {\r\n    function MeasurerComponent(languageService, dialog) {\r\n        var _this = this;\r\n        this.languageService = languageService;\r\n        this.dialog = dialog;\r\n        /**\r\n         * Table template\r\n         * \\@internal\r\n         */\r\n        this.tableTemplate = {\r\n            selection: true,\r\n            selectMany: true,\r\n            selectionCheckbox: true,\r\n            sort: true,\r\n            columns: [\r\n                {\r\n                    name: 'length',\r\n                    title: this.languageService.translate.instant('igo.geo.measure.lengthHeader'),\r\n                    valueAccessor: (/**\r\n                     * @param {?} feature\r\n                     * @return {?}\r\n                     */\r\n                    function (feature) {\r\n                        /** @type {?} */\r\n                        var unit = _this.activeLengthUnit;\r\n                        /** @type {?} */\r\n                        var measure = metersToUnit(feature.properties.measure.length, unit);\r\n                        return formatMeasure(measure, {\r\n                            decimal: 1,\r\n                            unit: unit,\r\n                            unitAbbr: false,\r\n                            locale: 'fr'\r\n                        });\r\n                    })\r\n                },\r\n                {\r\n                    name: 'area',\r\n                    title: this.languageService.translate.instant('igo.geo.measure.areaHeader'),\r\n                    valueAccessor: (/**\r\n                     * @param {?} feature\r\n                     * @return {?}\r\n                     */\r\n                    function (feature) {\r\n                        /** @type {?} */\r\n                        var unit = _this.activeAreaUnit;\r\n                        /** @type {?} */\r\n                        var measure = squareMetersToUnit(feature.properties.measure.area, unit);\r\n                        return measure ? formatMeasure(measure, {\r\n                            decimal: 1,\r\n                            unit: unit,\r\n                            unitAbbr: false,\r\n                            locale: 'fr'\r\n                        }) : '';\r\n                    })\r\n                }\r\n            ]\r\n        };\r\n        /**\r\n         * Reference to the MeasureType enum\r\n         * \\@internal\r\n         */\r\n        this.measureType = MeasureType;\r\n        /**\r\n         * Reference to the AreaMeasureUnit enum\r\n         * \\@internal\r\n         */\r\n        this.measureAreaUnit = MeasureAreaUnit;\r\n        /**\r\n         * Reference to the LengthMeasureUnit enum\r\n         * \\@internal\r\n         */\r\n        this.measureLengthUnit = MeasureLengthUnit;\r\n        /**\r\n         * Whether measure units should be automatically determined\r\n         * \\@internal\r\n         */\r\n        this.measureUnitsAuto = false;\r\n        /**\r\n         * Observable of area\r\n         * \\@internal\r\n         */\r\n        this.measure$ = new BehaviorSubject({});\r\n        /**\r\n         * Observable of selected features\r\n         * \\@internal\r\n         */\r\n        this.selectedFeatures$ = new BehaviorSubject([]);\r\n        /**\r\n         * OL draw source\r\n         * \\@internal\r\n         */\r\n        this.showTooltips = true;\r\n        /**\r\n         * Active mlength unit\r\n         */\r\n        this.activeLengthUnit = MeasureLengthUnit.Meters;\r\n        /**\r\n         * Active area unit\r\n         */\r\n        this.activeAreaUnit = MeasureAreaUnit.SquareMeters;\r\n        /**\r\n         * OL draw source\r\n         */\r\n        this.olDrawSource = new OlVectorSource();\r\n        this._activeMeasureType = MeasureType.Length;\r\n        /**\r\n         * The minimum length a segment must have to display a tooltip.\r\n         * It also applies to area tooltips.\r\n         */\r\n        this.minSegmentLength = 10;\r\n    }\r\n    Object.defineProperty(MeasurerComponent.prototype, \"activeMeasureType\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this._activeMeasureType; },\r\n        /**\r\n         * Measure type\r\n         * @internal\r\n         */\r\n        set: /**\r\n         * Measure type\r\n         * \\@internal\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { this.setActiveMeasureType(value); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MeasurerComponent.prototype, \"drawControlIsActive\", {\r\n        /**\r\n         * Wheter one of the draw control is active\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Wheter one of the draw control is active\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.activeDrawControl !== undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MeasurerComponent.prototype, \"projection\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.map.ol.getView().getProjection();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Add draw controls and activate one\r\n     * @internal\r\n     */\r\n    /**\r\n     * Add draw controls and activate one\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.ngOnInit = /**\r\n     * Add draw controls and activate one\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.initStore();\r\n        this.createDrawLineControl();\r\n        this.createDrawPolygonControl();\r\n        this.createModifyControl();\r\n        this.toggleDrawControl();\r\n        this.onToggleTooltips(this.showTooltips);\r\n        this.updateTooltipsOfOlSource(this.store.source.ol);\r\n    };\r\n    /**\r\n     * Clear the overlay layer and any interaction added by this component.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Clear the overlay layer and any interaction added by this component.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.ngOnDestroy = /**\r\n     * Clear the overlay layer and any interaction added by this component.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.setActiveMeasureType(undefined);\r\n        this.deactivateModifyControl();\r\n        this.freezeStore();\r\n    };\r\n    /**\r\n     * Set the measure type\r\n     * @internal\r\n     */\r\n    /**\r\n     * Set the measure type\r\n     * \\@internal\r\n     * @param {?} measureType\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onMeasureTypeChange = /**\r\n     * Set the measure type\r\n     * \\@internal\r\n     * @param {?} measureType\r\n     * @return {?}\r\n     */\r\n    function (measureType) {\r\n        this.activeMeasureType = measureType;\r\n    };\r\n    /**\r\n     * Activate or deactivate the current draw control\r\n     * @internal\r\n     */\r\n    /**\r\n     * Activate or deactivate the current draw control\r\n     * \\@internal\r\n     * @param {?} toggle\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onToggleDrawControl = /**\r\n     * Activate or deactivate the current draw control\r\n     * \\@internal\r\n     * @param {?} toggle\r\n     * @return {?}\r\n     */\r\n    function (toggle) {\r\n        if (toggle === true) {\r\n            this.toggleDrawControl();\r\n        }\r\n        else {\r\n            this.deactivateDrawControl();\r\n        }\r\n    };\r\n    /**\r\n     * Activate or deactivate the current draw control\r\n     * @internal\r\n     */\r\n    /**\r\n     * Activate or deactivate the current draw control\r\n     * \\@internal\r\n     * @param {?} toggle\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onToggleTooltips = /**\r\n     * Activate or deactivate the current draw control\r\n     * \\@internal\r\n     * @param {?} toggle\r\n     * @return {?}\r\n     */\r\n    function (toggle) {\r\n        this.showTooltips = toggle;\r\n        if (toggle === true) {\r\n            this.showTooltipsOfOlSource(this.store.source.ol);\r\n        }\r\n        else {\r\n            this.clearTooltipsOfOlSource(this.store.source.ol);\r\n        }\r\n    };\r\n    /**\r\n     * Activate or deactivate the current draw control\r\n     * @internal\r\n     */\r\n    /**\r\n     * Activate or deactivate the current draw control\r\n     * \\@internal\r\n     * @param {?} toggle\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onToggleMeasureUnitsAuto = /**\r\n     * Activate or deactivate the current draw control\r\n     * \\@internal\r\n     * @param {?} toggle\r\n     * @return {?}\r\n     */\r\n    function (toggle) {\r\n        this.measureUnitsAuto = toggle;\r\n    };\r\n    /**\r\n     * Set the measure type\r\n     * @internal\r\n     */\r\n    /**\r\n     * Set the measure type\r\n     * \\@internal\r\n     * @param {?} unit\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onLengthUnitChange = /**\r\n     * Set the measure type\r\n     * \\@internal\r\n     * @param {?} unit\r\n     * @return {?}\r\n     */\r\n    function (unit) {\r\n        this.activeLengthUnit = unit;\r\n        this.table.refresh();\r\n        this.updateTooltipsOfOlSource(this.store.source.ol);\r\n        if (this.activeOlGeometry !== undefined) {\r\n            this.updateTooltipsOfOlGeometry(this.activeOlGeometry);\r\n        }\r\n    };\r\n    /**\r\n     * Set the measure type\r\n     * @internal\r\n     */\r\n    /**\r\n     * Set the measure type\r\n     * \\@internal\r\n     * @param {?} unit\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onAreaUnitChange = /**\r\n     * Set the measure type\r\n     * \\@internal\r\n     * @param {?} unit\r\n     * @return {?}\r\n     */\r\n    function (unit) {\r\n        this.activeAreaUnit = unit;\r\n        this.table.refresh();\r\n        this.updateTooltipsOfOlSource(this.store.source.ol);\r\n        if (this.activeOlGeometry !== undefined) {\r\n            this.updateTooltipsOfOlGeometry(this.activeOlGeometry);\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onCalculateClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var features = this.selectedFeatures$.value;\r\n        /** @type {?} */\r\n        var area = features.reduce((/**\r\n         * @param {?} sum\r\n         * @param {?} feature\r\n         * @return {?}\r\n         */\r\n        function (sum, feature) {\r\n            return sum + feature.properties.measure.area || 0;\r\n        }), 0);\r\n        /** @type {?} */\r\n        var length = features.reduce((/**\r\n         * @param {?} sum\r\n         * @param {?} feature\r\n         * @return {?}\r\n         */\r\n        function (sum, feature) {\r\n            if (feature.geometry.type === 'Polygon') {\r\n                return sum;\r\n            }\r\n            return sum + feature.properties.measure.length || 0;\r\n        }), 0);\r\n        /** @type {?} */\r\n        var perimeter = features.reduce((/**\r\n         * @param {?} sum\r\n         * @param {?} feature\r\n         * @return {?}\r\n         */\r\n        function (sum, feature) {\r\n            if (feature.geometry.type === 'LineString') {\r\n                return sum;\r\n            }\r\n            return sum + feature.properties.measure.length || 0;\r\n        }), 0);\r\n        this.openDialog({\r\n            area: area,\r\n            length: length,\r\n            perimeter: perimeter\r\n        });\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onDeleteClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.store.deleteMany(this.selectedFeatures$.value);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onModifyClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.selectedFeatures$.value.length !== 1) {\r\n            return;\r\n        }\r\n        if (this.modifyControl.active === true) {\r\n            this.deactivateModifyControl();\r\n            this.toggleDrawControl();\r\n        }\r\n        else {\r\n            /** @type {?} */\r\n            var feature_1 = this.selectedFeatures$.value[0];\r\n            /** @type {?} */\r\n            var olFeatures = this.store.layer.ol.getSource().getFeatures();\r\n            /** @type {?} */\r\n            var olFeature = olFeatures.find((/**\r\n             * @param {?} _olFeature\r\n             * @return {?}\r\n             */\r\n            function (_olFeature) {\r\n                return _olFeature.get('id') === feature_1.properties.id;\r\n            }));\r\n            if (olFeature !== undefined) {\r\n                this.deactivateDrawControl();\r\n                this.activateModifyControl();\r\n                /** @type {?} */\r\n                var olGeometry = olFeature.getGeometry();\r\n                this.clearTooltipsOfOlGeometry(olGeometry);\r\n                this.modifyControl.setOlGeometry(olGeometry);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.openDialog = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        this.dialog.open(MeasurerDialogComponent, { data: data });\r\n    };\r\n    /**\r\n     * Initialize the measure store and set up some listeners\r\n     * @internal\r\n     */\r\n    /**\r\n     * Initialize the measure store and set up some listeners\r\n     * \\@internal\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.initStore = /**\r\n     * Initialize the measure store and set up some listeners\r\n     * \\@internal\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var store = this.store;\r\n        /** @type {?} */\r\n        var layer = new VectorLayer({\r\n            title: 'Measures',\r\n            zIndex: 200,\r\n            source: new FeatureDataSource(),\r\n            style: createMeasureLayerStyle(),\r\n            showInLayerList: false,\r\n            exportable: false,\r\n            browsable: false\r\n        });\r\n        tryBindStoreLayer(store, layer);\r\n        tryAddLoadingStrategy(store);\r\n        tryAddSelectionStrategy(store, new FeatureStoreSelectionStrategy({\r\n            map: this.map,\r\n            many: true\r\n        }));\r\n        this.onFeatureAddedKey = store.source.ol.on('addfeature', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            /** @type {?} */\r\n            var feature = event.feature;\r\n            /** @type {?} */\r\n            var olGeometry = feature.getGeometry();\r\n            _this.updateMeasureOfOlGeometry(olGeometry, feature.get('measure'));\r\n        }));\r\n        this.onFeatureRemovedKey = store.source.ol.on('removefeature', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            /** @type {?} */\r\n            var olGeometry = event.feature.getGeometry();\r\n            _this.clearTooltipsOfOlGeometry(olGeometry);\r\n        }));\r\n        this.selectedFeatures$$ = store.stateView.manyBy$((/**\r\n         * @param {?} record\r\n         * @return {?}\r\n         */\r\n        function (record) {\r\n            return record.state.selected === true;\r\n        })).pipe(skip(1) // Skip initial emission\r\n        )\r\n            .subscribe((/**\r\n         * @param {?} records\r\n         * @return {?}\r\n         */\r\n        function (records) {\r\n            if (_this.modifyControl.active === true) {\r\n                _this.deactivateModifyControl();\r\n            }\r\n            _this.selectedFeatures$.next(records.map((/**\r\n             * @param {?} record\r\n             * @return {?}\r\n             */\r\n            function (record) { return record.entity; })));\r\n        }));\r\n    };\r\n    /**\r\n     * Freeze any store, meaning the layer is removed, strategies are deactivated\r\n     * and some listener removed\r\n     * @internal\r\n     */\r\n    /**\r\n     * Freeze any store, meaning the layer is removed, strategies are deactivated\r\n     * and some listener removed\r\n     * \\@internal\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.freezeStore = /**\r\n     * Freeze any store, meaning the layer is removed, strategies are deactivated\r\n     * and some listener removed\r\n     * \\@internal\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var store = this.store;\r\n        this.selectedFeatures$$.unsubscribe();\r\n        unByKey(this.onFeatureAddedKey);\r\n        unByKey(this.onFeatureRemovedKey);\r\n        this.clearTooltipsOfOlSource(store.source.ol);\r\n        this.map.removeLayer(store.layer);\r\n        store.deactivateStrategyOfType(FeatureStoreLoadingStrategy);\r\n        store.deactivateStrategyOfType(FeatureStoreSelectionStrategy);\r\n    };\r\n    /**\r\n     * Create a draw line control\r\n     */\r\n    /**\r\n     * Create a draw line control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.createDrawLineControl = /**\r\n     * Create a draw line control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.drawLineControl = new DrawControl({\r\n            geometryType: 'LineString',\r\n            source: this.olDrawSource,\r\n            drawStyle: createMeasureInteractionStyle(),\r\n            layerStyle: new OlStyle({})\r\n        });\r\n    };\r\n    /**\r\n     * Create a draw polygon control\r\n     */\r\n    /**\r\n     * Create a draw polygon control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.createDrawPolygonControl = /**\r\n     * Create a draw polygon control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.drawPolygonControl = new DrawControl({\r\n            geometryType: 'Polygon',\r\n            source: this.olDrawSource,\r\n            drawStyle: createMeasureInteractionStyle(),\r\n            layerStyle: new OlStyle({})\r\n        });\r\n    };\r\n    /**\r\n     * Create a draw polygon control\r\n     */\r\n    /**\r\n     * Create a draw polygon control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.createModifyControl = /**\r\n     * Create a draw polygon control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.modifyControl = new ModifyControl({\r\n            source: this.olDrawSource,\r\n            drawStyle: createMeasureInteractionStyle(),\r\n            layerStyle: new OlStyle({})\r\n        });\r\n    };\r\n    /**\r\n     * Activate the right control\r\n     */\r\n    /**\r\n     * Activate the right control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.toggleDrawControl = /**\r\n     * Activate the right control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.deactivateDrawControl();\r\n        // this.deactivateModifyControl();\r\n        if (this.activeMeasureType === MeasureType.Length) {\r\n            this.activateDrawControl(this.drawLineControl);\r\n        }\r\n        else if (this.activeMeasureType === MeasureType.Area) {\r\n            this.activateDrawControl(this.drawPolygonControl);\r\n        }\r\n    };\r\n    /**\r\n     * Activate a given control\r\n     * @param drawControl Draw control\r\n     */\r\n    /**\r\n     * Activate a given control\r\n     * @private\r\n     * @param {?} drawControl Draw control\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.activateDrawControl = /**\r\n     * Activate a given control\r\n     * @private\r\n     * @param {?} drawControl Draw control\r\n     * @return {?}\r\n     */\r\n    function (drawControl) {\r\n        var _this = this;\r\n        this.activeDrawControl = drawControl;\r\n        this.drawStart$$ = drawControl.start$\r\n            .subscribe((/**\r\n         * @param {?} olGeometry\r\n         * @return {?}\r\n         */\r\n        function (olGeometry) { return _this.onDrawStart(olGeometry); }));\r\n        this.drawEnd$$ = drawControl.end$\r\n            .subscribe((/**\r\n         * @param {?} olGeometry\r\n         * @return {?}\r\n         */\r\n        function (olGeometry) { return _this.onDrawEnd(olGeometry); }));\r\n        this.drawChanges$$ = drawControl.changes$\r\n            .subscribe((/**\r\n         * @param {?} olGeometry\r\n         * @return {?}\r\n         */\r\n        function (olGeometry) { return _this.onDrawChanges(olGeometry); }));\r\n        drawControl.setOlMap(this.map.ol);\r\n    };\r\n    /**\r\n     * Deactivate the active draw control\r\n     */\r\n    /**\r\n     * Deactivate the active draw control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.deactivateDrawControl = /**\r\n     * Deactivate the active draw control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.activeDrawControl === undefined) {\r\n            return;\r\n        }\r\n        this.olDrawSource.clear();\r\n        if (this.drawStart$$ !== undefined) {\r\n            this.drawStart$$.unsubscribe();\r\n        }\r\n        if (this.drawEnd$$ !== undefined) {\r\n            this.drawEnd$$.unsubscribe();\r\n        }\r\n        if (this.drawChanges$$ !== undefined) {\r\n            this.drawChanges$$.unsubscribe();\r\n        }\r\n        this.clearTooltipsOfOlSource(this.olDrawSource);\r\n        if (this.activeOlGeometry !== undefined) {\r\n            this.clearTooltipsOfOlGeometry(this.activeOlGeometry);\r\n        }\r\n        this.activeDrawControl.setOlMap(undefined);\r\n        this.activeDrawControl = undefined;\r\n        this.activeOlGeometry = undefined;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} measureType\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.setActiveMeasureType = /**\r\n     * @private\r\n     * @param {?} measureType\r\n     * @return {?}\r\n     */\r\n    function (measureType) {\r\n        this._activeMeasureType = measureType;\r\n        this.clearMeasures();\r\n        this.toggleDrawControl();\r\n    };\r\n    /**\r\n     * Clear the draw source and track the geometry being drawn\r\n     * @param olGeometry Ol linestring or polygon\r\n     */\r\n    /**\r\n     * Clear the draw source and track the geometry being drawn\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onDrawStart = /**\r\n     * Clear the draw source and track the geometry being drawn\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        this.activeOlGeometry = olGeometry;\r\n    };\r\n    /**\r\n     * Clear the draw source and track the geometry being draw\r\n     * @param olGeometry Ol linestring or polygon\r\n     */\r\n    /**\r\n     * Clear the draw source and track the geometry being draw\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onDrawEnd = /**\r\n     * Clear the draw source and track the geometry being draw\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        this.activeOlGeometry = undefined;\r\n        this.finalizeMeasureOfOlGeometry(olGeometry);\r\n        this.addFeatureToStore(olGeometry);\r\n        this.clearTooltipsOfOlGeometry(olGeometry);\r\n        this.olDrawSource.clear(true);\r\n    };\r\n    /**\r\n     * Update measures observables and map tooltips\r\n     * @param olGeometry Ol linestring or polygon\r\n     */\r\n    /**\r\n     * Update measures observables and map tooltips\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onDrawChanges = /**\r\n     * Update measures observables and map tooltips\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        /** @type {?} */\r\n        var measure = measureOlGeometry(olGeometry, this.projection);\r\n        this.updateMeasureOfOlGeometry(olGeometry, Object.assign({}, measure, {\r\n            area: undefined // We don't want to display an area tooltip while drawing.\r\n        }));\r\n        this.measure$.next(measure);\r\n    };\r\n    /**\r\n     * Activate a given control\r\n     * @param modifyControl Modify control\r\n     */\r\n    /**\r\n     * Activate a given control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.activateModifyControl = /**\r\n     * Activate a given control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var selection = (/** @type {?} */ (this.store.getStrategyOfType(FeatureStoreSelectionStrategy)));\r\n        selection.deactivate();\r\n        selection.clear();\r\n        this.modifyStart$$ = this.modifyControl.start$\r\n            .subscribe((/**\r\n         * @param {?} olGeometry\r\n         * @return {?}\r\n         */\r\n        function (olGeometry) { return _this.onModifyStart(olGeometry); }));\r\n        this.modifyEnd$$ = this.modifyControl.end$\r\n            .subscribe((/**\r\n         * @param {?} olGeometry\r\n         * @return {?}\r\n         */\r\n        function (olGeometry) { return _this.onModifyEnd(olGeometry); }));\r\n        this.modifyChanges$$ = this.modifyControl.changes$\r\n            .subscribe((/**\r\n         * @param {?} olGeometry\r\n         * @return {?}\r\n         */\r\n        function (olGeometry) { return _this.onModifyChanges(olGeometry); }));\r\n        this.modifyControl.setOlMap(this.map.ol);\r\n    };\r\n    /**\r\n     * Deactivate the active modify control\r\n     */\r\n    /**\r\n     * Deactivate the active modify control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.deactivateModifyControl = /**\r\n     * Deactivate the active modify control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.modifyStart$$ !== undefined) {\r\n            this.modifyStart$$.unsubscribe();\r\n        }\r\n        if (this.modifyEnd$$ !== undefined) {\r\n            this.modifyEnd$$.unsubscribe();\r\n        }\r\n        if (this.modifyChanges$$ !== undefined) {\r\n            this.modifyChanges$$.unsubscribe();\r\n        }\r\n        if (this.activeOlGeometry !== undefined) {\r\n            if (this.selectedFeatures$.value.length === 1) {\r\n                /** @type {?} */\r\n                var feature = this.selectedFeatures$.value[0];\r\n                this.addFeatureToStore(this.activeOlGeometry, feature);\r\n            }\r\n            this.finalizeMeasureOfOlGeometry(this.activeOlGeometry);\r\n        }\r\n        this.olDrawSource.clear();\r\n        this.store.activateStrategyOfType(FeatureStoreSelectionStrategy);\r\n        this.activeOlGeometry = undefined;\r\n        this.modifyControl.setOlMap(undefined);\r\n    };\r\n    /**\r\n     * Clear the draw source and track the geometry being drawn\r\n     * @param olGeometry Ol linestring or polygon\r\n     */\r\n    /**\r\n     * Clear the draw source and track the geometry being drawn\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onModifyStart = /**\r\n     * Clear the draw source and track the geometry being drawn\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        this.onDrawStart(olGeometry);\r\n    };\r\n    /**\r\n     * Update measures observables and map tooltips\r\n     * @param olGeometry Ol linestring or polygon\r\n     */\r\n    /**\r\n     * Update measures observables and map tooltips\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onModifyChanges = /**\r\n     * Update measures observables and map tooltips\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        this.onDrawChanges(olGeometry);\r\n    };\r\n    /**\r\n     * Clear the draw source and track the geometry being draw\r\n     * @param olGeometry Ol linestring or polygon\r\n     */\r\n    /**\r\n     * Clear the draw source and track the geometry being draw\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.onModifyEnd = /**\r\n     * Clear the draw source and track the geometry being draw\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        this.finalizeMeasureOfOlGeometry(olGeometry);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} olGeometry\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.finalizeMeasureOfOlGeometry = /**\r\n     * @private\r\n     * @param {?} olGeometry\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        /** @type {?} */\r\n        var measure = measureOlGeometry(olGeometry, this.projection);\r\n        if (olGeometry instanceof OlPolygon) {\r\n            measure = Object.assign({}, measure, {\r\n                lengths: [] // We don't want to display an area tooltip while drawing.\r\n            });\r\n        }\r\n        this.updateMeasureOfOlGeometry(olGeometry, measure);\r\n    };\r\n    /**\r\n     * Update measures observables\r\n     * @param olGeometry Ol linestring or polygon\r\n     * @param measure Measure\r\n     */\r\n    /**\r\n     * Update measures observables\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @param {?} measure Measure\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.updateMeasureOfOlGeometry = /**\r\n     * Update measures observables\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @param {?} measure Measure\r\n     * @return {?}\r\n     */\r\n    function (olGeometry, measure) {\r\n        olGeometry.setProperties({ _measure: measure }, true);\r\n        this.updateTooltipsOfOlGeometry(olGeometry);\r\n    };\r\n    /**\r\n     * Clear the measures observables\r\n     */\r\n    /**\r\n     * Clear the measures observables\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.clearMeasures = /**\r\n     * Clear the measures observables\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.measure$.next({});\r\n    };\r\n    /**\r\n     * Add a feature with measures to the store. The loading stragegy of the store\r\n     * will trigger and add the feature to the map.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Add a feature with measures to the store. The loading stragegy of the store\r\n     * will trigger and add the feature to the map.\r\n     * \\@internal\r\n     * @private\r\n     * @param {?} olGeometry\r\n     * @param {?=} feature\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.addFeatureToStore = /**\r\n     * Add a feature with measures to the store. The loading stragegy of the store\r\n     * will trigger and add the feature to the map.\r\n     * \\@internal\r\n     * @private\r\n     * @param {?} olGeometry\r\n     * @param {?=} feature\r\n     * @return {?}\r\n     */\r\n    function (olGeometry, feature) {\r\n        /** @type {?} */\r\n        var featureId = feature ? feature.properties.id : uuid();\r\n        /** @type {?} */\r\n        var projection = this.map.ol.getView().getProjection();\r\n        /** @type {?} */\r\n        var geometry = new OlGeoJSON().writeGeometryObject(olGeometry, {\r\n            featureProjection: projection,\r\n            dataProjection: projection\r\n        });\r\n        this.store.update({\r\n            type: FEATURE,\r\n            geometry: geometry,\r\n            projection: projection.getCode(),\r\n            properties: {\r\n                id: featureId,\r\n                measure: olGeometry.get('_measure')\r\n            },\r\n            meta: {\r\n                id: featureId\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Update all the tooltips of an OL geometry\r\n     * @param olGeometry OL Geometry\r\n     * @param lengths Lengths of the OL geometry's segments\r\n     * @param measureUnit Display tooltip measure in those units\r\n     */\r\n    /**\r\n     * Update all the tooltips of an OL geometry\r\n     * @private\r\n     * @param {?} olGeometry OL Geometry\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.updateTooltipsOfOlGeometry = /**\r\n     * Update all the tooltips of an OL geometry\r\n     * @private\r\n     * @param {?} olGeometry OL Geometry\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        /** @type {?} */\r\n        var measure = olGeometry.get('_measure');\r\n        /** @type {?} */\r\n        var lengths = measure.lengths;\r\n        /** @type {?} */\r\n        var area = measure.area;\r\n        /** @type {?} */\r\n        var olMidpointsTooltips = updateOlTooltipsAtMidpoints(olGeometry);\r\n        if (lengths.length === olMidpointsTooltips.length) {\r\n            for (var i = 0; i < olMidpointsTooltips.length; i++) {\r\n                /** @type {?} */\r\n                var length_1 = lengths[i];\r\n                if (length_1 !== undefined) {\r\n                    this.updateOlTooltip(olMidpointsTooltips[i], metersToUnit(length_1, this.activeLengthUnit), this.activeLengthUnit, MeasureType.Length);\r\n                }\r\n            }\r\n        }\r\n        if (area !== undefined) {\r\n            this.updateOlTooltip(updateOlTooltipAtCenter(olGeometry), squareMetersToUnit(area, this.activeAreaUnit), this.activeAreaUnit, MeasureType.Area);\r\n        }\r\n    };\r\n    /**\r\n     * Show the map tooltips of a geoemtry\r\n     */\r\n    /**\r\n     * Show the map tooltips of a geoemtry\r\n     * @private\r\n     * @param {?} olGeometry\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.showTooltipsOfOlGeometry = /**\r\n     * Show the map tooltips of a geoemtry\r\n     * @private\r\n     * @param {?} olGeometry\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        var _this = this;\r\n        getTooltipsOfOlGeometry(olGeometry).forEach((/**\r\n         * @param {?} olTooltip\r\n         * @return {?}\r\n         */\r\n        function (olTooltip) {\r\n            if (_this.shouldShowTooltip(olTooltip)) {\r\n                _this.map.ol.addOverlay(olTooltip);\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * Clear the tooltips of an OL geometrys\r\n     * @param olGeometry OL geometry with tooltips\r\n     */\r\n    /**\r\n     * Clear the tooltips of an OL geometrys\r\n     * @private\r\n     * @param {?} olGeometry OL geometry with tooltips\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.clearTooltipsOfOlGeometry = /**\r\n     * Clear the tooltips of an OL geometrys\r\n     * @private\r\n     * @param {?} olGeometry OL geometry with tooltips\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        var _this = this;\r\n        getTooltipsOfOlGeometry(olGeometry).forEach((/**\r\n         * @param {?} olTooltip\r\n         * @return {?}\r\n         */\r\n        function (olTooltip) {\r\n            if (olTooltip !== undefined && olTooltip.getMap() !== undefined) {\r\n                _this.map.ol.removeOverlay(olTooltip);\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * Show the map tooltips of all the geometries of a source\r\n     */\r\n    /**\r\n     * Show the map tooltips of all the geometries of a source\r\n     * @private\r\n     * @param {?} olSource\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.updateTooltipsOfOlSource = /**\r\n     * Show the map tooltips of all the geometries of a source\r\n     * @private\r\n     * @param {?} olSource\r\n     * @return {?}\r\n     */\r\n    function (olSource) {\r\n        var _this = this;\r\n        olSource.forEachFeature((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            _this.updateTooltipsOfOlGeometry(olFeature.getGeometry());\r\n        }));\r\n    };\r\n    /**\r\n     * Show the map tooltips of all the geometries of a source\r\n     */\r\n    /**\r\n     * Show the map tooltips of all the geometries of a source\r\n     * @private\r\n     * @param {?} olSource\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.showTooltipsOfOlSource = /**\r\n     * Show the map tooltips of all the geometries of a source\r\n     * @private\r\n     * @param {?} olSource\r\n     * @return {?}\r\n     */\r\n    function (olSource) {\r\n        var _this = this;\r\n        olSource.forEachFeature((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            _this.showTooltipsOfOlGeometry(olFeature.getGeometry());\r\n        }));\r\n    };\r\n    /**\r\n     * Clear the map tooltips\r\n     * @param olDrawSource OL vector source\r\n     */\r\n    /**\r\n     * Clear the map tooltips\r\n     * @private\r\n     * @param {?} olSource\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.clearTooltipsOfOlSource = /**\r\n     * Clear the map tooltips\r\n     * @private\r\n     * @param {?} olSource\r\n     * @return {?}\r\n     */\r\n    function (olSource) {\r\n        var _this = this;\r\n        olSource.forEachFeature((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            /** @type {?} */\r\n            var olGeometry = olFeature.getGeometry();\r\n            if (olGeometry !== undefined) {\r\n                _this.clearTooltipsOfOlGeometry(olFeature.getGeometry());\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * Update an OL tooltip properties and inner HTML and add it to the map if possible\r\n     * @param olTooltip OL tooltip\r\n     * @param measure The measure valeu ti display\r\n     * @param measureUnit Display tooltip measure in those units\r\n     */\r\n    /**\r\n     * Update an OL tooltip properties and inner HTML and add it to the map if possible\r\n     * @private\r\n     * @param {?} olTooltip OL tooltip\r\n     * @param {?} measure The measure valeu ti display\r\n     * @param {?} unit\r\n     * @param {?} type\r\n     * @return {?}\r\n     */\r\n    MeasurerComponent.prototype.updateOlTooltip = /**\r\n     * Update an OL tooltip properties and inner HTML and add it to the map if possible\r\n     * @private\r\n     * @param {?} olTooltip OL tooltip\r\n     * @param {?} measure The measure valeu ti display\r\n     * @param {?} unit\r\n     * @param {?} type\r\n     * @return {?}\r\n     */\r\n    function (olTooltip, measure, unit, type) {\r\n        olTooltip.setProperties({ _measure: measure, _unit: unit, _type: type }, true);\r\n        olTooltip.getElement().innerHTML = this.computeTooltipInnerHTML(olTooltip);\r\n        if (this.shouldShowTooltip(olTooltip)) {\r\n            this.map.ol.addOverlay(olTooltip);\r\n        }\r\n    };\r\n    /**\r\n     * Compute a tooltip's content\r\n     * @param olTooltip OL overlay\r\n     * @returns Inner HTML\r\n     */\r\n    /**\r\n     * Compute a tooltip's content\r\n     * @private\r\n     * @param {?} olTooltip OL overlay\r\n     * @return {?} Inner HTML\r\n     */\r\n    MeasurerComponent.prototype.computeTooltipInnerHTML = /**\r\n     * Compute a tooltip's content\r\n     * @private\r\n     * @param {?} olTooltip OL overlay\r\n     * @return {?} Inner HTML\r\n     */\r\n    function (olTooltip) {\r\n        /** @type {?} */\r\n        var properties = (/** @type {?} */ (olTooltip.getProperties()));\r\n        return formatMeasure(properties._measure, {\r\n            decimal: 1,\r\n            unit: properties._unit,\r\n            unitAbbr: true,\r\n            locale: 'fr'\r\n        });\r\n    };\r\n    /**\r\n     * Whether a tooltip should be showned based on the length\r\n     * of the segment it is bound to.\r\n     * @param olTooltip OL overlay\r\n     * @returns True if the tooltip should be shown\r\n     */\r\n    /**\r\n     * Whether a tooltip should be showned based on the length\r\n     * of the segment it is bound to.\r\n     * @private\r\n     * @param {?} olTooltip OL overlay\r\n     * @return {?} True if the tooltip should be shown\r\n     */\r\n    MeasurerComponent.prototype.shouldShowTooltip = /**\r\n     * Whether a tooltip should be showned based on the length\r\n     * of the segment it is bound to.\r\n     * @private\r\n     * @param {?} olTooltip OL overlay\r\n     * @return {?} True if the tooltip should be shown\r\n     */\r\n    function (olTooltip) {\r\n        if (this.showTooltips === false) {\r\n            return false;\r\n        }\r\n        /** @type {?} */\r\n        var properties = (/** @type {?} */ (olTooltip.getProperties()));\r\n        /** @type {?} */\r\n        var measure = properties._measure;\r\n        if (measure === undefined) {\r\n            return false;\r\n        }\r\n        if (properties._unit === MeasureType.Length) {\r\n            /** @type {?} */\r\n            var minSegmentLength = metersToUnit(this.minSegmentLength, properties._unit) || 0;\r\n            return measure > Math.max(minSegmentLength, 0);\r\n        }\r\n        return true;\r\n    };\r\n    MeasurerComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-measurer',\r\n                    template: \"<div>\\r\\n  <div class=\\\"measure-type-toggle\\\">\\r\\n    <mat-button-toggle-group\\r\\n      [value]=\\\"activeMeasureType\\\"\\r\\n      (change)=\\\"onMeasureTypeChange($event.value)\\\">\\r\\n      <mat-button-toggle [value]=\\\"measureType.Length\\\">\\r\\n        {{('igo.geo.measure.' + measureType.Length) | translate}}\\r\\n      </mat-button-toggle>\\r\\n      <mat-button-toggle [value]=\\\"measureType.Area\\\">\\r\\n        {{('igo.geo.measure.' + measureType.Area) | translate}}\\r\\n      </mat-button-toggle>\\r\\n    </mat-button-toggle-group>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"measure-options\\\">\\r\\n    <mat-slide-toggle\\r\\n      [checked]=\\\"drawControlIsActive\\\"\\r\\n      [labelPosition]=\\\"'before'\\\"\\r\\n      (change)=\\\"onToggleDrawControl($event.checked)\\\">\\r\\n      {{'igo.geo.measure.toggleMeasure' | translate}}\\r\\n    </mat-slide-toggle>\\r\\n\\r\\n    <mat-slide-toggle\\r\\n      [checked]=\\\"showTooltips\\\"\\r\\n      [labelPosition]=\\\"'before'\\\"\\r\\n      (change)=\\\"onToggleTooltips($event.checked)\\\">\\r\\n      {{'igo.geo.measure.toggleMapTooltips' | translate}}\\r\\n    </mat-slide-toggle>\\r\\n\\r\\n    <mat-slide-toggle\\r\\n      [checked]=\\\"measureUnitsAuto\\\"\\r\\n      [labelPosition]=\\\"'before'\\\"\\r\\n      (change)=\\\"onToggleMeasureUnitsAuto($event.checked)\\\">\\r\\n      {{'igo.geo.measure.toggleAutoUnits' | translate}}\\r\\n    </mat-slide-toggle>\\r\\n  </div>\\r\\n\\r\\n  <ng-container *ngIf=\\\"measure$ | async as measure\\\">\\r\\n    <igo-measurer-item\\r\\n      [measureType]=\\\"measureType.Length\\\"\\r\\n      [measureUnit]=\\\"measureLengthUnit.Meters\\\"\\r\\n      [measure]=\\\"measure.length\\\"\\r\\n      [auto]=\\\"measureUnitsAuto\\\"\\r\\n      [placeholder]=\\\"(activeMeasureType === measureType.Area ? 'igo.geo.measure.perimeter' : 'igo.geo.measure.length') | translate\\\"\\r\\n      (measureUnitChange)=\\\"onLengthUnitChange($event)\\\">\\r\\n    </igo-measurer-item>\\r\\n\\r\\n    <igo-measurer-item\\r\\n      [measureType]=\\\"measureType.Area\\\"\\r\\n      [measureUnit]=\\\"measureAreaUnit.SquareMeters\\\"\\r\\n      [measure]=\\\"measure.area\\\"\\r\\n      [auto]=\\\"measureUnitsAuto\\\"\\r\\n      [placeholder]=\\\"'igo.geo.measure.area' | translate\\\"\\r\\n      (measureUnitChange)=\\\"onAreaUnitChange($event)\\\">\\r\\n    </igo-measurer-item>\\r\\n  </ng-container>\\r\\n\\r\\n  <div class=\\\"measure-store-buttons\\\">\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      [matTooltip]=\\\"'igo.geo.measure.actionbar.calculate.tooltip' | translate\\\"\\r\\n      [disabled]=\\\"(selectedFeatures$ | async).length === 0\\\"\\r\\n      (click)=\\\"onCalculateClick()\\\">\\r\\n      <mat-icon svgIcon=\\\"calculator\\\"></mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      [matTooltip]=\\\"'igo.geo.measure.actionbar.delete.tooltip' | translate\\\"\\r\\n      [disabled]=\\\"(selectedFeatures$ | async).length === 0\\\"\\r\\n      (click)=\\\"onDeleteClick()\\\">\\r\\n      <mat-icon svgIcon=\\\"delete\\\"></mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <!--button\\r\\n      mat-icon-button\\r\\n      [matTooltip]=\\\"'igo.geo.measure.actionbar.modify.tooltip' | translate\\\"\\r\\n      [disabled]=\\\"(selectedFeatures$ | async).length !== 1\\\"\\r\\n      (click)=\\\"onModifyClick()\\\">\\r\\n      <mat-icon svgIcon=\\\"edit\\\"></mat-icon>\\r\\n    </button-->\\r\\n  </div>\\r\\n\\r\\n  <igo-entity-table\\r\\n    #table\\r\\n    class=\\\"table-compact\\\"\\r\\n    [store]=\\\"store\\\"\\r\\n    [template]=\\\"tableTemplate\\\">\\r\\n  </igo-entity-table>\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\".measure-type-toggle{padding:10px;text-align:center}.measure-type-toggle mat-button-toggle-group{width:100%}.measure-type-toggle mat-button-toggle-group mat-button-toggle{width:50%}.measure-options{overflow-x:hidden}.measure-options mat-slide-toggle{width:100%;margin:10px}.measure-options mat-slide-toggle ::ng-deep .mat-slide-toggle-content{width:calc(100% - 60px);font-size:16px}.measure-store-buttons{width:100%;border-top:1px solid #ddd;border-bottom:1px solid #ddd}.measure-store-buttons button:first-of-type{margin-left:14px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    MeasurerComponent.ctorParameters = function () { return [\r\n        { type: LanguageService },\r\n        { type: MatDialog }\r\n    ]; };\r\n    MeasurerComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        store: [{ type: Input }],\r\n        activeMeasureType: [{ type: Input }],\r\n        minSegmentLength: [{ type: Input }],\r\n        table: [{ type: ViewChild, args: ['table',] }]\r\n    };\r\n    return MeasurerComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This pipe returns a measure converted from meters (or square meters)\r\n * to the specified unit. It also keeps a certain number of decimals.\r\n */\r\nvar MeasureFormatPipe = /** @class */ (function () {\r\n    function MeasureFormatPipe() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    /**\r\n     * @ignore\r\n     * @param {?} value\r\n     * @param {?} unit\r\n     * @param {?=} unitAbbr\r\n     * @param {?=} decimal\r\n     * @return {?}\r\n     */\r\n    MeasureFormatPipe.prototype.transform = /**\r\n     * @ignore\r\n     * @param {?} value\r\n     * @param {?} unit\r\n     * @param {?=} unitAbbr\r\n     * @param {?=} decimal\r\n     * @return {?}\r\n     */\r\n    function (value, unit, unitAbbr, decimal) {\r\n        if (unitAbbr === void 0) { unitAbbr = false; }\r\n        if (decimal === void 0) { decimal = 1; }\r\n        /** @type {?} */\r\n        var out;\r\n        if (Object.values(MeasureAreaUnit).indexOf(unit) >= 0) {\r\n            out = squareMetersToUnit(value, (/** @type {?} */ (unit)));\r\n        }\r\n        else if (Object.values(MeasureLengthUnit).indexOf(unit) >= 0) {\r\n            out = metersToUnit(value, (/** @type {?} */ (unit)));\r\n        }\r\n        return out ? formatMeasure(out, {\r\n            decimal: 1,\r\n            unit: unit,\r\n            unitAbbr: unitAbbr,\r\n            locale: 'fr'\r\n        }) : out;\r\n    };\r\n    MeasureFormatPipe.decorators = [\r\n        { type: Pipe, args: [{\r\n                    name: 'measureFormat'\r\n                },] }\r\n    ];\r\n    return MeasureFormatPipe;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This input allows a user to draw a new geometry or to edit\r\n * an existing one on a map. A text input is also displayed in the\r\n * form with some instructions.\r\n * This is still WIP.\r\n */\r\nvar GeometryFormFieldInputComponent = /** @class */ (function () {\r\n    function GeometryFormFieldInputComponent(cdRef, ngControl) {\r\n        this.cdRef = cdRef;\r\n        this.ngControl = ngControl;\r\n        this.olGeoJSON = new OlGeoJSON();\r\n        this.ready = false;\r\n        this.olTooltip = OlOverlay;\r\n        /**\r\n         * The drawGuide around the mouse pointer to help drawing\r\n         */\r\n        this.drawGuide = null;\r\n        /**\r\n         * Whether a measure tooltip should be displayed\r\n         */\r\n        this.measure = false;\r\n        this.onChange = (/**\r\n         * @return {?}\r\n         */\r\n        function () { });\r\n        this.onTouched = (/**\r\n         * @return {?}\r\n         */\r\n        function () { });\r\n        if (this.ngControl !== undefined) {\r\n            // Setting the value accessor directly (instead of using\r\n            // the providers) to avoid running into a circular import.\r\n            this.ngControl.valueAccessor = this;\r\n        }\r\n    }\r\n    Object.defineProperty(GeometryFormFieldInputComponent.prototype, \"geometryType\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this._geometryType; },\r\n        /**\r\n         * The geometry type\r\n         */\r\n        set: /**\r\n         * The geometry type\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._geometryType = value;\r\n            if (this.ready === false) {\r\n                return;\r\n            }\r\n            this.deactivateControl();\r\n            this.createDrawControl();\r\n            this.toggleControl();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GeometryFormFieldInputComponent.prototype, \"drawStyle\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this._drawStyle; },\r\n        /**\r\n         * Style for the draw control (applies while the geometry is being drawn)\r\n         */\r\n        set: /**\r\n         * Style for the draw control (applies while the geometry is being drawn)\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._drawStyle = value || createDrawInteractionStyle();\r\n            if (this.isStyleWithRadius(this.drawStyle)) {\r\n                this.defaultDrawStyleRadius = this.drawStyle.getImage().getRadius();\r\n            }\r\n            else {\r\n                this.defaultDrawStyleRadius = null;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GeometryFormFieldInputComponent.prototype, \"overlayStyle\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._overlayStyle || this.drawStyle;\r\n        },\r\n        /**\r\n         * Style for the overlay layer (applies once the geometry is added to the map)\r\n         * If not specified, drawStyle applies\r\n         */\r\n        set: /**\r\n         * Style for the overlay layer (applies once the geometry is added to the map)\r\n         * If not specified, drawStyle applies\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._overlayStyle = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GeometryFormFieldInputComponent.prototype, \"value\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this._value; },\r\n        /**\r\n         * The geometry value (GeoJSON)\r\n         * Implemented as part of ControlValueAccessor.\r\n         */\r\n        set: /**\r\n         * The geometry value (GeoJSON)\r\n         * Implemented as part of ControlValueAccessor.\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            if (this.ready === false) {\r\n                this._value = value;\r\n                return;\r\n            }\r\n            if (value) {\r\n                this.addGeoJSONToOverlay(value);\r\n            }\r\n            else {\r\n                this.olOverlaySource.clear();\r\n            }\r\n            this._value = value;\r\n            this.onChange(value);\r\n            this.toggleControl();\r\n            this.cdRef.detectChanges();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GeometryFormFieldInputComponent.prototype, \"olOverlaySource\", {\r\n        /**\r\n         * The vector source to add the geometry to\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * The vector source to add the geometry to\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.olOverlayLayer.getSource();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Create an overlay layer, add the initial geometry to it (if any)\r\n     * and toggle the right interaction.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Create an overlay layer, add the initial geometry to it (if any)\r\n     * and toggle the right interaction.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.ngOnInit = /**\r\n     * Create an overlay layer, add the initial geometry to it (if any)\r\n     * and toggle the right interaction.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.addOlOverlayLayer();\r\n        this.createMeasureTooltip();\r\n        this.createDrawControl();\r\n        this.createModifyControl();\r\n        if (this.value) {\r\n            this.addGeoJSONToOverlay(this.value);\r\n        }\r\n        this.toggleControl();\r\n        this.ready = true;\r\n    };\r\n    /**\r\n     * Clear the overlay layer and any interaction added by this component.\r\n     * @internal\r\n     */\r\n    /**\r\n     * Clear the overlay layer and any interaction added by this component.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.ngOnDestroy = /**\r\n     * Clear the overlay layer and any interaction added by this component.\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.deactivateControl();\r\n        this.olOverlaySource.clear();\r\n        this.map.ol.removeLayer(this.olOverlayLayer);\r\n    };\r\n    /**\r\n     * Implemented as part of ControlValueAccessor.\r\n     */\r\n    // tslint:disable-next-line:ban-types\r\n    /**\r\n     * Implemented as part of ControlValueAccessor.\r\n     * @param {?} fn\r\n     * @return {?}\r\n     */\r\n    // tslint:disable-next-line:ban-types\r\n    GeometryFormFieldInputComponent.prototype.registerOnChange = /**\r\n     * Implemented as part of ControlValueAccessor.\r\n     * @param {?} fn\r\n     * @return {?}\r\n     */\r\n    // tslint:disable-next-line:ban-types\r\n    function (fn) {\r\n        this.onChange = fn;\r\n    };\r\n    /**\r\n     * Implemented as part of ControlValueAccessor.\r\n     */\r\n    // tslint:disable-next-line:ban-types\r\n    /**\r\n     * Implemented as part of ControlValueAccessor.\r\n     * @param {?} fn\r\n     * @return {?}\r\n     */\r\n    // tslint:disable-next-line:ban-types\r\n    GeometryFormFieldInputComponent.prototype.registerOnTouched = /**\r\n     * Implemented as part of ControlValueAccessor.\r\n     * @param {?} fn\r\n     * @return {?}\r\n     */\r\n    // tslint:disable-next-line:ban-types\r\n    function (fn) {\r\n        this.onTouched = fn;\r\n    };\r\n    /**\r\n     * Implemented as part of ControlValueAccessor.\r\n     */\r\n    /**\r\n     * Implemented as part of ControlValueAccessor.\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.writeValue = /**\r\n     * Implemented as part of ControlValueAccessor.\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        this.value = value;\r\n    };\r\n    /**\r\n     * Add an overlay layer to the map\r\n     */\r\n    /**\r\n     * Add an overlay layer to the map\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.addOlOverlayLayer = /**\r\n     * Add an overlay layer to the map\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.olOverlayLayer = new OlVectorLayer({\r\n            source: new OlVectorSource(),\r\n            zIndex: 500,\r\n            style: null\r\n        });\r\n        this.map.ol.addLayer(this.olOverlayLayer);\r\n    };\r\n    /**\r\n     * Create a draw control and subscribe to it's geometry\r\n     */\r\n    /**\r\n     * Create a draw control and subscribe to it's geometry\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.createDrawControl = /**\r\n     * Create a draw control and subscribe to it's geometry\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.drawControl = new DrawControl({\r\n            geometryType: this.geometryType || 'Point',\r\n            layer: this.olOverlayLayer,\r\n            drawStyle: (/**\r\n             * @param {?} olFeature\r\n             * @param {?} resolution\r\n             * @return {?}\r\n             */\r\n            function (olFeature, resolution) {\r\n                /** @type {?} */\r\n                var style$$1 = _this.drawStyle;\r\n                _this.updateDrawStyleWithDrawGuide(style$$1, resolution);\r\n                return style$$1;\r\n            })\r\n        });\r\n    };\r\n    /**\r\n     * Create a modify control and subscribe to it's geometry\r\n     */\r\n    /**\r\n     * Create a modify control and subscribe to it's geometry\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.createModifyControl = /**\r\n     * Create a modify control and subscribe to it's geometry\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.modifyControl = new ModifyControl({\r\n            layer: this.olOverlayLayer,\r\n            drawStyle: (/**\r\n             * @param {?} olFeature\r\n             * @param {?} resolution\r\n             * @return {?}\r\n             */\r\n            function (olFeature, resolution) {\r\n                /** @type {?} */\r\n                var style$$1 = _this.drawStyle;\r\n                _this.updateDrawStyleWithDrawGuide(style$$1, resolution);\r\n                return style$$1;\r\n            })\r\n        });\r\n    };\r\n    /**\r\n     * Toggle the proper control (draw or modify)\r\n     */\r\n    /**\r\n     * Toggle the proper control (draw or modify)\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.toggleControl = /**\r\n     * Toggle the proper control (draw or modify)\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.deactivateControl();\r\n        if (!this.value && this.geometryType) {\r\n            this.activateControl(this.drawControl);\r\n        }\r\n        else {\r\n            this.activateControl(this.modifyControl);\r\n        }\r\n    };\r\n    /**\r\n     * Activate a given control\r\n     * @param control Control\r\n     */\r\n    /**\r\n     * Activate a given control\r\n     * @private\r\n     * @param {?} control Control\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.activateControl = /**\r\n     * Activate a given control\r\n     * @private\r\n     * @param {?} control Control\r\n     * @return {?}\r\n     */\r\n    function (control) {\r\n        var _this = this;\r\n        this.activeControl = control;\r\n        this.olGeometryEnds$$ = control.end$\r\n            .subscribe((/**\r\n         * @param {?} olGeometry\r\n         * @return {?}\r\n         */\r\n        function (olGeometry) { return _this.onOlGeometryEnds(olGeometry); }));\r\n        if (this.measure === true && control === this.drawControl) {\r\n            this.olGeometryChanges$$ = control.changes$\r\n                .subscribe((/**\r\n             * @param {?} olGeometry\r\n             * @return {?}\r\n             */\r\n            function (olGeometry) { return _this.onOlGeometryChanges(olGeometry); }));\r\n        }\r\n        control.setOlMap(this.map.ol);\r\n    };\r\n    /**\r\n     * Deactivate the active control\r\n     */\r\n    /**\r\n     * Deactivate the active control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.deactivateControl = /**\r\n     * Deactivate the active control\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.removeMeasureTooltip();\r\n        if (this.activeControl !== undefined) {\r\n            this.activeControl.setOlMap(undefined);\r\n        }\r\n        if (this.olGeometryEnds$$ !== undefined) {\r\n            this.olGeometryEnds$$.unsubscribe();\r\n        }\r\n        if (this.olGeometryChanges$$ !== undefined) {\r\n            this.olGeometryChanges$$.unsubscribe();\r\n        }\r\n        this.activeControl = undefined;\r\n    };\r\n    /**\r\n     * Update measures observables and map tooltips\r\n     * @param olGeometry Ol linestring or polygon\r\n     */\r\n    /**\r\n     * Update measures observables and map tooltips\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.onOlGeometryEnds = /**\r\n     * Update measures observables and map tooltips\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        this.removeMeasureTooltip();\r\n        this.setOlGeometry(olGeometry);\r\n    };\r\n    /**\r\n     * Update measures observables and map tooltips\r\n     * @param olGeometry Ol linestring or polygon\r\n     */\r\n    /**\r\n     * Update measures observables and map tooltips\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.onOlGeometryChanges = /**\r\n     * Update measures observables and map tooltips\r\n     * @private\r\n     * @param {?} olGeometry Ol linestring or polygon\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        if (olGeometry.getType() !== 'Point') {\r\n            this.updateMeasureTooltip(olGeometry);\r\n        }\r\n    };\r\n    /**\r\n     * When drawing ends, convert the output value to GeoJSON and keep it.\r\n     * Restore the double click interaction.\r\n     * @param olGeometry OL geometry\r\n     */\r\n    /**\r\n     * When drawing ends, convert the output value to GeoJSON and keep it.\r\n     * Restore the double click interaction.\r\n     * @private\r\n     * @param {?} olGeometry OL geometry\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.setOlGeometry = /**\r\n     * When drawing ends, convert the output value to GeoJSON and keep it.\r\n     * Restore the double click interaction.\r\n     * @private\r\n     * @param {?} olGeometry OL geometry\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        if (olGeometry === undefined) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var value = this.olGeoJSON.writeGeometryObject(olGeometry, {\r\n            featureProjection: this.map.projection,\r\n            dataProjection: 'EPSG:4326'\r\n        });\r\n        this.writeValue(value);\r\n    };\r\n    /**\r\n     * Add a GeoJSON geometry to the overlay\r\n     * @param geometry GeoJSON geometry\r\n     */\r\n    /**\r\n     * Add a GeoJSON geometry to the overlay\r\n     * @private\r\n     * @param {?} geometry GeoJSON geometry\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.addGeoJSONToOverlay = /**\r\n     * Add a GeoJSON geometry to the overlay\r\n     * @private\r\n     * @param {?} geometry GeoJSON geometry\r\n     * @return {?}\r\n     */\r\n    function (geometry) {\r\n        /** @type {?} */\r\n        var olGeometry = this.olGeoJSON.readGeometry(geometry, {\r\n            dataProjection: 'EPSG:4326',\r\n            featureProjection: this.map.projection\r\n        });\r\n        /** @type {?} */\r\n        var olFeature = new OlFeature({\r\n            geometry: olGeometry\r\n        });\r\n        olFeature.setStyle(this.overlayStyle);\r\n        this.olOverlaySource.clear();\r\n        this.olOverlaySource.addFeature(olFeature);\r\n    };\r\n    /**\r\n     * Create the measure tooltip\r\n     */\r\n    /**\r\n     * Create the measure tooltip\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.createMeasureTooltip = /**\r\n     * Create the measure tooltip\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.olTooltip = new OlOverlay({\r\n            element: document.createElement('div'),\r\n            offset: [-30, -10],\r\n            className: [\r\n                'igo-map-tooltip',\r\n                'igo-map-tooltip-measure'\r\n            ].join(' '),\r\n            stopEvent: false\r\n        });\r\n    };\r\n    /**\r\n     * Update the measure tooltip of an OL geometry\r\n     * @param olGeometry OL Geometry\r\n     */\r\n    /**\r\n     * Update the measure tooltip of an OL geometry\r\n     * @private\r\n     * @param {?} olGeometry OL Geometry\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.updateMeasureTooltip = /**\r\n     * Update the measure tooltip of an OL geometry\r\n     * @private\r\n     * @param {?} olGeometry OL Geometry\r\n     * @return {?}\r\n     */\r\n    function (olGeometry) {\r\n        /** @type {?} */\r\n        var measure = measureOlGeometry(olGeometry, this.map.projection);\r\n        /** @type {?} */\r\n        var lengths = measure.lengths;\r\n        /** @type {?} */\r\n        var lastIndex = olGeometry.getType() === 'Polygon' ? lengths.length - 2 : lengths.length - 1;\r\n        /** @type {?} */\r\n        var lastLength = lengths[lastIndex];\r\n        /** @type {?} */\r\n        var olMidpoints = updateOlGeometryMidpoints(olGeometry);\r\n        /** @type {?} */\r\n        var olLastMidpoint = olMidpoints[lastIndex];\r\n        if (olMidpoints.length === 0 || olLastMidpoint === undefined) {\r\n            this.removeMeasureTooltip();\r\n            return;\r\n        }\r\n        this.olTooltip.setPosition(olLastMidpoint.flatCoordinates);\r\n        /** @type {?} */\r\n        var innerHtml = formatMeasure(lastLength, {\r\n            decimal: 1,\r\n            unit: MeasureLengthUnit.Meters,\r\n            unitAbbr: true,\r\n            locale: 'fr'\r\n        });\r\n        this.olTooltip.getElement().innerHTML = innerHtml;\r\n        if (this.olTooltip.getMap() === undefined) {\r\n            this.map.ol.addOverlay(this.olTooltip);\r\n        }\r\n    };\r\n    /**\r\n     * Remove the measure tooltip from the map\r\n     */\r\n    /**\r\n     * Remove the measure tooltip from the map\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.removeMeasureTooltip = /**\r\n     * Remove the measure tooltip from the map\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.olTooltip.getMap && this.olTooltip.getMap() !== undefined) {\r\n            this.map.ol.removeOverlay(this.olTooltip);\r\n            this.olTooltip.setMap(undefined);\r\n        }\r\n    };\r\n    /**\r\n     * Adjust the draw style with the specified draw guide distance, if possible\r\n     * @param olStyle Draw style to update\r\n     * @param resolution Resolution (to make the screen size of symbol fit the drawGuide value)\r\n     */\r\n    /**\r\n     * Adjust the draw style with the specified draw guide distance, if possible\r\n     * @private\r\n     * @param {?} olStyle Draw style to update\r\n     * @param {?} resolution Resolution (to make the screen size of symbol fit the drawGuide value)\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.updateDrawStyleWithDrawGuide = /**\r\n     * Adjust the draw style with the specified draw guide distance, if possible\r\n     * @private\r\n     * @param {?} olStyle Draw style to update\r\n     * @param {?} resolution Resolution (to make the screen size of symbol fit the drawGuide value)\r\n     * @return {?}\r\n     */\r\n    function (olStyle, resolution) {\r\n        if (this.isStyleWithRadius(olStyle)) {\r\n            /** @type {?} */\r\n            var drawGuide = this.drawGuide;\r\n            /** @type {?} */\r\n            var radius = void 0;\r\n            if (drawGuide === null || drawGuide < 0) {\r\n                radius = this.defaultDrawStyleRadius;\r\n            }\r\n            else {\r\n                radius = drawGuide > 0 ? drawGuide / resolution : drawGuide;\r\n            }\r\n            olStyle.getImage().setRadius(radius);\r\n        }\r\n    };\r\n    /**\r\n     * Returns wether a given Open Layers style has a radius property that can be set (used to set draw guide)\r\n     * @param olStyle The style on which to perform the check\r\n     */\r\n    /**\r\n     * Returns wether a given Open Layers style has a radius property that can be set (used to set draw guide)\r\n     * @private\r\n     * @param {?} olStyle The style on which to perform the check\r\n     * @return {?}\r\n     */\r\n    GeometryFormFieldInputComponent.prototype.isStyleWithRadius = /**\r\n     * Returns wether a given Open Layers style has a radius property that can be set (used to set draw guide)\r\n     * @private\r\n     * @param {?} olStyle The style on which to perform the check\r\n     * @return {?}\r\n     */\r\n    function (olStyle) {\r\n        return olStyle.getImage && olStyle.getImage().setRadius;\r\n    };\r\n    GeometryFormFieldInputComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-geometry-form-field-input',\r\n                    template: \"<ng-template></ng-template>\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    GeometryFormFieldInputComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef },\r\n        { type: NgControl, decorators: [{ type: Optional }, { type: Self }] }\r\n    ]; };\r\n    GeometryFormFieldInputComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        geometryType: [{ type: Input }],\r\n        drawGuide: [{ type: Input }],\r\n        measure: [{ type: Input }],\r\n        drawStyle: [{ type: Input }],\r\n        overlayStyle: [{ type: Input }],\r\n        value: [{ type: Input }]\r\n    };\r\n    return GeometryFormFieldInputComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoGeometryFormFieldModule = /** @class */ (function () {\r\n    function IgoGeometryFormFieldModule() {\r\n    }\r\n    IgoGeometryFormFieldModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        MatIconModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatButtonModule,\r\n                        MatButtonToggleModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    exports: [\r\n                        GeometryFormFieldComponent,\r\n                        GeometryFormFieldInputComponent\r\n                    ],\r\n                    declarations: [\r\n                        GeometryFormFieldComponent,\r\n                        GeometryFormFieldInputComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoGeometryFormFieldModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoGeometryModule = /** @class */ (function () {\r\n    function IgoGeometryModule() {\r\n    }\r\n    IgoGeometryModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoGeometryFormFieldModule\r\n                    ],\r\n                    exports: [\r\n                        IgoGeometryFormFieldModule\r\n                    ],\r\n                    declarations: [],\r\n                    providers: [],\r\n                    entryComponents: [\r\n                        GeometryFormFieldComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoGeometryModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ExportError = /** @class */ (function (_super) {\r\n    __extends(ExportError, _super);\r\n    function ExportError() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ExportError;\r\n}(Error));\r\nvar ExportInvalidFileError = /** @class */ (function (_super) {\r\n    __extends(ExportInvalidFileError, _super);\r\n    function ExportInvalidFileError() {\r\n        var _this = _super.call(this, 'Invalid file.') || this;\r\n        Object.setPrototypeOf(_this, ExportInvalidFileError.prototype);\r\n        return _this;\r\n    }\r\n    return ExportInvalidFileError;\r\n}(ExportError));\r\nvar ExportNothingToExportError = /** @class */ (function (_super) {\r\n    __extends(ExportNothingToExportError, _super);\r\n    function ExportNothingToExportError() {\r\n        var _this = _super.call(this, 'Nothing to export.') || this;\r\n        Object.setPrototypeOf(_this, ExportNothingToExportError.prototype);\r\n        return _this;\r\n    }\r\n    return ExportNothingToExportError;\r\n}(ExportError));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Export array to CSV\r\n *\r\n * @param {?} rows Array of arrays to export as CSV\r\n * @param {?} fileName\r\n * @param {?=} separator Cell separator\r\n * @return {?}\r\n */\r\nfunction exportToCSV(rows, fileName, separator) {\r\n    if (separator === void 0) { separator = ';'; }\r\n    /** @type {?} */\r\n    var lines = rows.map((/**\r\n     * @param {?} row\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    function (row, index) { return row.join(separator); }));\r\n    /** @type {?} */\r\n    var csvContent = lines.join('\\n');\r\n    downloadContent(csvContent, 'text/csv;charset=utf-8', fileName);\r\n}\r\n/**\r\n * Return an array of values from an array of entities.\r\n *\r\n * @param {?} entities Array of entities\r\n * @param {?} columns\r\n * @return {?}\r\n */\r\nfunction entitiesToRowData(entities, columns) {\r\n    return entities.map((/**\r\n     * @param {?} entity\r\n     * @return {?}\r\n     */\r\n    function (entity) {\r\n        return columns.map((/**\r\n         * @param {?} column\r\n         * @return {?}\r\n         */\r\n        function (column) {\r\n            /** @type {?} */\r\n            var valueAccessor;\r\n            if (column.renderer === undefined || column.renderer === EntityTableColumnRenderer.Default) {\r\n                valueAccessor = column.valueAccessor;\r\n            }\r\n            valueAccessor = valueAccessor ? valueAccessor : getEntityProperty;\r\n            return valueAccessor(entity, column.name);\r\n        }));\r\n    }));\r\n}\r\n/**\r\n * Trigger download of a file\r\n *\r\n * @param {?} content File content\r\n * @param {?} mimeType File mime type\r\n * @param {?} fileName File name\r\n * @return {?}\r\n */\r\nfunction downloadContent(content, mimeType, fileName) {\r\n    /** @type {?} */\r\n    var element = document.createElement('a');\r\n    element.setAttribute('href', \"data:\" + mimeType + \",\" + encodeURIComponent(content));\r\n    element.setAttribute('download', fileName);\r\n    element.style.display = 'none';\r\n    document.body.appendChild(element);\r\n    element.click();\r\n    document.body.removeChild(element);\r\n}\r\n/**\r\n * @param {?} error\r\n * @param {?} messageService\r\n * @param {?} languageService\r\n * @return {?}\r\n */\r\nfunction handleFileExportError(error, messageService, languageService) {\r\n    if (error instanceof ExportNothingToExportError) {\r\n        handleNothingToExportError(messageService, languageService);\r\n        return;\r\n    }\r\n    /** @type {?} */\r\n    var translate = languageService.translate;\r\n    /** @type {?} */\r\n    var title = translate.instant('igo.geo.export.failed.title');\r\n    /** @type {?} */\r\n    var message = translate.instant('igo.geo.export.failed.text');\r\n    messageService.error(message, title);\r\n}\r\n/**\r\n * @param {?} messageService\r\n * @param {?} languageService\r\n * @return {?}\r\n */\r\nfunction handleNothingToExportError(messageService, languageService) {\r\n    /** @type {?} */\r\n    var translate = languageService.translate;\r\n    /** @type {?} */\r\n    var title = translate.instant('igo.geo.export.nothing.title');\r\n    /** @type {?} */\r\n    var message = translate.instant('igo.geo.export.nothing.text');\r\n    messageService.error(message, title);\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar ExportFormat = strEnum(['GeoJSON', 'GML', 'GPX', 'KML', 'Shapefile']);\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ExportService = /** @class */ (function () {\r\n    function ExportService(config) {\r\n        this.config = config;\r\n        this.ogreUrl = this.config.getConfig('importExport.url');\r\n    }\r\n    /**\r\n     * @param {?} olFeatures\r\n     * @param {?} format\r\n     * @param {?} title\r\n     * @param {?=} projectionIn\r\n     * @param {?=} projectionOut\r\n     * @return {?}\r\n     */\r\n    ExportService.prototype.export = /**\r\n     * @param {?} olFeatures\r\n     * @param {?} format\r\n     * @param {?} title\r\n     * @param {?=} projectionIn\r\n     * @param {?=} projectionOut\r\n     * @return {?}\r\n     */\r\n    function (olFeatures, format, title, projectionIn, projectionOut) {\r\n        if (projectionIn === void 0) { projectionIn = 'EPSG:4326'; }\r\n        if (projectionOut === void 0) { projectionOut = 'EPSG:4326'; }\r\n        /** @type {?} */\r\n        var exportOlFeatures = olFeatures.map((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            /** @type {?} */\r\n            var keys = olFeature.getKeys().filter((/**\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (key) { return !key.startsWith('_'); }));\r\n            /** @type {?} */\r\n            var properties = keys.reduce((/**\r\n             * @param {?} acc\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (acc, key) {\r\n                acc[key] = olFeature.get(key);\r\n                return acc;\r\n            }), { geometry: olFeature.getGeometry() });\r\n            return new OlFeature(properties);\r\n        }));\r\n        return this.exportAsync(exportOlFeatures, format, title, projectionIn, projectionOut);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @param {?} format\r\n     * @param {?} title\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    ExportService.prototype.exportAsync = /**\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @param {?} format\r\n     * @param {?} title\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    function (olFeatures, format, title, projectionIn, projectionOut) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var doExport = (/**\r\n         * @param {?} observer\r\n         * @return {?}\r\n         */\r\n        function (observer) {\r\n            /** @type {?} */\r\n            var nothingToExport = _this.nothingToExport(olFeatures, format);\r\n            if (nothingToExport === true) {\r\n                observer.error(new ExportNothingToExportError());\r\n                return;\r\n            }\r\n            /** @type {?} */\r\n            var ogreFormats = Object.keys(ExportService.ogreFormats);\r\n            if (ogreFormats.indexOf(format) >= 0) {\r\n                if (_this.ogreUrl === undefined) {\r\n                    if (ExportService.noOgreFallbacks.indexOf(format) >= 0) {\r\n                        _this.exportToFile(olFeatures, observer, format, title, projectionIn, projectionOut);\r\n                    }\r\n                    else {\r\n                        observer.error(new ExportInvalidFileError());\r\n                    }\r\n                    return;\r\n                }\r\n                _this.exportWithOgre(olFeatures, observer, format, title, projectionIn, projectionOut);\r\n            }\r\n            else {\r\n                _this.exportToFile(olFeatures, observer, format, title, projectionIn, projectionOut);\r\n            }\r\n        });\r\n        return new Observable(doExport);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @param {?} observer\r\n     * @param {?} format\r\n     * @param {?} title\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    ExportService.prototype.exportToFile = /**\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @param {?} observer\r\n     * @param {?} format\r\n     * @param {?} title\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    function (olFeatures, observer, format, title, projectionIn, projectionOut) {\r\n        /** @type {?} */\r\n        var olFormat = new olformat[format]();\r\n        /** @type {?} */\r\n        var featuresText = olFormat.writeFeatures(olFeatures, {\r\n            dataProjection: projectionOut,\r\n            featureProjection: projectionIn,\r\n            featureType: 'feature',\r\n            featureNS: 'http://example.com/feature'\r\n        });\r\n        /** @type {?} */\r\n        var fileName = title + \".\" + format.toLowerCase();\r\n        downloadContent(featuresText, 'text/plain;charset=utf-8', fileName);\r\n        observer.complete();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @param {?} observer\r\n     * @param {?} format\r\n     * @param {?} title\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    ExportService.prototype.exportWithOgre = /**\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @param {?} observer\r\n     * @param {?} format\r\n     * @param {?} title\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    function (olFeatures, observer, format, title, projectionIn, projectionOut) {\r\n        /** @type {?} */\r\n        var featuresText = new GeoJSON().writeFeatures(olFeatures, {\r\n            dataProjection: projectionOut,\r\n            featureProjection: projectionIn,\r\n            featureType: 'feature',\r\n            featureNS: 'http://example.com/feature'\r\n        });\r\n        /** @type {?} */\r\n        var url = this.ogreUrl + \"/convert\";\r\n        /** @type {?} */\r\n        var form = document.createElement('form');\r\n        form.setAttribute('method', 'post');\r\n        form.setAttribute('action', url);\r\n        /** @type {?} */\r\n        var geojsonField = document.createElement('input');\r\n        geojsonField.setAttribute('type', 'hidden');\r\n        geojsonField.setAttribute('name', 'json');\r\n        geojsonField.setAttribute('value', featuresText);\r\n        form.appendChild(geojsonField);\r\n        /** @type {?} */\r\n        var outputNameField = document.createElement('input');\r\n        /** @type {?} */\r\n        var outputName = format === 'Shapefile' ? title + \".zip\" : title;\r\n        outputNameField.setAttribute('type', 'hidden');\r\n        outputNameField.setAttribute('name', 'outputName');\r\n        outputNameField.setAttribute('value', outputName);\r\n        form.appendChild(outputNameField);\r\n        /** @type {?} */\r\n        var ogreFormat = ExportService.ogreFormats[format];\r\n        /** @type {?} */\r\n        var outputFormatField = document.createElement('input');\r\n        outputFormatField.setAttribute('type', 'hidden');\r\n        outputFormatField.setAttribute('name', 'formatOutput');\r\n        outputFormatField.setAttribute('value', ogreFormat);\r\n        form.appendChild(outputFormatField);\r\n        document.body.appendChild(form);\r\n        form.submit();\r\n        document.body.removeChild(form);\r\n        observer.complete();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @param {?} format\r\n     * @return {?}\r\n     */\r\n    ExportService.prototype.nothingToExport = /**\r\n     * @private\r\n     * @param {?} olFeatures\r\n     * @param {?} format\r\n     * @return {?}\r\n     */\r\n    function (olFeatures, format) {\r\n        if (olFeatures.length === 0) {\r\n            return true;\r\n        }\r\n        if (format === 'GPX') {\r\n            /** @type {?} */\r\n            var pointOrLine = olFeatures.find((/**\r\n             * @param {?} olFeature\r\n             * @return {?}\r\n             */\r\n            function (olFeature) {\r\n                return ['Point', 'LineString'].indexOf(olFeature.getGeometry().getType()) >= 0;\r\n            }));\r\n            return pointOrLine === undefined;\r\n        }\r\n        return false;\r\n    };\r\n    ExportService.ogreFormats = {\r\n        GML: 'gml',\r\n        GPX: 'gpx',\r\n        KML: 'kml',\r\n        Shapefile: 'ESRI Shapefile'\r\n    };\r\n    ExportService.noOgreFallbacks = ['GML', 'GPX', 'KML'];\r\n    ExportService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ExportService.ctorParameters = function () { return [\r\n        { type: ConfigService }\r\n    ]; };\r\n    /** @nocollapse */ ExportService.ngInjectableDef = defineInjectable({ factory: function ExportService_Factory() { return new ExportService(inject(ConfigService)); }, token: ExportService, providedIn: \"root\" });\r\n    return ExportService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ImportError = /** @class */ (function (_super) {\r\n    __extends(ImportError, _super);\r\n    function ImportError() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ImportError;\r\n}(Error));\r\nvar ImportInvalidFileError = /** @class */ (function (_super) {\r\n    __extends(ImportInvalidFileError, _super);\r\n    function ImportInvalidFileError() {\r\n        var _this = _super.call(this, 'Invalid file.') || this;\r\n        Object.setPrototypeOf(_this, ImportInvalidFileError.prototype);\r\n        return _this;\r\n    }\r\n    return ImportInvalidFileError;\r\n}(ImportError));\r\nvar ImportUnreadableFileError = /** @class */ (function (_super) {\r\n    __extends(ImportUnreadableFileError, _super);\r\n    function ImportUnreadableFileError() {\r\n        var _this = _super.call(this, 'Failed to read file.') || this;\r\n        Object.setPrototypeOf(_this, ImportUnreadableFileError.prototype);\r\n        return _this;\r\n    }\r\n    return ImportUnreadableFileError;\r\n}(ImportError));\r\nvar ImportNothingToImportError = /** @class */ (function (_super) {\r\n    __extends(ImportNothingToImportError, _super);\r\n    function ImportNothingToImportError() {\r\n        var _this = _super.call(this, 'Nothing to import.') || this;\r\n        Object.setPrototypeOf(_this, ImportNothingToImportError.prototype);\r\n        return _this;\r\n    }\r\n    return ImportNothingToImportError;\r\n}(ImportError));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @param {?} features\r\n * @param {?} map\r\n * @param {?} layerTitle\r\n * @return {?}\r\n */\r\nfunction addLayerAndFeaturesToMap(features, map$$1, layerTitle) {\r\n    /** @type {?} */\r\n    var olFeatures = features.map((/**\r\n     * @param {?} feature\r\n     * @return {?}\r\n     */\r\n    function (feature) { return featureToOl(feature, map$$1.projection); }));\r\n    /** @type {?} */\r\n    var r = Math.floor(Math.random() * 255);\r\n    /** @type {?} */\r\n    var g = Math.floor(Math.random() * 255);\r\n    /** @type {?} */\r\n    var b = Math.floor(Math.random() * 255);\r\n    /** @type {?} */\r\n    var stroke = new Stroke({\r\n        color: [r, g, b, 1],\r\n        width: 2\r\n    });\r\n    /** @type {?} */\r\n    var fill = new Fill({\r\n        color: [r, g, b, 0.4]\r\n    });\r\n    /** @type {?} */\r\n    var sourceOptions = {\r\n        queryable: true\r\n    };\r\n    /** @type {?} */\r\n    var source = new FeatureDataSource(sourceOptions);\r\n    source.ol.addFeatures(olFeatures);\r\n    /** @type {?} */\r\n    var layer = new VectorLayer({\r\n        title: layerTitle,\r\n        source: source,\r\n        style: new Style({\r\n            stroke: stroke,\r\n            fill: fill,\r\n            image: new Circle({\r\n                radius: 5,\r\n                stroke: stroke,\r\n                fill: fill\r\n            })\r\n        })\r\n    });\r\n    map$$1.addLayer(layer);\r\n    moveToOlFeatures(map$$1, olFeatures);\r\n    return layer;\r\n}\r\n/**\r\n * @param {?} file\r\n * @param {?} features\r\n * @param {?} map\r\n * @param {?} messageService\r\n * @param {?} languageService\r\n * @return {?}\r\n */\r\nfunction handleFileImportSuccess(file, features, map$$1, messageService, languageService) {\r\n    if (features.length === 0) {\r\n        this.handleNothingToImportError(file, messageService, languageService);\r\n        return;\r\n    }\r\n    /** @type {?} */\r\n    var layerTitle = computeLayerTitleFromFile(file);\r\n    addLayerAndFeaturesToMap(features, map$$1, layerTitle);\r\n    /** @type {?} */\r\n    var translate = languageService.translate;\r\n    /** @type {?} */\r\n    var messageTitle = translate.instant('igo.geo.dropGeoFile.success.title');\r\n    /** @type {?} */\r\n    var message = translate.instant('igo.geo.dropGeoFile.success.text', {\r\n        value: layerTitle\r\n    });\r\n    messageService.success(message, messageTitle);\r\n}\r\n/**\r\n * @param {?} file\r\n * @param {?} error\r\n * @param {?} messageService\r\n * @param {?} languageService\r\n * @return {?}\r\n */\r\nfunction handleFileImportError(file, error, messageService, languageService) {\r\n    /** @type {?} */\r\n    var translate = languageService.translate;\r\n    /** @type {?} */\r\n    var title = translate.instant('igo.geo.dropGeoFile.invalid.title');\r\n    /** @type {?} */\r\n    var message = translate.instant('igo.geo.dropGeoFile.invalid.text', {\r\n        value: file.name,\r\n        mimeType: file.type\r\n    });\r\n    messageService.error(message, title);\r\n}\r\n/**\r\n * @param {?} file\r\n * @param {?} messageService\r\n * @param {?} languageService\r\n * @return {?}\r\n */\r\nfunction handleNothingToImportError(file, messageService, languageService) {\r\n    /** @type {?} */\r\n    var translate = languageService.translate;\r\n    /** @type {?} */\r\n    var title = translate.instant('igo.geo.dropGeoFile.empty.title');\r\n    /** @type {?} */\r\n    var message = translate.instant('igo.geo.dropGeoFile.empty.text', {\r\n        value: file.name,\r\n        mimeType: file.type\r\n    });\r\n    messageService.error(message, title);\r\n}\r\n/**\r\n * @param {?} file\r\n * @return {?}\r\n */\r\nfunction getFileExtension(file) {\r\n    return file.name.split('.').pop().toLowerCase();\r\n}\r\n/**\r\n * @param {?} file\r\n * @return {?}\r\n */\r\nfunction computeLayerTitleFromFile(file) {\r\n    return file.name.substr(0, file.name.lastIndexOf('.'));\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ImportService = /** @class */ (function () {\r\n    function ImportService(http, config) {\r\n        this.http = http;\r\n        this.config = config;\r\n        this.ogreUrl = this.config.getConfig('importExport.url');\r\n    }\r\n    /**\r\n     * @param {?} file\r\n     * @param {?=} projectionIn\r\n     * @param {?=} projectionOut\r\n     * @return {?}\r\n     */\r\n    ImportService.prototype.import = /**\r\n     * @param {?} file\r\n     * @param {?=} projectionIn\r\n     * @param {?=} projectionOut\r\n     * @return {?}\r\n     */\r\n    function (file, projectionIn, projectionOut) {\r\n        if (projectionIn === void 0) { projectionIn = 'EPSG:4326'; }\r\n        if (projectionOut === void 0) { projectionOut = 'EPSG:4326'; }\r\n        return this.importAsync(file, projectionIn, projectionOut);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @return {?}\r\n     */\r\n    ImportService.prototype.getFileImporter = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @return {?}\r\n     */\r\n    function (file) {\r\n        /** @type {?} */\r\n        var extension = getFileExtension(file);\r\n        /** @type {?} */\r\n        var mimeType = file.type;\r\n        /** @type {?} */\r\n        var allowedMimeTypes = __spread(ImportService.allowedMimeTypes, ImportService.allowedZipMimeTypes);\r\n        /** @type {?} */\r\n        var allowedExtensions = ImportService.allowedExtensions;\r\n        if (allowedMimeTypes.indexOf(mimeType) < 0 && allowedExtensions.indexOf(extension) < 0) {\r\n            return undefined;\r\n        }\r\n        else if (mimeType === 'application/json' || ['json', 'geojson', 'kml'].indexOf(extension) >= 0) {\r\n            return this.importFile;\r\n        }\r\n        else if (this.ogreUrl !== undefined) {\r\n            return this.importFileWithOgre;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    ImportService.prototype.importAsync = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    function (file, projectionIn, projectionOut) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var doImport = (/**\r\n         * @param {?} observer\r\n         * @return {?}\r\n         */\r\n        function (observer) {\r\n            /** @type {?} */\r\n            var importer = _this.getFileImporter(file);\r\n            if (importer === undefined) {\r\n                observer.error(new ImportInvalidFileError());\r\n                return;\r\n            }\r\n            importer.call(_this, file, observer, projectionIn, projectionOut);\r\n        });\r\n        return new Observable(doImport);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} observer\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    ImportService.prototype.importFile = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} observer\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    function (file, observer, projectionIn, projectionOut) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var reader = new FileReader();\r\n        reader.onload = (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            try {\r\n                /** @type {?} */\r\n                var features = _this.parseFeaturesFromFile(file, event.target.result, projectionIn, projectionOut);\r\n                observer.next(features);\r\n            }\r\n            catch (e) {\r\n                observer.error(new ImportUnreadableFileError());\r\n            }\r\n            observer.complete();\r\n        });\r\n        reader.onerror = (/**\r\n         * @param {?} evt\r\n         * @return {?}\r\n         */\r\n        function (evt) {\r\n            observer.error(new ImportUnreadableFileError());\r\n        });\r\n        reader.readAsText(file, 'UTF-8');\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} observer\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    ImportService.prototype.importFileWithOgre = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} observer\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    function (file, observer, projectionIn, projectionOut) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var url = this.ogreUrl + \"/convert\";\r\n        /** @type {?} */\r\n        var formData = new FormData();\r\n        formData.append('upload', file);\r\n        formData.append('sourceSrs', projectionIn);\r\n        formData.append('targetSrs', projectionOut);\r\n        formData.append('formatOutput', 'GEOJSON');\r\n        formData.append('skipFailures', '');\r\n        this.http\r\n            .post(url, formData, { headers: new HttpHeaders() })\r\n            .subscribe((/**\r\n         * @param {?} response\r\n         * @return {?}\r\n         */\r\n        function (response) {\r\n            if (response === null) {\r\n                observer.error(new ImportUnreadableFileError());\r\n                return;\r\n            }\r\n            /** @type {?} */\r\n            var errors = ((/** @type {?} */ (response))).errors || [];\r\n            if (errors.length > 0) {\r\n                observer.error(new ImportUnreadableFileError());\r\n            }\r\n            else {\r\n                /** @type {?} */\r\n                var features = _this.parseFeaturesFromGeoJSON(file, response, projectionOut);\r\n                observer.next(features);\r\n                observer.complete();\r\n            }\r\n        }), (/**\r\n         * @param {?} error\r\n         * @return {?}\r\n         */\r\n        function (error) {\r\n            observer.error(new ImportUnreadableFileError());\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} data\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    ImportService.prototype.parseFeaturesFromFile = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} data\r\n     * @param {?} projectionIn\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    function (file, data, projectionIn, projectionOut) {\r\n        /** @type {?} */\r\n        var extension = getFileExtension(file);\r\n        /** @type {?} */\r\n        var mimeType = file.type;\r\n        /** @type {?} */\r\n        var GeoJSON$$1 = new GeoJSON();\r\n        /** @type {?} */\r\n        var format;\r\n        if (mimeType === 'application/vnd.google-earth.kml+xml') {\r\n            format = new KML();\r\n        }\r\n        else if (mimeType === 'application/gml+xml') {\r\n            format = new GML();\r\n        }\r\n        else if (mimeType === 'application/gpx+xml') {\r\n            format = new GPX();\r\n        }\r\n        else {\r\n            switch (extension) {\r\n                case 'kml':\r\n                    format = new KML();\r\n                    break;\r\n                case 'gpx':\r\n                    format = new GPX();\r\n                    break;\r\n                case 'gml':\r\n                    format = new GML();\r\n                    break;\r\n                default:\r\n                    format = GeoJSON$$1;\r\n                    break;\r\n            }\r\n        }\r\n        /** @type {?} */\r\n        var olFeatures = format.readFeatures(data, {\r\n            dataProjection: projectionIn,\r\n            featureProjection: projectionOut\r\n        });\r\n        /** @type {?} */\r\n        var features = olFeatures.map((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            return Object.assign(GeoJSON$$1.writeFeatureObject(olFeature), {\r\n                projection: projectionOut,\r\n                meta: {\r\n                    id: uuid(),\r\n                    title: computeLayerTitleFromFile(file)\r\n                }\r\n            });\r\n        }));\r\n        return features;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} data\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    ImportService.prototype.parseFeaturesFromGeoJSON = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} data\r\n     * @param {?} projectionOut\r\n     * @return {?}\r\n     */\r\n    function (file, data, projectionOut) {\r\n        /** @type {?} */\r\n        var olFormat = new GeoJSON();\r\n        /** @type {?} */\r\n        var olFeatures = olFormat.readFeatures(data);\r\n        /** @type {?} */\r\n        var features = olFeatures.map((/**\r\n         * @param {?} olFeature\r\n         * @return {?}\r\n         */\r\n        function (olFeature) {\r\n            return Object.assign(olFormat.writeFeatureObject(olFeature), {\r\n                projection: projectionOut,\r\n                meta: {\r\n                    id: uuid(),\r\n                    title: computeLayerTitleFromFile(file)\r\n                }\r\n            });\r\n        }));\r\n        return features;\r\n    };\r\n    ImportService.allowedMimeTypes = [\r\n        'application/gml+xml',\r\n        'application/vnd.google-earth.kml+xml',\r\n        'application/gpx+xml',\r\n        'application/json'\r\n    ];\r\n    ImportService.allowedZipMimeTypes = [\r\n        'application/zip',\r\n        'application/x-zip-compressed',\r\n        'application/x-zip'\r\n    ];\r\n    ImportService.allowedExtensions = [\r\n        'geojson',\r\n        'kml',\r\n        'gpx',\r\n        'json',\r\n        'gml'\r\n    ];\r\n    ImportService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ImportService.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: ConfigService }\r\n    ]; };\r\n    /** @nocollapse */ ImportService.ngInjectableDef = defineInjectable({ factory: function ImportService_Factory() { return new ImportService(inject(HttpClient), inject(ConfigService)); }, token: ImportService, providedIn: \"root\" });\r\n    return ImportService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ImportExportComponent = /** @class */ (function () {\r\n    function ImportExportComponent(importService, exportService, languageService, messageService, formBuilder) {\r\n        this.importService = importService;\r\n        this.exportService = exportService;\r\n        this.languageService = languageService;\r\n        this.messageService = messageService;\r\n        this.formBuilder = formBuilder;\r\n        this.formats = ExportFormat;\r\n        this.inputProj = 'EPSG:4326';\r\n        this.buildForm();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ImportExportComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.layers$$ = this.map.layers$.subscribe((/**\r\n         * @param {?} layers\r\n         * @return {?}\r\n         */\r\n        function (layers) {\r\n            _this.layers = (/** @type {?} */ (layers\r\n                .filter((/**\r\n             * @param {?} layer\r\n             * @return {?}\r\n             */\r\n            function (layer) {\r\n                return layer instanceof VectorLayer && layer.exportable === true;\r\n            }))));\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ImportExportComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.layers$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @param {?} files\r\n     * @return {?}\r\n     */\r\n    ImportExportComponent.prototype.importFiles = /**\r\n     * @param {?} files\r\n     * @return {?}\r\n     */\r\n    function (files) {\r\n        var _this = this;\r\n        var e_1, _a;\r\n        var _loop_1 = function (file) {\r\n            this_1.importService\r\n                .import(file, this_1.inputProj)\r\n                .subscribe((/**\r\n             * @param {?} features\r\n             * @return {?}\r\n             */\r\n            function (features) { return _this.onFileImportSuccess(file, features); }), (/**\r\n             * @param {?} error\r\n             * @return {?}\r\n             */\r\n            function (error) { return _this.onFileImportError(file, error); }));\r\n        };\r\n        var this_1 = this;\r\n        try {\r\n            for (var files_1 = __values(files), files_1_1 = files_1.next(); !files_1_1.done; files_1_1 = files_1.next()) {\r\n                var file = files_1_1.value;\r\n                _loop_1(file);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (files_1_1 && !files_1_1.done && (_a = files_1.return)) _a.call(files_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    ImportExportComponent.prototype.handleExportFormSubmit = /**\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var layer = this.map.getLayerById(data.layer);\r\n        /** @type {?} */\r\n        var olFeatures = layer.dataSource.ol.getFeatures();\r\n        this.exportService\r\n            .export(olFeatures, data.format, layer.title, this.map.projection)\r\n            .subscribe((/**\r\n         * @return {?}\r\n         */\r\n        function () { }), (/**\r\n         * @param {?} error\r\n         * @return {?}\r\n         */\r\n        function (error) { return _this.onFileExportError(error); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    ImportExportComponent.prototype.buildForm = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.form = this.formBuilder.group({\r\n            format: ['', [Validators.required]],\r\n            layer: ['', [Validators.required]]\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} features\r\n     * @return {?}\r\n     */\r\n    ImportExportComponent.prototype.onFileImportSuccess = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} features\r\n     * @return {?}\r\n     */\r\n    function (file, features) {\r\n        handleFileImportSuccess(file, features, this.map, this.messageService, this.languageService);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} error\r\n     * @return {?}\r\n     */\r\n    ImportExportComponent.prototype.onFileImportError = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} error\r\n     * @return {?}\r\n     */\r\n    function (file, error) {\r\n        handleFileImportError(file, error, this.messageService, this.languageService);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} error\r\n     * @return {?}\r\n     */\r\n    ImportExportComponent.prototype.onFileExportError = /**\r\n     * @private\r\n     * @param {?} error\r\n     * @return {?}\r\n     */\r\n    function (error) {\r\n        handleFileExportError(error, this.messageService, this.languageService);\r\n    };\r\n    ImportExportComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-import-export',\r\n                    template: \"<mat-tab-group>\\r\\n\\r\\n  <mat-tab [label]=\\\"'igo.geo.importExportForm.importTabTitle' |\\u00A0translate\\\">\\r\\n    <form class=\\\"igo-form\\\">\\r\\n      <div class=\\\"igo-input-container\\\">\\r\\n        <mat-form-field>\\r\\n          <input\\r\\n            matInput\\r\\n            placeholder=\\\"{{'igo.geo.importExportForm.importProjPlaceholder' | translate}}\\\"\\r\\n            name=\\\"inputProj\\\"\\r\\n            [(ngModel)]=\\\"inputProj\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"igo-form-button-group\\\">\\r\\n        <button mat-raised-button type=\\\"button\\\" (click)=\\\"fileInput.click()\\\">\\r\\n          {{'igo.geo.importExportForm.importButton' | translate}}\\r\\n        </button>\\r\\n        <input\\r\\n          #fileInput\\r\\n          type=\\\"file\\\"\\r\\n          [style.display]=\\\"'none'\\\"\\r\\n          (click)=\\\"fileInput.value = null\\\"\\r\\n          (change)=\\\"importFiles($event.target.files)\\\">\\r\\n      </div>\\r\\n    </form>\\r\\n  </mat-tab>\\r\\n\\r\\n  <mat-tab [label]=\\\"'igo.geo.importExportForm.exportTabTitle' |\\u00A0translate\\\">\\r\\n    <form class=\\\"igo-form\\\" [formGroup]=\\\"form\\\">\\r\\n\\r\\n      <div class=\\\"igo-input-container\\\">\\r\\n        <mat-form-field>\\r\\n          <mat-select\\r\\n            formControlName=\\\"layer\\\"\\r\\n            placeholder=\\\"{{'igo.geo.importExportForm.exportLayerPlaceholder' | translate}}\\\">\\r\\n            <mat-option *ngFor=\\\"let layer of layers\\\" [value]=\\\"layer.id\\\">\\r\\n              {{layer.title}}\\r\\n            </mat-option>\\r\\n          </mat-select>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"igo-input-container\\\">\\r\\n        <mat-form-field>\\r\\n          <mat-select\\r\\n            formControlName=\\\"format\\\"\\r\\n            placeholder=\\\"{{'igo.geo.importExportForm.exportFormatPlaceholder' | translate}}\\\">\\r\\n            <mat-option *ngFor=\\\"let format of formats | keyvalue \\\" [value]=\\\"format.key\\\">\\r\\n              {{format.value}}\\r\\n            </mat-option>\\r\\n          </mat-select>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"igo-form-button-group\\\">\\r\\n        <button\\r\\n          mat-raised-button\\r\\n          type=\\\"button\\\"\\r\\n          [disabled]=\\\"!form.valid\\\"\\r\\n          (click)=\\\"handleExportFormSubmit(form.value)\\\">\\r\\n          {{'igo.geo.importExportForm.exportButton' | translate}}\\r\\n        </button>\\r\\n      </div>\\r\\n\\r\\n    </form>\\r\\n  </mat-tab>\\r\\n\\r\\n</mat-tab-group>\\r\\n\",\r\n                    styles: [\"mat-form-field{width:100%}.igo-form{padding:5px}.igo-form-button-group{text-align:center;padding-top:10px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ImportExportComponent.ctorParameters = function () { return [\r\n        { type: ImportService },\r\n        { type: ExportService },\r\n        { type: LanguageService },\r\n        { type: MessageService },\r\n        { type: FormBuilder }\r\n    ]; };\r\n    ImportExportComponent.propDecorators = {\r\n        map: [{ type: Input }]\r\n    };\r\n    return ImportExportComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar DropGeoFileDirective = /** @class */ (function (_super) {\r\n    __extends(DropGeoFileDirective, _super);\r\n    function DropGeoFileDirective(component, importService, languageService, messageService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.component = component;\r\n        _this.importService = importService;\r\n        _this.languageService = languageService;\r\n        _this.messageService = messageService;\r\n        _this.filesDropped = new EventEmitter();\r\n        _this.filesInvalid = new EventEmitter();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DropGeoFileDirective.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.component.map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    DropGeoFileDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.filesDropped$$ = this.filesDropped.subscribe((/**\r\n         * @param {?} files\r\n         * @return {?}\r\n         */\r\n        function (files) {\r\n            _this.onFilesDropped(files);\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    DropGeoFileDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.filesDropped$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    DropGeoFileDirective.prototype.onDragOver = /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    function (evt) {\r\n        _super.prototype.onDragOver.call(this, evt);\r\n    };\r\n    /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    DropGeoFileDirective.prototype.onDragLeave = /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    function (evt) {\r\n        _super.prototype.onDragLeave.call(this, evt);\r\n    };\r\n    /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    DropGeoFileDirective.prototype.onDrop = /**\r\n     * @param {?} evt\r\n     * @return {?}\r\n     */\r\n    function (evt) {\r\n        _super.prototype.onDrop.call(this, evt);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} files\r\n     * @return {?}\r\n     */\r\n    DropGeoFileDirective.prototype.onFilesDropped = /**\r\n     * @private\r\n     * @param {?} files\r\n     * @return {?}\r\n     */\r\n    function (files) {\r\n        var _this = this;\r\n        var e_1, _a;\r\n        var _loop_1 = function (file) {\r\n            this_1.importService\r\n                .import(file)\r\n                .subscribe((/**\r\n             * @param {?} features\r\n             * @return {?}\r\n             */\r\n            function (features) { return _this.onFileImportSuccess(file, features); }), (/**\r\n             * @param {?} error\r\n             * @return {?}\r\n             */\r\n            function (error) { return _this.onFileImportError(file, error); }));\r\n        };\r\n        var this_1 = this;\r\n        try {\r\n            for (var files_1 = __values(files), files_1_1 = files_1.next(); !files_1_1.done; files_1_1 = files_1.next()) {\r\n                var file = files_1_1.value;\r\n                _loop_1(file);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (files_1_1 && !files_1_1.done && (_a = files_1.return)) _a.call(files_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} features\r\n     * @return {?}\r\n     */\r\n    DropGeoFileDirective.prototype.onFileImportSuccess = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} features\r\n     * @return {?}\r\n     */\r\n    function (file, features) {\r\n        handleFileImportSuccess(file, features, this.map, this.messageService, this.languageService);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} error\r\n     * @return {?}\r\n     */\r\n    DropGeoFileDirective.prototype.onFileImportError = /**\r\n     * @private\r\n     * @param {?} file\r\n     * @param {?} error\r\n     * @return {?}\r\n     */\r\n    function (file, error) {\r\n        handleFileImportError(file, error, this.messageService, this.languageService);\r\n    };\r\n    DropGeoFileDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoDropGeoFile]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    DropGeoFileDirective.ctorParameters = function () { return [\r\n        { type: MapBrowserComponent },\r\n        { type: ImportService },\r\n        { type: LanguageService },\r\n        { type: MessageService }\r\n    ]; };\r\n    DropGeoFileDirective.propDecorators = {\r\n        onDragOver: [{ type: HostListener, args: ['dragover', ['$event'],] }],\r\n        onDragLeave: [{ type: HostListener, args: ['dragleave', ['$event'],] }],\r\n        onDrop: [{ type: HostListener, args: ['drop', ['$event'],] }]\r\n    };\r\n    return DropGeoFileDirective;\r\n}(DragAndDropDirective));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoImportExportModule = /** @class */ (function () {\r\n    function IgoImportExportModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoImportExportModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoImportExportModule\r\n        };\r\n    };\r\n    IgoImportExportModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        CommonModule,\r\n                        MatButtonModule,\r\n                        MatTabsModule,\r\n                        MatSelectModule,\r\n                        MatOptionModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        IgoLanguageModule,\r\n                        IgoKeyValueModule,\r\n                        IgoDrapDropModule\r\n                    ],\r\n                    exports: [ImportExportComponent, DropGeoFileDirective],\r\n                    declarations: [ImportExportComponent, DropGeoFileDirective]\r\n                },] }\r\n    ];\r\n    return IgoImportExportModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoLayerModule = /** @class */ (function () {\r\n    function IgoLayerModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoLayerModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoLayerModule,\r\n            providers: [LayerService, StyleService, LayerListService]\r\n        };\r\n    };\r\n    IgoLayerModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        MatInputModule,\r\n                        MatFormFieldModule,\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule,\r\n                        MatListModule,\r\n                        MatSliderModule,\r\n                        MatBadgeModule,\r\n                        IgoLanguageModule,\r\n                        IgoListModule,\r\n                        IgoCollapsibleModule,\r\n                        IgoImageModule\r\n                    ],\r\n                    exports: [\r\n                        LayerItemComponent,\r\n                        LayerLegendComponent,\r\n                        LayerListComponent,\r\n                        LayerListBindingDirective\r\n                    ],\r\n                    declarations: [\r\n                        LayerItemComponent,\r\n                        LayerLegendComponent,\r\n                        LayerListComponent,\r\n                        LayerListBindingDirective\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoLayerModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoMapModule = /** @class */ (function () {\r\n    function IgoMapModule() {\r\n    }\r\n    IgoMapModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoLanguageModule,\r\n                        IgoConfirmDialogModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatTooltipModule\r\n                    ],\r\n                    exports: [\r\n                        MapBrowserComponent,\r\n                        ZoomButtonComponent,\r\n                        GeolocateButtonComponent,\r\n                        RotationButtonComponent,\r\n                        BaseLayersSwitcherComponent,\r\n                        MiniBaseMapComponent,\r\n                        MapOfflineDirective\r\n                    ],\r\n                    declarations: [\r\n                        MapBrowserComponent,\r\n                        ZoomButtonComponent,\r\n                        GeolocateButtonComponent,\r\n                        RotationButtonComponent,\r\n                        BaseLayersSwitcherComponent,\r\n                        MiniBaseMapComponent,\r\n                        MapOfflineDirective\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoMapModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Measurer item\r\n */\r\nvar MeasurerItemComponent = /** @class */ (function () {\r\n    function MeasurerItemComponent() {\r\n        /**\r\n         * Measure observable\r\n         * \\@internal\r\n         */\r\n        this.measure$ = new BehaviorSubject(undefined);\r\n        this._auto = false;\r\n        /**\r\n         * Event emitted when the measure unit changes\r\n         */\r\n        this.measureUnitChange = new EventEmitter();\r\n    }\r\n    Object.defineProperty(MeasurerItemComponent.prototype, \"measure\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.measure$.value; },\r\n        /**\r\n         * Measure\r\n         */\r\n        set: /**\r\n         * Measure\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.measure$.next(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MeasurerItemComponent.prototype, \"auto\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this._auto; },\r\n        /**\r\n         * Whther measure units should be automatically determined\r\n         */\r\n        set: /**\r\n         * Whther measure units should be automatically determined\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { this.toggleAutoUnit(value); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MeasurerItemComponent.prototype, \"measureUnits\", {\r\n        /**\r\n         * Available measure units for the measure type given\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Available measure units for the measure type given\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (this.measureType === MeasureType.Area) {\r\n                return Object.values(MeasureAreaUnit);\r\n            }\r\n            return Object.values(MeasureLengthUnit);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Toggle the auto unit off\r\n     * @internal\r\n     */\r\n    /**\r\n     * Toggle the auto unit off\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    MeasurerItemComponent.prototype.ngOnDestroy = /**\r\n     * Toggle the auto unit off\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.toggleAutoUnit(false);\r\n    };\r\n    /**\r\n     * Set the measure unit\r\n     * @internal\r\n     */\r\n    /**\r\n     * Set the measure unit\r\n     * \\@internal\r\n     * @param {?} unit\r\n     * @return {?}\r\n     */\r\n    MeasurerItemComponent.prototype.onMeasureUnitChange = /**\r\n     * Set the measure unit\r\n     * \\@internal\r\n     * @param {?} unit\r\n     * @return {?}\r\n     */\r\n    function (unit) {\r\n        this.measureUnit = unit;\r\n        this.measureUnitChange.emit(unit);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} toggle\r\n     * @return {?}\r\n     */\r\n    MeasurerItemComponent.prototype.toggleAutoUnit = /**\r\n     * @private\r\n     * @param {?} toggle\r\n     * @return {?}\r\n     */\r\n    function (toggle) {\r\n        var _this = this;\r\n        if (this.measure$$ !== undefined) {\r\n            this.measure$$.unsubscribe();\r\n        }\r\n        if (toggle === true) {\r\n            this.measure$$ = this.measure$.subscribe((/**\r\n             * @param {?} measure\r\n             * @return {?}\r\n             */\r\n            function (measure) {\r\n                _this.computeBestMeasureUnit(measure);\r\n            }));\r\n        }\r\n        this._auto = toggle;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} measure\r\n     * @return {?}\r\n     */\r\n    MeasurerItemComponent.prototype.computeBestMeasureUnit = /**\r\n     * @private\r\n     * @param {?} measure\r\n     * @return {?}\r\n     */\r\n    function (measure) {\r\n        /** @type {?} */\r\n        var measureUnit = this.measureUnit;\r\n        if (this.measureType === MeasureType.Area) {\r\n            measureUnit = computeBestAreaUnit(measure);\r\n        }\r\n        else if (this.measureType === MeasureType.Length) {\r\n            measureUnit = computeBestLengthUnit(measure);\r\n        }\r\n        if (measureUnit !== this.measureUnit) {\r\n            this.onMeasureUnitChange(measureUnit);\r\n        }\r\n    };\r\n    MeasurerItemComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-measurer-item',\r\n                    template: \"<mat-form-field class=\\\"measure-field\\\">\\r\\n  <input\\r\\n    matInput\\r\\n    [readonly]=\\\"true\\\"\\r\\n    [placeholder]=\\\"placeholder\\\"\\r\\n    [value]=\\\"((measure$ | async) || 0) | measureFormat: measureUnit\\\">\\r\\n</mat-form-field>\\r\\n<mat-form-field class=\\\"unit-field\\\">\\r\\n  <mat-select\\r\\n    [value]=\\\"measureUnit\\\"\\r\\n    [disabled]=\\\"auto\\\"\\r\\n    (selectionChange)=\\\"onMeasureUnitChange($event.value)\\\">\\r\\n    <mat-option *ngFor=\\\"let measureUnit of measureUnits\\\" [value]=\\\"measureUnit\\\">\\r\\n      {{('igo.geo.measure.' + measureUnit) | translate}}\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host{display:flex;width:100%;padding:5px 10px}.measure-field{display:flex;flex-flow:column nowrap;width:100%}.unit-field{width:110px;margin-left:10px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    MeasurerItemComponent.ctorParameters = function () { return []; };\r\n    MeasurerItemComponent.propDecorators = {\r\n        measureType: [{ type: Input }],\r\n        measureUnit: [{ type: Input }],\r\n        measure: [{ type: Input }],\r\n        auto: [{ type: Input }],\r\n        placeholder: [{ type: Input }],\r\n        measureUnitChange: [{ type: Output }]\r\n    };\r\n    return MeasurerItemComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoMeasurerModule = /** @class */ (function () {\r\n    function IgoMeasurerModule() {\r\n    }\r\n    IgoMeasurerModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatButtonModule,\r\n                        MatButtonToggleModule,\r\n                        MatIconModule,\r\n                        MatTooltipModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatSelectModule,\r\n                        MatSlideToggleModule,\r\n                        IgoLanguageModule,\r\n                        IgoEntityTableModule\r\n                    ],\r\n                    declarations: [\r\n                        MeasureFormatPipe,\r\n                        MeasurerItemComponent,\r\n                        MeasurerComponent,\r\n                        MeasurerDialogComponent\r\n                    ],\r\n                    exports: [\r\n                        MeasureFormatPipe,\r\n                        MeasurerComponent\r\n                    ],\r\n                    entryComponents: [\r\n                        MeasurerDialogComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoMeasurerModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoMeasureModule = /** @class */ (function () {\r\n    function IgoMeasureModule() {\r\n    }\r\n    IgoMeasureModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: [\r\n                        IgoMeasurerModule\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoMeasureModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {number} */\r\nvar OverlayAction = {\r\n    None: 0,\r\n    Move: 1,\r\n    Zoom: 2,\r\n    ZoomIfOutMapExtent: 3,\r\n};\r\nOverlayAction[OverlayAction.None] = 'None';\r\nOverlayAction[OverlayAction.Move] = 'Move';\r\nOverlayAction[OverlayAction.Zoom] = 'Zoom';\r\nOverlayAction[OverlayAction.ZoomIfOutMapExtent] = 'ZoomIfOutMapExtent';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OverlayService = /** @class */ (function () {\r\n    function OverlayService() {\r\n        this.features$ = new BehaviorSubject([\r\n            [],\r\n            undefined\r\n        ]);\r\n    }\r\n    /**\r\n     * @param {?} features\r\n     * @param {?=} action\r\n     * @return {?}\r\n     */\r\n    OverlayService.prototype.setFeatures = /**\r\n     * @param {?} features\r\n     * @param {?=} action\r\n     * @return {?}\r\n     */\r\n    function (features, action) {\r\n        if (action === void 0) { action = OverlayAction.None; }\r\n        this.features$.next([features, action]);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OverlayService.prototype.clear = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.features$.next([[], OverlayAction.None]);\r\n    };\r\n    OverlayService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    OverlayService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ OverlayService.ngInjectableDef = defineInjectable({ factory: function OverlayService_Factory() { return new OverlayService(); }, token: OverlayService, providedIn: \"root\" });\r\n    return OverlayService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OverlayDirective = /** @class */ (function () {\r\n    function OverlayDirective(component, overlayService) {\r\n        this.component = component;\r\n        this.overlayService = overlayService;\r\n        this.format = new OlGeoJSON();\r\n    }\r\n    Object.defineProperty(OverlayDirective.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.component.map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OverlayDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.features$$ = this.overlayService.features$.subscribe((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            return _this.handleFeatures(res[0], res[1]);\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OverlayDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.features$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} features\r\n     * @param {?} action\r\n     * @return {?}\r\n     */\r\n    OverlayDirective.prototype.handleFeatures = /**\r\n     * @private\r\n     * @param {?} features\r\n     * @param {?} action\r\n     * @return {?}\r\n     */\r\n    function (features, action) { };\r\n    OverlayDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoOverlay]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    OverlayDirective.ctorParameters = function () { return [\r\n        { type: MapBrowserComponent, decorators: [{ type: Self }] },\r\n        { type: OverlayService }\r\n    ]; };\r\n    return OverlayDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoOverlayModule = /** @class */ (function () {\r\n    function IgoOverlayModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoOverlayModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoOverlayModule\r\n        };\r\n    };\r\n    IgoOverlayModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    exports: [OverlayDirective],\r\n                    declarations: [OverlayDirective]\r\n                },] }\r\n    ];\r\n    return IgoOverlayModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar PrintOutputFormat = strEnum(['Pdf', 'Image']);\r\n/** @type {?} */\r\nvar PrintPaperFormat = strEnum([\r\n    'A0',\r\n    'A1',\r\n    'A2',\r\n    'A3',\r\n    'A4',\r\n    'A5',\r\n    'Letter',\r\n    'Legal'\r\n]);\r\n/** @type {?} */\r\nvar PrintOrientation = strEnum(['landscape', 'portrait']);\r\n/** @type {?} */\r\nvar PrintResolution = strEnum(['72', '96', '150', '300']);\r\n/** @type {?} */\r\nvar PrintSaveImageFormat = strEnum([\r\n    'Bmp',\r\n    'Gif',\r\n    'Jpeg',\r\n    'Png',\r\n    'Tiff'\r\n]);\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar html2canvas = _html2canvas;\r\nvar PrintService = /** @class */ (function () {\r\n    function PrintService(messageService, activityService, languageService) {\r\n        this.messageService = messageService;\r\n        this.activityService = activityService;\r\n        this.languageService = languageService;\r\n    }\r\n    /**\r\n     * @param {?} map\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.print = /**\r\n     * @param {?} map\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (map$$1, options) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var status$ = new Subject();\r\n        /** @type {?} */\r\n        var paperFormat = options.paperFormat;\r\n        /** @type {?} */\r\n        var resolution = +options.resolution;\r\n        // Default is 96\r\n        /** @type {?} */\r\n        var orientation = options.orientation;\r\n        this.activityId = this.activityService.register();\r\n        /** @type {?} */\r\n        var doc = new jsPDF({\r\n            orientation: orientation,\r\n            format: paperFormat.toLowerCase()\r\n        });\r\n        /** @type {?} */\r\n        var dimensions = [\r\n            doc.internal.pageSize.width,\r\n            doc.internal.pageSize.height\r\n        ];\r\n        /** @type {?} */\r\n        var margins = [20, 10, 20, 10];\r\n        /** @type {?} */\r\n        var width = dimensions[0] - margins[3] - margins[1];\r\n        /** @type {?} */\r\n        var height = dimensions[1] - margins[0] - margins[2];\r\n        /** @type {?} */\r\n        var size = [width, height];\r\n        if (options.title !== undefined) {\r\n            this.addTitle(doc, options.title, dimensions[0]);\r\n        }\r\n        if (options.showProjection === true || options.showScale === true) {\r\n            this.addProjScale(doc, map$$1, resolution, options.showProjection, options.showScale);\r\n        }\r\n        if (options.comment !== '') {\r\n            this.addComment(doc, options.comment);\r\n        }\r\n        this.addMap(doc, map$$1, resolution, size, margins).subscribe((/**\r\n         * @param {?} status\r\n         * @return {?}\r\n         */\r\n        function (status) {\r\n            if (status === SubjectStatus.Done) {\r\n                if (options.showLegend === true) {\r\n                    _this.addLegend(doc, map$$1, margins, resolution);\r\n                }\r\n                else {\r\n                    _this.saveDoc(doc);\r\n                }\r\n            }\r\n            if (status === SubjectStatus.Done || status === SubjectStatus.Error) {\r\n                _this.activityService.unregister(_this.activityId);\r\n                status$.next(SubjectStatus.Done);\r\n            }\r\n        }));\r\n        return status$;\r\n    };\r\n    /**\r\n     * Get html code for all layers legend\r\n     * @param  map IgoMap\r\n     * @param  width The width that the legend need to be\r\n     * @return Html code for the legend\r\n     */\r\n    /**\r\n     * Get html code for all layers legend\r\n     * @param {?} map IgoMap\r\n     * @param {?} width The width that the legend need to be\r\n     * @param {?} resolution\r\n     * @return {?} Html code for the legend\r\n     */\r\n    PrintService.prototype.getLayersLegendHtml = /**\r\n     * Get html code for all layers legend\r\n     * @param {?} map IgoMap\r\n     * @param {?} width The width that the legend need to be\r\n     * @param {?} resolution\r\n     * @return {?} Html code for the legend\r\n     */\r\n    function (map$$1, width, resolution) {\r\n        /** @type {?} */\r\n        var html = '';\r\n        /** @type {?} */\r\n        var legends = getLayersLegends(map$$1.layers, map$$1.viewController.getScale(resolution));\r\n        if (legends.length === 0) {\r\n            return html;\r\n        }\r\n        // Define important style to be sure that all container is convert\r\n        // to image not just visible part\r\n        html += '<style media=\"screen\" type=\"text/css\">';\r\n        html += '.html2canvas-container { width: ' + width;\r\n        html += 'mm !important; height: 2000px !important; }';\r\n        html += '</style>';\r\n        html += '<font size=\"2\" face=\"Courier New\" >';\r\n        html += '<div style=\"display:inline-block;max-width:' + width + 'mm\">';\r\n        // For each legend, define an html table cell\r\n        legends.forEach((/**\r\n         * @param {?} legend\r\n         * @return {?}\r\n         */\r\n        function (legend) {\r\n            html +=\r\n                '<table border=1 style=\"display:inline-block;vertical-align:top\">';\r\n            html += '<tr><th width=\"170px\">' + legend.title + '</th>';\r\n            html += '<td><img class=\"printImageLegend\" src=\"' + legend.url + '\">';\r\n            html += '</td></tr></table>';\r\n        }));\r\n        html += '</div>';\r\n        return html;\r\n    };\r\n    /**\r\n     * Get all the legend in a single image\r\n     * * @param  format - Image format. default value to \"png\"\r\n     * @return The image of the legend\r\n     */\r\n    /**\r\n     * Get all the legend in a single image\r\n     * * \\@param  format - Image format. default value to \"png\"\r\n     * @param {?} map\r\n     * @param {?=} format\r\n     * @param {?=} doZipFile\r\n     * @param {?=} resolution\r\n     * @return {?} The image of the legend\r\n     */\r\n    PrintService.prototype.getLayersLegendImage = /**\r\n     * Get all the legend in a single image\r\n     * * \\@param  format - Image format. default value to \"png\"\r\n     * @param {?} map\r\n     * @param {?=} format\r\n     * @param {?=} doZipFile\r\n     * @param {?=} resolution\r\n     * @return {?} The image of the legend\r\n     */\r\n    function (map$$1, format, doZipFile, resolution) {\r\n        if (format === void 0) { format = 'png'; }\r\n        /** @type {?} */\r\n        var status$ = new Subject();\r\n        // Get html code for the legend\r\n        /** @type {?} */\r\n        var width = 200;\r\n        // milimeters unit, originally define for document pdf\r\n        /** @type {?} */\r\n        var html = this.getLayersLegendHtml(map$$1, width, resolution);\r\n        /** @type {?} */\r\n        var that = this;\r\n        format = format.toLowerCase();\r\n        // If no legend show No LEGEND in an image\r\n        if (html.length === 0) {\r\n            html = '<font size=\"12\" face=\"Courier New\" >';\r\n            html += '<div align=\"center\"><b>NO LEGEND</b></div>';\r\n        }\r\n        // Create div to contain html code for legend\r\n        /** @type {?} */\r\n        var div = window.document.createElement('div');\r\n        // Add html code to convert in the new window\r\n        window.document.body.appendChild(div);\r\n        div.innerHTML = html;\r\n        // Define event to execute after all images are loaded to create the canvas\r\n        setTimeout((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            html2canvas(div, { useCORS: true }).then((/**\r\n             * @param {?} canvas\r\n             * @return {?}\r\n             */\r\n            function (canvas) {\r\n                /** @type {?} */\r\n                var status = SubjectStatus.Done;\r\n                try {\r\n                    if (!doZipFile) {\r\n                        // Save the canvas as file\r\n                        that.saveCanvasImageAsFile(canvas, 'legendImage', format);\r\n                    }\r\n                    else {\r\n                        // Add the canvas to zip\r\n                        that.generateCanvaFileToZip(canvas, 'legendImage' + '.' + format);\r\n                    }\r\n                    div.parentNode.removeChild(div); // remove temp div (IE)\r\n                }\r\n                catch (err) {\r\n                    status = SubjectStatus.Error;\r\n                }\r\n                status$.next(status);\r\n            }));\r\n        }), 500);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} doc\r\n     * @param {?} title\r\n     * @param {?} pageWidth\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.addTitle = /**\r\n     * @private\r\n     * @param {?} doc\r\n     * @param {?} title\r\n     * @param {?} pageWidth\r\n     * @return {?}\r\n     */\r\n    function (doc, title, pageWidth) {\r\n        /** @type {?} */\r\n        var pdfResolution = 96;\r\n        /** @type {?} */\r\n        var titleSize = 32;\r\n        /** @type {?} */\r\n        var titleWidth = ((titleSize * 25.4) / pdfResolution) * title.length;\r\n        /** @type {?} */\r\n        var titleMarginLeft;\r\n        if (titleWidth > pageWidth) {\r\n            titleMarginLeft = 0;\r\n        }\r\n        else {\r\n            titleMarginLeft = (pageWidth - titleWidth) / 2;\r\n        }\r\n        doc.setFont('courier');\r\n        doc.setFontSize(32);\r\n        doc.text(title, titleMarginLeft, 15);\r\n    };\r\n    /**\r\n     * Add comment to the document\r\n     * * @param  doc - pdf document\r\n     * * @param  comment - Comment to add in the document\r\n     * * @param  size - Size of the document\r\n     */\r\n    /**\r\n     * Add comment to the document\r\n     * * \\@param  doc - pdf document\r\n     * * \\@param  comment - Comment to add in the document\r\n     * * \\@param  size - Size of the document\r\n     * @private\r\n     * @param {?} doc\r\n     * @param {?} comment\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.addComment = /**\r\n     * Add comment to the document\r\n     * * \\@param  doc - pdf document\r\n     * * \\@param  comment - Comment to add in the document\r\n     * * \\@param  size - Size of the document\r\n     * @private\r\n     * @param {?} doc\r\n     * @param {?} comment\r\n     * @return {?}\r\n     */\r\n    function (doc, comment) {\r\n        /** @type {?} */\r\n        var commentSize = 16;\r\n        /** @type {?} */\r\n        var commentMarginLeft = 20;\r\n        /** @type {?} */\r\n        var marginBottom = 5;\r\n        /** @type {?} */\r\n        var heightPixels = doc.internal.pageSize.height - marginBottom;\r\n        doc.setFont('courier');\r\n        doc.setFontSize(commentSize);\r\n        doc.text(comment, commentMarginLeft, heightPixels);\r\n    };\r\n    /**\r\n     * Add projection and/or scale to the document\r\n     * @param  doc - pdf document\r\n     * @param  map - Map of the app\r\n     * @param  dpi - DPI resolution of the document\r\n     * @param  projection - Bool to indicate if projection need to be added\r\n     * @param  scale - Bool to indicate if scale need to be added\r\n     */\r\n    /**\r\n     * Add projection and/or scale to the document\r\n     * @private\r\n     * @param {?} doc - pdf document\r\n     * @param {?} map - Map of the app\r\n     * @param {?} dpi - DPI resolution of the document\r\n     * @param {?} projection - Bool to indicate if projection need to be added\r\n     * @param {?} scale - Bool to indicate if scale need to be added\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.addProjScale = /**\r\n     * Add projection and/or scale to the document\r\n     * @private\r\n     * @param {?} doc - pdf document\r\n     * @param {?} map - Map of the app\r\n     * @param {?} dpi - DPI resolution of the document\r\n     * @param {?} projection - Bool to indicate if projection need to be added\r\n     * @param {?} scale - Bool to indicate if scale need to be added\r\n     * @return {?}\r\n     */\r\n    function (doc, map$$1, dpi, projection, scale) {\r\n        /** @type {?} */\r\n        var translate = this.languageService.translate;\r\n        /** @type {?} */\r\n        var projScaleSize = 16;\r\n        /** @type {?} */\r\n        var projScaleMarginLeft = 20;\r\n        /** @type {?} */\r\n        var marginBottom = 15;\r\n        /** @type {?} */\r\n        var heightPixels = doc.internal.pageSize.height - marginBottom;\r\n        /** @type {?} */\r\n        var textProjScale = '';\r\n        if (projection === true) {\r\n            /** @type {?} */\r\n            var projText = translate.instant('igo.geo.printForm.projection');\r\n            textProjScale += projText + ': ' + map$$1.projection;\r\n        }\r\n        if (scale === true) {\r\n            if (projection === true) {\r\n                textProjScale += '   ';\r\n            }\r\n            /** @type {?} */\r\n            var scaleText = translate.instant('igo.geo.printForm.scale');\r\n            /** @type {?} */\r\n            var mapScale = map$$1.viewController.getScale(dpi);\r\n            textProjScale += scaleText + ' ~ 1 ' + formatScale(mapScale);\r\n        }\r\n        doc.setFont('courier');\r\n        doc.setFontSize(projScaleSize);\r\n        doc.text(textProjScale, projScaleMarginLeft, heightPixels);\r\n    };\r\n    /**\r\n     * Add the legend to the document\r\n     * @param  doc - Pdf document where legend will be added\r\n     * @param  map - Map of the app\r\n     * @param  margins - Page margins\r\n     */\r\n    /**\r\n     * Add the legend to the document\r\n     * @private\r\n     * @param {?} doc - Pdf document where legend will be added\r\n     * @param {?} map - Map of the app\r\n     * @param {?} margins - Page margins\r\n     * @param {?} resolution\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.addLegend = /**\r\n     * Add the legend to the document\r\n     * @private\r\n     * @param {?} doc - Pdf document where legend will be added\r\n     * @param {?} map - Map of the app\r\n     * @param {?} margins - Page margins\r\n     * @param {?} resolution\r\n     * @return {?}\r\n     */\r\n    function (doc, map$$1, margins, resolution) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var that = this;\r\n        // Get html code for the legend\r\n        /** @type {?} */\r\n        var width = doc.internal.pageSize.width;\r\n        /** @type {?} */\r\n        var html = this.getLayersLegendHtml(map$$1, width, resolution);\r\n        // If no legend, save the map directly\r\n        if (html === '') {\r\n            this.saveDoc(doc);\r\n            return true;\r\n        }\r\n        // Create div to contain html code for legend\r\n        /** @type {?} */\r\n        var div = window.document.createElement('div');\r\n        html2canvas(div, { useCORS: true }).then((/**\r\n         * @param {?} canvas\r\n         * @return {?}\r\n         */\r\n        function (canvas) {\r\n            /** @type {?} */\r\n            var imgData;\r\n            /** @type {?} */\r\n            var position = 10;\r\n            imgData = canvas.toDataURL('image/png');\r\n            doc.addPage();\r\n            /** @type {?} */\r\n            var imageSize = _this.getImageSizeToFitPdf(doc, canvas, margins);\r\n            doc.addImage(imgData, 'PNG', 10, position, imageSize[0], imageSize[1]);\r\n            that.saveDoc(doc);\r\n            div.parentNode.removeChild(div); // remove temp div (IE style)\r\n        }));\r\n        // Add html code to convert in the new window\r\n        window.document.body.appendChild(div);\r\n        div.innerHTML = html;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} doc\r\n     * @param {?} canvas\r\n     * @param {?} margins\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.addCanvas = /**\r\n     * @private\r\n     * @param {?} doc\r\n     * @param {?} canvas\r\n     * @param {?} margins\r\n     * @return {?}\r\n     */\r\n    function (doc, canvas, margins) {\r\n        /** @type {?} */\r\n        var image;\r\n        image = canvas.toDataURL('image/jpeg');\r\n        if (image !== undefined) {\r\n            /** @type {?} */\r\n            var imageSize = this.getImageSizeToFitPdf(doc, canvas, margins);\r\n            doc.addImage(image, 'JPEG', margins[3], margins[0], imageSize[0], imageSize[1]);\r\n            doc.rect(margins[3], margins[0], imageSize[0], imageSize[1]);\r\n        }\r\n    };\r\n    // TODO fix printing with image resolution\r\n    // TODO fix printing with image resolution\r\n    /**\r\n     * @private\r\n     * @param {?} doc\r\n     * @param {?} map\r\n     * @param {?} resolution\r\n     * @param {?} size\r\n     * @param {?} margins\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.addMap = \r\n    // TODO fix printing with image resolution\r\n    /**\r\n     * @private\r\n     * @param {?} doc\r\n     * @param {?} map\r\n     * @param {?} resolution\r\n     * @param {?} size\r\n     * @param {?} margins\r\n     * @return {?}\r\n     */\r\n    function (doc, map$$1, resolution, size, margins) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var status$ = new Subject();\r\n        /** @type {?} */\r\n        var mapSize = map$$1.ol.getSize();\r\n        /** @type {?} */\r\n        var extent = map$$1.ol.getView().calculateExtent(mapSize);\r\n        /** @type {?} */\r\n        var widthPixels = Math.round((size[0] * resolution) / 25.4);\r\n        /** @type {?} */\r\n        var heightPixels = Math.round((size[1] * resolution) / 25.4);\r\n        /** @type {?} */\r\n        var timeout;\r\n        map$$1.ol.once('postcompose', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            /** @type {?} */\r\n            var canvas = event.context.canvas;\r\n            /** @type {?} */\r\n            var mapStatus$$ = map$$1.status$.subscribe((/**\r\n             * @param {?} mapStatus\r\n             * @return {?}\r\n             */\r\n            function (mapStatus) {\r\n                clearTimeout(timeout);\r\n                if (mapStatus !== SubjectStatus.Done) {\r\n                    return;\r\n                }\r\n                mapStatus$$.unsubscribe();\r\n                /** @type {?} */\r\n                var status = SubjectStatus.Done;\r\n                try {\r\n                    _this.addCanvas(doc, canvas, margins);\r\n                }\r\n                catch (err) {\r\n                    status = SubjectStatus.Error;\r\n                    _this.messageService.error(_this.languageService.translate.instant('igo.geo.printForm.corsErrorMessageBody'), _this.languageService.translate.instant('igo.geo.printForm.corsErrorMessageHeader'), 'print');\r\n                }\r\n                _this.renderMap(map$$1, mapSize, extent);\r\n                status$.next(status);\r\n            }));\r\n            // If no loading as started after 200ms, then probably no loading\r\n            // is required.\r\n            timeout = window.setTimeout((/**\r\n             * @return {?}\r\n             */\r\n            function () {\r\n                mapStatus$$.unsubscribe();\r\n                /** @type {?} */\r\n                var status = SubjectStatus.Done;\r\n                try {\r\n                    _this.addCanvas(doc, canvas, margins);\r\n                }\r\n                catch (err) {\r\n                    status = SubjectStatus.Error;\r\n                    _this.messageService.error(_this.languageService.translate.instant('igo.geo.printForm.corsErrorMessageBody'), _this.languageService.translate.instant('igo.geo.printForm.corsErrorMessageHeader'), 'print');\r\n                }\r\n                _this.renderMap(map$$1, mapSize, extent);\r\n                status$.next(status);\r\n            }), 200);\r\n        }));\r\n        this.renderMap(map$$1, [widthPixels, heightPixels], extent);\r\n        return status$;\r\n    };\r\n    /**\r\n     * @param {?} nbFileToProcess\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.defineNbFileToProcess = /**\r\n     * @param {?} nbFileToProcess\r\n     * @return {?}\r\n     */\r\n    function (nbFileToProcess) {\r\n        this.nbFileToProcess = nbFileToProcess;\r\n    };\r\n    /**\r\n     * Download an image of the map with addition of informations\r\n     * @param  map - Map of the app\r\n     * @param  format - Image format. default value to \"png\"\r\n     * @param  projection - Indicate if projection need to be add. Default to false\r\n     * @param  scale - Indicate if scale need to be add. Default to false\r\n     * @param  legend - Indicate if the legend of layers need to be download. Default to false\r\n     * @param  title - Title to add for the map - Default to blank\r\n     * @param  comment - Comment to add for the map - Default to blank\r\n     * @param  doZipFile - Indicate if we do a zip with the file\r\n     * @return Image file of the map with extension format given as parameter\r\n     */\r\n    /**\r\n     * Download an image of the map with addition of informations\r\n     * @param {?} map - Map of the app\r\n     * @param {?} resolution\r\n     * @param {?=} format - Image format. default value to \"png\"\r\n     * @param {?=} projection - Indicate if projection need to be add. Default to false\r\n     * @param {?=} scale - Indicate if scale need to be add. Default to false\r\n     * @param {?=} legend - Indicate if the legend of layers need to be download. Default to false\r\n     * @param {?=} title - Title to add for the map - Default to blank\r\n     * @param {?=} comment - Comment to add for the map - Default to blank\r\n     * @param {?=} doZipFile - Indicate if we do a zip with the file\r\n     * @return {?} Image file of the map with extension format given as parameter\r\n     */\r\n    PrintService.prototype.downloadMapImage = /**\r\n     * Download an image of the map with addition of informations\r\n     * @param {?} map - Map of the app\r\n     * @param {?} resolution\r\n     * @param {?=} format - Image format. default value to \"png\"\r\n     * @param {?=} projection - Indicate if projection need to be add. Default to false\r\n     * @param {?=} scale - Indicate if scale need to be add. Default to false\r\n     * @param {?=} legend - Indicate if the legend of layers need to be download. Default to false\r\n     * @param {?=} title - Title to add for the map - Default to blank\r\n     * @param {?=} comment - Comment to add for the map - Default to blank\r\n     * @param {?=} doZipFile - Indicate if we do a zip with the file\r\n     * @return {?} Image file of the map with extension format given as parameter\r\n     */\r\n    function (map$$1, resolution, format, projection, scale, legend, title, comment, doZipFile) {\r\n        var _this = this;\r\n        if (format === void 0) { format = 'png'; }\r\n        if (projection === void 0) { projection = false; }\r\n        if (scale === void 0) { scale = false; }\r\n        if (legend === void 0) { legend = false; }\r\n        if (title === void 0) { title = ''; }\r\n        if (comment === void 0) { comment = ''; }\r\n        if (doZipFile === void 0) { doZipFile = true; }\r\n        /** @type {?} */\r\n        var status$ = new Subject();\r\n        // const resolution = map.ol.getView().getResolution();\r\n        this.activityId = this.activityService.register();\r\n        /** @type {?} */\r\n        var translate = this.languageService.translate;\r\n        map$$1.ol.once('postcompose', (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        function (event) {\r\n            format = format.toLowerCase();\r\n            /** @type {?} */\r\n            var context = event.context;\r\n            /** @type {?} */\r\n            var newCanvas = document.createElement('canvas');\r\n            /** @type {?} */\r\n            var newContext = newCanvas.getContext('2d');\r\n            // Postion in height to set the canvas in new canvas\r\n            /** @type {?} */\r\n            var positionHCanvas = 0;\r\n            // Position in width to set the Proj/Scale in new canvas\r\n            /** @type {?} */\r\n            var positionWProjScale = 10;\r\n            // Get height/width of map canvas\r\n            /** @type {?} */\r\n            var width = context.canvas.width;\r\n            /** @type {?} */\r\n            var height = context.canvas.height;\r\n            // Set Font to calculate comment width\r\n            newContext.font = '20px Calibri';\r\n            /** @type {?} */\r\n            var commentWidth = newContext.measureText(comment).width;\r\n            // Add height for title if defined\r\n            height = title !== '' ? height + 30 : height;\r\n            // Add height for projection or scale (same line) if defined\r\n            height = projection !== false || scale !== false ? height + 30 : height;\r\n            /** @type {?} */\r\n            var positionHProjScale = height - 10;\r\n            // Define number of line depending of the comment length\r\n            /** @type {?} */\r\n            var commentNbLine = Math.ceil(commentWidth / width);\r\n            // Add height for multiline comment if defined\r\n            height = comment !== '' ? height + commentNbLine * 30 : height;\r\n            /** @type {?} */\r\n            var positionHComment = height - commentNbLine * 20 + 5;\r\n            // Set the new canvas with the new calculated size\r\n            newCanvas.width = width;\r\n            newCanvas.height = height;\r\n            // Patch Jpeg default black background to white\r\n            if (format === 'jpeg') {\r\n                newContext.fillStyle = '#ffffff';\r\n                newContext.fillRect(0, 0, width, height);\r\n                newContext.fillStyle = '#000000';\r\n            }\r\n            // If a title need to be added to canvas\r\n            if (title !== '') {\r\n                // Set font for title\r\n                newContext.font = '26px Calibri';\r\n                positionHCanvas = 30;\r\n                newContext.textAlign = 'center';\r\n                newContext.fillText(title, width / 2, 20);\r\n            }\r\n            // Set font for next section\r\n            newContext.font = '20px Calibri';\r\n            // If projection need to be added to canvas\r\n            if (projection !== false) {\r\n                /** @type {?} */\r\n                var projText = translate.instant('igo.geo.printForm.projection');\r\n                newContext.textAlign = 'start';\r\n                newContext.fillText(projText + ': ' + map$$1.projection, positionWProjScale, positionHProjScale);\r\n                positionWProjScale += 200; // Width position change for scale position\r\n            }\r\n            // If scale need to be added to canvas\r\n            if (scale !== false) {\r\n                /** @type {?} */\r\n                var scaleText = translate.instant('igo.geo.printForm.scale');\r\n                /** @type {?} */\r\n                var mapScale = map$$1.viewController.getScale(resolution);\r\n                newContext.textAlign = 'start';\r\n                newContext.fillText(scaleText + ' ~ 1 : ' + formatScale(mapScale), positionWProjScale, positionHProjScale);\r\n            }\r\n            // If a comment need to be added to canvas\r\n            if (comment !== '') {\r\n                newContext.textAlign = 'center';\r\n                // If only one line, no need to multiline the comment\r\n                if (commentNbLine === 1) {\r\n                    newContext.fillText(comment, width / 2, positionHComment);\r\n                }\r\n                else {\r\n                    // Separate the setenses to be approx. the same length\r\n                    /** @type {?} */\r\n                    var nbCommentChar = comment.length;\r\n                    /** @type {?} */\r\n                    var CommentLengthToCut = Math.floor(nbCommentChar / commentNbLine);\r\n                    /** @type {?} */\r\n                    var commentCurrentLine = '';\r\n                    /** @type {?} */\r\n                    var positionFirstCutChar = 0;\r\n                    /** @type {?} */\r\n                    var positionLastBlank = void 0;\r\n                    // Loop for the number of line calculated\r\n                    for (var i = 0; i < commentNbLine; i++) {\r\n                        // For all line except last\r\n                        if (commentNbLine - 1 > i) {\r\n                            // Get comment current line to find the right place tu cut comment\r\n                            commentCurrentLine = comment.substr(positionFirstCutChar, CommentLengthToCut);\r\n                            // Cut the setence at blank\r\n                            positionLastBlank = commentCurrentLine.lastIndexOf(' ');\r\n                            newContext.fillText(commentCurrentLine.substr(0, positionLastBlank), width / 2, positionHComment);\r\n                            positionFirstCutChar += positionLastBlank;\r\n                            // Go to next line for insertion\r\n                            positionHComment += 20;\r\n                        }\r\n                        else {\r\n                            // Don't cut last part\r\n                            newContext.fillText(comment.substr(positionFirstCutChar), width / 2, positionHComment);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // Add map to new canvas\r\n            newContext.drawImage(context.canvas, 0, positionHCanvas);\r\n            /** @type {?} */\r\n            var status = SubjectStatus.Done;\r\n            try {\r\n                // Save the canvas as file\r\n                if (!doZipFile) {\r\n                    _this.saveCanvasImageAsFile(newCanvas, 'map', format);\r\n                }\r\n                else if (format.toLowerCase() === 'tiff') {\r\n                    // Add the canvas to zip\r\n                    _this.generateCanvaFileToZip(newCanvas, 'map' + map$$1.projection.replace(':', '_') + '.' + format);\r\n                }\r\n                else {\r\n                    // Add the canvas to zip\r\n                    _this.generateCanvaFileToZip(newCanvas, 'map' + '.' + format);\r\n                }\r\n            }\r\n            catch (err) {\r\n                status = SubjectStatus.Error;\r\n            }\r\n            status$.next(status);\r\n            if (format.toLowerCase() === 'tiff') {\r\n                /** @type {?} */\r\n                var tiwContent = _this.getWorldFileInformation(map$$1);\r\n                /** @type {?} */\r\n                var blob = new Blob([tiwContent], {\r\n                    type: 'text/plain;charset=utf-8'\r\n                });\r\n                if (!doZipFile) {\r\n                    // saveAs automaticly replace ':' for '_'\r\n                    saveAs(blob, 'map' + map$$1.projection + '.tfw');\r\n                    _this.saveFileProcessing();\r\n                }\r\n                else {\r\n                    // Add the canvas to zip\r\n                    _this.addFileToZip('map' + map$$1.projection.replace(':', '_') + '.tfw', blob);\r\n                }\r\n            }\r\n        }));\r\n        map$$1.ol.renderSync();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} map\r\n     * @param {?} size\r\n     * @param {?} extent\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.renderMap = /**\r\n     * @private\r\n     * @param {?} map\r\n     * @param {?} size\r\n     * @param {?} extent\r\n     * @return {?}\r\n     */\r\n    function (map$$1, size, extent) {\r\n        map$$1.ol.renderSync();\r\n    };\r\n    /**\r\n     * Save document\r\n     * @param  doc - Document to save\r\n     */\r\n    /**\r\n     * Save document\r\n     * @private\r\n     * @param {?} doc - Document to save\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.saveDoc = /**\r\n     * Save document\r\n     * @private\r\n     * @param {?} doc - Document to save\r\n     * @return {?}\r\n     */\r\n    function (doc) {\r\n        doc.save('map.pdf');\r\n    };\r\n    /**\r\n     * Calculate the best Image size to fit in pdf\r\n     * @param doc - Pdf Document\r\n     * @param canvas - Canvas of image\r\n     * @param margins - Page margins\r\n     */\r\n    /**\r\n     * Calculate the best Image size to fit in pdf\r\n     * @private\r\n     * @param {?} doc - Pdf Document\r\n     * @param {?} canvas - Canvas of image\r\n     * @param {?} margins - Page margins\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.getImageSizeToFitPdf = /**\r\n     * Calculate the best Image size to fit in pdf\r\n     * @private\r\n     * @param {?} doc - Pdf Document\r\n     * @param {?} canvas - Canvas of image\r\n     * @param {?} margins - Page margins\r\n     * @return {?}\r\n     */\r\n    function (doc, canvas, margins) {\r\n        // Define variable to calculate best size to fit in one page\r\n        /** @type {?} */\r\n        var pageHeight = doc.internal.pageSize.getHeight() - (margins[0] + margins[2]);\r\n        /** @type {?} */\r\n        var pageWidth = doc.internal.pageSize.getWidth() - (margins[1] + margins[3]);\r\n        /** @type {?} */\r\n        var canHeight = canvas.height;\r\n        /** @type {?} */\r\n        var canWidth = canvas.width;\r\n        /** @type {?} */\r\n        var heightRatio = canHeight / pageHeight;\r\n        /** @type {?} */\r\n        var widthRatio = canWidth / pageWidth;\r\n        /** @type {?} */\r\n        var maxRatio = heightRatio > widthRatio ? heightRatio : widthRatio;\r\n        /** @type {?} */\r\n        var imgHeigh = maxRatio > 1 ? canHeight / maxRatio : canHeight;\r\n        /** @type {?} */\r\n        var imgWidth = maxRatio > 1 ? canWidth / maxRatio : canWidth;\r\n        return [imgWidth, imgHeigh];\r\n    };\r\n    /**\r\n     * Get a world file information for tiff\r\n     * @param  map - Map of the app\r\n     */\r\n    /**\r\n     * Get a world file information for tiff\r\n     * @private\r\n     * @param {?} map - Map of the app\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.getWorldFileInformation = /**\r\n     * Get a world file information for tiff\r\n     * @private\r\n     * @param {?} map - Map of the app\r\n     * @return {?}\r\n     */\r\n    function (map$$1) {\r\n        /** @type {?} */\r\n        var currentResolution = map$$1.viewController.getResolution();\r\n        /** @type {?} */\r\n        var currentExtent = map$$1.getExtent();\r\n        return [\r\n            currentResolution,\r\n            0,\r\n            0,\r\n            -currentResolution,\r\n            currentExtent[0] + currentResolution / 0.5,\r\n            currentExtent[3] - currentResolution / 0.5\r\n        ].join('\\n');\r\n    };\r\n    /**\r\n     * Save canvas image as file\r\n     * @param canvas - Canvas to save\r\n     * @param name - Name of the file\r\n     * @param format - file format\r\n     */\r\n    /**\r\n     * Save canvas image as file\r\n     * @private\r\n     * @param {?} canvas - Canvas to save\r\n     * @param {?} name - Name of the file\r\n     * @param {?} format - file format\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.saveCanvasImageAsFile = /**\r\n     * Save canvas image as file\r\n     * @private\r\n     * @param {?} canvas - Canvas to save\r\n     * @param {?} name - Name of the file\r\n     * @param {?} format - file format\r\n     * @return {?}\r\n     */\r\n    function (canvas, name, format) {\r\n        /** @type {?} */\r\n        var blobFormat = 'image/' + format;\r\n        /** @type {?} */\r\n        var that = this;\r\n        try {\r\n            canvas.toDataURL(); // Just to make the catch trigger wihtout toBlob Error throw not catched\r\n            // If navigator is Internet Explorer\r\n            if (navigator.msSaveBlob) {\r\n                navigator.msSaveBlob(canvas.msToBlob(), name + '.' + format);\r\n                this.saveFileProcessing();\r\n            }\r\n            else {\r\n                canvas.toBlob((/**\r\n                 * @param {?} blob\r\n                 * @return {?}\r\n                 */\r\n                function (blob) {\r\n                    // download image\r\n                    saveAs(blob, name + '.' + format);\r\n                    that.saveFileProcessing();\r\n                }), blobFormat);\r\n            }\r\n        }\r\n        catch (err) {\r\n            this.messageService.error(this.languageService.translate.instant('igo.geo.printForm.corsErrorMessageBody'), this.languageService.translate.instant('igo.geo.printForm.corsErrorMessageHeader'), 'print');\r\n        }\r\n    };\r\n    /**\r\n     * Add file to a zip\r\n     * @param canvas - File to add to the zip\r\n     * @param  name -Name of the fileoverview\r\n     */\r\n    /**\r\n     * Add file to a zip\r\n     * @private\r\n     * @param {?} canvas - File to add to the zip\r\n     * @param {?} name -Name of the fileoverview\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.generateCanvaFileToZip = /**\r\n     * Add file to a zip\r\n     * @private\r\n     * @param {?} canvas - File to add to the zip\r\n     * @param {?} name -Name of the fileoverview\r\n     * @return {?}\r\n     */\r\n    function (canvas, name) {\r\n        /** @type {?} */\r\n        var blobFormat = 'image/' + 'jpeg';\r\n        /** @type {?} */\r\n        var that = this;\r\n        if (!this.hasOwnProperty('zipFile') ||\r\n            typeof this.zipFile === 'undefined') {\r\n            this.zipFile = new JSZip();\r\n        }\r\n        try {\r\n            canvas.toDataURL(); // Just to make the catch trigger wihtout toBlob Error throw not catched\r\n            if (navigator.msSaveBlob) {\r\n                this.addFileToZip(name, canvas.msToBlob());\r\n            }\r\n            else {\r\n                canvas.toBlob((/**\r\n                 * @param {?} blob\r\n                 * @return {?}\r\n                 */\r\n                function (blob) {\r\n                    that.addFileToZip(name, blob);\r\n                }), blobFormat);\r\n            }\r\n        }\r\n        catch (err) {\r\n            this.messageService.error(this.languageService.translate.instant('igo.geo.printForm.corsErrorMessageBody'), this.languageService.translate.instant('igo.geo.printForm.corsErrorMessageHeader'), 'print');\r\n        }\r\n    };\r\n    /**\r\n     * Add file to zip, if all file are zipped, download\r\n     * @param name - Name of the files\r\n     * @param blob - Contain of file\r\n     */\r\n    /**\r\n     * Add file to zip, if all file are zipped, download\r\n     * @private\r\n     * @param {?} name - Name of the files\r\n     * @param {?} blob - Contain of file\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.addFileToZip = /**\r\n     * Add file to zip, if all file are zipped, download\r\n     * @private\r\n     * @param {?} name - Name of the files\r\n     * @param {?} blob - Contain of file\r\n     * @return {?}\r\n     */\r\n    function (name, blob) {\r\n        // add file to zip\r\n        this.zipFile.file(name, blob);\r\n        this.nbFileToProcess--;\r\n        // If all files are proccessed\r\n        if (this.nbFileToProcess === 0) {\r\n            // Download zip file\r\n            this.getZipFile();\r\n            // Stop loading\r\n            this.activityService.unregister(this.activityId);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    PrintService.prototype.saveFileProcessing = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.nbFileToProcess--;\r\n        // If all files are proccessed\r\n        if (this.nbFileToProcess === 0) {\r\n            // Stop loading\r\n            this.activityService.unregister(this.activityId);\r\n        }\r\n    };\r\n    /**\r\n     * Get the zipped file\r\n     * @return Retun a zip file\r\n     */\r\n    /**\r\n     * Get the zipped file\r\n     * @private\r\n     * @return {?} Retun a zip file\r\n     */\r\n    PrintService.prototype.getZipFile = /**\r\n     * Get the zipped file\r\n     * @private\r\n     * @return {?} Retun a zip file\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var that = this;\r\n        this.zipFile.generateAsync({ type: 'blob' }).then((/**\r\n         * @param {?} blob\r\n         * @return {?}\r\n         */\r\n        function (blob) {\r\n            // 1) generate the zip file\r\n            saveAs(blob, 'map.zip');\r\n            delete that.zipFile;\r\n        }));\r\n    };\r\n    PrintService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    PrintService.ctorParameters = function () { return [\r\n        { type: MessageService },\r\n        { type: ActivityService },\r\n        { type: LanguageService }\r\n    ]; };\r\n    /** @nocollapse */ PrintService.ngInjectableDef = defineInjectable({ factory: function PrintService_Factory() { return new PrintService(inject(MessageService), inject(ActivityService), inject(LanguageService)); }, token: PrintService, providedIn: \"root\" });\r\n    return PrintService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar PrintComponent = /** @class */ (function () {\r\n    function PrintComponent(printService) {\r\n        this.printService = printService;\r\n        this.disabled = false;\r\n    }\r\n    Object.defineProperty(PrintComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintComponent.prototype, \"outputFormat\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._outputFormat;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._outputFormat = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintComponent.prototype, \"paperFormat\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._paperFormat;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._paperFormat = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintComponent.prototype, \"orientation\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._orientation;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._orientation = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintComponent.prototype, \"imageFormat\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._imageFormat;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._imageFormat = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintComponent.prototype, \"resolution\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._resolution;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._resolution = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    PrintComponent.prototype.handleFormSubmit = /**\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        this.disabled = true;\r\n        if (data.isPrintService === true) {\r\n            this.printService\r\n                .print(this.map, data)\r\n                .subscribe();\r\n        }\r\n        else {\r\n            /** @type {?} */\r\n            var nbFileToProcess = 1;\r\n            if (data.showLegend) {\r\n                nbFileToProcess++;\r\n            }\r\n            if (data.imageFormat.toLowerCase() === 'tiff') {\r\n                nbFileToProcess++;\r\n            }\r\n            this.printService.defineNbFileToProcess(nbFileToProcess);\r\n            /** @type {?} */\r\n            var resolution = +data.resolution;\r\n            this.printService.downloadMapImage(this.map, resolution, data.imageFormat, data.showProjection, data.showScale, data.showLegend, data.title, data.comment, data.doZipFile);\r\n            if (data.showLegend) {\r\n                this.printService.getLayersLegendImage(this.map, data.imageFormat, data.doZipFile, +resolution);\r\n            }\r\n        }\r\n        this.disabled = false;\r\n    };\r\n    PrintComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-print',\r\n                    template: \"<igo-print-form\\r\\n  [outputFormat]=\\\"outputFormat\\\"\\r\\n  [paperFormat]=\\\"paperFormat\\\"\\r\\n  [orientation]=\\\"orientation\\\"\\r\\n  [imageFormat]=\\\"imageFormat\\\"\\r\\n  [resolution]=\\\"resolution\\\"\\r\\n  [disabled]=\\\"disabled\\\"\\r\\n  (submit)=\\\"handleFormSubmit($event)\\\">\\r\\n</igo-print-form>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    PrintComponent.ctorParameters = function () { return [\r\n        { type: PrintService }\r\n    ]; };\r\n    PrintComponent.propDecorators = {\r\n        map: [{ type: Input }],\r\n        outputFormat: [{ type: Input }],\r\n        paperFormat: [{ type: Input }],\r\n        orientation: [{ type: Input }],\r\n        imageFormat: [{ type: Input }],\r\n        resolution: [{ type: Input }]\r\n    };\r\n    return PrintComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar PrintFormComponent = /** @class */ (function () {\r\n    function PrintFormComponent(formBuilder) {\r\n        this.formBuilder = formBuilder;\r\n        this.outputFormats = PrintOutputFormat;\r\n        this.paperFormats = PrintPaperFormat;\r\n        this.orientations = PrintOrientation;\r\n        this.resolutions = PrintResolution;\r\n        this.imageFormats = PrintSaveImageFormat;\r\n        this.isPrintService = true;\r\n        this._disabled = false;\r\n        this.submit = new EventEmitter();\r\n        this.form = this.formBuilder.group({\r\n            title: ['', []],\r\n            comment: ['', []],\r\n            outputFormat: ['', [Validators.required]],\r\n            paperFormat: ['', [Validators.required]],\r\n            imageFormat: ['', [Validators.required]],\r\n            resolution: ['', [Validators.required]],\r\n            orientation: ['', [Validators.required]],\r\n            showProjection: false,\r\n            showScale: false,\r\n            showLegend: false,\r\n            doZipFile: [{ hidden: this.isPrintService }]\r\n        });\r\n    }\r\n    Object.defineProperty(PrintFormComponent.prototype, \"disabled\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._disabled;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._disabled = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"imageFormat\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.imageFormatField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.imageFormatField.setValue(value || PrintSaveImageFormat.Jpeg, {\r\n                onlySelf: true\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"outputFormat\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.outputFormatField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.outputFormatField.setValue(value || PrintOutputFormat.Pdf, {\r\n                onlySelf: true\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"paperFormat\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.paperFormatField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.paperFormatField.setValue(value || PrintPaperFormat.Letter, {\r\n                onlySelf: true\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"orientation\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.orientationField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.orientationField.setValue(value || PrintOrientation.landscape, {\r\n                onlySelf: true\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"resolution\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.resolutionField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.resolutionField.setValue(value || PrintResolution['96'], {\r\n                onlySelf: true\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"title\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.titleField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.titleField.setValue(value, { onlySelf: true });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"comment\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.commentField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.commentField.setValue(value, { onlySelf: true });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"showProjection\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.showProjectionField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.showProjectionField.setValue(value, { onlySelf: true });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"showScale\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.showScaleField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.showScaleField.setValue(value, { onlySelf: true });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"showLegend\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.showLegendField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.showLegendField.setValue(value, { onlySelf: true });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"doZipFile\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.doZipFileField.value;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.doZipFileField.setValue(value, { onlySelf: true });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"outputFormatField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).outputFormat));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"paperFormatField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).paperFormat));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"imageFormatField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).imageFormat));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"orientationField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).orientation));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"resolutionField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).resolution));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"commentField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).comment));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"showProjectionField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).showProjection));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"showScaleField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).showScale));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"showLegendField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).showLegend));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"doZipFileField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).doZipFile));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PrintFormComponent.prototype, \"titleField\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (((/** @type {?} */ (this.form.controls))).title));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    PrintFormComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.doZipFileField.setValue(false);\r\n    };\r\n    /**\r\n     * @param {?} data\r\n     * @param {?} isValid\r\n     * @return {?}\r\n     */\r\n    PrintFormComponent.prototype.handleFormSubmit = /**\r\n     * @param {?} data\r\n     * @param {?} isValid\r\n     * @return {?}\r\n     */\r\n    function (data, isValid) {\r\n        this.submitted = true;\r\n        data.isPrintService = this.isPrintService;\r\n        if (isValid) {\r\n            this.submit.emit(data);\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    PrintFormComponent.prototype.toggleImageSaveProp = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.outputFormatField.value === 'Image') {\r\n            this.isPrintService = false;\r\n        }\r\n        else {\r\n            this.isPrintService = true;\r\n        }\r\n    };\r\n    PrintFormComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-print-form',\r\n                    template: \"<form class=\\\"igo-form\\\" [formGroup]=\\\"form\\\">\\r\\n  <div class=\\\"igo-input-container\\\">\\r\\n    <mat-form-field>\\r\\n      <input\\r\\n        matInput\\r\\n        formControlName=\\\"title\\\"\\r\\n        placeholder=\\\"{{'igo.geo.printForm.title' | translate}}\\\">\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-input-container\\\">\\r\\n    <mat-form-field>\\r\\n      <input\\r\\n        matInput\\r\\n        formControlName=\\\"comment\\\"\\r\\n        placeholder=\\\"{{'igo.geo.printForm.comment' | translate}}\\\">\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-input-container\\\">\\r\\n    <div class=\\\"print-slide-toggle-container\\\">\\r\\n      <mat-slide-toggle\\r\\n        class=\\\"print-option\\\"\\r\\n        formControlName=\\\"showProjection\\\"\\r\\n        [labelPosition]=\\\"'before'\\\">\\r\\n        {{'igo.geo.printForm.showProjection' | translate}}\\r\\n      </mat-slide-toggle>\\r\\n      <mat-slide-toggle\\r\\n        class=\\\"print-option\\\"\\r\\n        formControlName=\\\"showScale\\\"\\r\\n        [labelPosition]=\\\"'before'\\\">\\r\\n        {{'igo.geo.printForm.showScale' | translate}}\\r\\n      </mat-slide-toggle>\\r\\n      <mat-slide-toggle\\r\\n        class=\\\"print-option\\\"\\r\\n        formControlName=\\\"showLegend\\\"\\r\\n        [labelPosition]=\\\"'before'\\\">\\r\\n        {{'igo.geo.printForm.showLegend' | translate}}\\r\\n      </mat-slide-toggle>\\r\\n      <mat-slide-toggle\\r\\n        class=\\\"print-option\\\"\\r\\n        formControlName=\\\"doZipFile\\\"\\r\\n        [labelPosition]=\\\"'before'\\\"\\r\\n        [style.display]=\\\"isPrintService ? 'none' : ''\\\">\\r\\n        {{'igo.geo.printForm.doZipFile' | translate}}\\r\\n      </mat-slide-toggle>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-input-container\\\">\\r\\n    <mat-form-field>\\r\\n      <mat-select (selectionChange)=\\\"toggleImageSaveProp()\\\"\\r\\n        formControlName=\\\"outputFormat\\\"\\r\\n        placeholder=\\\"{{'igo.geo.printForm.outputFormat' | translate}}\\\">\\r\\n        <mat-option *ngFor=\\\"let outputFormat of outputFormats | keyvalue \\\" [value]=\\\"outputFormat.key\\\">\\r\\n            {{outputFormat.value}}\\r\\n        </mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-input-container\\\" [style.display]=\\\"isPrintService ? 'block' : 'none'\\\">\\r\\n    <mat-form-field>\\r\\n      <mat-select\\r\\n        formControlName=\\\"paperFormat\\\"\\r\\n        placeholder=\\\"{{'igo.geo.printForm.paperFormat' | translate}}\\\">\\r\\n        <mat-option *ngFor=\\\"let paperFormat of paperFormats | keyvalue \\\" [value]=\\\"paperFormat.key\\\">\\r\\n          {{('igo.geo.printForm.paperFormats.' + paperFormat.value) | translate}}\\r\\n        </mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-input-container\\\" [style.display]=\\\"isPrintService ? 'none' : 'block'\\\">\\r\\n    <mat-form-field>\\r\\n      <mat-select\\r\\n        formControlName=\\\"imageFormat\\\"\\r\\n        placeholder=\\\"{{'igo.geo.printForm.imageFormat' | translate}}\\\">\\r\\n        <mat-option *ngFor=\\\"let imageFormat of imageFormats | keyvalue \\\" [value]=\\\"imageFormat.key\\\">\\r\\n          {{imageFormat.value}}\\r\\n        </mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-input-container\\\" style=\\\"display: none;\\\">\\r\\n    <mat-form-field>\\r\\n      <mat-select\\r\\n        formControlName=\\\"resolution\\\"\\r\\n        placeholder=\\\"{{'igo.geo.printForm.resolution' | translate}}\\\">\\r\\n        <mat-option *ngFor=\\\"let resolution of resolutions | keyvalue \\\" [value]=\\\"resolution.key\\\">\\r\\n          {{resolution.value + ' PPI'}}\\r\\n        </mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-input-container\\\" [style.display]=\\\"isPrintService ? 'block' : 'none'\\\">\\r\\n    <mat-form-field>\\r\\n      <mat-select\\r\\n        formControlName=\\\"orientation\\\"\\r\\n        placeholder=\\\"{{'igo.geo.printForm.orientation' | translate}}\\\">\\r\\n        <mat-option *ngFor=\\\"let orientation of orientations | keyvalue \\\" [value]=\\\"orientation.key\\\">\\r\\n          {{('igo.geo.printForm.' + orientation.value) | translate}}\\r\\n        </mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"igo-form-button-group print-button-top-padding\\\">\\r\\n    <button\\r\\n      mat-raised-button\\r\\n      type=\\\"button\\\"\\r\\n      [disabled]=\\\"!form.valid || disabled\\\"\\r\\n      (click)=\\\"handleFormSubmit(form.value, form.valid)\\\">\\r\\n      {{'igo.geo.printForm.saveBtn' | translate}}\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n</form>\\r\\n\",\r\n                    styles: [\"mat-form-field{width:100%}.print-slide-toggle-container{overflow-x:hidden}.print-slide-toggle-container mat-slide-toggle{width:100%;margin:10px}.print-slide-toggle-container mat-slide-toggle ::ng-deep .mat-slide-toggle-content{width:calc(100% - 60px);font-size:16px}.print-option{display:block;margin-right:10px;margin-bottom:15px}.print-button-top-padding{padding-top:25px}.igo-form{padding:10px 5px 5px}.igo-form-button-group{text-align:center}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    PrintFormComponent.ctorParameters = function () { return [\r\n        { type: FormBuilder }\r\n    ]; };\r\n    PrintFormComponent.propDecorators = {\r\n        disabled: [{ type: Input }],\r\n        imageFormat: [{ type: Input }],\r\n        outputFormat: [{ type: Input }],\r\n        paperFormat: [{ type: Input }],\r\n        orientation: [{ type: Input }],\r\n        resolution: [{ type: Input }],\r\n        title: [{ type: Input }],\r\n        comment: [{ type: Input }],\r\n        showProjection: [{ type: Input }],\r\n        showScale: [{ type: Input }],\r\n        showLegend: [{ type: Input }],\r\n        doZipFile: [{ type: Input }],\r\n        submit: [{ type: Output }]\r\n    };\r\n    return PrintFormComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoPrintModule = /** @class */ (function () {\r\n    function IgoPrintModule() {\r\n    }\r\n    IgoPrintModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatSelectModule,\r\n                        MatOptionModule,\r\n                        MatInputModule,\r\n                        MatFormFieldModule,\r\n                        MatSlideToggleModule,\r\n                        IgoLanguageModule,\r\n                        IgoKeyValueModule\r\n                    ],\r\n                    exports: [PrintComponent, PrintFormComponent],\r\n                    declarations: [PrintComponent, PrintFormComponent]\r\n                },] }\r\n    ];\r\n    return IgoPrintModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Map search source factory\r\n * @ignore\r\n * @param {?} config\r\n * @return {?}\r\n */\r\nfunction querySearchSourceFactory(config) {\r\n    return new QuerySearchSource(config.getConfig(\"searchSources.\" + QuerySearchSource.id) || {});\r\n}\r\n/**\r\n * Function that returns a provider for the map search source\r\n * @return {?}\r\n */\r\nfunction provideQuerySearchSource() {\r\n    return {\r\n        provide: SearchSource,\r\n        useFactory: querySearchSourceFactory,\r\n        multi: true,\r\n        deps: [ConfigService]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoQueryModule = /** @class */ (function () {\r\n    function IgoQueryModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoQueryModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoQueryModule,\r\n            providers: [provideQuerySearchSource()]\r\n        };\r\n    };\r\n    IgoQueryModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [CommonModule],\r\n                    exports: [QueryDirective],\r\n                    declarations: [QueryDirective],\r\n                    providers: [QueryService]\r\n                },] }\r\n    ];\r\n    return IgoQueryModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service where all available search sources are registered.\r\n */\r\nvar  /**\r\n * Service where all available search sources are registered.\r\n */\r\nSearchSourceService = /** @class */ (function () {\r\n    function SearchSourceService(sources) {\r\n        this.sources = sources;\r\n    }\r\n    /**\r\n     * Return available search sources\r\n     * @returns Search sources\r\n     */\r\n    /**\r\n     * Return available search sources\r\n     * @return {?} Search sources\r\n     */\r\n    SearchSourceService.prototype.getSources = /**\r\n     * Return available search sources\r\n     * @return {?} Search sources\r\n     */\r\n    function () {\r\n        return this.sources;\r\n    };\r\n    /**\r\n     * Return enabled search sources\r\n     * @returns Search sources\r\n     */\r\n    /**\r\n     * Return enabled search sources\r\n     * @return {?} Search sources\r\n     */\r\n    SearchSourceService.prototype.getEnabledSources = /**\r\n     * Return enabled search sources\r\n     * @return {?} Search sources\r\n     */\r\n    function () {\r\n        return this.getSources().filter((/**\r\n         * @param {?} source\r\n         * @return {?}\r\n         */\r\n        function (source) { return source.enabled === true; }));\r\n    };\r\n    /**\r\n     * Enable search sources of given type\r\n     * @param type Search type\r\n     * @todo It would be better to track the enabled search sources\r\n     *  without updating their 'enabled' property.\r\n     */\r\n    /**\r\n     * Enable search sources of given type\r\n     * \\@todo It would be better to track the enabled search sources\r\n     *  without updating their 'enabled' property.\r\n     * @param {?} type Search type\r\n     * @return {?}\r\n     */\r\n    SearchSourceService.prototype.enableSourcesByType = /**\r\n     * Enable search sources of given type\r\n     * \\@todo It would be better to track the enabled search sources\r\n     *  without updating their 'enabled' property.\r\n     * @param {?} type Search type\r\n     * @return {?}\r\n     */\r\n    function (type) {\r\n        this.getSources().forEach((/**\r\n         * @param {?} source\r\n         * @return {?}\r\n         */\r\n        function (source) {\r\n            if (((/** @type {?} */ (source.constructor))).type === type) {\r\n                source.enabled = true;\r\n            }\r\n            else {\r\n                source.enabled = false;\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * Set Param from the selected settings\r\n     * @param source search-source\r\n     * @param setting settings\r\n     */\r\n    /**\r\n     * Set Param from the selected settings\r\n     * @param {?} source search-source\r\n     * @param {?} setting settings\r\n     * @return {?}\r\n     */\r\n    SearchSourceService.prototype.setParamFromSetting = /**\r\n     * Set Param from the selected settings\r\n     * @param {?} source search-source\r\n     * @param {?} setting settings\r\n     * @return {?}\r\n     */\r\n    function (source, setting) {\r\n        source.setParamFromSetting(setting);\r\n    };\r\n    return SearchSourceService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Function that checks whether a search source implements TextSearch\r\n * @param {?} source Search source\r\n * @return {?} True if the search source implements TextSearch\r\n */\r\nfunction sourceCanSearch(source) {\r\n    return ((/** @type {?} */ (source))).search !== undefined;\r\n}\r\n/**\r\n * Function that checks whether a search source implements ReverseSearch\r\n * @param {?} source Search source\r\n * @return {?} True if the search source implements ReverseSearch\r\n */\r\nfunction sourceCanReverseSearch(source) {\r\n    return ((/** @type {?} */ (source))).reverseSearch !== undefined;\r\n}\r\n/**\r\n * Return a search result out of an Feature. This is used to adapt\r\n * the IGO query module to the new Feature/SearchResult interfaces\r\n * @param {?} feature feature\r\n * @param {?} source Search source\r\n * @return {?} SearchResult\r\n */\r\nfunction featureToSearchResult(feature, source) {\r\n    return {\r\n        source: source,\r\n        data: feature,\r\n        meta: {\r\n            dataType: FEATURE,\r\n            id: (/** @type {?} */ (feature.meta.id)),\r\n            title: feature.meta.title,\r\n            icon: 'map-marker'\r\n        }\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This service perform researches in all the search sources enabled.\r\n * It returns Research objects who's 'request' property needs to be\r\n * subscribed to in order to trigger the research. This services has\r\n * keeps internal state of the researches it performed\r\n * and the results they yielded.\r\n */\r\nvar SearchService = /** @class */ (function () {\r\n    function SearchService(searchSourceService, mapService) {\r\n        this.searchSourceService = searchSourceService;\r\n        this.mapService = mapService;\r\n    }\r\n    /**\r\n     * Perform a research by text\r\n     * @param term Any text\r\n     * @returns Researches\r\n     */\r\n    /**\r\n     * Perform a research by text\r\n     * @param {?} term Any text\r\n     * @param {?=} options\r\n     * @return {?} Researches\r\n     */\r\n    SearchService.prototype.search = /**\r\n     * Perform a research by text\r\n     * @param {?} term Any text\r\n     * @param {?=} options\r\n     * @return {?} Researches\r\n     */\r\n    function (term, options) {\r\n        if (!this.termIsValid(term)) {\r\n            return [];\r\n        }\r\n        /** @type {?} */\r\n        var response = stringToLonLat(term, this.mapService.getMap().projection);\r\n        if (response.lonLat) {\r\n            return this.reverseSearch(response.lonLat);\r\n        }\r\n        else {\r\n            console.log(response.message);\r\n        }\r\n        /** @type {?} */\r\n        var sources = this.searchSourceService.getEnabledSources()\r\n            .filter(sourceCanSearch);\r\n        return this.searchSources(sources, term, options || {});\r\n    };\r\n    /**\r\n     * Perform a research by lon/lat\r\n     * @param lonLat Any lon/lat coordinates\r\n     * @returns Researches\r\n     */\r\n    /**\r\n     * Perform a research by lon/lat\r\n     * @param {?} lonLat Any lon/lat coordinates\r\n     * @param {?=} options\r\n     * @return {?} Researches\r\n     */\r\n    SearchService.prototype.reverseSearch = /**\r\n     * Perform a research by lon/lat\r\n     * @param {?} lonLat Any lon/lat coordinates\r\n     * @param {?=} options\r\n     * @return {?} Researches\r\n     */\r\n    function (lonLat, options) {\r\n        /** @type {?} */\r\n        var sources = this.searchSourceService.getEnabledSources()\r\n            .filter(sourceCanReverseSearch);\r\n        return this.reverseSearchSources(sources, lonLat, options || {});\r\n    };\r\n    /**\r\n     * Create a text research out of all given search sources\r\n     * @param sources Search sources that implement TextSearch\r\n     * @param term Search term\r\n     * @returns Observable of Researches\r\n     */\r\n    /**\r\n     * Create a text research out of all given search sources\r\n     * @private\r\n     * @param {?} sources Search sources that implement TextSearch\r\n     * @param {?} term Search term\r\n     * @param {?} options\r\n     * @return {?} Observable of Researches\r\n     */\r\n    SearchService.prototype.searchSources = /**\r\n     * Create a text research out of all given search sources\r\n     * @private\r\n     * @param {?} sources Search sources that implement TextSearch\r\n     * @param {?} term Search term\r\n     * @param {?} options\r\n     * @return {?} Observable of Researches\r\n     */\r\n    function (sources, term, options) {\r\n        return sources.map((/**\r\n         * @param {?} source\r\n         * @return {?}\r\n         */\r\n        function (source) {\r\n            return {\r\n                request: ((/** @type {?} */ ((/** @type {?} */ (source))))).search(term, options),\r\n                reverse: false,\r\n                source: source\r\n            };\r\n        }));\r\n    };\r\n    /**\r\n     * Create a reverse research out of all given search sources\r\n     * @param sources Search sources that implement ReverseSearch\r\n     * @param lonLat Any lon/lat coordinates\r\n     * @returns Observable of Researches\r\n     */\r\n    /**\r\n     * Create a reverse research out of all given search sources\r\n     * @private\r\n     * @param {?} sources Search sources that implement ReverseSearch\r\n     * @param {?} lonLat Any lon/lat coordinates\r\n     * @param {?} options\r\n     * @return {?} Observable of Researches\r\n     */\r\n    SearchService.prototype.reverseSearchSources = /**\r\n     * Create a reverse research out of all given search sources\r\n     * @private\r\n     * @param {?} sources Search sources that implement ReverseSearch\r\n     * @param {?} lonLat Any lon/lat coordinates\r\n     * @param {?} options\r\n     * @return {?} Observable of Researches\r\n     */\r\n    function (sources, lonLat, options) {\r\n        return sources.map((/**\r\n         * @param {?} source\r\n         * @return {?}\r\n         */\r\n        function (source) {\r\n            return {\r\n                request: ((/** @type {?} */ ((/** @type {?} */ (source))))).reverseSearch(lonLat, options),\r\n                reverse: true,\r\n                source: source\r\n            };\r\n        }));\r\n    };\r\n    /**\r\n     * Validate that a search term is valid\r\n     * @param term Search term\r\n     * @returns True if the search term is valid\r\n     */\r\n    /**\r\n     * Validate that a search term is valid\r\n     * @private\r\n     * @param {?} term Search term\r\n     * @return {?} True if the search term is valid\r\n     */\r\n    SearchService.prototype.termIsValid = /**\r\n     * Validate that a search term is valid\r\n     * @private\r\n     * @param {?} term Search term\r\n     * @return {?} True if the search term is valid\r\n     */\r\n    function (term) {\r\n        return typeof term === 'string' && term !== '';\r\n    };\r\n    SearchService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    SearchService.ctorParameters = function () { return [\r\n        { type: SearchSourceService },\r\n        { type: MapService }\r\n    ]; };\r\n    /** @nocollapse */ SearchService.ngInjectableDef = defineInjectable({ factory: function SearchService_Factory() { return new SearchService(inject(SearchSourceService), inject(MapService)); }, token: SearchService, providedIn: \"root\" });\r\n    return SearchService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @abstract\r\n */\r\nvar  /**\r\n * @abstract\r\n */\r\nRoutingSource = /** @class */ (function () {\r\n    function RoutingSource() {\r\n    }\r\n    return RoutingSource;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar RoutingSourceService = /** @class */ (function () {\r\n    function RoutingSourceService(sources) {\r\n        this.sources = sources;\r\n    }\r\n    return RoutingSourceService;\r\n}());\r\n/**\r\n * @param {?} sources\r\n * @return {?}\r\n */\r\nfunction routingSourceServiceFactory(sources) {\r\n    return new RoutingSourceService(sources);\r\n}\r\n/**\r\n * @return {?}\r\n */\r\nfunction provideRoutingSourceService() {\r\n    return {\r\n        provide: RoutingSourceService,\r\n        useFactory: routingSourceServiceFactory,\r\n        deps: [RoutingSource]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar RoutingService = /** @class */ (function () {\r\n    function RoutingService(routingSourceService) {\r\n        this.routingSourceService = routingSourceService;\r\n    }\r\n    /**\r\n     * @param {?} coordinates\r\n     * @return {?}\r\n     */\r\n    RoutingService.prototype.route = /**\r\n     * @param {?} coordinates\r\n     * @return {?}\r\n     */\r\n    function (coordinates) {\r\n        var _this = this;\r\n        if (coordinates.length === 0) {\r\n            return;\r\n        }\r\n        return this.routingSourceService.sources\r\n            .filter((/**\r\n         * @param {?} source\r\n         * @return {?}\r\n         */\r\n        function (source) { return source.enabled; }))\r\n            .map((/**\r\n         * @param {?} source\r\n         * @return {?}\r\n         */\r\n        function (source) { return _this.routeSource(source, coordinates); }));\r\n    };\r\n    /**\r\n     * @param {?} source\r\n     * @param {?} coordinates\r\n     * @return {?}\r\n     */\r\n    RoutingService.prototype.routeSource = /**\r\n     * @param {?} source\r\n     * @param {?} coordinates\r\n     * @return {?}\r\n     */\r\n    function (source, coordinates) {\r\n        /** @type {?} */\r\n        var request = source.route(coordinates);\r\n        return request;\r\n    };\r\n    RoutingService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    RoutingService.ctorParameters = function () { return [\r\n        { type: RoutingSourceService }\r\n    ]; };\r\n    /** @nocollapse */ RoutingService.ngInjectableDef = defineInjectable({ factory: function RoutingService_Factory() { return new RoutingService(inject(RoutingSourceService)); }, token: RoutingService, providedIn: \"root\" });\r\n    return RoutingService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar RoutingFormService = /** @class */ (function () {\r\n    function RoutingFormService() {\r\n        this.mapWaitingForRoutingClick = false;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormService.prototype.getStopsCoordinates = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.stopsCoordinates;\r\n    };\r\n    /**\r\n     * @param {?} stopsCoordinates\r\n     * @return {?}\r\n     */\r\n    RoutingFormService.prototype.setStopsCoordinates = /**\r\n     * @param {?} stopsCoordinates\r\n     * @return {?}\r\n     */\r\n    function (stopsCoordinates) {\r\n        this.stopsCoordinates = stopsCoordinates;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormService.prototype.isMapWaitingForRoutingClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.mapWaitingForRoutingClick;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormService.prototype.setMapWaitingForRoutingClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.mapWaitingForRoutingClick = true;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormService.prototype.unsetMapWaitingForRoutingClick = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.mapWaitingForRoutingClick = false;\r\n    };\r\n    RoutingFormService.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    RoutingFormService.ctorParameters = function () { return []; };\r\n    return RoutingFormService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar RoutingFormComponent = /** @class */ (function () {\r\n    function RoutingFormComponent(formBuilder, routingService, languageService, messageService, searchService, queryService, routingFormService, route) {\r\n        this.formBuilder = formBuilder;\r\n        this.routingService = routingService;\r\n        this.languageService = languageService;\r\n        this.messageService = messageService;\r\n        this.searchService = searchService;\r\n        this.queryService = queryService;\r\n        this.routingFormService = routingFormService;\r\n        this.route = route;\r\n        this.invalidKeys = ['Control', 'Shift', 'Alt'];\r\n        this.projection = 'EPSG:4326';\r\n        this.routesQueries$$ = [];\r\n        this.stream$ = new Subject();\r\n        this.focusOnStop = false;\r\n        this.focusKey = [];\r\n        this._term = '';\r\n        this._debounce = 300;\r\n        this._length = 3;\r\n        this.submit = new EventEmitter();\r\n    }\r\n    Object.defineProperty(RoutingFormComponent.prototype, \"term\", {\r\n        // https://stackoverflow.com/questions/46364852/create-input-fields-dynamically-in-angular-2\r\n        get: \r\n        // https://stackoverflow.com/questions/46364852/create-input-fields-dynamically-in-angular-2\r\n        /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._term;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._term = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RoutingFormComponent.prototype, \"debounce\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._debounce;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._debounce = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RoutingFormComponent.prototype, \"length\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._length;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._length = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RoutingFormComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} selectedRoute\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.changeRoute = /**\r\n     * @param {?} selectedRoute\r\n     * @return {?}\r\n     */\r\n    function (selectedRoute) {\r\n        this.showRouteGeometry();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.unsubscribeRoutesQueries();\r\n        this.unlistenSingleClick();\r\n        this.queryService.queryEnabled = true;\r\n        /** @type {?} */\r\n        var stopCoordinates = [];\r\n        this.stops.value.forEach((/**\r\n         * @param {?} stop\r\n         * @return {?}\r\n         */\r\n        function (stop) {\r\n            stopCoordinates.push(stop.stopCoordinates);\r\n        }));\r\n        this.routingRoutesOverlayDataSource.ol.clear();\r\n        this.routingStopsOverlayDataSource.ol.clear();\r\n        this.routingFormService.setStopsCoordinates(stopCoordinates);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.browserLanguage = this.languageService.getLanguage();\r\n        this.stopsForm = this.formBuilder.group({\r\n            routingType: 'car',\r\n            routingMode: 'driving',\r\n            // loop\r\n            stopOrderPriority: true,\r\n            routingFixedStartEnd: false,\r\n            stops: this.formBuilder.array([\r\n                this.createStop('start'),\r\n                this.createStop('end')\r\n            ])\r\n        });\r\n        this.routingStopsOverlayDataSource = new FeatureDataSource({});\r\n        this.routingRoutesOverlayDataSource = new FeatureDataSource({});\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.queryService.queryEnabled = false;\r\n        this.focusOnStop = false;\r\n        /** @type {?} */\r\n        var stopsLayer = new VectorLayer({\r\n            title: 'routingStopOverlay',\r\n            zIndex: 999,\r\n            id: 'routingStops',\r\n            source: this.routingStopsOverlayDataSource,\r\n            showInLayerList: false\r\n        });\r\n        /** @type {?} */\r\n        var routesLayer = new VectorLayer({\r\n            title: 'routingRoutesOverlay',\r\n            zIndex: 999,\r\n            id: 'routingRoutes',\r\n            opacity: 0.75,\r\n            source: this.routingRoutesOverlayDataSource,\r\n            showInLayerList: false\r\n        });\r\n        this.map.addLayer(routesLayer);\r\n        this.map.addLayer(stopsLayer);\r\n        /** @type {?} */\r\n        var selectedStopFeature;\r\n        /** @type {?} */\r\n        var selectStops = new Select({\r\n            layers: [stopsLayer.ol],\r\n            condition: pointerMove,\r\n            hitTolerance: 7\r\n        });\r\n        /** @type {?} */\r\n        var translateStop = new Translate({\r\n            layers: [stopsLayer.ol],\r\n            features: selectedStopFeature\r\n        });\r\n        // TODO: Check to disable pointermove IF a stop is already selected\r\n        /** @type {?} */\r\n        var selectRouteHover = new Select({\r\n            layers: [routesLayer.ol],\r\n            condition: pointerMove,\r\n            hitTolerance: 7\r\n        });\r\n        this.selectRoute = new Select({\r\n            layers: [routesLayer.ol],\r\n            hitTolerance: 7\r\n        });\r\n        this.map.ol.on('pointermove', (/**\r\n         * @param {?} evt\r\n         * @return {?}\r\n         */\r\n        function (evt) {\r\n            /** @type {?} */\r\n            var selectRouteCnt = selectRouteHover.getFeatures().getLength();\r\n            if (selectRouteCnt === 0) {\r\n                _this.routingFormService.unsetMapWaitingForRoutingClick();\r\n            }\r\n            else {\r\n                _this.routingFormService.setMapWaitingForRoutingClick();\r\n            }\r\n        }));\r\n        selectStops.on('select', (/**\r\n         * @param {?} evt\r\n         * @return {?}\r\n         */\r\n        function (evt) {\r\n            selectedStopFeature = evt.target.getFeatures()[0];\r\n        }));\r\n        this.selectRoute.on('select', (/**\r\n         * @param {?} evt\r\n         * @return {?}\r\n         */\r\n        function (evt) {\r\n            if (_this.focusOnStop === false) {\r\n                /** @type {?} */\r\n                var selectCoordinates = transform(((/** @type {?} */ (evt))).mapBrowserEvent.coordinate, _this.map.projection, _this.projection);\r\n                _this.addStop();\r\n                /** @type {?} */\r\n                var pos = _this.stops.length - 2;\r\n                _this.stops.at(pos).patchValue({ stopCoordinates: selectCoordinates });\r\n                _this.handleLocationProposals(selectCoordinates, pos);\r\n                _this.addStopOverlay(selectCoordinates, pos);\r\n                _this.selectRoute.getFeatures().clear();\r\n            }\r\n            _this.selectRoute.getFeatures().clear();\r\n        }));\r\n        this.routesQueries$$.push(this.stopsForm.statusChanges\r\n            .pipe(debounceTime(this._debounce))\r\n            .subscribe((/**\r\n         * @param {?} val\r\n         * @return {?}\r\n         */\r\n        function (val) { return _this.onFormChange(); })));\r\n        translateStop.on('translateend', (/**\r\n         * @param {?} evt\r\n         * @return {?}\r\n         */\r\n        function (evt) {\r\n            /** @type {?} */\r\n            var translatedID = evt.features.getArray()[0].getId();\r\n            /** @type {?} */\r\n            var translatedPos = translatedID.split('_');\r\n            /** @type {?} */\r\n            var p;\r\n            switch (translatedPos[1]) {\r\n                case 'start':\r\n                    p = 0;\r\n                    break;\r\n                case 'end':\r\n                    p = _this.stops.length - 1;\r\n                    break;\r\n                default:\r\n                    p = Number(translatedPos[1]);\r\n                    break;\r\n            }\r\n            /** @type {?} */\r\n            var translationEndCoordinates = transform(evt.features\r\n                .getArray()[0]\r\n                .getGeometry()\r\n                .getCoordinates(), _this.map.projection, _this.projection);\r\n            _this.stops\r\n                .at(p)\r\n                .patchValue({ stopCoordinates: translationEndCoordinates });\r\n            _this.stops.at(p).patchValue({ stopProposals: [] });\r\n            _this.handleLocationProposals(translationEndCoordinates, p);\r\n        }));\r\n        this.map.ol.addInteraction(selectStops);\r\n        this.map.ol.addInteraction(selectRouteHover);\r\n        this.map.ol.addInteraction(this.selectRoute);\r\n        this.map.ol.addInteraction(translateStop);\r\n        this.routesQueries$$.push(this.stream$\r\n            .pipe(debounceTime(this._debounce), distinctUntilChanged())\r\n            .subscribe((/**\r\n         * @param {?} term\r\n         * @return {?}\r\n         */\r\n        function (term) { return _this.handleTermChanged(term); })));\r\n    };\r\n    /**\r\n     * @param {?} coordinates\r\n     * @param {?} stopIndex\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.handleLocationProposals = /**\r\n     * @param {?} coordinates\r\n     * @param {?} stopIndex\r\n     * @return {?}\r\n     */\r\n    function (coordinates, stopIndex) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var groupedLocations = [];\r\n        this.searchService\r\n            .reverseSearch(coordinates, { zoom: this.map.getZoom() })\r\n            .map((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) {\r\n            return _this.routesQueries$$.push(res.request.pipe(map((/**\r\n             * @param {?} f\r\n             * @return {?}\r\n             */\r\n            function (f) { return f; }))).subscribe((/**\r\n             * @param {?} results\r\n             * @return {?}\r\n             */\r\n            function (results) {\r\n                results.forEach((/**\r\n                 * @param {?} result\r\n                 * @return {?}\r\n                 */\r\n                function (result) {\r\n                    if (groupedLocations.filter((/**\r\n                     * @param {?} f\r\n                     * @return {?}\r\n                     */\r\n                    function (f) { return f.source === result.source; }))\r\n                        .length === 0) {\r\n                        groupedLocations.push({\r\n                            source: result.source,\r\n                            results: results.map((/**\r\n                             * @param {?} r\r\n                             * @return {?}\r\n                             */\r\n                            function (r) { return r.data; }))\r\n                        });\r\n                    }\r\n                }));\r\n                _this.stops\r\n                    .at(stopIndex)\r\n                    .patchValue({ stopProposals: groupedLocations });\r\n                // TODO: Prefer another source?\r\n                if (results[0]) {\r\n                    if (results[0].source.getId() === 'icherchereverse') {\r\n                        // prefer address type.\r\n                        /** @type {?} */\r\n                        var resultPos = 0;\r\n                        for (var i = 0; i < results.length; i++) {\r\n                            /** @type {?} */\r\n                            var feature = results[i].data;\r\n                            if (feature.properties.type === 'adresse') {\r\n                                resultPos = i;\r\n                                break;\r\n                            }\r\n                        }\r\n                        _this.stops.at(stopIndex).patchValue({\r\n                            stopPoint: getEntityTitle(results[resultPos])\r\n                        });\r\n                        if (results[resultPos].data.geometry.type === 'Point') {\r\n                            _this.stops.at(stopIndex).patchValue({\r\n                                stopCoordinates: results[resultPos].data.geometry.coordinates\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    _this.stops.at(stopIndex).patchValue({ stopPoint: coordinates });\r\n                    _this.stops.at(stopIndex).patchValue({ stopProposals: [] });\r\n                }\r\n            })));\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.routingText = /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    function (index) {\r\n        if (index === 0) {\r\n            return 'start';\r\n        }\r\n        else if (index === this.stops.length - 1 || this.stops.length === 1) {\r\n            return 'end';\r\n        }\r\n        else {\r\n            return 'intermediate';\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.raiseStop = /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    function (index) {\r\n        if (index > 0) {\r\n            this.moveStop(index, -1);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.lowerStop = /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    function (index) {\r\n        if (index < this.stops.length - 1) {\r\n            this.moveStop(index, 1);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} index\r\n     * @param {?} diff\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.moveStop = /**\r\n     * @param {?} index\r\n     * @param {?} diff\r\n     * @return {?}\r\n     */\r\n    function (index, diff) {\r\n        /** @type {?} */\r\n        var fromValue = this.stops.at(index);\r\n        this.removeStop(index);\r\n        this.stops.insert(index + diff, fromValue);\r\n        this.stops.at(index).patchValue({ routingText: this.routingText(index) });\r\n        this.stops\r\n            .at(index + diff)\r\n            .patchValue({ routingText: this.routingText(index + diff) });\r\n        if (this.stops.at(index).value.stopCoordinates) {\r\n            this.addStopOverlay(this.stops.at(index).value.stopCoordinates, index);\r\n        }\r\n        if (this.stops.at(index + diff).value.stopCoordinates) {\r\n            this.addStopOverlay(this.stops.at(index + diff).value.stopCoordinates, index + diff);\r\n        }\r\n    };\r\n    Object.defineProperty(RoutingFormComponent.prototype, \"stops\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return (/** @type {?} */ (this.stopsForm.get('stops')));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.getStopsCoordinates = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var stopCoordinates = [];\r\n        this.stops.value.forEach((/**\r\n         * @param {?} stop\r\n         * @return {?}\r\n         */\r\n        function (stop) {\r\n            if (stop.stopCoordinates instanceof Array) {\r\n                stopCoordinates.push(stop.stopCoordinates);\r\n            }\r\n        }));\r\n        this.routingFormService.setStopsCoordinates(stopCoordinates);\r\n        return stopCoordinates;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.addStop = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var insertIndex = this.stops.length - 1;\r\n        this.stops.insert(insertIndex, this.createStop());\r\n    };\r\n    /**\r\n     * @param {?=} routingPos\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.createStop = /**\r\n     * @param {?=} routingPos\r\n     * @return {?}\r\n     */\r\n    function (routingPos) {\r\n        if (routingPos === void 0) { routingPos = 'intermediate'; }\r\n        return this.formBuilder.group({\r\n            stopPoint: [''],\r\n            stopProposals: [[]],\r\n            routingText: routingPos,\r\n            stopCoordinates: ['', [Validators.required]]\r\n        });\r\n    };\r\n    /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.removeStop = /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    function (index) {\r\n        var _this = this;\r\n        this.routingStopsOverlayDataSource.ol.clear();\r\n        this.stops.removeAt(index);\r\n        /** @type {?} */\r\n        var cnt = 0;\r\n        this.stops.value.forEach((/**\r\n         * @param {?} stop\r\n         * @return {?}\r\n         */\r\n        function (stop) {\r\n            _this.stops.at(cnt).patchValue({ routingText: _this.routingText(cnt) });\r\n            _this.addStopOverlay(_this.stops.at(cnt).value.stopCoordinates, cnt);\r\n            cnt++;\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.resetForm = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.routesResults = undefined;\r\n        /** @type {?} */\r\n        var nbStops = this.stops.length;\r\n        for (var i = 0; i < nbStops; i++) {\r\n            this.stops.removeAt(0);\r\n        }\r\n        this.stops.insert(0, this.createStop('start'));\r\n        this.stops.insert(1, this.createStop('end'));\r\n        this.routingStopsOverlayDataSource.ol.getFeatures().forEach((/**\r\n         * @param {?} element\r\n         * @return {?}\r\n         */\r\n        function (element) {\r\n            _this.deleteRoutingOverlaybyID(element.getId());\r\n        }));\r\n        this.routingRoutesOverlayDataSource.ol.clear();\r\n        this.routingStopsOverlayDataSource.ol.clear();\r\n        this.selectRoute.getFeatures().clear();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.onFormChange = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.stopsForm.valid) {\r\n            this.routingRoutesOverlayDataSource.ol.clear();\r\n            /** @type {?} */\r\n            var coords = this.getStopsCoordinates();\r\n            if (coords.length >= 2) {\r\n                this.getRoutes(coords);\r\n            }\r\n            else {\r\n                this.routingRoutesOverlayDataSource.ol.clear();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} step\r\n     * @param {?} cnt\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.formatStep = /**\r\n     * @param {?} step\r\n     * @param {?} cnt\r\n     * @return {?}\r\n     */\r\n    function (step, cnt) {\r\n        return this.formatInstruction(step.maneuver.type, step.maneuver.modifier, step.name, step.maneuver.bearing_after, cnt, step.maneuver.exit, cnt === this.activeRoute.steps.length - 1);\r\n    };\r\n    /**\r\n     * @param {?} type\r\n     * @param {?} modifier\r\n     * @param {?} route\r\n     * @param {?} direction\r\n     * @param {?} stepPosition\r\n     * @param {?} exit\r\n     * @param {?=} lastStep\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.formatInstruction = /**\r\n     * @param {?} type\r\n     * @param {?} modifier\r\n     * @param {?} route\r\n     * @param {?} direction\r\n     * @param {?} stepPosition\r\n     * @param {?} exit\r\n     * @param {?=} lastStep\r\n     * @return {?}\r\n     */\r\n    function (type, modifier, route, direction, stepPosition, exit, lastStep) {\r\n        if (lastStep === void 0) { lastStep = false; }\r\n        /** @type {?} */\r\n        var directiveFr;\r\n        /** @type {?} */\r\n        var directiveEn;\r\n        /** @type {?} */\r\n        var image = 'arrow_forward';\r\n        /** @type {?} */\r\n        var cssClass = 'rotate-270';\r\n        /** @type {?} */\r\n        var translatedDirection = this.translateBearing(direction);\r\n        /** @type {?} */\r\n        var translatedModifier = this.translateModifier(modifier);\r\n        /** @type {?} */\r\n        var enPrefix = modifier === 'straight' ? '' : 'on the ';\r\n        /** @type {?} */\r\n        var frPrefix = modifier === 'straight' ? '' : 'à ';\r\n        /** @type {?} */\r\n        var frAggregatedDirection = frPrefix + translatedModifier;\r\n        /** @type {?} */\r\n        var enAggregatedDirection = enPrefix + translatedModifier;\r\n        if (modifier && modifier.search('slight') >= 0) {\r\n            enAggregatedDirection = translatedModifier;\r\n        }\r\n        if (modifier === 'uturn') {\r\n            image = 'fast_forward';\r\n            cssClass = 'rotate-90';\r\n        }\r\n        else if (modifier === 'sharp right') {\r\n            image = 'subdirectory_arrow_right';\r\n            cssClass = 'icon-flipped';\r\n        }\r\n        else if (modifier === 'right') {\r\n            image = 'subdirectory_arrow_right';\r\n            cssClass = 'icon-flipped';\r\n        }\r\n        else if (modifier === 'slight right') {\r\n            image = 'arrow_forward';\r\n            cssClass = 'rotate-290';\r\n        }\r\n        else if (modifier === 'straight') {\r\n            image = 'arrow_forward';\r\n        }\r\n        else if (modifier === 'slight left') {\r\n            image = 'arrow_forward';\r\n            cssClass = 'rotate-250';\r\n        }\r\n        else if (modifier === 'left') {\r\n            image = 'subdirectory_arrow_left';\r\n            cssClass = 'icon-flipped';\r\n        }\r\n        else if (modifier === 'sharp left') {\r\n            image = 'subdirectory_arrow_left';\r\n            cssClass = 'icon-flipped';\r\n        }\r\n        if (type === 'turn') {\r\n            if (modifier === 'straight') {\r\n                directiveFr = 'Continuer sur ' + route;\r\n                directiveEn = 'Continue on ' + route;\r\n            }\r\n            else if (modifier === 'uturn') {\r\n                directiveFr = 'Faire demi-tour sur ' + route;\r\n                directiveEn = 'Make u-turn on ' + route;\r\n            }\r\n            else {\r\n                directiveFr = 'Tourner ' + frAggregatedDirection + ' sur ' + route;\r\n                directiveEn = 'Turn ' + translatedModifier + ' onto ' + route;\r\n            }\r\n        }\r\n        else if (type === 'new name') {\r\n            directiveFr =\r\n                'Continuer en direction ' + translatedDirection + ' sur ' + route;\r\n            directiveEn = 'Head ' + translatedDirection + ' on ' + route;\r\n            image = 'explore';\r\n            cssClass = '';\r\n        }\r\n        else if (type === 'depart') {\r\n            directiveFr =\r\n                'Aller en direction ' + translatedDirection + ' sur ' + route;\r\n            directiveEn = 'Head ' + translatedDirection + ' on ' + route;\r\n            image = 'explore';\r\n            cssClass = '';\r\n        }\r\n        else if (type === 'arrive') {\r\n            if (lastStep) {\r\n                /** @type {?} */\r\n                var coma = ', ';\r\n                if (!translatedModifier) {\r\n                    frAggregatedDirection = '';\r\n                    enAggregatedDirection = '';\r\n                    coma = '';\r\n                }\r\n                directiveFr = 'Vous êtes arrivé' + coma + frAggregatedDirection;\r\n                directiveEn =\r\n                    'You have reached your destination' + coma + enAggregatedDirection;\r\n            }\r\n            else {\r\n                directiveFr = 'Vous atteignez le point intermédiare sur ' + route;\r\n                directiveEn = 'You have reached the intermediate stop onto ' + route;\r\n                image = 'location_on';\r\n                cssClass = '';\r\n            }\r\n        }\r\n        else if (type === 'merge') {\r\n            directiveFr = 'Continuer sur ' + route;\r\n            directiveEn = 'Continue on ' + route;\r\n            image = 'arrow_forward';\r\n            cssClass = 'rotate-270';\r\n        }\r\n        else if (type === 'on ramp') {\r\n            directiveFr = \"Prendre l'entrée d'autoroute \" + frAggregatedDirection;\r\n            directiveEn = 'Take the ramp ' + enAggregatedDirection;\r\n        }\r\n        else if (type === 'off ramp') {\r\n            directiveFr = \"Prendre la sortie d'autoroute \" + frAggregatedDirection;\r\n            directiveEn = 'Take exit ' + enAggregatedDirection;\r\n        }\r\n        else if (type === 'fork') {\r\n            if (modifier.search('left') >= 0) {\r\n                directiveFr = 'Garder la gauche sur ' + route;\r\n                directiveEn = 'Merge left onto ' + route;\r\n            }\r\n            else if (modifier.search('right') >= 0) {\r\n                directiveFr = 'Garder la droite sur ' + route;\r\n                directiveEn = 'Merge right onto ' + route;\r\n            }\r\n            else {\r\n                directiveFr = 'Continuer sur ' + route;\r\n                directiveEn = 'Continue on ' + route;\r\n            }\r\n        }\r\n        else if (type === 'end of road') {\r\n            directiveFr =\r\n                'À la fin de la route, tourner ' + translatedModifier + ' sur ' + route;\r\n            directiveEn =\r\n                'At the end of the road, turn ' + translatedModifier + ' onto ' + route;\r\n        }\r\n        else if (type === 'use lane') {\r\n            directiveFr = 'Prendre la voie de ... ';\r\n            directiveEn = 'Take the lane ...';\r\n        }\r\n        else if (type === 'continue' && modifier !== 'uturn') {\r\n            directiveFr = 'Continuer sur ' + route;\r\n            directiveEn = 'Continue on ' + route;\r\n            image = 'arrow_forward';\r\n            cssClass = 'rotate-270';\r\n        }\r\n        else if (type === 'roundabout') {\r\n            directiveFr = 'Au rond-point, prendre la ' + exit;\r\n            directiveFr += exit === 1 ? 're' : 'e';\r\n            directiveFr += ' sortie vers ' + route;\r\n            directiveEn = 'At the roundabout, take the ' + exit;\r\n            directiveEn += exit === 1 ? 'st' : 'rd';\r\n            directiveEn += ' exit towards ' + route;\r\n            image = 'donut_large';\r\n            cssClass = '';\r\n        }\r\n        else if (type === 'rotary') {\r\n            directiveFr = 'Rond-point rotary....';\r\n            directiveEn = 'Roundabout rotary....';\r\n            image = 'donut_large';\r\n            cssClass = '';\r\n        }\r\n        else if (type === 'roundabout turn') {\r\n            directiveFr = 'Rond-point, prendre la ...';\r\n            directiveEn = 'Roundabout, take the ...';\r\n            image = 'donut_large';\r\n            cssClass = '';\r\n        }\r\n        else if (type === 'exit roundabout') {\r\n            directiveFr = 'Poursuivre vers ' + route;\r\n            directiveEn = 'Continue to ' + route;\r\n            image = 'arrow_forward';\r\n            cssClass = 'rotate-270';\r\n        }\r\n        else if (type === 'notification') {\r\n            directiveFr = 'notification ....';\r\n            directiveEn = 'notification ....';\r\n        }\r\n        else if (modifier === 'uturn') {\r\n            directiveFr =\r\n                'Faire demi-tour et continuer en direction ' +\r\n                    translatedDirection +\r\n                    ' sur ' +\r\n                    route;\r\n            directiveEn =\r\n                'Make u-turn and head ' + translatedDirection + ' on ' + route;\r\n        }\r\n        else {\r\n            directiveFr = '???';\r\n            directiveEn = '???';\r\n        }\r\n        if (lastStep) {\r\n            image = 'flag';\r\n            cssClass = '';\r\n        }\r\n        if (stepPosition === 0) {\r\n            image = 'explore';\r\n            cssClass = '';\r\n        }\r\n        /** @type {?} */\r\n        var directive;\r\n        if (this.browserLanguage === 'fr') {\r\n            directive = directiveFr;\r\n        }\r\n        else if (this.browserLanguage === 'en') {\r\n            directive = directiveEn;\r\n        }\r\n        return { instruction: directive, image: image, cssClass: cssClass };\r\n    };\r\n    /**\r\n     * @param {?} modifier\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.translateModifier = /**\r\n     * @param {?} modifier\r\n     * @return {?}\r\n     */\r\n    function (modifier) {\r\n        if (modifier === 'uturn') {\r\n            return this.languageService.translate.instant('igo.geo.routing.uturn');\r\n        }\r\n        else if (modifier === 'sharp right') {\r\n            return this.languageService.translate.instant('igo.geo.routing.sharp right');\r\n        }\r\n        else if (modifier === 'right') {\r\n            return this.languageService.translate.instant('igo.geo.routing.right');\r\n        }\r\n        else if (modifier === 'slight right') {\r\n            return this.languageService.translate.instant('igo.geo.routing.slight right');\r\n        }\r\n        else if (modifier === 'sharp left') {\r\n            return this.languageService.translate.instant('igo.geo.routing.sharp left');\r\n        }\r\n        else if (modifier === 'left') {\r\n            return this.languageService.translate.instant('igo.geo.routing.left');\r\n        }\r\n        else if (modifier === 'slight left') {\r\n            return this.languageService.translate.instant('igo.geo.routing.slight left');\r\n        }\r\n        else if (modifier === 'straight') {\r\n            return this.languageService.translate.instant('igo.geo.routing.straight');\r\n        }\r\n        else {\r\n            return modifier;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} bearing\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.translateBearing = /**\r\n     * @param {?} bearing\r\n     * @return {?}\r\n     */\r\n    function (bearing) {\r\n        if (bearing >= 337 || bearing < 23) {\r\n            return this.languageService.translate.instant('igo.geo.cardinalPoints.n');\r\n        }\r\n        else if (bearing < 67) {\r\n            return this.languageService.translate.instant('igo.geo.cardinalPoints.ne');\r\n        }\r\n        else if (bearing < 113) {\r\n            return this.languageService.translate.instant('igo.geo.cardinalPoints.e');\r\n        }\r\n        else if (bearing < 157) {\r\n            return this.languageService.translate.instant('igo.geo.cardinalPoints.se');\r\n        }\r\n        else if (bearing < 203) {\r\n            return this.languageService.translate.instant('igo.geo.cardinalPoints.s');\r\n        }\r\n        else if (bearing < 247) {\r\n            return this.languageService.translate.instant('igo.geo.cardinalPoints.sw');\r\n        }\r\n        else if (bearing < 293) {\r\n            return this.languageService.translate.instant('igo.geo.cardinalPoints.w');\r\n        }\r\n        else if (bearing < 337) {\r\n            return this.languageService.translate.instant('igo.geo.cardinalPoints.nw');\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} distance\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.formatDistance = /**\r\n     * @param {?} distance\r\n     * @return {?}\r\n     */\r\n    function (distance) {\r\n        if (distance === 0) {\r\n            return;\r\n        }\r\n        if (distance >= 100000) {\r\n            return Math.round(distance / 1000) + ' km';\r\n        }\r\n        if (distance >= 10000) {\r\n            return Math.round(distance / 100) / 10 + ' km';\r\n        }\r\n        if (distance >= 100) {\r\n            return Math.round(distance / 100) / 10 + ' km';\r\n        }\r\n        return distance + ' m';\r\n    };\r\n    /**\r\n     * @param {?} duration\r\n     * @param {?=} summary\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.formatDuration = /**\r\n     * @param {?} duration\r\n     * @param {?=} summary\r\n     * @return {?}\r\n     */\r\n    function (duration$$1, summary) {\r\n        if (summary === void 0) { summary = false; }\r\n        if (duration$$1 >= 3600) {\r\n            /** @type {?} */\r\n            var hour = Math.floor(duration$$1 / 3600);\r\n            /** @type {?} */\r\n            var minute = Math.round((duration$$1 / 3600 - hour) * 60);\r\n            if (minute === 60) {\r\n                return hour + 1 + ' h';\r\n            }\r\n            return hour + ' h ' + minute + ' min';\r\n        }\r\n        if (duration$$1 >= 60) {\r\n            return Math.round(duration$$1 / 60) + ' min';\r\n        }\r\n        return duration$$1 + ' s';\r\n    };\r\n    /**\r\n     * @param {?} step\r\n     * @param {?=} zoomToExtent\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.showSegment = /**\r\n     * @param {?} step\r\n     * @param {?=} zoomToExtent\r\n     * @return {?}\r\n     */\r\n    function (step, zoomToExtent) {\r\n        if (zoomToExtent === void 0) { zoomToExtent = false; }\r\n        this.showRouteSegmentGeometry(step.geometry.coordinates, zoomToExtent);\r\n    };\r\n    /**\r\n     * @param {?} coordinates\r\n     * @param {?=} zoomToExtent\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.showRouteSegmentGeometry = /**\r\n     * @param {?} coordinates\r\n     * @param {?=} zoomToExtent\r\n     * @return {?}\r\n     */\r\n    function (coordinates, zoomToExtent) {\r\n        if (zoomToExtent === void 0) { zoomToExtent = false; }\r\n        this.deleteRoutingOverlaybyID('endSegment');\r\n        /** @type {?} */\r\n        var geometry4326 = new LineString(coordinates);\r\n        /** @type {?} */\r\n        var geometry3857 = geometry4326.transform('EPSG:4326', 'EPSG:3857');\r\n        /** @type {?} */\r\n        var routeSegmentCoordinates = ((/** @type {?} */ (geometry3857))).getCoordinates();\r\n        /** @type {?} */\r\n        var lastPoint = routeSegmentCoordinates[0];\r\n        /** @type {?} */\r\n        var geometry = new Point(lastPoint);\r\n        /** @type {?} */\r\n        var feature = new OlFeature({ geometry: geometry });\r\n        feature.setId('endSegment');\r\n        if (geometry === null) {\r\n            return;\r\n        }\r\n        if (geometry.getType() === 'Point') {\r\n            feature.setStyle([\r\n                new Style({\r\n                    geometry: geometry,\r\n                    image: new Circle({\r\n                        radius: 7,\r\n                        stroke: new Stroke({ color: '#FF0000', width: 3 })\r\n                    })\r\n                })\r\n            ]);\r\n        }\r\n        if (zoomToExtent) {\r\n            this.map.viewController.zoomToExtent(feature.getGeometry().getExtent());\r\n        }\r\n        this.routingRoutesOverlayDataSource.ol.addFeature(feature);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.zoomRoute = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.map.viewController.zoomToExtent(this.routingRoutesOverlayDataSource.ol.getExtent());\r\n    };\r\n    /**\r\n     * @param {?=} moveToExtent\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.showRouteGeometry = /**\r\n     * @param {?=} moveToExtent\r\n     * @return {?}\r\n     */\r\n    function (moveToExtent) {\r\n        if (moveToExtent === void 0) { moveToExtent = false; }\r\n        /** @type {?} */\r\n        var geom = this.activeRoute.geometry.coordinates;\r\n        /** @type {?} */\r\n        var geometry4326 = new LineString(geom);\r\n        /** @type {?} */\r\n        var geometry3857 = geometry4326.transform('EPSG:4326', 'EPSG:3857');\r\n        this.routingRoutesOverlayDataSource.ol.clear();\r\n        /** @type {?} */\r\n        var routingFeature = new OlFeature({ geometry: geometry3857 });\r\n        routingFeature.setStyle([\r\n            new Style({\r\n                stroke: new Stroke({ color: '#6a7982', width: 10 })\r\n            }),\r\n            new Style({\r\n                stroke: new Stroke({ color: '#4fa9dd', width: 6 })\r\n            })\r\n        ]);\r\n        this.routingRoutesOverlayDataSource.ol.addFeature(routingFeature);\r\n        if (moveToExtent) {\r\n            this.map.viewController.zoomToExtent(this.routingRoutesOverlayDataSource.ol.getExtent());\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} stopsArrayCoordinates\r\n     * @param {?=} moveToExtent\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.getRoutes = /**\r\n     * @param {?} stopsArrayCoordinates\r\n     * @param {?=} moveToExtent\r\n     * @return {?}\r\n     */\r\n    function (stopsArrayCoordinates, moveToExtent) {\r\n        var _this = this;\r\n        if (moveToExtent === void 0) { moveToExtent = false; }\r\n        /** @type {?} */\r\n        var routeResponse = this.routingService.route(stopsArrayCoordinates);\r\n        if (routeResponse) {\r\n            routeResponse.map((/**\r\n             * @param {?} res\r\n             * @return {?}\r\n             */\r\n            function (res) {\r\n                return _this.routesQueries$$.push(res.subscribe((/**\r\n                 * @param {?} route\r\n                 * @return {?}\r\n                 */\r\n                function (route) {\r\n                    _this.routesResults = route;\r\n                    _this.activeRoute = (/** @type {?} */ (_this.routesResults[0]));\r\n                    _this.showRouteGeometry(moveToExtent);\r\n                })));\r\n            }));\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.unlistenSingleClick = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.focusKey.length !== 0) {\r\n            this.focusKey.forEach((/**\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (key) {\r\n                unByKey(key);\r\n            }));\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.unsubscribeRoutesQueries = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.routesQueries$$.forEach((/**\r\n         * @param {?} sub\r\n         * @return {?}\r\n         */\r\n        function (sub) { return sub.unsubscribe(); }));\r\n        this.routesQueries$$ = [];\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.copyLinkToClipboard = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var successful = Clipboard.copy(this.getUrl());\r\n        if (successful) {\r\n            /** @type {?} */\r\n            var translate = this.languageService.translate;\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.geo.routingForm.dialog.copyTitle');\r\n            /** @type {?} */\r\n            var msg = translate.instant('igo.geo.routingForm.dialog.copyMsgLink');\r\n            this.messageService.success(msg, title);\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.copyDirectionsToClipboard = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var indent = '\\t';\r\n        /** @type {?} */\r\n        var activeRouteDirective = this.languageService.translate.instant('igo.geo.routingForm.instructions') + ':\\n';\r\n        /** @type {?} */\r\n        var wayPointList = '';\r\n        /** @type {?} */\r\n        var summary = this.languageService.translate.instant('igo.geo.routingForm.summary') +\r\n            ': \\n' +\r\n            indent +\r\n            this.activeRoute.title +\r\n            '\\n' +\r\n            indent +\r\n            this.formatDistance(this.activeRoute.distance) +\r\n            '\\n' +\r\n            indent +\r\n            this.formatDuration(this.activeRoute.duration) +\r\n            '\\n\\n' +\r\n            this.languageService.translate.instant('igo.geo.routingForm.stopsList') +\r\n            ':\\n';\r\n        /** @type {?} */\r\n        var url = this.languageService.translate.instant('igo.geo.routingForm.link') +\r\n            ':\\n' +\r\n            indent +\r\n            this.getUrl();\r\n        /** @type {?} */\r\n        var wayPointsCnt = 1;\r\n        this.stops.value.forEach((/**\r\n         * @param {?} stop\r\n         * @return {?}\r\n         */\r\n        function (stop) {\r\n            /** @type {?} */\r\n            var coord = '';\r\n            /** @type {?} */\r\n            var stopPoint = '';\r\n            if (stop.stopPoint !== stop.stopCoordinates) {\r\n                stopPoint = stop.stopPoint;\r\n                coord =\r\n                    ' (' +\r\n                        [stop.stopCoordinates[1], stop.stopCoordinates[0]].join(',') +\r\n                        ')';\r\n            }\r\n            else {\r\n                stopPoint = [stop.stopCoordinates[1], stop.stopCoordinates[0]].join(',');\r\n            }\r\n            wayPointList =\r\n                wayPointList +\r\n                    indent +\r\n                    wayPointsCnt.toLocaleString() +\r\n                    '. ' +\r\n                    stopPoint +\r\n                    coord +\r\n                    '\\n';\r\n            wayPointsCnt++;\r\n        }));\r\n        // Directions\r\n        /** @type {?} */\r\n        var localCnt = 0;\r\n        this.activeRoute.steps.forEach((/**\r\n         * @param {?} step\r\n         * @return {?}\r\n         */\r\n        function (step) {\r\n            /** @type {?} */\r\n            var instruction = _this.formatStep(step, localCnt).instruction;\r\n            /** @type {?} */\r\n            var distance = _this.formatDistance(step.distance) === undefined\r\n                ? ''\r\n                : ' (' + _this.formatDistance(step.distance) + ')';\r\n            activeRouteDirective =\r\n                activeRouteDirective +\r\n                    indent +\r\n                    (localCnt + 1).toLocaleString() +\r\n                    '. ' +\r\n                    instruction +\r\n                    distance +\r\n                    '\\n';\r\n            localCnt++;\r\n        }));\r\n        /** @type {?} */\r\n        var directionsBody = summary + wayPointList + '\\n' + url + '\\n\\n' + activeRouteDirective;\r\n        /** @type {?} */\r\n        var successful = Clipboard.copy(directionsBody);\r\n        if (successful) {\r\n            /** @type {?} */\r\n            var translate = this.languageService.translate;\r\n            /** @type {?} */\r\n            var title = translate.instant('igo.geo.routingForm.dialog.copyTitle');\r\n            /** @type {?} */\r\n            var msg = translate.instant('igo.geo.routingForm.dialog.copyMsg');\r\n            this.messageService.success(msg, title);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} term\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.handleTermChanged = /**\r\n     * @private\r\n     * @param {?} term\r\n     * @return {?}\r\n     */\r\n    function (term) {\r\n        var _this = this;\r\n        if (term !== undefined || term.length !== 0) {\r\n            /** @type {?} */\r\n            var searchProposals_1 = [];\r\n            /** @type {?} */\r\n            var researches = this.searchService.search(term);\r\n            researches.map((/**\r\n             * @param {?} res\r\n             * @return {?}\r\n             */\r\n            function (res) {\r\n                return _this.routesQueries$$.push(res.request.subscribe((/**\r\n                 * @param {?} results\r\n                 * @return {?}\r\n                 */\r\n                function (results) {\r\n                    results\r\n                        .filter((/**\r\n                     * @param {?} r\r\n                     * @return {?}\r\n                     */\r\n                    function (r) { return r.data.geometry; }))\r\n                        .forEach((/**\r\n                     * @param {?} element\r\n                     * @return {?}\r\n                     */\r\n                    function (element) {\r\n                        if (searchProposals_1.filter((/**\r\n                         * @param {?} r\r\n                         * @return {?}\r\n                         */\r\n                        function (r) { return r.source === element.source; }))\r\n                            .length === 0) {\r\n                            searchProposals_1.push({\r\n                                source: element.source,\r\n                                results: results.map((/**\r\n                                 * @param {?} r\r\n                                 * @return {?}\r\n                                 */\r\n                                function (r) { return r.data; }))\r\n                            });\r\n                        }\r\n                    }));\r\n                    _this.stops\r\n                        .at(_this.currentStopIndex)\r\n                        .patchValue({ stopProposals: searchProposals_1 });\r\n                })));\r\n            }));\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} term\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.setTerm = /**\r\n     * @param {?} term\r\n     * @return {?}\r\n     */\r\n    function (term) {\r\n        this.term = term;\r\n        if (this.keyIsValid(term) &&\r\n            (term.length >= this.length || term.length === 0)) {\r\n            this.stream$.next(term);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.keyIsValid = /**\r\n     * @private\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (key) {\r\n        return this.invalidKeys.find((/**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) { return value === key; })) === undefined;\r\n    };\r\n    /**\r\n     * @param {?} i\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.keyup = /**\r\n     * @param {?} i\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    function (i, event) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var term = ((/** @type {?} */ (event.target))).value;\r\n        this.setTerm(term);\r\n        this.map.ol.un('singleclick', (/**\r\n         * @param {?} evt\r\n         * @return {?}\r\n         */\r\n        function (evt) {\r\n            _this.handleMapClick(evt, i);\r\n        }));\r\n    };\r\n    /**\r\n     * @param {?} stopIndex\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.clearStop = /**\r\n     * @param {?} stopIndex\r\n     * @return {?}\r\n     */\r\n    function (stopIndex) {\r\n        this.deleteRoutingOverlaybyID(this.getStopOverlayID(stopIndex));\r\n        this.stops.removeAt(stopIndex);\r\n        this.stops.insert(stopIndex, this.createStop(this.routingText(stopIndex)));\r\n        this.routingRoutesOverlayDataSource.ol.clear();\r\n    };\r\n    /**\r\n     * @param {?} proposal\r\n     * @param {?} i\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.chooseProposal = /**\r\n     * @param {?} proposal\r\n     * @param {?} i\r\n     * @return {?}\r\n     */\r\n    function (proposal, i) {\r\n        if (proposal !== undefined) {\r\n            /** @type {?} */\r\n            var geomCoord = void 0;\r\n            /** @type {?} */\r\n            var geom = ((/** @type {?} */ (proposal))).geometry;\r\n            if (geom.type === 'Point') {\r\n                geomCoord = geom.coordinates;\r\n            }\r\n            else if (geom.type.search('Line') >= 0) {\r\n                /** @type {?} */\r\n                var coordArray = [];\r\n                if (geom.coordinates instanceof Array) {\r\n                    // Middle segment of multilinestring\r\n                    coordArray =\r\n                        geom.coordinates[Math.floor(geom.coordinates.length / 2)];\r\n                }\r\n                else {\r\n                    coordArray = geom.coordinates;\r\n                }\r\n                // middle point of coords\r\n                geomCoord = coordArray[Math.floor(coordArray.length / 2)];\r\n            }\r\n            else if (geom.type.search('Polygon') >= 0) {\r\n                /** @type {?} */\r\n                var polygonExtent = proposal.extent;\r\n                /** @type {?} */\r\n                var long = polygonExtent[0] + (polygonExtent[2] - polygonExtent[0]) / 2;\r\n                /** @type {?} */\r\n                var lat = polygonExtent[1] + (polygonExtent[3] - polygonExtent[1]) / 2;\r\n                geomCoord = [long, lat];\r\n            }\r\n            if (geomCoord !== undefined) {\r\n                this.stops.at(i).patchValue({ stopCoordinates: geomCoord });\r\n                this.addStopOverlay(geomCoord, i);\r\n                /** @type {?} */\r\n                var proposalExtent = this.routingStopsOverlayDataSource.ol\r\n                    .getFeatureById(this.getStopOverlayID(i))\r\n                    .getGeometry()\r\n                    .getExtent();\r\n                if (!intersects$1(proposalExtent, this.map.getExtent())) {\r\n                    this.map.viewController.moveToExtent(proposalExtent);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} i\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.focus = /**\r\n     * @param {?} i\r\n     * @return {?}\r\n     */\r\n    function (i) {\r\n        var _this = this;\r\n        this.unlistenSingleClick();\r\n        this.currentStopIndex = i;\r\n        this.focusOnStop = true;\r\n        this.routingFormService.setMapWaitingForRoutingClick();\r\n        this.focusKey.push(this.map.ol.once('singleclick', (/**\r\n         * @param {?} evt\r\n         * @return {?}\r\n         */\r\n        function (evt) {\r\n            _this.handleMapClick(evt, i);\r\n        })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} event\r\n     * @param {?=} indexPos\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.handleMapClick = /**\r\n     * @private\r\n     * @param {?} event\r\n     * @param {?=} indexPos\r\n     * @return {?}\r\n     */\r\n    function (event, indexPos) {\r\n        var _this = this;\r\n        this.stops.at(indexPos).patchValue({ stopProposals: [] });\r\n        if (this.currentStopIndex === undefined) {\r\n            this.addStop();\r\n            indexPos = this.stops.length - 2;\r\n            this.stops.at(indexPos).value.stopProposals = [];\r\n        }\r\n        else {\r\n            indexPos = this.currentStopIndex;\r\n        }\r\n        /** @type {?} */\r\n        var clickCoordinates = transform(event.coordinate, this.map.projection, this.projection);\r\n        this.stops.at(indexPos).patchValue({ stopCoordinates: clickCoordinates });\r\n        this.handleLocationProposals(clickCoordinates, indexPos);\r\n        this.addStopOverlay(clickCoordinates, indexPos);\r\n        setTimeout((/**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            _this.focusOnStop = false; // prevent to trigger map click and Select on routes at same time.\r\n        }), 500);\r\n        this.routingFormService.unsetMapWaitingForRoutingClick();\r\n    };\r\n    /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.geolocateStop = /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    function (index) {\r\n        moveToOlFeatures(this.map, [this.map.geolocationFeature], FeatureMotion.Move);\r\n        /** @type {?} */\r\n        var geolocateCoordinates = this.map.getCenter(this.projection);\r\n        this.stops.at(index).patchValue({ stopCoordinates: geolocateCoordinates });\r\n        this.addStopOverlay(geolocateCoordinates, index);\r\n        this.handleLocationProposals(geolocateCoordinates, index);\r\n    };\r\n    /**\r\n     * @param {?} coordinates\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.addStopOverlay = /**\r\n     * @param {?} coordinates\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    function (coordinates, index) {\r\n        /** @type {?} */\r\n        var routingText = this.routingText(index);\r\n        /** @type {?} */\r\n        var stopColor;\r\n        /** @type {?} */\r\n        var stopText;\r\n        if (routingText === 'start') {\r\n            stopColor = 'green';\r\n            stopText = this.languageService.translate.instant('igo.geo.routingForm.start');\r\n        }\r\n        else if (routingText === 'end') {\r\n            stopColor = 'red';\r\n            stopText = this.languageService.translate.instant('igo.geo.routingForm.end');\r\n        }\r\n        else {\r\n            stopColor = 'yellow';\r\n            stopText =\r\n                this.languageService.translate.instant('igo.geo.routingForm.intermediate') +\r\n                    ' #' +\r\n                    index;\r\n        }\r\n        /** @type {?} */\r\n        var geometry = new Point(transform(coordinates, this.projection, this.map.projection));\r\n        /** @type {?} */\r\n        var feature = new OlFeature({ geometry: geometry });\r\n        /** @type {?} */\r\n        var stopID = this.getStopOverlayID(index);\r\n        this.deleteRoutingOverlaybyID(stopID);\r\n        feature.setId(stopID);\r\n        if (geometry === null) {\r\n            return;\r\n        }\r\n        if (geometry.getType() === 'Point') {\r\n            /** @type {?} */\r\n            var olStyle = createOverlayMarkerStyle(stopColor);\r\n            // stopText\r\n            feature.setStyle(olStyle);\r\n        }\r\n        this.routingStopsOverlayDataSource.ol.addFeature(feature);\r\n    };\r\n    /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.getStopOverlayID = /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    function (index) {\r\n        /** @type {?} */\r\n        var txt;\r\n        if (index === 0) {\r\n            txt = 'start';\r\n        }\r\n        else if (index === this.stops.length - 1) {\r\n            txt = 'end';\r\n        }\r\n        else {\r\n            txt = index;\r\n        }\r\n        return 'routingStop_' + txt;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.deleteRoutingOverlaybyID = /**\r\n     * @private\r\n     * @param {?} id\r\n     * @return {?}\r\n     */\r\n    function (id) {\r\n        if (this.routingStopsOverlayDataSource.ol.getFeatureById(id)) {\r\n            this.routingStopsOverlayDataSource.ol.removeFeature(this.routingStopsOverlayDataSource.ol.getFeatureById(id));\r\n        }\r\n        if (this.routingRoutesOverlayDataSource.ol.getFeatureById(id)) {\r\n            this.routingRoutesOverlayDataSource.ol.removeFeature(this.routingRoutesOverlayDataSource.ol.getFeatureById(id));\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    RoutingFormComponent.prototype.getUrl = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (!this.route) {\r\n            return;\r\n        }\r\n        /** @type {?} */\r\n        var routingKey = this.route.options.routingCoordKey;\r\n        /** @type {?} */\r\n        var stopsCoordinates = [];\r\n        if (this.routingFormService &&\r\n            this.routingFormService.getStopsCoordinates() &&\r\n            this.routingFormService.getStopsCoordinates().length !== 0) {\r\n            this.routingFormService.getStopsCoordinates().forEach((/**\r\n             * @param {?} coord\r\n             * @return {?}\r\n             */\r\n            function (coord) {\r\n                stopsCoordinates.push(coord);\r\n            }));\r\n        }\r\n        /** @type {?} */\r\n        var routingUrl = '';\r\n        if (stopsCoordinates.length >= 2) {\r\n            routingUrl = routingKey + \"=\" + stopsCoordinates.join(';');\r\n        }\r\n        return \"\" + location.origin + location.pathname + \"?tool=directions&\" + routingUrl;\r\n    };\r\n    RoutingFormComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-routing-form',\r\n                    template: \"<form class=\\\"igo-form\\\" [formGroup]=\\\"stopsForm\\\">\\r\\n  <!-- <div class=\\\"igo-form-button-group\\\">\\r\\n\\r\\n  </div> -->\\r\\n  <div #inputs formArrayName=\\\"stops\\\" *ngFor=\\\"let stop of stops.controls; let i = index;\\\">\\r\\n    <mat-list-item [formGroupName]=\\\"i\\\">\\r\\n\\r\\n      <div class=\\\"igo-input-container\\\">\\r\\n        <button *ngIf=\\\"map.geolocationFeature\\\" mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.routingForm.geolocate' | translate\\\" (click)=\\\"geolocateStop(i)\\\">\\r\\n          <mat-icon svgIcon=\\\"crosshairs-gps\\\"></mat-icon>\\r\\n        </button>\\r\\n        <mat-form-field>\\r\\n          <input matInput formControlName=\\\"stopPoint\\\" [matAutocomplete]=\\\"auto\\\" placeholder=\\\"{{'igo.geo.routingForm.'+stop.value.routingText | translate}}\\\"\\r\\n            (focus)=\\\"focus(i)\\\" (keyup)=\\\"keyup(i,$event)\\\">\\r\\n\\r\\n          <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n            <mat-optgroup *ngFor=\\\"let source of stop.value.stopProposals\\\" [label]=\\\"source.source\\\" [disabled]=\\\"source.disabled\\\">\\r\\n              <mat-option *ngFor=\\\"let result of source.results\\\" [value]=\\\"result.title\\\" (onSelectionChange)=\\\"chooseProposal(result,i)\\\">\\r\\n                {{ result.title }}\\r\\n              </mat-option>\\r\\n            </mat-optgroup>\\r\\n          </mat-autocomplete>\\r\\n        </mat-form-field>\\r\\n        <button mat-button *ngIf=\\\"stop.value && (stop.value.stopPoint.length>0 || stop.value.stopProposals.length>0)\\\" matSuffix mat-icon-button\\r\\n          aria-label=\\\"Clear\\\" (click)=\\\"clearStop(i)\\\">\\r\\n          <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n        </button>\\r\\n        <!-- <div class=\\\"igo-form-button-group\\\"> -->\\r\\n\\r\\n\\r\\n          <!-- <button *ngIf=\\\"i !== 0\\\" mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.routingForm.raiseStop' | translate\\\"\\r\\n            [color]=\\\"color\\\" (click)=\\\"raiseStop(i)\\\">\\r\\n            <mat-icon svgIcon=\\\"arrow-upward\\\"></mat-icon>\\r\\n          </button>\\r\\n          <button *ngIf=\\\"i !== stops.length - 1\\\" mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.routingForm.lowerStop' | translate\\\"\\r\\n            [color]=\\\"color\\\" (click)=\\\"lowerStop(i)\\\">\\r\\n            <mat-icon svgIcon=\\\"arrow-downward\\\"></mat-icon>\\r\\n          </button> -->\\r\\n\\r\\n          <button *ngIf=\\\"i !== 0 && i !== stops.length - 1\\\" mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.routingForm.removeStop' | translate\\\"\\r\\n            color=\\\"warn\\\" (click)=\\\"removeStop(i)\\\">\\r\\n            <mat-icon svgIcon=\\\"delete\\\"></mat-icon>\\r\\n          </button>\\r\\n        <!-- </div> -->\\r\\n      </div>\\r\\n\\r\\n    </mat-list-item>\\r\\n  </div>\\r\\n  <div class=\\\"igo-form-button-group\\\">\\r\\n    <button mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\"\\r\\n      [matTooltip]=\\\"'igo.geo.routingForm.zoomRoute' | translate\\\"\\r\\n      *ngIf=\\\"routesResults\\\" color=\\\"primary\\\" (click)=\\\"zoomRoute()\\\">\\r\\n      <mat-icon svgIcon=\\\"zoom-in\\\"></mat-icon>\\r\\n    </button>\\r\\n      <button mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.routingForm.addStop' | translate\\\"\\r\\n      color=\\\"primary\\\" (click)=\\\"addStop()\\\">\\r\\n      <mat-icon svgIcon=\\\"map-marker-plus\\\"></mat-icon>\\r\\n    </button>\\r\\n    <button mat-icon-button tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.routingForm.resetRoutingBtn' | translate\\\"\\r\\n      *ngIf=\\\"routesResults\\\" color=\\\"warn\\\" (click)=\\\"resetForm()\\\">\\r\\n      <mat-icon svgIcon=\\\"restore-page\\\"></mat-icon>\\r\\n    </button>\\r\\n    <button mat-icon-button *ngIf=\\\"routesResults\\\" tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.routingForm.copy' | translate\\\"\\r\\n      color=\\\"primary\\\" (click)=\\\"copyDirectionsToClipboard()\\\">\\r\\n      <mat-icon svgIcon=\\\"content-copy\\\"></mat-icon>\\r\\n    </button>\\r\\n    <button mat-icon-button *ngIf=\\\"routesResults\\\" tooltip-position=\\\"below\\\" matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"'igo.geo.routingForm.link' | translate\\\"\\r\\n    color=\\\"primary\\\" (click)=\\\"copyLinkToClipboard()\\\">\\r\\n    <mat-icon svgIcon=\\\"link\\\"></mat-icon>\\r\\n  </button>\\r\\n  </div>\\r\\n\\r\\n</form>\\r\\n\\r\\n<div class=\\\"igo-input-container\\\" *ngIf=\\\"routesResults\\\">\\r\\n  <mat-form-field *ngIf=\\\"routesResults && routesResults.length > 1\\\">\\r\\n    <mat-select placeholder=\\\"{{'igo.geo.routingForm.drivingOptions' | translate}}\\\" (selectionChange)=\\\"changeRoute($event)\\\" [(ngModel)]=\\\"activeRoute\\\">\\r\\n      <mat-option *ngFor=\\\"let pathRouting of routesResults; let cnt = index;\\\" [value]=\\\"pathRouting\\\">\\r\\n        Option {{cnt + 1}} : {{this.formatDistance(pathRouting.distance)}} ({{this.formatDuration(pathRouting.duration)}})\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-divider *ngIf=\\\"routesResults && routesResults.length === 0\\\"></mat-divider>\\r\\n\\r\\n  <mat-list>\\r\\n    <h3 mat-header>{{activeRoute.title}}</h3>\\r\\n    <h3 mat-subheader>{{this.formatDistance(activeRoute.distance)}}, {{this.formatDuration(activeRoute.duration)}}</h3>\\r\\n\\r\\n    <mat-list-item (mouseenter)=\\\"showSegment(step)\\\" (click)=\\\"showSegment(step,true)\\\" *ngFor=\\\"let step of activeRoute.steps; let cnt = index;\\\"\\r\\n      igoListItem>\\r\\n      <mat-icon [ngClass]=\\\"this.formatStep(step,cnt).cssClass\\\" mat-list-icon svgIcon=\\\"{{this.formatStep(step,cnt).image}}\\\"></mat-icon>\\r\\n\\r\\n      <h4 mat-line (click)=\\\"showSegment(step,true)\\\">{{cnt +1}}. {{this.formatStep(step,cnt).instruction}}</h4>\\r\\n      <h4 mat-line class=\\\"right\\\">{{this.formatDistance(step.distance)}}</h4>\\r\\n    </mat-list-item>\\r\\n\\r\\n    <mat-divider></mat-divider>\\r\\n\\r\\n  </mat-list>\\r\\n\\r\\n</div>\\r\\n\",\r\n                    styles: [\"mat-form-field{width:70%}.mat-list-item{height:auto}.mat-line{word-wrap:break-word!important;white-space:pre-wrap!important}.mat-line.right{text-align:right}.rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.rotate-45{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.rotate-250{-webkit-transform:rotate(250deg);transform:rotate(250deg)}.rotate-290{-webkit-transform:rotate(290deg);transform:rotate(290deg)}.icon-flipped{-webkit-transform:scaleY(-1);transform:scaleY(-1)}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    RoutingFormComponent.ctorParameters = function () { return [\r\n        { type: FormBuilder },\r\n        { type: RoutingService },\r\n        { type: LanguageService },\r\n        { type: MessageService },\r\n        { type: SearchService },\r\n        { type: QueryService },\r\n        { type: RoutingFormService },\r\n        { type: RouteService, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    RoutingFormComponent.propDecorators = {\r\n        term: [{ type: Input }],\r\n        length: [{ type: Input }],\r\n        map: [{ type: Input }],\r\n        submit: [{ type: Output }]\r\n    };\r\n    return RoutingFormComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar RoutingFormBindingDirective = /** @class */ (function () {\r\n    function RoutingFormBindingDirective(component, routingFormService, route) {\r\n        this.component = component;\r\n        this.routingFormService = routingFormService;\r\n        this.route = route;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    RoutingFormBindingDirective.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var storedStopsCoordinates = this.routingFormService.getStopsCoordinates();\r\n        if (!storedStopsCoordinates &&\r\n            this.route &&\r\n            this.route.options.routingCoordKey) {\r\n            this.route.queryParams.subscribe((/**\r\n             * @param {?} params\r\n             * @return {?}\r\n             */\r\n            function (params) {\r\n                /** @type {?} */\r\n                var routingParams = params[(/** @type {?} */ (_this.route.options.routingCoordKey))];\r\n                /** @type {?} */\r\n                var stopsCoordinatesFromURL = [];\r\n                if (routingParams) {\r\n                    /** @type {?} */\r\n                    var routingCoordUrl_1 = routingParams.split(';');\r\n                    if (routingCoordUrl_1.length >= 2) {\r\n                        /** @type {?} */\r\n                        var cnt_1 = 0;\r\n                        routingCoordUrl_1.forEach((/**\r\n                         * @param {?} coord\r\n                         * @return {?}\r\n                         */\r\n                        function (coord) {\r\n                            if (cnt_1 !== 0 && cnt_1 !== routingCoordUrl_1.length - 1) {\r\n                                _this.component.stops.insert(cnt_1, _this.component.createStop());\r\n                            }\r\n                            /** @type {?} */\r\n                            var stopCoordinatesFromURL = JSON.parse('[' + coord + ']');\r\n                            _this.component.stops\r\n                                .at(cnt_1)\r\n                                .patchValue({ stopCoordinates: stopCoordinatesFromURL });\r\n                            _this.component.stops\r\n                                .at(cnt_1)\r\n                                .patchValue({ stopPoint: stopCoordinatesFromURL });\r\n                            _this.component.handleLocationProposals(stopCoordinatesFromURL, cnt_1);\r\n                            stopsCoordinatesFromURL.push(stopCoordinatesFromURL);\r\n                            _this.component.addStopOverlay(stopCoordinatesFromURL, cnt_1);\r\n                            cnt_1++;\r\n                        }));\r\n                        _this.component.getRoutes(stopsCoordinatesFromURL, true);\r\n                    }\r\n                }\r\n            }));\r\n        }\r\n        else if (storedStopsCoordinates) {\r\n            for (var i = 0; i < storedStopsCoordinates.length; i++) {\r\n                if (i !== 0 && i !== storedStopsCoordinates.length - 1) {\r\n                    this.component.stops.insert(i, this.component.createStop());\r\n                }\r\n                if (storedStopsCoordinates[i] instanceof Array) {\r\n                    this.component.addStopOverlay(storedStopsCoordinates[i], i);\r\n                    this.component.stops\r\n                        .at(i)\r\n                        .patchValue({ stopCoordinates: storedStopsCoordinates[i] });\r\n                    this.component.stops\r\n                        .at(i)\r\n                        .patchValue({ stopPoint: storedStopsCoordinates[i] });\r\n                    this.component.handleLocationProposals(storedStopsCoordinates[i], i);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    RoutingFormBindingDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoRoutingFormBinding]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    RoutingFormBindingDirective.ctorParameters = function () { return [\r\n        { type: RoutingFormComponent, decorators: [{ type: Self }] },\r\n        { type: RoutingFormService },\r\n        { type: RouteService, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    return RoutingFormBindingDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoRoutingModule = /** @class */ (function () {\r\n    function IgoRoutingModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoRoutingModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoRoutingModule\r\n        };\r\n    };\r\n    IgoRoutingModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatListModule,\r\n                        MatDividerModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        MatOptionModule,\r\n                        MatSelectModule,\r\n                        MatTooltipModule,\r\n                        MatAutocompleteModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    exports: [RoutingFormComponent, RoutingFormBindingDirective],\r\n                    declarations: [RoutingFormComponent, RoutingFormBindingDirective],\r\n                    providers: [RoutingFormService, provideRoutingSourceService()]\r\n                },] }\r\n    ];\r\n    return IgoRoutingModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Search source factory\r\n * @ignore\r\n * @param {?} sources\r\n * @return {?}\r\n */\r\nfunction searchSourceServiceFactory(sources) {\r\n    return new SearchSourceService(sources);\r\n}\r\n/**\r\n * Function that returns a provider for the SearchSource service\r\n * @return {?}\r\n */\r\nfunction provideSearchSourceService() {\r\n    return {\r\n        provide: SearchSourceService,\r\n        useFactory: searchSourceServiceFactory,\r\n        deps: [SearchSource]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IChercheSearchResultFormatter = /** @class */ (function () {\r\n    function IChercheSearchResultFormatter(languageService) {\r\n        this.languageService = languageService;\r\n    }\r\n    /**\r\n     * @param {?} result\r\n     * @return {?}\r\n     */\r\n    IChercheSearchResultFormatter.prototype.formatResult = /**\r\n     * @param {?} result\r\n     * @return {?}\r\n     */\r\n    function (result) {\r\n        return result;\r\n    };\r\n    IChercheSearchResultFormatter.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    IChercheSearchResultFormatter.ctorParameters = function () { return [\r\n        { type: LanguageService }\r\n    ]; };\r\n    return IChercheSearchResultFormatter;\r\n}());\r\n/**\r\n * ICherche search source\r\n */\r\nvar IChercheSearchSource = /** @class */ (function (_super) {\r\n    __extends(IChercheSearchSource, _super);\r\n    function IChercheSearchSource(http, options, formatter) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.http = http;\r\n        _this.formatter = formatter;\r\n        return _this;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IChercheSearchSource.prototype.getId = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return IChercheSearchSource.id;\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    IChercheSearchSource.prototype.getDefaultOptions = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            title: 'ICherche Québec',\r\n            searchUrl: 'https://geoegl.msp.gouv.qc.ca/apis/icherche/geocode',\r\n            settings: [\r\n                {\r\n                    type: 'checkbox',\r\n                    title: 'results type',\r\n                    name: 'type',\r\n                    values: [\r\n                        {\r\n                            title: 'Adresse',\r\n                            value: 'adresses',\r\n                            enabled: true\r\n                        },\r\n                        // {\r\n                        //   title: 'Ancienne adresse',\r\n                        //   value: 'ancienne_adresse',\r\n                        //   enabled: true\r\n                        // },\r\n                        {\r\n                            title: 'Code Postal',\r\n                            value: 'codes-postaux',\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: 'Route',\r\n                            value: 'routes',\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: 'Municipalité',\r\n                            value: 'municipalites',\r\n                            enabled: true\r\n                        },\r\n                        // {\r\n                        //   title: 'Ancienne municipalité',\r\n                        //   value: 'ancienne_municipalite',\r\n                        //   enabled: true\r\n                        // },\r\n                        {\r\n                            title: 'mrc',\r\n                            value: 'mrc',\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: 'Région administrative',\r\n                            value: 'regadmin',\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: 'Lieu',\r\n                            value: 'lieux',\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: 'Borne',\r\n                            value: 'bornes',\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: 'Entreprise',\r\n                            value: 'entreprises',\r\n                            enabled: false\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'radiobutton',\r\n                    title: 'results limit',\r\n                    name: 'limit',\r\n                    values: [\r\n                        {\r\n                            title: '1',\r\n                            value: 1,\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: '5',\r\n                            value: 5,\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: '10',\r\n                            value: 10,\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: '25',\r\n                            value: 25,\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: '50',\r\n                            value: 50,\r\n                            enabled: false\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'radiobutton',\r\n                    title: 'trust level',\r\n                    name: 'ecmax',\r\n                    values: [\r\n                        {\r\n                            title: '10',\r\n                            value: 10,\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: '30',\r\n                            value: 30,\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: '50',\r\n                            value: 50,\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: '75',\r\n                            value: 75,\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: '100',\r\n                            value: 100,\r\n                            enabled: false\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        };\r\n    };\r\n    /**\r\n     * Search a location by name or keyword\r\n     * @param term Location name or keyword\r\n     * @returns Observable of <SearchResult<Feature>[]\r\n     */\r\n    /**\r\n     * Search a location by name or keyword\r\n     * @param {?} term Location name or keyword\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    IChercheSearchSource.prototype.search = /**\r\n     * Search a location by name or keyword\r\n     * @param {?} term Location name or keyword\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    function (term, options) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var params = this.computeRequestParams(term, options || {});\r\n        return this.http\r\n            .get(this.searchUrl, { params: params })\r\n            .pipe(map((/**\r\n         * @param {?} response\r\n         * @return {?}\r\n         */\r\n        function (response) { return _this.extractResults(response); })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} term\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    IChercheSearchSource.prototype.computeRequestParams = /**\r\n     * @private\r\n     * @param {?} term\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (term, options) {\r\n        return new HttpParams({\r\n            fromObject: Object.assign({\r\n                q: this.computeTerm(term),\r\n                geometry: true,\r\n                type: 'adresses,codes-postaux,municipalites,mrc,regadmin,lieux,entreprises,bornes'\r\n            }, this.params, this.computeOptionsParam(term, options || {}).params)\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    IChercheSearchSource.prototype.extractResults = /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    function (response) {\r\n        var _this = this;\r\n        return response.features.map((/**\r\n         * @param {?} data\r\n         * @return {?}\r\n         */\r\n        function (data) {\r\n            return _this.formatter.formatResult(_this.dataToResult(data));\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    IChercheSearchSource.prototype.dataToResult = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var properties = this.computeProperties(data);\r\n        /** @type {?} */\r\n        var id = [this.getId(), properties.type, properties.code].join('.');\r\n        /** @type {?} */\r\n        var subtitleHtml = data.highlight.title2\r\n            ? ' <small> ' + data.highlight.title2 + '</small>'\r\n            : '';\r\n        return {\r\n            source: this,\r\n            data: {\r\n                type: FEATURE,\r\n                projection: 'EPSG:4326',\r\n                geometry: data.geometry,\r\n                extent: data.bbox,\r\n                properties: properties,\r\n                meta: {\r\n                    id: id,\r\n                    title: data.properties.nom\r\n                }\r\n            },\r\n            meta: {\r\n                dataType: FEATURE,\r\n                id: id,\r\n                title: data.properties.nom,\r\n                titleHtml: data.highlight.title + subtitleHtml,\r\n                icon: 'map-marker'\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    IChercheSearchSource.prototype.computeProperties = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var properties = ObjectUtils.removeKeys(data.properties, IChercheSearchSource.propertiesBlacklist);\r\n        return Object.assign(properties, { type: data.index });\r\n    };\r\n    /**\r\n     * Remove hashtag from query\r\n     * @param term Query with hashtag\r\n     */\r\n    /**\r\n     * Remove hashtag from query\r\n     * @private\r\n     * @param {?} term Query with hashtag\r\n     * @return {?}\r\n     */\r\n    IChercheSearchSource.prototype.computeTerm = /**\r\n     * Remove hashtag from query\r\n     * @private\r\n     * @param {?} term Query with hashtag\r\n     * @return {?}\r\n     */\r\n    function (term) {\r\n        return term.replace(/(#[^\\s]*)/g, '');\r\n    };\r\n    /**\r\n     * Add hashtag to param if valid\r\n     * @param term Query with hashtag\r\n     * @param options TextSearchOptions\r\n     */\r\n    /**\r\n     * Add hashtag to param if valid\r\n     * @private\r\n     * @param {?} term Query with hashtag\r\n     * @param {?} options TextSearchOptions\r\n     * @return {?}\r\n     */\r\n    IChercheSearchSource.prototype.computeOptionsParam = /**\r\n     * Add hashtag to param if valid\r\n     * @private\r\n     * @param {?} term Query with hashtag\r\n     * @param {?} options TextSearchOptions\r\n     * @return {?}\r\n     */\r\n    function (term, options) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var tags = term.match(/(#[^\\s]+)/g);\r\n        if (tags) {\r\n            /** @type {?} */\r\n            var typeValue_1 = '';\r\n            /** @type {?} */\r\n            var hashtagToAdd_1 = false;\r\n            tags.forEach((/**\r\n             * @param {?} value\r\n             * @return {?}\r\n             */\r\n            function (value) {\r\n                if (_super.prototype.hashtagValid.call(_this, _super.prototype.getSettingsValues.call(_this, 'type'), value, true)) {\r\n                    typeValue_1 += value.substring(1) + ',';\r\n                    hashtagToAdd_1 = true;\r\n                }\r\n            }));\r\n            if (hashtagToAdd_1) {\r\n                options.params = Object.assign(options.params || {}, {\r\n                    type: typeValue_1.slice(0, -1)\r\n                });\r\n            }\r\n        }\r\n        return options;\r\n    };\r\n    IChercheSearchSource.id = 'icherche';\r\n    IChercheSearchSource.type = FEATURE;\r\n    IChercheSearchSource.propertiesBlacklist = [];\r\n    IChercheSearchSource.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    IChercheSearchSource.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: undefined, decorators: [{ type: Inject, args: ['options',] }] },\r\n        { type: IChercheSearchResultFormatter, decorators: [{ type: Inject, args: [IChercheSearchResultFormatter,] }] }\r\n    ]; };\r\n    return IChercheSearchSource;\r\n}(SearchSource));\r\n/**\r\n * IChercheReverse search source\r\n */\r\nvar IChercheReverseSearchSource = /** @class */ (function (_super) {\r\n    __extends(IChercheReverseSearchSource, _super);\r\n    function IChercheReverseSearchSource(http, options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.http = http;\r\n        return _this;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IChercheReverseSearchSource.prototype.getId = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return IChercheReverseSearchSource.id;\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    IChercheReverseSearchSource.prototype.getDefaultOptions = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            title: 'Territoire (Géocodage inversé)',\r\n            searchUrl: 'https://geoegl.msp.gouv.qc.ca/apis/territoires/locate',\r\n            settings: [\r\n                {\r\n                    type: 'checkbox',\r\n                    title: 'results type',\r\n                    name: 'type',\r\n                    values: [\r\n                        {\r\n                            title: 'Adresse',\r\n                            value: 'adresses',\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: 'Route',\r\n                            value: 'routes',\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: 'Arrondissement',\r\n                            value: 'arrondissements',\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: 'Municipalité',\r\n                            value: 'municipalites',\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: 'mrc',\r\n                            value: 'mrc',\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: 'Région administrative',\r\n                            value: 'regadmin',\r\n                            enabled: true\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        };\r\n    };\r\n    /**\r\n     * Search a location by coordinates\r\n     * @param lonLat Location coordinates\r\n     * @param distance Search raidus around lonLat\r\n     * @returns Observable of <SearchResult<Feature>[]\r\n     */\r\n    /**\r\n     * Search a location by coordinates\r\n     * @param {?} lonLat Location coordinates\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    IChercheReverseSearchSource.prototype.reverseSearch = /**\r\n     * Search a location by coordinates\r\n     * @param {?} lonLat Location coordinates\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    function (lonLat, options) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var params = this.computeRequestParams(lonLat, options || {});\r\n        return this.http.get(this.searchUrl, { params: params }).pipe(map((/**\r\n         * @param {?} response\r\n         * @return {?}\r\n         */\r\n        function (response) {\r\n            return _this.extractResults(response);\r\n        })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} lonLat\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    IChercheReverseSearchSource.prototype.computeRequestParams = /**\r\n     * @private\r\n     * @param {?} lonLat\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    function (lonLat, options) {\r\n        /** @type {?} */\r\n        var distance = options.distance;\r\n        return new HttpParams({\r\n            fromObject: Object.assign({\r\n                loc: lonLat.join(','),\r\n                buffer: distance ? String(distance) : '100',\r\n                geometry: true\r\n            }, this.params, options.params || {})\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    IChercheReverseSearchSource.prototype.extractResults = /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    function (response) {\r\n        var _this = this;\r\n        return response.features.map((/**\r\n         * @param {?} data\r\n         * @return {?}\r\n         */\r\n        function (data) {\r\n            return _this.dataToResult(data);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    IChercheReverseSearchSource.prototype.dataToResult = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var properties = this.computeProperties(data);\r\n        /** @type {?} */\r\n        var extent = this.computeExtent(data);\r\n        /** @type {?} */\r\n        var id = [this.getId(), properties.type, properties.code].join('.');\r\n        return {\r\n            source: this,\r\n            data: {\r\n                type: FEATURE,\r\n                projection: 'EPSG:4326',\r\n                geometry: data.geometry,\r\n                extent: extent,\r\n                properties: properties,\r\n                meta: {\r\n                    id: id,\r\n                    title: data.properties.nom\r\n                }\r\n            },\r\n            meta: {\r\n                dataType: FEATURE,\r\n                id: id,\r\n                title: data.properties.nom,\r\n                icon: 'map-marker'\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    IChercheReverseSearchSource.prototype.computeProperties = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var properties = ObjectUtils.removeKeys(data.properties, IChercheReverseSearchSource.propertiesBlacklist);\r\n        return properties;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    IChercheReverseSearchSource.prototype.computeExtent = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        return data.bbox\r\n            ? [data.bbox[0], data.bbox[2], data.bbox[1], data.bbox[3]]\r\n            : undefined;\r\n    };\r\n    IChercheReverseSearchSource.id = 'icherchereverse';\r\n    IChercheReverseSearchSource.type = FEATURE;\r\n    IChercheReverseSearchSource.propertiesBlacklist = ['doc_type'];\r\n    IChercheReverseSearchSource.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    IChercheReverseSearchSource.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: undefined, decorators: [{ type: Inject, args: ['options',] }] }\r\n    ]; };\r\n    return IChercheReverseSearchSource;\r\n}(SearchSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * ICherche search result formatter factory\r\n * @ignore\r\n * @param {?} languageService\r\n * @return {?}\r\n */\r\nfunction defaultIChercheSearchResultFormatterFactory(languageService) {\r\n    return new IChercheSearchResultFormatter(languageService);\r\n}\r\n/**\r\n * Function that returns a provider for the ICherche search result formatter\r\n * @return {?}\r\n */\r\nfunction provideDefaultIChercheSearchResultFormatter() {\r\n    return {\r\n        provide: IChercheSearchResultFormatter,\r\n        useFactory: defaultIChercheSearchResultFormatterFactory,\r\n        deps: [LanguageService]\r\n    };\r\n}\r\n/**\r\n * ICherche search source factory\r\n * @ignore\r\n * @param {?} http\r\n * @param {?} config\r\n * @param {?} formatter\r\n * @return {?}\r\n */\r\nfunction ichercheSearchSourceFactory(http, config, formatter) {\r\n    return new IChercheSearchSource(http, config.getConfig(\"searchSources.\" + IChercheSearchSource.id), formatter);\r\n}\r\n/**\r\n * Function that returns a provider for the ICherche search source\r\n * @return {?}\r\n */\r\nfunction provideIChercheSearchSource() {\r\n    return {\r\n        provide: SearchSource,\r\n        useFactory: ichercheSearchSourceFactory,\r\n        multi: true,\r\n        deps: [HttpClient, ConfigService, IChercheSearchResultFormatter]\r\n    };\r\n}\r\n/**\r\n * IChercheReverse search source factory\r\n * @ignore\r\n * @param {?} http\r\n * @param {?} config\r\n * @return {?}\r\n */\r\nfunction ichercheReverseSearchSourceFactory(http, config) {\r\n    return new IChercheReverseSearchSource(http, config.getConfig(\"searchSources.\" + IChercheReverseSearchSource.id));\r\n}\r\n/**\r\n * Function that returns a provider for the IChercheReverse search source\r\n * @return {?}\r\n */\r\nfunction provideIChercheReverseSearchSource() {\r\n    return {\r\n        provide: SearchSource,\r\n        useFactory: ichercheReverseSearchSourceFactory,\r\n        multi: true,\r\n        deps: [HttpClient, ConfigService]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar GoogleLinks = /** @class */ (function () {\r\n    function GoogleLinks() {\r\n    }\r\n    /**\r\n     * @param {?} lon\r\n     * @param {?} lat\r\n     * @return {?}\r\n     */\r\n    GoogleLinks.getGoogleMapsLink = /**\r\n     * @param {?} lon\r\n     * @param {?} lat\r\n     * @return {?}\r\n     */\r\n    function (lon, lat) {\r\n        return 'https://www.google.com/maps?q=' + lat + ',' + lon;\r\n    };\r\n    /**\r\n     * @param {?} lon\r\n     * @param {?} lat\r\n     * @return {?}\r\n     */\r\n    GoogleLinks.getGoogleStreetViewLink = /**\r\n     * @param {?} lon\r\n     * @param {?} lat\r\n     * @return {?}\r\n     */\r\n    function (lon, lat) {\r\n        return 'https://www.google.com/maps?q=&layer=c&cbll=' + lat + ',' + lon;\r\n    };\r\n    return GoogleLinks;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar CoordinatesSearchResultFormatter = /** @class */ (function () {\r\n    function CoordinatesSearchResultFormatter(languageService) {\r\n        this.languageService = languageService;\r\n    }\r\n    /**\r\n     * @param {?} result\r\n     * @return {?}\r\n     */\r\n    CoordinatesSearchResultFormatter.prototype.formatResult = /**\r\n     * @param {?} result\r\n     * @return {?}\r\n     */\r\n    function (result) {\r\n        return result;\r\n    };\r\n    CoordinatesSearchResultFormatter.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    CoordinatesSearchResultFormatter.ctorParameters = function () { return [\r\n        { type: LanguageService }\r\n    ]; };\r\n    return CoordinatesSearchResultFormatter;\r\n}());\r\n/**\r\n * CoordinatesReverse search source\r\n */\r\nvar CoordinatesReverseSearchSource = /** @class */ (function (_super) {\r\n    __extends(CoordinatesReverseSearchSource, _super);\r\n    function CoordinatesReverseSearchSource(options) {\r\n        return _super.call(this, options) || this;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CoordinatesReverseSearchSource.prototype.getId = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return CoordinatesReverseSearchSource.id;\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    CoordinatesReverseSearchSource.prototype.getDefaultOptions = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            title: 'Coordinates'\r\n        };\r\n    };\r\n    /**\r\n     * Search a location by coordinates\r\n     * @param lonLat Location coordinates\r\n     * @param distance Search raidus around lonLat\r\n     * @returns Observable of <SearchResult<Feature>[]\r\n     */\r\n    /**\r\n     * Search a location by coordinates\r\n     * @param {?} lonLat Location coordinates\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    CoordinatesReverseSearchSource.prototype.reverseSearch = /**\r\n     * Search a location by coordinates\r\n     * @param {?} lonLat Location coordinates\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    function (lonLat, options) {\r\n        return of([this.dataToResult(lonLat)]);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    CoordinatesReverseSearchSource.prototype.dataToResult = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        return {\r\n            source: this,\r\n            data: {\r\n                type: FEATURE,\r\n                projection: 'EPSG:4326',\r\n                geometry: {\r\n                    type: 'Point',\r\n                    coordinates: [data[0], data[1]]\r\n                },\r\n                extent: undefined,\r\n                properties: {\r\n                    type: 'point',\r\n                    coordonnees: String(data[0]) + ', ' + String(data[1]),\r\n                    format: 'degrés decimaux',\r\n                    systemeCoordonnees: 'WGS84',\r\n                    GoogleMaps: GoogleLinks.getGoogleMapsLink(data[0], data[1]),\r\n                    GoogleStreetView: GoogleLinks.getGoogleStreetViewLink(data[0], data[1])\r\n                }\r\n            },\r\n            meta: {\r\n                dataType: FEATURE,\r\n                id: '1',\r\n                title: String(data[0]) + ', ' + String(data[1]),\r\n                icon: 'map-marker'\r\n            }\r\n        };\r\n    };\r\n    CoordinatesReverseSearchSource.id = 'coordinatesreverse';\r\n    CoordinatesReverseSearchSource.type = FEATURE;\r\n    CoordinatesReverseSearchSource.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    CoordinatesReverseSearchSource.ctorParameters = function () { return [\r\n        { type: undefined, decorators: [{ type: Inject, args: ['options',] }] }\r\n    ]; };\r\n    return CoordinatesReverseSearchSource;\r\n}(SearchSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * ICherche search result formatter factory\r\n * @ignore\r\n * @param {?} languageService\r\n * @return {?}\r\n */\r\nfunction defaultCoordinatesSearchResultFormatterFactory(languageService) {\r\n    return new CoordinatesSearchResultFormatter(languageService);\r\n}\r\n/**\r\n * Function that returns a provider for the ICherche search result formatter\r\n * @return {?}\r\n */\r\nfunction provideDefaultCoordinatesSearchResultFormatter() {\r\n    return {\r\n        provide: CoordinatesSearchResultFormatter,\r\n        useFactory: defaultCoordinatesSearchResultFormatterFactory,\r\n        deps: [LanguageService]\r\n    };\r\n}\r\n/**\r\n * CoordinatesReverse search source factory\r\n * @ignore\r\n * @param {?} config\r\n * @return {?}\r\n */\r\nfunction CoordinatesReverseSearchSourceFactory(config) {\r\n    return new CoordinatesReverseSearchSource(config.getConfig(\"searchSources.\" + CoordinatesReverseSearchSource.id));\r\n}\r\n/**\r\n * Function that returns a provider for the IChercheReverse search source\r\n * @return {?}\r\n */\r\nfunction provideCoordinatesReverseSearchSource() {\r\n    return {\r\n        provide: SearchSource,\r\n        useFactory: CoordinatesReverseSearchSourceFactory,\r\n        multi: true,\r\n        deps: [ConfigService]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar SEARCH_TYPES = [FEATURE, LAYER];\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This component allows a user to select a search type yo enable. In it's\r\n * current version, only one search type can be selected at once (radio). If\r\n * this component were to support more than one search source enabled (checkbox),\r\n * the searchbar component would require a small change to it's\r\n * placeholder getter. The search source service already supports having\r\n * more than one search source enabled.\r\n */\r\nvar SearchSelectorComponent = /** @class */ (function () {\r\n    function SearchSelectorComponent(searchSourceService) {\r\n        this.searchSourceService = searchSourceService;\r\n        /**\r\n         * List of available search types\r\n         */\r\n        this.searchTypes = SEARCH_TYPES;\r\n        /**\r\n         * Event emitted when the enabled search type changes\r\n         */\r\n        this.change = new EventEmitter();\r\n    }\r\n    /**\r\n     * Enable the first search type if the enabled input is not defined\r\n     * @internal\r\n     */\r\n    /**\r\n     * Enable the first search type if the enabled input is not defined\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    SearchSelectorComponent.prototype.ngOnInit = /**\r\n     * Enable the first search type if the enabled input is not defined\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var initial = this.enabled || this.searchTypes[0];\r\n        this.enableSearchType(initial);\r\n    };\r\n    /**\r\n     * Enable the selected search type\r\n     * @param searchType Search type\r\n     * @internal\r\n     */\r\n    /**\r\n     * Enable the selected search type\r\n     * \\@internal\r\n     * @param {?} searchType Search type\r\n     * @return {?}\r\n     */\r\n    SearchSelectorComponent.prototype.onSearchTypeChange = /**\r\n     * Enable the selected search type\r\n     * \\@internal\r\n     * @param {?} searchType Search type\r\n     * @return {?}\r\n     */\r\n    function (searchType) {\r\n        this.enableSearchType(searchType);\r\n    };\r\n    /**\r\n     * Get a search type's title. The title\r\n     * for all availables search typers needs to be defined in the locale\r\n     * files or an error will be thrown.\r\n     * @param searchType Search type\r\n     * @internal\r\n     */\r\n    /**\r\n     * Get a search type's title. The title\r\n     * for all availables search typers needs to be defined in the locale\r\n     * files or an error will be thrown.\r\n     * \\@internal\r\n     * @param {?} searchType Search type\r\n     * @return {?}\r\n     */\r\n    SearchSelectorComponent.prototype.getSearchTypeTitle = /**\r\n     * Get a search type's title. The title\r\n     * for all availables search typers needs to be defined in the locale\r\n     * files or an error will be thrown.\r\n     * \\@internal\r\n     * @param {?} searchType Search type\r\n     * @return {?}\r\n     */\r\n    function (searchType) {\r\n        return \"search.\" + searchType.toLowerCase() + \".title\";\r\n    };\r\n    /**\r\n     * Emit an event and enable the search sources of the given type.\r\n     * @param searchType Search type\r\n     */\r\n    /**\r\n     * Emit an event and enable the search sources of the given type.\r\n     * @private\r\n     * @param {?} searchType Search type\r\n     * @return {?}\r\n     */\r\n    SearchSelectorComponent.prototype.enableSearchType = /**\r\n     * Emit an event and enable the search sources of the given type.\r\n     * @private\r\n     * @param {?} searchType Search type\r\n     * @return {?}\r\n     */\r\n    function (searchType) {\r\n        this.enabled = searchType;\r\n        this.searchSourceService.enableSourcesByType(searchType);\r\n        this.change.emit(searchType);\r\n    };\r\n    SearchSelectorComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-search-selector',\r\n                    template: \"<div class=\\\"igo-search-selector\\\">\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    class=\\\"igo-search-selector-button\\\"\\r\\n    color=\\\"primary\\\"\\r\\n    tooltip-position=\\\"below\\\"\\r\\n    matTooltipShowDelay=\\\"500\\\"\\r\\n    [matTooltip]=\\\"'igo.geo.search.menu.tooltip' | translate\\\"\\r\\n    [matMenuTriggerFor]=\\\"searchSelectorMenu\\\">\\r\\n    <mat-icon svgIcon=\\\"menu-down\\\"></mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <mat-menu\\r\\n    #searchSelectorMenu=\\\"matMenu\\\"\\r\\n    class=\\\"no-border-radius\\\"\\r\\n    xPosition=\\\"before\\\"\\r\\n    yPosition=\\\"above\\\">\\r\\n    <mat-radio-group\\r\\n      class=\\\"igo-search-selector-radio-group\\\"\\r\\n      [value]=\\\"enabled\\\"\\r\\n      (change)=\\\"onSearchTypeChange($event.value)\\\">\\r\\n      <mat-radio-button *ngFor=\\\"let searchType of searchTypes\\\" [value]=\\\"searchType\\\">\\r\\n        {{getSearchTypeTitle(searchType) | translate}}\\r\\n      </mat-radio-button>\\r\\n    </mat-radio-group>\\r\\n  </mat-menu>\\r\\n\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\".igo-search-selector-button ::ng-deep div.mat-button-ripple-round{border-radius:0}.igo-search-selector-radio-group{display:inline-flex;flex-direction:column}.igo-search-selector-radio-group mat-radio-button{margin:5px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    SearchSelectorComponent.ctorParameters = function () { return [\r\n        { type: SearchSourceService }\r\n    ]; };\r\n    SearchSelectorComponent.propDecorators = {\r\n        searchTypes: [{ type: Input }],\r\n        enabled: [{ type: Input }],\r\n        change: [{ type: Output }]\r\n    };\r\n    return SearchSelectorComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoSearchSelectorModule = /** @class */ (function () {\r\n    function IgoSearchSelectorModule() {\r\n    }\r\n    IgoSearchSelectorModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatMenuModule,\r\n                        MatRadioModule,\r\n                        MatTabsModule,\r\n                        MatCheckboxModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    exports: [SearchSelectorComponent],\r\n                    declarations: [SearchSelectorComponent]\r\n                },] }\r\n    ];\r\n    return IgoSearchSelectorModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * This component allows a user to select a search type yo enable. In it's\r\n * current version, only one search type can be selected at once (radio). If\r\n * this component were to support more than one search source enabled (checkbox),\r\n * the searchbar component would require a small change to it's\r\n * placeholder getter. The search source service already supports having\r\n * more than one search source enabled.\r\n */\r\nvar SearchSettingsComponent = /** @class */ (function () {\r\n    function SearchSettingsComponent(searchSourceService) {\r\n        this.searchSourceService = searchSourceService;\r\n        /**\r\n         * Event emitted when the enabled search type changes\r\n         */\r\n        this.change = new EventEmitter();\r\n    }\r\n    /**\r\n     * Get all search sources\r\n     * @internal\r\n     */\r\n    /**\r\n     * Get all search sources\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    SearchSettingsComponent.prototype.getSearchSources = /**\r\n     * Get all search sources\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return this.searchSourceService.getSources();\r\n    };\r\n    /**\r\n     * Triggered when a setting is checked (checkbox style)\r\n     * @internal\r\n     */\r\n    /**\r\n     * Triggered when a setting is checked (checkbox style)\r\n     * \\@internal\r\n     * @param {?} event\r\n     * @param {?} source\r\n     * @param {?} setting\r\n     * @param {?} settingValue\r\n     * @return {?}\r\n     */\r\n    SearchSettingsComponent.prototype.settingsValueCheckedCheckbox = /**\r\n     * Triggered when a setting is checked (checkbox style)\r\n     * \\@internal\r\n     * @param {?} event\r\n     * @param {?} source\r\n     * @param {?} setting\r\n     * @param {?} settingValue\r\n     * @return {?}\r\n     */\r\n    function (event, source, setting, settingValue) {\r\n        settingValue.enabled = event.checked;\r\n        source.setParamFromSetting(setting);\r\n    };\r\n    /**\r\n     * Triggered when a setting is checked (radiobutton style)\r\n     * @internal\r\n     */\r\n    /**\r\n     * Triggered when a setting is checked (radiobutton style)\r\n     * \\@internal\r\n     * @param {?} event\r\n     * @param {?} source\r\n     * @param {?} setting\r\n     * @param {?} settingValue\r\n     * @return {?}\r\n     */\r\n    SearchSettingsComponent.prototype.settingsValueCheckedRadioButton = /**\r\n     * Triggered when a setting is checked (radiobutton style)\r\n     * \\@internal\r\n     * @param {?} event\r\n     * @param {?} source\r\n     * @param {?} setting\r\n     * @param {?} settingValue\r\n     * @return {?}\r\n     */\r\n    function (event, source, setting, settingValue) {\r\n        setting.values.forEach((/**\r\n         * @param {?} conf\r\n         * @return {?}\r\n         */\r\n        function (conf) {\r\n            if (conf.value !== settingValue.value) {\r\n                conf.enabled = !event.source.checked;\r\n            }\r\n            else {\r\n                conf.enabled = event.source.checked;\r\n            }\r\n        }));\r\n        source.setParamFromSetting(setting);\r\n    };\r\n    /**\r\n     * @param {?} event\r\n     * @param {?} source\r\n     * @return {?}\r\n     */\r\n    SearchSettingsComponent.prototype.onCheckSearchSource = /**\r\n     * @param {?} event\r\n     * @param {?} source\r\n     * @return {?}\r\n     */\r\n    function (event, source) {\r\n        source.enabled = event.checked;\r\n    };\r\n    SearchSettingsComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-search-settings',\r\n                    template: \"<div class=\\\"igo-search-settings\\\">\\r\\n\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    class=\\\"igo-search-settings-button\\\"\\r\\n    color=\\\"primary\\\"\\r\\n    tooltip-position=\\\"below\\\"\\r\\n    matTooltipShowDelay=\\\"500\\\"\\r\\n    [matTooltip]=\\\"'igo.geo.search.menu.tooltip' | translate\\\"\\r\\n    [matMenuTriggerFor]=\\\"searchSettingsMenu\\\">\\r\\n    <mat-icon svgIcon=\\\"settings\\\"></mat-icon>\\r\\n  </button>\\r\\n  <mat-menu\\r\\n    #searchSettingsMenu=\\\"matMenu\\\"\\r\\n    class=\\\"no-border-radius\\\">\\r\\n      <ng-container *ngFor=\\\"let source of getSearchSources()\\\">\\r\\n        <span class=\\\"igo-search-settings-search-source\\\">\\r\\n          <mat-checkbox\\r\\n            class=\\\"igo-search-settings-checkbox\\\"\\r\\n            [checked]=\\\"source.enabled\\\"\\r\\n            [value]=\\\"source\\\"\\r\\n            (click)=\\\"$event.stopPropagation()\\\"\\r\\n            (change)=\\\"onCheckSearchSource($event, source)\\\">\\r\\n          </mat-checkbox>\\r\\n          <button *ngIf=\\\"source.settings.length\\u00A0>\\u00A00\\\"\\r\\n            [matMenuTriggerFor]=\\\"sub_menu\\\"\\r\\n            mat-menu-item>{{source.title}}\\r\\n          </button>\\r\\n          <button\\r\\n            mat-menu-item\\r\\n            *ngIf=\\\"source.settings.length\\u00A0===\\u00A00\\\">\\r\\n            {{source.title}}\\r\\n          </button>\\r\\n        </span>\\r\\n          <mat-menu #sub_menu=\\\"matMenu\\\">\\r\\n            <ng-container *ngFor=\\\"let setting of source.settings\\\">\\r\\n              <button\\r\\n                  mat-menu-item\\r\\n                  [matMenuTriggerFor]=\\\"test_sub_menu\\\">\\r\\n                {{'igo.geo.search.searchSources.settings.'+ setting.title | translate}}\\r\\n              </button>\\r\\n              <mat-menu #test_sub_menu=\\\"matMenu\\\"\\r\\n                [ngSwitch]=\\\"setting.type\\\"\\r\\n                yPosition=\\\"above\\\">\\r\\n                <span *ngSwitchCase=\\\"'radiobutton'\\\">\\r\\n                  <mat-radio-group\\r\\n                    class=\\\"igo-search-settings-radio-group\\\"\\r\\n                    [value]=\\\"setting\\\">\\r\\n                    <mat-radio-button *ngFor=\\\"let settingValue of setting.values\\\"\\r\\n                      [value]=\\\"settingValue\\\"\\r\\n                      [checked]=\\\"settingValue.enabled\\\"\\r\\n                      (click)=\\\"$event.stopPropagation()\\\"\\r\\n                      (change)=\\\"settingsValueCheckedRadioButton($event, source, setting, settingValue)\\\">\\r\\n                      {{settingValue.title}}\\r\\n                    </mat-radio-button>\\r\\n                  </mat-radio-group>\\r\\n                </span>\\r\\n                <span *ngSwitchCase=\\\"'checkbox'\\\">\\r\\n                  <mat-checkbox class=\\\"igo-search-settings-radio-group\\\"\\r\\n                    class=\\\"mat-menu-item\\\"\\r\\n                    [checked]=\\\"settingValue.enabled\\\"\\r\\n                    [value]=\\\"setting\\\"\\r\\n                    (click)=\\\"$event.stopPropagation()\\\"\\r\\n                    (change)=\\\"settingsValueCheckedCheckbox($event, source, setting, settingValue)\\\"\\r\\n                    *ngFor=\\\"let settingValue of setting.values\\\">{{settingValue.title}}\\r\\n                  </mat-checkbox>\\r\\n                </span>\\r\\n              </mat-menu>\\r\\n            </ng-container>\\r\\n          </mat-menu>\\r\\n      </ng-container>\\r\\n  </mat-menu>\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\".igo-search-settings-button ::ng-deep div.mat-button-ripple-round{border-radius:0}.igo-search-settings-radio-group{display:inline-flex;flex-direction:column}.igo-search-settings-radio-group mat-radio-button{margin:5px}.igo-search-settings-checkbox mat-radio-button{display:inline-flex}.igo-search-settings-search-source{display:inline-flex;width:100%}.igo-search-settings-search-source mat-checkbox{display:inline-flex;margin-left:5px;margin-right:5px}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    SearchSettingsComponent.ctorParameters = function () { return [\r\n        { type: SearchSourceService }\r\n    ]; };\r\n    SearchSettingsComponent.propDecorators = {\r\n        change: [{ type: Output }]\r\n    };\r\n    return SearchSettingsComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoSearchSettingsModule = /** @class */ (function () {\r\n    function IgoSearchSettingsModule() {\r\n    }\r\n    IgoSearchSettingsModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    declarations: [SearchSettingsComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatMenuModule,\r\n                        MatRadioModule,\r\n                        MatCheckboxModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    exports: [SearchSettingsComponent]\r\n                },] }\r\n    ];\r\n    return IgoSearchSettingsModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Searchbar that triggers a research in all search sources enabled.\r\n * If the store input is defined, the search results will be loaded\r\n * into that store. An event is always emitted when a research is completed.\r\n */\r\nvar SearchBarComponent = /** @class */ (function () {\r\n    function SearchBarComponent(searchService) {\r\n        this.searchService = searchService;\r\n        /**\r\n         * Invalid keys\r\n         */\r\n        this.invalidKeys = ['Control', 'Shift', 'Alt'];\r\n        /**\r\n         * Search term stream\r\n         */\r\n        this.stream$ = new Subject();\r\n        /**\r\n         * Search term\r\n         */\r\n        this.term = '';\r\n        /**\r\n         * Whether a float label should be displayed\r\n         */\r\n        this.floatLabel = 'never';\r\n        /**\r\n         * Whether this component is disabled\r\n         */\r\n        this.disabled = false;\r\n        /**\r\n         * Icons color (search and clear)\r\n         */\r\n        this.color = 'primary';\r\n        /**\r\n         * Debounce time between each keystroke\r\n         */\r\n        this.debounce = 300;\r\n        /**\r\n         * Minimum term length required to trigger a research\r\n         */\r\n        this.minLength = 2;\r\n        /**\r\n         * List of available search types\r\n         */\r\n        this.searchTypes = SEARCH_TYPES;\r\n        /**\r\n         * Event emitted when the search term changes\r\n         */\r\n        this.change = new EventEmitter();\r\n        /**\r\n         * Event emitted when a research is completed\r\n         */\r\n        this.search = new EventEmitter();\r\n        /**\r\n         * Event emitted when the search type changes\r\n         */\r\n        this.searchTypeChange = new EventEmitter();\r\n        this._placeholder = '';\r\n    }\r\n    Object.defineProperty(SearchBarComponent.prototype, \"emptyClass\", {\r\n        /**\r\n         * Host's empty class\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Host's empty class\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.empty;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchBarComponent.prototype, \"empty\", {\r\n        /**\r\n         * Whether the search bar is empty\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Whether the search bar is empty\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.term.length === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchBarComponent.prototype, \"placeholder\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.empty ? this._placeholder : '';\r\n        },\r\n        /**\r\n         * Search bar palceholder\r\n         * @internal\r\n         */\r\n        set: /**\r\n         * Search bar palceholder\r\n         * \\@internal\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._placeholder = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Subscribe to the search term stream and trigger researches\r\n     * @internal\r\n     */\r\n    /**\r\n     * Subscribe to the search term stream and trigger researches\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.ngOnInit = /**\r\n     * Subscribe to the search term stream and trigger researches\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.stream$$ = this.stream$\r\n            .pipe(debounce((/**\r\n         * @param {?} term\r\n         * @return {?}\r\n         */\r\n        function (term) {\r\n            return term === '' ? EMPTY : timer(300);\r\n        })), distinctUntilChanged())\r\n            .subscribe((/**\r\n         * @param {?} term\r\n         * @return {?}\r\n         */\r\n        function (term) { return _this.onTermChange(term); }));\r\n    };\r\n    /**\r\n     * Unsubscribe to the search term stream\r\n     * @internal\r\n     */\r\n    /**\r\n     * Unsubscribe to the search term stream\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.ngOnDestroy = /**\r\n     * Unsubscribe to the search term stream\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.stream$$.unsubscribe();\r\n    };\r\n    /**\r\n     * When a user types, validates the key and send it into the\r\n     * stream if it's valid\r\n     * @param event Keyboard event\r\n     * @internal\r\n     */\r\n    /**\r\n     * When a user types, validates the key and send it into the\r\n     * stream if it's valid\r\n     * \\@internal\r\n     * @param {?} event Keyboard event\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.onKeyup = /**\r\n     * When a user types, validates the key and send it into the\r\n     * stream if it's valid\r\n     * \\@internal\r\n     * @param {?} event Keyboard event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        /** @type {?} */\r\n        var key = ((/** @type {?} */ (event.target))).value;\r\n        if (!this.keyIsValid(key)) {\r\n            return;\r\n        }\r\n        this.setTerm(key);\r\n    };\r\n    /**\r\n     * Clear the stream and the input\r\n     * @internal\r\n     */\r\n    /**\r\n     * Clear the stream and the input\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.onClearButtonClick = /**\r\n     * Clear the stream and the input\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.clear();\r\n    };\r\n    /**\r\n     * Update the placeholder with the enabled search type. The placeholder\r\n     * for all availables search typers needs to be defined in the locale\r\n     * files or an error will be thrown.\r\n     * @param searchType Enabled search type\r\n     * @internal\r\n     */\r\n    /**\r\n     * Update the placeholder with the enabled search type. The placeholder\r\n     * for all availables search typers needs to be defined in the locale\r\n     * files or an error will be thrown.\r\n     * \\@internal\r\n     * @param {?} searchType Enabled search type\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.onSearchTypeChange = /**\r\n     * Update the placeholder with the enabled search type. The placeholder\r\n     * for all availables search typers needs to be defined in the locale\r\n     * files or an error will be thrown.\r\n     * \\@internal\r\n     * @param {?} searchType Enabled search type\r\n     * @return {?}\r\n     */\r\n    function (searchType) {\r\n        this.searchTypeChange.emit(searchType);\r\n        this.placeholder = \"search.\" + searchType.toLowerCase() + \".placeholder\";\r\n        this.doSearch(this.term);\r\n    };\r\n    /**\r\n     * Send the term into the stream only if this component is not disabled\r\n     * @param term Search term\r\n     */\r\n    /**\r\n     * Send the term into the stream only if this component is not disabled\r\n     * @param {?} term Search term\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.setTerm = /**\r\n     * Send the term into the stream only if this component is not disabled\r\n     * @param {?} term Search term\r\n     * @return {?}\r\n     */\r\n    function (term) {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        this.term = term;\r\n        if (term.replace(/(#[^\\s]*)/g, '').trim().length >= this.minLength ||\r\n            term.replace(/(#[^\\s]*)/g, '').trim().length === 0) {\r\n            this.stream$.next(term);\r\n        }\r\n    };\r\n    /**\r\n     * Clear the stream and the input\r\n     */\r\n    /**\r\n     * Clear the stream and the input\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.clear = /**\r\n     * Clear the stream and the input\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.term = '';\r\n        this.stream$.next(this.term);\r\n        this.input.nativeElement.focus();\r\n    };\r\n    /**\r\n     * Validate if a given key stroke is a valid input\r\n     */\r\n    /**\r\n     * Validate if a given key stroke is a valid input\r\n     * @private\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.keyIsValid = /**\r\n     * Validate if a given key stroke is a valid input\r\n     * @private\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (key) {\r\n        return this.invalidKeys.indexOf(key) === -1;\r\n    };\r\n    /**\r\n     * When the search term changes, emit an event and trigger a\r\n     * research in every enabled search sources.\r\n     * @param term Search term\r\n     */\r\n    /**\r\n     * When the search term changes, emit an event and trigger a\r\n     * research in every enabled search sources.\r\n     * @private\r\n     * @param {?} term Search term\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.onTermChange = /**\r\n     * When the search term changes, emit an event and trigger a\r\n     * research in every enabled search sources.\r\n     * @private\r\n     * @param {?} term Search term\r\n     * @return {?}\r\n     */\r\n    function (term) {\r\n        this.change.emit(term);\r\n        this.doSearch(term);\r\n    };\r\n    /**\r\n     * Execute the search\r\n     * @param term Search term\r\n     */\r\n    /**\r\n     * Execute the search\r\n     * @private\r\n     * @param {?} term Search term\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.doSearch = /**\r\n     * Execute the search\r\n     * @private\r\n     * @param {?} term Search term\r\n     * @return {?}\r\n     */\r\n    function (term) {\r\n        var _this = this;\r\n        if (term === undefined || term.replace(/(#[^\\s]*)/g, '').trim() === '') {\r\n            if (this.store !== undefined) {\r\n                this.store.clear();\r\n            }\r\n            return;\r\n        }\r\n        if (this.store !== undefined) {\r\n            this.store.softClear();\r\n        }\r\n        /** @type {?} */\r\n        var researches = this.searchService.search(term);\r\n        researches.map((/**\r\n         * @param {?} research\r\n         * @return {?}\r\n         */\r\n        function (research) {\r\n            research.request.subscribe((/**\r\n             * @param {?} results\r\n             * @return {?}\r\n             */\r\n            function (results) {\r\n                _this.onResearchCompleted(research, results);\r\n            }));\r\n        }));\r\n    };\r\n    /**\r\n     * When a research  is completed, emit an event and update\r\n     * the store's items.\r\n     * @param research Research\r\n     * @param results Research results\r\n     */\r\n    /**\r\n     * When a research  is completed, emit an event and update\r\n     * the store's items.\r\n     * @private\r\n     * @param {?} research Research\r\n     * @param {?} results Research results\r\n     * @return {?}\r\n     */\r\n    SearchBarComponent.prototype.onResearchCompleted = /**\r\n     * When a research  is completed, emit an event and update\r\n     * the store's items.\r\n     * @private\r\n     * @param {?} research Research\r\n     * @param {?} results Research results\r\n     * @return {?}\r\n     */\r\n    function (research, results) {\r\n        this.search.emit({ research: research, results: results });\r\n        if (this.store !== undefined) {\r\n            /** @type {?} */\r\n            var newResults = this.store.entities$.value\r\n                .filter((/**\r\n             * @param {?} result\r\n             * @return {?}\r\n             */\r\n            function (result) { return result.source !== research.source; }))\r\n                .concat(results);\r\n            this.store.load(newResults);\r\n        }\r\n    };\r\n    SearchBarComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-search-bar',\r\n                    template: \"<div class=\\\"igo-search-bar-container\\\">\\r\\n  <mat-form-field [floatLabel]=\\\"floatLabel\\\">\\r\\n    <input\\r\\n      #input\\r\\n      matInput\\r\\n      autocomplete=\\\"off\\\"\\r\\n      [ngClass]=\\\"{'hasSearchIcon': searchIcon}\\\"\\r\\n      [disabled]=\\\"disabled\\\"\\r\\n      [placeholder]=\\\"placeholder | translate\\\"\\r\\n      [ngModel]=\\\"term\\\"\\r\\n      (keyup)=\\\"onKeyup($event)\\\"\\r\\n      (touchend)=\\\"onKeyup($event)\\\">\\r\\n  </mat-form-field>\\r\\n\\r\\n  <div class=\\\"search-bar-buttons\\\">\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      [color]=\\\"color\\\"\\r\\n      *ngIf=\\\"searchIcon !== undefined\\\">\\r\\n      <mat-icon svgIcon=\\\"{{searchIcon}}\\\"></mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      [color]=\\\"color\\\"\\r\\n      (click)=\\\"onClearButtonClick()\\\"\\r\\n      *ngIf=\\\"!empty\\\">\\r\\n      <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <igo-search-selector\\r\\n      [searchTypes]=\\\"searchTypes\\\"\\r\\n      (change)=\\\"onSearchTypeChange($event)\\\">\\r\\n    </igo-search-selector>\\r\\n\\r\\n    <igo-search-settings></igo-search-settings>\\r\\n  </div>\\r\\n\\r\\n\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\":host ::ng-deep .mat-form-field{padding:0 5px}:host ::ng-deep .mat-form-field-wrapper{margin-bottom:-1.5em}:host ::ng-deep span.mat-form-field-label-wrapper{top:-20px}:host ::ng-deep div.mat-form-field-infix{left:5px;right:5px;padding:0 0 12px!important}:host ::ng-deep div.mat-form-field-underline{display:none}.igo-search-bar-container{position:relative;width:100%;display:inline-flex;overflow:hidden}.igo-search-bar-container>mat-form-field{width:calc(100% - (2 * 40px))}:host.empty .igo-search-bar-container>mat-form-field{width:calc(100% - 40px)}.search-bar-buttons{position:relative;right:0;display:inline-flex;top:0}.search-bar-buttons>button:nth-child(2)::before{content:'';left:0;top:5px;border-right:1px solid #ddd;height:28px}igo-search-selector,igo-search-settings{background-color:#fff;top:0;border-radius:0}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    SearchBarComponent.ctorParameters = function () { return [\r\n        { type: SearchService }\r\n    ]; };\r\n    SearchBarComponent.propDecorators = {\r\n        term: [{ type: Input }],\r\n        floatLabel: [{ type: Input }],\r\n        disabled: [{ type: Input }],\r\n        color: [{ type: Input }],\r\n        debounce: [{ type: Input }],\r\n        minLength: [{ type: Input }],\r\n        searchIcon: [{ type: Input }],\r\n        store: [{ type: Input }],\r\n        searchTypes: [{ type: Input }],\r\n        change: [{ type: Output }],\r\n        search: [{ type: Output }],\r\n        searchTypeChange: [{ type: Output }],\r\n        input: [{ type: ViewChild, args: ['input',] }],\r\n        emptyClass: [{ type: HostBinding, args: ['class.empty',] }]\r\n    };\r\n    return SearchBarComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar SearchUrlParamDirective = /** @class */ (function () {\r\n    function SearchUrlParamDirective(component, ref, route) {\r\n        this.component = component;\r\n        this.ref = ref;\r\n        this.route = route;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SearchUrlParamDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.route && this.route.options.searchKey) {\r\n            this.route.queryParams.subscribe((/**\r\n             * @param {?} params\r\n             * @return {?}\r\n             */\r\n            function (params) {\r\n                /** @type {?} */\r\n                var searchParams = params[(/** @type {?} */ (_this.route.options.searchKey))];\r\n                if (searchParams) {\r\n                    _this.component.setTerm(searchParams);\r\n                    _this.ref.detectChanges();\r\n                }\r\n            }));\r\n        }\r\n    };\r\n    SearchUrlParamDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoSearchUrlParam]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    SearchUrlParamDirective.ctorParameters = function () { return [\r\n        { type: SearchBarComponent, decorators: [{ type: Self }] },\r\n        { type: ChangeDetectorRef },\r\n        { type: RouteService, decorators: [{ type: Optional }] }\r\n    ]; };\r\n    return SearchUrlParamDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoSearchBarModule = /** @class */ (function () {\r\n    function IgoSearchBarModule() {\r\n    }\r\n    IgoSearchBarModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        MatMenuModule,\r\n                        MatRadioModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        IgoLanguageModule,\r\n                        IgoSearchSelectorModule,\r\n                        IgoSearchSettingsModule\r\n                    ],\r\n                    exports: [\r\n                        SearchBarComponent,\r\n                    ],\r\n                    declarations: [\r\n                        SearchBarComponent,\r\n                        SearchUrlParamDirective\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoSearchBarModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar SearchResultMode = {\r\n    Grouped: 'grouped',\r\n    Flat: 'flat',\r\n};\r\n/**\r\n * List of search results with focus and selection capabilities.\r\n * This component is dumb and only emits events.\r\n */\r\nvar SearchResultsComponent = /** @class */ (function () {\r\n    function SearchResultsComponent(cdRef) {\r\n        this.cdRef = cdRef;\r\n        /**\r\n         * Reference to the SearchResultMode enum\r\n         * \\@internal\r\n         */\r\n        this.searchResultMode = SearchResultMode;\r\n        /**\r\n         * Search results display mode\r\n         */\r\n        this.mode = SearchResultMode.Grouped;\r\n        /**\r\n         * Event emitted when a result is focused\r\n         */\r\n        this.resultFocus = new EventEmitter();\r\n        /**\r\n         * Event emitted when a result is selected\r\n         */\r\n        this.resultSelect = new EventEmitter();\r\n    }\r\n    Object.defineProperty(SearchResultsComponent.prototype, \"results$\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            if (this._results$ === undefined) {\r\n                this._results$ = this.liftResults();\r\n            }\r\n            return this._results$;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Bind the search results store to the watcher\r\n     * @internal\r\n     */\r\n    /**\r\n     * Bind the search results store to the watcher\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    SearchResultsComponent.prototype.ngOnInit = /**\r\n     * Bind the search results store to the watcher\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.watcher = new EntityStoreWatcher(this.store, this.cdRef);\r\n    };\r\n    /**\r\n     * Unbind the search results store from the watcher\r\n     * @internal\r\n     */\r\n    /**\r\n     * Unbind the search results store from the watcher\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    SearchResultsComponent.prototype.ngOnDestroy = /**\r\n     * Unbind the search results store from the watcher\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.watcher.destroy();\r\n    };\r\n    /**\r\n     * When a result is focused, update it's state in the store and emit\r\n     * an event.\r\n     * @param result Search result\r\n     * @internal\r\n     */\r\n    /**\r\n     * When a result is focused, update it's state in the store and emit\r\n     * an event.\r\n     * \\@internal\r\n     * @param {?} result Search result\r\n     * @return {?}\r\n     */\r\n    SearchResultsComponent.prototype.onResultFocus = /**\r\n     * When a result is focused, update it's state in the store and emit\r\n     * an event.\r\n     * \\@internal\r\n     * @param {?} result Search result\r\n     * @return {?}\r\n     */\r\n    function (result) {\r\n        this.store.state.update(result, { focused: true }, true);\r\n        this.resultFocus.emit(result);\r\n    };\r\n    /**\r\n     * Compute a group title\r\n     * @param group Search results group\r\n     * @returns Group title\r\n     * @internal\r\n     */\r\n    /**\r\n     * Compute a group title\r\n     * \\@internal\r\n     * @param {?} group Search results group\r\n     * @return {?} Group title\r\n     */\r\n    SearchResultsComponent.prototype.computeGroupTitle = /**\r\n     * Compute a group title\r\n     * \\@internal\r\n     * @param {?} group Search results group\r\n     * @return {?} Group title\r\n     */\r\n    function (group) {\r\n        /** @type {?} */\r\n        var parts = [group.source.title];\r\n        /** @type {?} */\r\n        var count = group.results.length;\r\n        if (count > 1) {\r\n            parts.push(\"(\" + count + \")\");\r\n        }\r\n        return parts.join(' ');\r\n    };\r\n    /**\r\n     * When a result is selected, update it's state in the store and emit\r\n     * an event. A selected result is also considered focused\r\n     * @param result Search result\r\n     * @internal\r\n     */\r\n    /**\r\n     * When a result is selected, update it's state in the store and emit\r\n     * an event. A selected result is also considered focused\r\n     * \\@internal\r\n     * @param {?} result Search result\r\n     * @return {?}\r\n     */\r\n    SearchResultsComponent.prototype.onResultSelect = /**\r\n     * When a result is selected, update it's state in the store and emit\r\n     * an event. A selected result is also considered focused\r\n     * \\@internal\r\n     * @param {?} result Search result\r\n     * @return {?}\r\n     */\r\n    function (result) {\r\n        this.store.state.update(result, {\r\n            focused: true,\r\n            selected: true\r\n        }, true);\r\n        this.resultSelect.emit(result);\r\n    };\r\n    /**\r\n     * Return an observable of the search results, grouped by search source\r\n     * @returns Observable of grouped search results\r\n     * @internal\r\n     */\r\n    /**\r\n     * Return an observable of the search results, grouped by search source\r\n     * \\@internal\r\n     * @private\r\n     * @return {?} Observable of grouped search results\r\n     */\r\n    SearchResultsComponent.prototype.liftResults = /**\r\n     * Return an observable of the search results, grouped by search source\r\n     * \\@internal\r\n     * @private\r\n     * @return {?} Observable of grouped search results\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        return this.store.view.all$().pipe(debounce((/**\r\n         * @param {?} results\r\n         * @return {?}\r\n         */\r\n        function (results) {\r\n            return results.length === 0 ? EMPTY : timer(200);\r\n        })), map((/**\r\n         * @param {?} results\r\n         * @return {?}\r\n         */\r\n        function (results) {\r\n            return _this.groupResults(results.sort(_this.sortByOrder));\r\n        })));\r\n    };\r\n    /**\r\n     * Sort the results by display order.\r\n     * @param r1 First result\r\n     * @param r2 Second result\r\n     */\r\n    /**\r\n     * Sort the results by display order.\r\n     * @private\r\n     * @param {?} r1 First result\r\n     * @param {?} r2 Second result\r\n     * @return {?}\r\n     */\r\n    SearchResultsComponent.prototype.sortByOrder = /**\r\n     * Sort the results by display order.\r\n     * @private\r\n     * @param {?} r1 First result\r\n     * @param {?} r2 Second result\r\n     * @return {?}\r\n     */\r\n    function (r1, r2) {\r\n        return r1.source.displayOrder - r2.source.displayOrder;\r\n    };\r\n    /**\r\n     * Group results by search source\r\n     * @param results Search results from all sources\r\n     * @returns Search results grouped by source\r\n     */\r\n    /**\r\n     * Group results by search source\r\n     * @private\r\n     * @param {?} results Search results from all sources\r\n     * @return {?} Search results grouped by source\r\n     */\r\n    SearchResultsComponent.prototype.groupResults = /**\r\n     * Group results by search source\r\n     * @private\r\n     * @param {?} results Search results from all sources\r\n     * @return {?} Search results grouped by source\r\n     */\r\n    function (results) {\r\n        /** @type {?} */\r\n        var grouped = new Map();\r\n        results.forEach((/**\r\n         * @param {?} result\r\n         * @return {?}\r\n         */\r\n        function (result) {\r\n            /** @type {?} */\r\n            var source = result.source;\r\n            /** @type {?} */\r\n            var sourceResults = grouped.get(source);\r\n            if (sourceResults === undefined) {\r\n                sourceResults = [];\r\n                grouped.set(source, sourceResults);\r\n            }\r\n            sourceResults.push(result);\r\n        }));\r\n        return Array.from(grouped.keys()).map((/**\r\n         * @param {?} source\r\n         * @return {?}\r\n         */\r\n        function (source) {\r\n            return { source: source, results: grouped.get(source) };\r\n        }));\r\n    };\r\n    SearchResultsComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-search-results',\r\n                    template: \"<igo-list [navigation]=\\\"true\\\">\\r\\n  <ng-template\\r\\n    #groupTemplate\\r\\n    ngFor let-group\\r\\n    [ngForOf]=\\\"results$ | async\\\">\\r\\n\\r\\n    <igo-collapsible\\r\\n      *ngIf=\\\"mode === searchResultMode.Grouped; else flatTemplate\\\"\\r\\n      [title]=\\\"computeGroupTitle(group)\\\">\\r\\n      <ng-container *ngTemplateOutlet=\\\"storeItemTemplate; context: {results: group.results}\\\"></ng-container>\\r\\n    </igo-collapsible>\\r\\n\\r\\n    <ng-template #flatTemplate>\\r\\n      <ng-container *ngTemplateOutlet=\\\"storeItemTemplate; context: {results: group.results}\\\"></ng-container>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template #storeItemTemplate let-results=\\\"results\\\">\\r\\n      <ng-template ngFor let-result [ngForOf]=\\\"results\\\">\\r\\n        <igo-search-results-item\\r\\n          igoListItem\\r\\n          color=\\\"accent\\\"\\r\\n          [result]=\\\"result\\\"\\r\\n          [focused]=\\\"store.state.get(result).focused\\\"\\r\\n          [selected]=\\\"store.state.get(result).selected\\\"\\r\\n          (focus)=\\\"onResultFocus(result)\\\"\\r\\n          (select)=\\\"onResultSelect(result)\\\">\\r\\n        </igo-search-results-item>\\r\\n      </ng-template>\\r\\n    </ng-template>\\r\\n\\r\\n  </ng-template>\\r\\n</igo-list>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    SearchResultsComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    SearchResultsComponent.propDecorators = {\r\n        store: [{ type: Input }],\r\n        mode: [{ type: Input }],\r\n        resultFocus: [{ type: Output }],\r\n        resultSelect: [{ type: Output }]\r\n    };\r\n    return SearchResultsComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Search results list item\r\n */\r\nvar SearchResultsItemComponent = /** @class */ (function () {\r\n    function SearchResultsItemComponent() {\r\n    }\r\n    Object.defineProperty(SearchResultsItemComponent.prototype, \"title\", {\r\n        /**\r\n         * Search result title\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Search result title\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return getEntityTitle(this.result);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchResultsItemComponent.prototype, \"titleHtml\", {\r\n        /**\r\n         * Search result HTML title\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Search result HTML title\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return getEntityTitleHtml(this.result);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchResultsItemComponent.prototype, \"icon\", {\r\n        /**\r\n         * Search result icon\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Search result icon\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return getEntityIcon(this.result);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SearchResultsItemComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-search-results-item',\r\n                    template: \"<mat-list-item>\\r\\n  <mat-icon *ngIf=\\\"icon\\\" mat-list-avatar svgIcon=\\\"{{icon}}\\\"></mat-icon>\\r\\n  <h4 matLine *ngIf=\\\"titleHtml\\\" [innerHtml]=\\\"titleHtml\\\"></h4>\\r\\n  <h4 matLine *ngIf=\\\"!titleHtml\\\">{{title}}</h4>\\r\\n</mat-list-item>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"h4 :ng-deep small{color:\\\"#8C8C8C\\\"}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    SearchResultsItemComponent.ctorParameters = function () { return []; };\r\n    SearchResultsItemComponent.propDecorators = {\r\n        result: [{ type: Input }]\r\n    };\r\n    return SearchResultsItemComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoSearchResultsModule = /** @class */ (function () {\r\n    function IgoSearchResultsModule() {\r\n    }\r\n    IgoSearchResultsModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatTooltipModule,\r\n                        MatIconModule,\r\n                        MatListModule,\r\n                        IgoCollapsibleModule,\r\n                        IgoListModule,\r\n                        IgoLanguageModule\r\n                    ],\r\n                    exports: [\r\n                        SearchResultsComponent\r\n                    ],\r\n                    declarations: [\r\n                        SearchResultsComponent,\r\n                        SearchResultsItemComponent\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoSearchResultsModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoSearchModule = /** @class */ (function () {\r\n    function IgoSearchModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoSearchModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoSearchModule,\r\n            providers: [\r\n                provideSearchSourceService(),\r\n                provideDefaultIChercheSearchResultFormatter(),\r\n                provideDefaultCoordinatesSearchResultFormatter()\r\n            ]\r\n        };\r\n    };\r\n    IgoSearchModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoSearchBarModule,\r\n                        IgoSearchSelectorModule,\r\n                        IgoSearchResultsModule,\r\n                        IgoSearchSettingsModule\r\n                    ],\r\n                    exports: [\r\n                        IgoSearchBarModule,\r\n                        IgoSearchSelectorModule,\r\n                        IgoSearchResultsModule,\r\n                        IgoSearchSettingsModule\r\n                    ],\r\n                    declarations: []\r\n                },] }\r\n    ];\r\n    return IgoSearchModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ToastComponent = /** @class */ (function () {\r\n    function ToastComponent() {\r\n        this.format = new OlGeoJSON();\r\n        this.opened = new EventEmitter();\r\n    }\r\n    Object.defineProperty(ToastComponent.prototype, \"expanded\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._expanded;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.state = value ? 'expanded' : 'collapsed';\r\n            this._expanded = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ToastComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._map;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._map = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ToastComponent.prototype, \"feature\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._feature;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._feature = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ToastComponent.prototype, \"title\", {\r\n        /**\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return getEntityTitle(this.feature); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ToastComponent.prototype.toggle = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.expanded = !this.expanded;\r\n        this.opened.emit(this.expanded);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ToastComponent.prototype.zoomToFeatureExtent = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.feature.geometry) {\r\n            /** @type {?} */\r\n            var olFeature = this.format.readFeature(this.feature, {\r\n                dataProjection: this.feature.projection,\r\n                featureProjection: this.map.projection\r\n            });\r\n            moveToOlFeatures(this.map, [olFeature], FeatureMotion.Zoom);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} action\r\n     * @return {?}\r\n     */\r\n    ToastComponent.prototype.swipe = /**\r\n     * @param {?} action\r\n     * @return {?}\r\n     */\r\n    function (action) {\r\n        if (action === ToastComponent.SWIPE_ACTION.UP) {\r\n            if (!this.expanded) {\r\n                this.toggle();\r\n            }\r\n        }\r\n        else if (action === ToastComponent.SWIPE_ACTION.DOWN) {\r\n            if (this.expanded) {\r\n                this.toggle();\r\n            }\r\n        }\r\n    };\r\n    ToastComponent.SWIPE_ACTION = {\r\n        UP: 'swipeup',\r\n        DOWN: 'swipedown'\r\n    };\r\n    ToastComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-toast',\r\n                    template: \"<igo-flexible #flex\\r\\n  collapsedMobile=\\\"51px\\\"\\r\\n  expandedMobile=\\\"300px\\\"\\r\\n  [state]=\\\"state\\\"\\r\\n  (swipeup)=\\\"swipe($event.type)\\\"\\r\\n  (swipedown)=\\\"swipe($event.type)\\\">\\r\\n\\r\\n  <igo-panel [title]=\\\"title\\\">\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      panelLeftButton\\r\\n      (click)=\\\"toggle()\\\">\\r\\n      <mat-icon [svgIcon]=\\\"['collapsed', 'initial'].indexOf(flex.state) >= 0 ? 'arrow_upward' : 'arrow_downward'\\\"></mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <button mat-icon-button panelRightButton class=\\\"igo-icon-button\\\" (click)=\\\"zoomToFeatureExtent()\\\" *ngIf=\\\"feature.geometry\\\">\\r\\n      <mat-icon svgIcon=\\\"zoom-in\\\"></mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <igo-feature-details [feature]=\\\"feature\\\"></igo-feature-details>\\r\\n  </igo-panel>\\r\\n\\r\\n</igo-flexible>\\r\\n\",\r\n                    styles: [\":host{position:absolute;bottom:0;width:100%;max-height:calc(100% - 50px);background-color:#fff}igo-feature-details ::ng-deep table{width:100%}\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ToastComponent.ctorParameters = function () { return []; };\r\n    ToastComponent.propDecorators = {\r\n        expanded: [{ type: Input }],\r\n        map: [{ type: Input }],\r\n        feature: [{ type: Input }],\r\n        opened: [{ type: Output }]\r\n    };\r\n    return ToastComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoToastModule = /** @class */ (function () {\r\n    function IgoToastModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoToastModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoToastModule\r\n        };\r\n    };\r\n    IgoToastModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        IgoPanelModule,\r\n                        IgoFlexibleModule,\r\n                        IgoFeatureModule\r\n                    ],\r\n                    exports: [ToastComponent],\r\n                    declarations: [ToastComponent]\r\n                },] }\r\n    ];\r\n    return IgoToastModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OgcFilterComponent = /** @class */ (function () {\r\n    function OgcFilterComponent(cdRef) {\r\n        this.cdRef = cdRef;\r\n        /**\r\n         * Event emitted on complete\r\n         */\r\n        this.complete = new EventEmitter();\r\n        /**\r\n         * Event emitted on cancel\r\n         */\r\n        this.cancel = new EventEmitter();\r\n    }\r\n    /**\r\n     * Implemented as part of OnUpdateInputs\r\n     */\r\n    /**\r\n     * Implemented as part of OnUpdateInputs\r\n     * @return {?}\r\n     */\r\n    OgcFilterComponent.prototype.onUpdateInputs = /**\r\n     * Implemented as part of OnUpdateInputs\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.cdRef.detectChanges();\r\n    };\r\n    /**\r\n     * On close, emit the cancel event\r\n     */\r\n    /**\r\n     * On close, emit the cancel event\r\n     * @return {?}\r\n     */\r\n    OgcFilterComponent.prototype.onClose = /**\r\n     * On close, emit the cancel event\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.cancel.emit();\r\n    };\r\n    OgcFilterComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-ogc-filter',\r\n                    template: \"<igo-ogc-filterable-item\\r\\n  [layer]=\\\"layer\\\" \\r\\n  [map]=\\\"map\\\" >\\r\\n</igo-ogc-filterable-item>\\r\\n\\r\\n<div>\\r\\n  <button\\r\\n    mat-button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onClose()\\\">\\r\\n    {{ 'igo.geo.workspace.ogcFilter.close' | translate }}\\r\\n  </button>\\r\\n</div>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"\"]\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    OgcFilterComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    OgcFilterComponent.propDecorators = {\r\n        layer: [{ type: Input }],\r\n        map: [{ type: Input }],\r\n        complete: [{ type: Output }],\r\n        cancel: [{ type: Output }]\r\n    };\r\n    return OgcFilterComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nvar OgcFilterWidget = new InjectionToken('OgcFilterWidget');\r\n/**\r\n * @param {?} widgetService\r\n * @return {?}\r\n */\r\nfunction ogcFilterWidgetFactory(widgetService) {\r\n    return widgetService.create(OgcFilterComponent);\r\n}\r\n/**\r\n * @return {?}\r\n */\r\nfunction provideOgcFilterWidget() {\r\n    return {\r\n        provide: OgcFilterWidget,\r\n        useFactory: ogcFilterWidgetFactory,\r\n        deps: [WidgetService]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoOgcFilterModule = /** @class */ (function () {\r\n    function IgoOgcFilterModule() {\r\n    }\r\n    IgoOgcFilterModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatButtonModule,\r\n                        IgoLanguageModule,\r\n                        IgoFilterModule\r\n                    ],\r\n                    exports: [OgcFilterComponent],\r\n                    declarations: [OgcFilterComponent],\r\n                    entryComponents: [OgcFilterComponent]\r\n                },] }\r\n    ];\r\n    return IgoOgcFilterModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WfsWorkspace = /** @class */ (function (_super) {\r\n    __extends(WfsWorkspace, _super);\r\n    function WfsWorkspace(options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.options = options;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(WfsWorkspace.prototype, \"layer\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.options.layer; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WfsWorkspace.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.options.map; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return WfsWorkspace;\r\n}(Workspace));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WfsWorkspaceService = /** @class */ (function () {\r\n    function WfsWorkspaceService() {\r\n    }\r\n    /**\r\n     * @param {?} layer\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    WfsWorkspaceService.prototype.createWorkspace = /**\r\n     * @param {?} layer\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    function (layer, map$$1) {\r\n        return new WfsWorkspace({\r\n            id: layer.id,\r\n            title: layer.title,\r\n            layer: layer,\r\n            map: map$$1,\r\n            entityStore: this.createFeatureStore(layer, map$$1),\r\n            actionStore: new ActionStore([]),\r\n            meta: {\r\n                tableTemplate: this.createTableTemplate(layer)\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layer\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    WfsWorkspaceService.prototype.createFeatureStore = /**\r\n     * @private\r\n     * @param {?} layer\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    function (layer, map$$1) {\r\n        /** @type {?} */\r\n        var store = new FeatureStore([], { map: map$$1 });\r\n        store.bindLayer(layer);\r\n        /** @type {?} */\r\n        var loadingStrategy = new FeatureStoreLoadingLayerStrategy({});\r\n        /** @type {?} */\r\n        var selectionStrategy = new FeatureStoreSelectionStrategy({\r\n            map: map$$1,\r\n            hitTolerance: 5\r\n        });\r\n        store.addStrategy(loadingStrategy, true);\r\n        store.addStrategy(selectionStrategy, true);\r\n        return store;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    WfsWorkspaceService.prototype.createTableTemplate = /**\r\n     * @private\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        /** @type {?} */\r\n        var fields = layer.dataSource.options.sourceFields || [];\r\n        /** @type {?} */\r\n        var columns = fields.map((/**\r\n         * @param {?} field\r\n         * @return {?}\r\n         */\r\n        function (field) {\r\n            return {\r\n                name: \"properties.\" + field.name,\r\n                title: field.alias ? field.alias : field.name\r\n            };\r\n        }));\r\n        return {\r\n            selection: true,\r\n            sort: true,\r\n            columns: columns\r\n        };\r\n    };\r\n    WfsWorkspaceService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    WfsWorkspaceService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ WfsWorkspaceService.ngInjectableDef = defineInjectable({ factory: function WfsWorkspaceService_Factory() { return new WfsWorkspaceService(); }, token: WfsWorkspaceService, providedIn: \"root\" });\r\n    return WfsWorkspaceService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WmsWorkspace = /** @class */ (function (_super) {\r\n    __extends(WmsWorkspace, _super);\r\n    function WmsWorkspace(options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.options = options;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(WmsWorkspace.prototype, \"layer\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.options.layer; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WmsWorkspace.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.options.map; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return WmsWorkspace;\r\n}(Workspace));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WmsWorkspaceService = /** @class */ (function () {\r\n    function WmsWorkspaceService() {\r\n    }\r\n    /**\r\n     * @param {?} layer\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    WmsWorkspaceService.prototype.createWorkspace = /**\r\n     * @param {?} layer\r\n     * @param {?} map\r\n     * @return {?}\r\n     */\r\n    function (layer, map$$1) {\r\n        return new WmsWorkspace({\r\n            id: layer.id,\r\n            title: layer.title,\r\n            layer: layer,\r\n            map: map$$1,\r\n            actionStore: new ActionStore([])\r\n        });\r\n    };\r\n    WmsWorkspaceService.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    WmsWorkspaceService.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ WmsWorkspaceService.ngInjectableDef = defineInjectable({ factory: function WmsWorkspaceService_Factory() { return new WmsWorkspaceService(); }, token: WmsWorkspaceService, providedIn: \"root\" });\r\n    return WmsWorkspaceService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar WorkspaceSelectorDirective = /** @class */ (function () {\r\n    function WorkspaceSelectorDirective(component, wfsWorkspaceService, wmsWorkspaceService) {\r\n        this.component = component;\r\n        this.wfsWorkspaceService = wfsWorkspaceService;\r\n        this.wmsWorkspaceService = wmsWorkspaceService;\r\n    }\r\n    Object.defineProperty(WorkspaceSelectorDirective.prototype, \"workspaceStore\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.component.store;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    WorkspaceSelectorDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.layers$$ = this.map.layers$\r\n            .pipe(debounceTime(50))\r\n            .subscribe((/**\r\n         * @param {?} layers\r\n         * @return {?}\r\n         */\r\n        function (layers) {\r\n            return _this.onLayersChange(layers);\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    WorkspaceSelectorDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.layers$$.unsubscribe();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    WorkspaceSelectorDirective.prototype.onLayersChange = /**\r\n     * @private\r\n     * @param {?} layers\r\n     * @return {?}\r\n     */\r\n    function (layers) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var editableLayers = layers.filter((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) {\r\n            return _this.layerIsEditable(layer);\r\n        }));\r\n        /** @type {?} */\r\n        var editableLayersIds = editableLayers.map((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return layer.id; }));\r\n        /** @type {?} */\r\n        var workspacesToAdd = editableLayers\r\n            .map((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return _this.getOrCreateWorkspace(layer); }))\r\n            .filter((/**\r\n         * @param {?} workspace\r\n         * @return {?}\r\n         */\r\n        function (workspace) { return workspace !== undefined; }));\r\n        /** @type {?} */\r\n        var workspacesToRemove = this.workspaceStore.all()\r\n            .filter((/**\r\n         * @param {?} workspace\r\n         * @return {?}\r\n         */\r\n        function (workspace) {\r\n            return editableLayersIds.indexOf(workspace.id) < 0;\r\n        }));\r\n        if (workspacesToRemove.length > 0) {\r\n            workspacesToRemove.forEach((/**\r\n             * @param {?} workspace\r\n             * @return {?}\r\n             */\r\n            function (workspace) {\r\n                workspace.deactivate();\r\n            }));\r\n            this.workspaceStore.state.updateMany(workspacesToRemove, { active: false, selected: false });\r\n            this.workspaceStore.deleteMany(workspacesToRemove);\r\n        }\r\n        if (workspacesToAdd.length > 0) {\r\n            this.workspaceStore.insertMany(workspacesToAdd);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    WorkspaceSelectorDirective.prototype.getOrCreateWorkspace = /**\r\n     * @private\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        /** @type {?} */\r\n        var workspace = this.workspaceStore.get(layer.id);\r\n        if (workspace !== undefined) {\r\n            return;\r\n        }\r\n        if (layer.dataSource instanceof WFSDataSource) {\r\n            return this.wfsWorkspaceService.createWorkspace((/** @type {?} */ (layer)), this.map);\r\n        }\r\n        else if (layer.dataSource instanceof WMSDataSource) {\r\n            return this.wmsWorkspaceService.createWorkspace((/** @type {?} */ (layer)), this.map);\r\n        }\r\n        return;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    WorkspaceSelectorDirective.prototype.layerIsEditable = /**\r\n     * @private\r\n     * @param {?} layer\r\n     * @return {?}\r\n     */\r\n    function (layer) {\r\n        /** @type {?} */\r\n        var dataSource = layer.dataSource;\r\n        if (dataSource instanceof WFSDataSource) {\r\n            return true;\r\n        }\r\n        if (dataSource instanceof WMSDataSource) {\r\n            /** @type {?} */\r\n            var dataSourceOptions = (/** @type {?} */ ((dataSource.options ||\r\n                {})));\r\n            return (dataSourceOptions.ogcFilters && dataSourceOptions.ogcFilters.enabled);\r\n        }\r\n        return false;\r\n    };\r\n    WorkspaceSelectorDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[igoWorkspaceSelector]'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    WorkspaceSelectorDirective.ctorParameters = function () { return [\r\n        { type: WorkspaceSelectorComponent },\r\n        { type: WfsWorkspaceService },\r\n        { type: WmsWorkspaceService }\r\n    ]; };\r\n    WorkspaceSelectorDirective.propDecorators = {\r\n        map: [{ type: Input }]\r\n    };\r\n    return WorkspaceSelectorDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoWorkspaceSelectorModule = /** @class */ (function () {\r\n    function IgoWorkspaceSelectorModule() {\r\n    }\r\n    IgoWorkspaceSelectorModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    exports: [\r\n                        WorkspaceSelectorDirective\r\n                    ],\r\n                    declarations: [\r\n                        WorkspaceSelectorDirective\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoWorkspaceSelectorModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoGeoWorkspaceModule = /** @class */ (function () {\r\n    function IgoGeoWorkspaceModule() {\r\n    }\r\n    IgoGeoWorkspaceModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoWidgetModule,\r\n                        IgoWorkspaceSelectorModule,\r\n                        IgoOgcFilterModule\r\n                    ],\r\n                    exports: [\r\n                        IgoWorkspaceSelectorModule,\r\n                        IgoOgcFilterModule\r\n                    ],\r\n                    declarations: [],\r\n                    providers: [\r\n                        provideOgcFilterWidget()\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoGeoWorkspaceModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoWktModule = /** @class */ (function () {\r\n    function IgoWktModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoWktModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoWktModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoWktModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    exports: [],\r\n                    declarations: []\r\n                },] }\r\n    ];\r\n    return IgoWktModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoGeoModule = /** @class */ (function () {\r\n    function IgoGeoModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoGeoModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoGeoModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoGeoModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: [\r\n                        IgoCatalogModule,\r\n                        IgoDataSourceModule,\r\n                        IgoDownloadModule,\r\n                        IgoFeatureModule,\r\n                        IgoFilterModule,\r\n                        IgoGeometryModule,\r\n                        IgoImportExportModule,\r\n                        IgoLayerModule,\r\n                        IgoMapModule,\r\n                        IgoMeasureModule,\r\n                        IgoMetadataModule,\r\n                        IgoOverlayModule,\r\n                        IgoPrintModule,\r\n                        IgoQueryModule,\r\n                        IgoRoutingModule,\r\n                        IgoSearchModule,\r\n                        IgoToastModule,\r\n                        IgoGeoWorkspaceModule,\r\n                        IgoWktModule\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoGeoModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * ILayer search source\r\n */\r\nvar ILayerSearchSource = /** @class */ (function (_super) {\r\n    __extends(ILayerSearchSource, _super);\r\n    function ILayerSearchSource(http, languageService, options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.http = http;\r\n        _this.languageService = languageService;\r\n        _this.title$ = new BehaviorSubject('');\r\n        _this.languageService.translate.get(_this.options.title).subscribe((/**\r\n         * @param {?} title\r\n         * @return {?}\r\n         */\r\n        function (title) { return _this.title$.next(title); }));\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ILayerSearchSource.prototype, \"title\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.title$.getValue();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ILayerSearchSource.prototype.getId = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return ILayerSearchSource.id;\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    ILayerSearchSource.prototype.getDefaultOptions = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            title: 'igo.geo.search.dataSources.name',\r\n            searchUrl: 'https://geoegl.msp.gouv.qc.ca/apis/layers/search'\r\n        };\r\n    };\r\n    /**\r\n     * Search a layer by name or keyword\r\n     * @param term Layer name or keyword\r\n     * @returns Observable of <SearchResult<LayerOptions>[]\r\n     */\r\n    /**\r\n     * Search a layer by name or keyword\r\n     * @param {?} term Layer name or keyword\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<LayerOptions>[]\r\n     */\r\n    ILayerSearchSource.prototype.search = /**\r\n     * Search a layer by name or keyword\r\n     * @param {?} term Layer name or keyword\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<LayerOptions>[]\r\n     */\r\n    function (term, options) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var params = this.computeSearchRequestParams(term, options || {});\r\n        return this.http\r\n            .get(this.searchUrl, { params: params })\r\n            .pipe(map((/**\r\n         * @param {?} response\r\n         * @return {?}\r\n         */\r\n        function (response) { return _this.extractResults(response); })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} term\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    ILayerSearchSource.prototype.computeSearchRequestParams = /**\r\n     * @private\r\n     * @param {?} term\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (term, options) {\r\n        return new HttpParams({\r\n            fromObject: Object.assign({\r\n                q: term\r\n            }, this.params, options.params || {})\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    ILayerSearchSource.prototype.extractResults = /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    function (response) {\r\n        var _this = this;\r\n        return response.items.map((/**\r\n         * @param {?} data\r\n         * @return {?}\r\n         */\r\n        function (data) { return _this.dataToResult(data); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    ILayerSearchSource.prototype.dataToResult = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var layerOptions = this.computeLayerOptions(data);\r\n        return {\r\n            source: this,\r\n            meta: {\r\n                dataType: LAYER,\r\n                id: [this.getId(), data.id].join('.'),\r\n                title: data.source.title,\r\n                titleHtml: data.highlight.title,\r\n                icon: data.source.type === 'Layer' ? 'layers' : 'map'\r\n            },\r\n            data: layerOptions\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    ILayerSearchSource.prototype.computeLayerOptions = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var url = data.source.url;\r\n        /** @type {?} */\r\n        var queryParams = this.extractQueryParamsFromSourceUrl(url);\r\n        return {\r\n            title: data.source.title,\r\n            sourceOptions: {\r\n                crossOrigin: 'anonymous',\r\n                type: data.source.format,\r\n                url: url,\r\n                queryable: ((/** @type {?} */ (data.source))).queryable,\r\n                queryFormat: queryParams.format,\r\n                queryHtmlTarget: queryParams.htmlTarget,\r\n                params: {\r\n                    layers: data.source.name\r\n                }\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} url\r\n     * @return {?}\r\n     */\r\n    ILayerSearchSource.prototype.extractQueryParamsFromSourceUrl = /**\r\n     * @private\r\n     * @param {?} url\r\n     * @return {?}\r\n     */\r\n    function (url) {\r\n        var e_1, _a;\r\n        /** @type {?} */\r\n        var queryFormat = QueryFormat.GML2;\r\n        /** @type {?} */\r\n        var htmlTarget;\r\n        /** @type {?} */\r\n        var formatOpt = ((/** @type {?} */ (this.options))).queryFormat;\r\n        if (formatOpt) {\r\n            var _loop_1 = function (key) {\r\n                /** @type {?} */\r\n                var value = formatOpt[key];\r\n                if (value === '*') {\r\n                    queryFormat = QueryFormat[key.toUpperCase()];\r\n                    return \"break\";\r\n                }\r\n                /** @type {?} */\r\n                var urls = ((/** @type {?} */ ((/** @type {?} */ (value))))).urls;\r\n                if (Array.isArray(urls)) {\r\n                    urls.forEach((/**\r\n                     * @param {?} urlOpt\r\n                     * @return {?}\r\n                     */\r\n                    function (urlOpt) {\r\n                        if (url.indexOf(urlOpt) !== -1) {\r\n                            queryFormat = QueryFormat[key.toUpperCase()];\r\n                        }\r\n                    }));\r\n                    return \"break\";\r\n                }\r\n            };\r\n            try {\r\n                for (var _b = __values(Object.keys(formatOpt)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var key = _c.value;\r\n                    var state_1 = _loop_1(key);\r\n                    if (state_1 === \"break\")\r\n                        break;\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        }\r\n        if (queryFormat === QueryFormat.HTML) {\r\n            htmlTarget = 'iframe';\r\n        }\r\n        return {\r\n            format: queryFormat,\r\n            htmlTarget: htmlTarget\r\n        };\r\n    };\r\n    ILayerSearchSource.id = 'ilayer';\r\n    ILayerSearchSource.type = LAYER;\r\n    ILayerSearchSource.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    ILayerSearchSource.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: LanguageService },\r\n        { type: undefined, decorators: [{ type: Inject, args: ['options',] }] }\r\n    ]; };\r\n    return ILayerSearchSource;\r\n}(SearchSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * ILayer search source factory\r\n * @ignore\r\n * @param {?} http\r\n * @param {?} languageService\r\n * @param {?} config\r\n * @return {?}\r\n */\r\nfunction ilayerSearchSourceFactory(http, languageService, config) {\r\n    return new ILayerSearchSource(http, languageService, config.getConfig(\"searchSources.\" + ILayerSearchSource.id));\r\n}\r\n/**\r\n * Function that returns a provider for the ILayer search source\r\n * @return {?}\r\n */\r\nfunction provideILayerSearchSource() {\r\n    return {\r\n        provide: SearchSource,\r\n        useFactory: ilayerSearchSourceFactory,\r\n        multi: true,\r\n        deps: [HttpClient, LanguageService, ConfigService]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Nominatim search source\r\n */\r\nvar NominatimSearchSource = /** @class */ (function (_super) {\r\n    __extends(NominatimSearchSource, _super);\r\n    function NominatimSearchSource(http, options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.http = http;\r\n        return _this;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.getId = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return NominatimSearchSource.id;\r\n    };\r\n    /*\r\n     * Source : https://wiki.openstreetmap.org/wiki/Key:amenity\r\n    */\r\n    /*\r\n       * Source : https://wiki.openstreetmap.org/wiki/Key:amenity\r\n      */\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.getDefaultOptions = /*\r\n       * Source : https://wiki.openstreetmap.org/wiki/Key:amenity\r\n      */\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            title: 'Nominatim (OSM)',\r\n            searchUrl: 'https://nominatim.openstreetmap.org/search',\r\n            settings: [\r\n                {\r\n                    type: 'checkbox',\r\n                    title: 'results type',\r\n                    name: 'amenity',\r\n                    values: [\r\n                        {\r\n                            title: 'Restauration',\r\n                            value: 'bar,bbq,biergaten,cafe,drinking_water,fast_food,food_court,ice_cream,pub,restaurant',\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: 'Santé',\r\n                            value: 'baby_hatch,clinic,dentist,doctors,hospital,nursing_home,pharmacy,social_facility,veterinary',\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: 'Divertissement',\r\n                            value: 'arts_centre,brothel,casino,cinema,community_center_fountain,gambling,nightclub,planetarium \\\r\n                          ,public_bookcase,social_centre,stripclub,studio,swingerclub,theatre,internet_cafe',\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: 'Finance',\r\n                            value: 'atm,bank,bureau_de_change',\r\n                            enabled: false\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'radiobutton',\r\n                    title: 'results limit',\r\n                    name: 'limit',\r\n                    values: [\r\n                        {\r\n                            title: '10',\r\n                            value: 10,\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: '20',\r\n                            value: 20,\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: '50',\r\n                            value: 50,\r\n                            enabled: false\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'radiobutton',\r\n                    title: 'country limitation',\r\n                    name: 'countrycodes',\r\n                    values: [\r\n                        {\r\n                            title: 'Canada',\r\n                            value: 'CA',\r\n                            enabled: true\r\n                        },\r\n                        {\r\n                            title: 'Le monde',\r\n                            value: null,\r\n                            enabled: false\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'radiobutton',\r\n                    title: 'multiple object',\r\n                    name: 'dedupe',\r\n                    values: [\r\n                        {\r\n                            title: 'Oui',\r\n                            value: 0,\r\n                            enabled: false\r\n                        },\r\n                        {\r\n                            title: 'Non',\r\n                            value: 1,\r\n                            enabled: true\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        };\r\n    };\r\n    /**\r\n     * Search a place by name\r\n     * @param term Place name\r\n     * @returns Observable of <SearchResult<Feature>[]\r\n     */\r\n    /**\r\n     * Search a place by name\r\n     * @param {?} term Place name\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    NominatimSearchSource.prototype.search = /**\r\n     * Search a place by name\r\n     * @param {?} term Place name\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    function (term, options) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var params = this.computeSearchRequestParams(term, options || {});\r\n        return this.http\r\n            .get(this.searchUrl, { params: params })\r\n            .pipe(map((/**\r\n         * @param {?} response\r\n         * @return {?}\r\n         */\r\n        function (response) { return _this.extractResults(response); })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} term\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.computeSearchRequestParams = /**\r\n     * @private\r\n     * @param {?} term\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (term, options) {\r\n        return new HttpParams({\r\n            fromObject: Object.assign({\r\n                q: this.computeTerm(term),\r\n                format: 'json'\r\n            }, this.params, options.params || {})\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.extractResults = /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    function (response) {\r\n        var _this = this;\r\n        return response.map((/**\r\n         * @param {?} data\r\n         * @return {?}\r\n         */\r\n        function (data) { return _this.dataToResult(data); }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.dataToResult = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var properties = this.computeProperties(data);\r\n        /** @type {?} */\r\n        var geometry = this.computeGeometry(data);\r\n        /** @type {?} */\r\n        var extent = this.computeExtent(data);\r\n        /** @type {?} */\r\n        var id = [this.getId(), 'place', data.place_id].join('.');\r\n        return {\r\n            source: this,\r\n            meta: {\r\n                dataType: FEATURE,\r\n                id: id,\r\n                title: data.display_name,\r\n                icon: 'map-marker'\r\n            },\r\n            data: {\r\n                type: FEATURE,\r\n                projection: 'EPSG:4326',\r\n                geometry: geometry,\r\n                extent: extent,\r\n                properties: properties,\r\n                meta: {\r\n                    id: id,\r\n                    title: data.display_name\r\n                }\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.computeProperties = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        return {\r\n            display_name: data.display_name,\r\n            place_id: data.place_id,\r\n            osm_type: data.osm_type,\r\n            class: data.class,\r\n            type: data.type\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.computeGeometry = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        return {\r\n            type: 'Point',\r\n            coordinates: [parseFloat(data.lon), parseFloat(data.lat)]\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.computeExtent = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        return [\r\n            parseFloat(data.boundingbox[2]),\r\n            parseFloat(data.boundingbox[0]),\r\n            parseFloat(data.boundingbox[3]),\r\n            parseFloat(data.boundingbox[1])\r\n        ];\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} term\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.computeTerm = /**\r\n     * @private\r\n     * @param {?} term\r\n     * @return {?}\r\n     */\r\n    function (term) {\r\n        term = this.computeTermTags(term);\r\n        return term;\r\n    };\r\n    /**\r\n     * Add hashtag from query in Nominatim's format (+[])\r\n     * @param term Query with hashtag\r\n     */\r\n    /**\r\n     * Add hashtag from query in Nominatim's format (+[])\r\n     * @private\r\n     * @param {?} term Query with hashtag\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.computeTermTags = /**\r\n     * Add hashtag from query in Nominatim's format (+[])\r\n     * @private\r\n     * @param {?} term Query with hashtag\r\n     * @return {?}\r\n     */\r\n    function (term) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var tags = term.match(/(#[^\\s]+)/g);\r\n        /** @type {?} */\r\n        var addTagsFromSettings = true;\r\n        if (tags) {\r\n            tags.forEach((/**\r\n             * @param {?} value\r\n             * @return {?}\r\n             */\r\n            function (value) {\r\n                term = term.replace(value, '');\r\n                if (_super.prototype.hashtagValid.call(_this, _super.prototype.getSettingsValues.call(_this, 'amenity'), value)) {\r\n                    term += '+[' + value.substring(1) + ']';\r\n                    addTagsFromSettings = false;\r\n                }\r\n            }));\r\n            addTagsFromSettings = false;\r\n        }\r\n        if (addTagsFromSettings) {\r\n            term = this.computeTermSettings(term);\r\n        }\r\n        return term;\r\n    };\r\n    /**\r\n     * Add hashtag from settings in Nominatim's format (+[])\r\n     * @param term Query\r\n     */\r\n    /**\r\n     * Add hashtag from settings in Nominatim's format (+[])\r\n     * @private\r\n     * @param {?} term Query\r\n     * @return {?}\r\n     */\r\n    NominatimSearchSource.prototype.computeTermSettings = /**\r\n     * Add hashtag from settings in Nominatim's format (+[])\r\n     * @private\r\n     * @param {?} term Query\r\n     * @return {?}\r\n     */\r\n    function (term) {\r\n        this.options.settings.forEach((/**\r\n         * @param {?} settings\r\n         * @return {?}\r\n         */\r\n        function (settings) {\r\n            if (settings.name === 'amenity') {\r\n                settings.values.forEach((/**\r\n                 * @param {?} conf\r\n                 * @return {?}\r\n                 */\r\n                function (conf) {\r\n                    if (conf.enabled && typeof conf.value === 'string') {\r\n                        /** @type {?} */\r\n                        var splitted = conf.value.split(',');\r\n                        splitted.forEach((/**\r\n                         * @param {?} value\r\n                         * @return {?}\r\n                         */\r\n                        function (value) {\r\n                            term += '+[' + value + ']';\r\n                        }));\r\n                    }\r\n                }));\r\n            }\r\n        }));\r\n        return term;\r\n    };\r\n    NominatimSearchSource.id = 'nominatim';\r\n    NominatimSearchSource.type = FEATURE;\r\n    NominatimSearchSource.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    NominatimSearchSource.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: undefined, decorators: [{ type: Inject, args: ['options',] }] }\r\n    ]; };\r\n    return NominatimSearchSource;\r\n}(SearchSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Nominatim search source factory\r\n * @ignore\r\n * @param {?} http\r\n * @param {?} config\r\n * @return {?}\r\n */\r\nfunction nominatimSearchSourceFactory(http, config) {\r\n    return new NominatimSearchSource(http, config.getConfig(\"searchSources.\" + NominatimSearchSource.id));\r\n}\r\n/**\r\n * Function that returns a provider for the Nominatim search source\r\n * @return {?}\r\n */\r\nfunction provideNominatimSearchSource() {\r\n    return {\r\n        provide: SearchSource,\r\n        useFactory: nominatimSearchSourceFactory,\r\n        multi: true,\r\n        deps: [HttpClient, ConfigService]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * StoredQueries search source\r\n */\r\nvar StoredQueriesSearchSource = /** @class */ (function (_super) {\r\n    __extends(StoredQueriesSearchSource, _super);\r\n    function StoredQueriesSearchSource(http, options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.http = http;\r\n        _this.storedQueriesOptions = (/** @type {?} */ (options));\r\n        if (!_this.storedQueriesOptions.storedquery_id) {\r\n            /** @type {?} */\r\n            var err = 'Stored Queries :You have to set \"storedquery_id\" into StoredQueries options. ex: storedquery_id: \"nameofstoredquerie\"';\r\n            throw new Error(err);\r\n        }\r\n        if (!_this.storedQueriesOptions.fields) {\r\n            throw new Error('Stored Queries :You have to set \"fields\" into options. ex: fields: {\"name\": \"rtss\", \"defaultValue\": \"-99\"}');\r\n        }\r\n        _this.storedQueriesOptions.outputformat = _this.storedQueriesOptions.outputformat || 'text/xml; subtype=gml/3.1.1';\r\n        _this.storedQueriesOptions.srsname = _this.storedQueriesOptions.srsname || 'EPSG:4326';\r\n        /** @type {?} */\r\n        var storedQueryId = _this.storedQueriesOptions.storedquery_id.toLowerCase();\r\n        if (storedQueryId.includes('getfeaturebyid') && _this.storedQueriesOptions.outputformat.toLowerCase().includes('getfeaturebyid')) {\r\n            /** @type {?} */\r\n            var err = 'You must set a geojson format for your stored query. This is due to an openlayers issue)';\r\n            err += ' (wfs 1.1.0 & gml 3.1.1 limitation)';\r\n            throw new Error(err);\r\n        }\r\n        if (!_this.storedQueriesOptions.fields) {\r\n            throw new Error('Stored Queries :You must set a fields definition for your stored query');\r\n        }\r\n        if (!(_this.storedQueriesOptions.fields instanceof Array)) {\r\n            _this.storedQueriesOptions.fields = [_this.storedQueriesOptions.fields];\r\n        }\r\n        _this.multipleFieldsQuery = _this.storedQueriesOptions.fields.length > 1 ? true : false;\r\n        _this.storedQueriesOptions.fields.forEach((/**\r\n         * @param {?} field\r\n         * @param {?} index\r\n         * @return {?}\r\n         */\r\n        function (field, index) {\r\n            if (_this.multipleFieldsQuery && !field.splitPrefix && index !== 0) {\r\n                throw new Error('Stored Queries :You must set a field spliter into your field definition (optional for the first one!)');\r\n            }\r\n            if (!field.defaultValue) {\r\n                throw new Error('Stored Queries :You must set a field default value into your field definition');\r\n            }\r\n        }));\r\n        _this.storedQueriesOptions.resultTitle = _this.storedQueriesOptions.resultTitle || _this.resultTitle;\r\n        return _this;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    StoredQueriesSearchSource.prototype.getId = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return StoredQueriesSearchSource.id;\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    StoredQueriesSearchSource.prototype.getDefaultOptions = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            title: 'Stored Queries',\r\n            searchUrl: 'https://ws.mapserver.transports.gouv.qc.ca/swtq'\r\n        };\r\n    };\r\n    // URL CALL EXAMPLES:\r\n    //  GetFeatureById (mandatory storedquery for wfs server) (outputformat must be in geojson)\r\n    //  tslint:disable-next-line:max-line-length\r\n    //  https://ws.mapserver.transports.gouv.qc.ca/swtq?service=wfs&version=2.0.0&request=GetFeature&storedquery_id=urn:ogc:def:query:OGC-WFS::GetFeatureById&srsname=epsg:4326&outputformat=geojson&ID=a_num_route.132\r\n    //  Custom StoredQuery\r\n    //  tslint:disable-next-line:max-line-length\r\n    //  https://ws.mapserver.transports.gouv.qc.ca/swtq?service=wfs&version=1.1.0&request=GetFeature&storedquery_id=rtss&srsname=epsg:4326&outputformat=text/xml;%20subtype=gml/3.1.1&rtss=0013801110000c&chainage=12\r\n    /**\r\n     * Search a location by name or keyword\r\n     * @param term Location name or keyword\r\n     * @returns Observable of <SearchResult<Feature>[]\r\n     */\r\n    // URL CALL EXAMPLES:\r\n    //  GetFeatureById (mandatory storedquery for wfs server) (outputformat must be in geojson)\r\n    //  tslint:disable-next-line:max-line-length\r\n    //  https://ws.mapserver.transports.gouv.qc.ca/swtq?service=wfs&version=2.0.0&request=GetFeature&storedquery_id=urn:ogc:def:query:OGC-WFS::GetFeatureById&srsname=epsg:4326&outputformat=geojson&ID=a_num_route.132\r\n    //  Custom StoredQuery\r\n    //  tslint:disable-next-line:max-line-length\r\n    //  https://ws.mapserver.transports.gouv.qc.ca/swtq?service=wfs&version=1.1.0&request=GetFeature&storedquery_id=rtss&srsname=epsg:4326&outputformat=text/xml;%20subtype=gml/3.1.1&rtss=0013801110000c&chainage=12\r\n    /**\r\n     * Search a location by name or keyword\r\n     * @param {?} term Location name or keyword\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    StoredQueriesSearchSource.prototype.search = \r\n    // URL CALL EXAMPLES:\r\n    //  GetFeatureById (mandatory storedquery for wfs server) (outputformat must be in geojson)\r\n    //  tslint:disable-next-line:max-line-length\r\n    //  https://ws.mapserver.transports.gouv.qc.ca/swtq?service=wfs&version=2.0.0&request=GetFeature&storedquery_id=urn:ogc:def:query:OGC-WFS::GetFeatureById&srsname=epsg:4326&outputformat=geojson&ID=a_num_route.132\r\n    //  Custom StoredQuery\r\n    //  tslint:disable-next-line:max-line-length\r\n    //  https://ws.mapserver.transports.gouv.qc.ca/swtq?service=wfs&version=1.1.0&request=GetFeature&storedquery_id=rtss&srsname=epsg:4326&outputformat=text/xml;%20subtype=gml/3.1.1&rtss=0013801110000c&chainage=12\r\n    /**\r\n     * Search a location by name or keyword\r\n     * @param {?} term Location name or keyword\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    function (term, options) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var storedqueriesParams = this.termSplitter(term, this.storedQueriesOptions.fields);\r\n        /** @type {?} */\r\n        var params = this.computeRequestParams(options || {}, storedqueriesParams);\r\n        if (new RegExp('.*?gml.*?', 'i').test(this.storedQueriesOptions.outputformat)) {\r\n            return this.http\r\n                .get(this.searchUrl, { params: params, responseType: 'text' })\r\n                .pipe(map((/**\r\n             * @param {?} response\r\n             * @return {?}\r\n             */\r\n            function (response) {\r\n                return _this.extractResults(_this.extractWFSData(response));\r\n            })));\r\n        }\r\n        else {\r\n            return this.http\r\n                .get(this.searchUrl, { params: params })\r\n                .pipe(map((/**\r\n             * @param {?} response\r\n             * @return {?}\r\n             */\r\n            function (response) {\r\n                return _this.extractResults(_this.extractWFSData(response));\r\n            })));\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    StoredQueriesSearchSource.prototype.getFormatFromOptions = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var olFormatCls;\r\n        /** @type {?} */\r\n        var outputFormat = this.storedQueriesOptions.outputformat;\r\n        /** @type {?} */\r\n        var patternGml3 = new RegExp('.*?gml.*?', 'i');\r\n        /** @type {?} */\r\n        var patternGeojson = new RegExp('.*?json.*?', 'i');\r\n        if (patternGeojson.test(outputFormat)) {\r\n            olFormatCls = GeoJSON;\r\n        }\r\n        if (patternGml3.test(outputFormat)) {\r\n            olFormatCls = WFS;\r\n        }\r\n        return new olFormatCls();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} res\r\n     * @return {?}\r\n     */\r\n    StoredQueriesSearchSource.prototype.extractWFSData = /**\r\n     * @private\r\n     * @param {?} res\r\n     * @return {?}\r\n     */\r\n    function (res) {\r\n        /** @type {?} */\r\n        var olFormat = this.getFormatFromOptions();\r\n        /** @type {?} */\r\n        var geojson = GeoJSON;\r\n        /** @type {?} */\r\n        var wfsfeatures = olFormat.readFeatures(res);\r\n        /** @type {?} */\r\n        var features = JSON.parse(new geojson().writeFeatures(wfsfeatures));\r\n        return features;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} term\r\n     * @param {?} fields\r\n     * @return {?}\r\n     */\r\n    StoredQueriesSearchSource.prototype.termSplitter = /**\r\n     * @private\r\n     * @param {?} term\r\n     * @param {?} fields\r\n     * @return {?}\r\n     */\r\n    function (term, fields) {\r\n        /** @type {?} */\r\n        var splittedTerm = {};\r\n        /** @type {?} */\r\n        var remainingTerm = term;\r\n        /** @type {?} */\r\n        var cnt = 0;\r\n        // Used to build the default values\r\n        fields.forEach((/**\r\n         * @param {?} field\r\n         * @return {?}\r\n         */\r\n        function (field) {\r\n            splittedTerm[field.name] = field.defaultValue;\r\n            /** @type {?} */\r\n            var splitterRegex = new RegExp(field.splitPrefix + '(.+)', 'i');\r\n            if (splitterRegex.test(remainingTerm)) {\r\n                cnt = field.splitPrefix ? cnt += 1 : cnt;\r\n                remainingTerm = remainingTerm.split(splitterRegex)[1];\r\n            }\r\n        }));\r\n        if (cnt === 0) {\r\n            splittedTerm[fields[0].name] = term;\r\n            return splittedTerm;\r\n        }\r\n        remainingTerm = term;\r\n        /** @type {?} */\r\n        var localFields = __spread(fields).reverse();\r\n        localFields.forEach((/**\r\n         * @param {?} field\r\n         * @return {?}\r\n         */\r\n        function (field) {\r\n            /** @type {?} */\r\n            var splitterRegex = new RegExp(field.splitPrefix || '' + '(.+)', 'i');\r\n            if (remainingTerm || remainingTerm !== '') {\r\n                /** @type {?} */\r\n                var values = remainingTerm.split(splitterRegex);\r\n                remainingTerm = values[0];\r\n                if (values[1]) {\r\n                    splittedTerm[field.name] = values[1].trim();\r\n                }\r\n            }\r\n        }));\r\n        return splittedTerm;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} options\r\n     * @param {?} queryParams\r\n     * @return {?}\r\n     */\r\n    StoredQueriesSearchSource.prototype.computeRequestParams = /**\r\n     * @private\r\n     * @param {?} options\r\n     * @param {?} queryParams\r\n     * @return {?}\r\n     */\r\n    function (options, queryParams) {\r\n        /** @type {?} */\r\n        var wfsversion = this.storedQueriesOptions.storedquery_id.toLowerCase().includes('getfeaturebyid') ? '2.0.0' : '1.1.0';\r\n        return new HttpParams({\r\n            fromObject: Object.assign({\r\n                service: 'wfs',\r\n                version: wfsversion,\r\n                request: 'GetFeature',\r\n                storedquery_id: this.storedQueriesOptions.storedquery_id,\r\n                srsname: this.storedQueriesOptions.srsname,\r\n                outputformat: this.storedQueriesOptions.outputformat\r\n            }, queryParams, this.params, options.params || {})\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    StoredQueriesSearchSource.prototype.extractResults = /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    function (response) {\r\n        var _this = this;\r\n        return response.features.map((/**\r\n         * @param {?} data\r\n         * @return {?}\r\n         */\r\n        function (data) {\r\n            return _this.dataToResult(data);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    StoredQueriesSearchSource.prototype.dataToResult = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var properties = this.computeProperties(data);\r\n        /** @type {?} */\r\n        var id = [this.getId(), properties.type, data.id].join('.');\r\n        /** @type {?} */\r\n        var title = data.properties[this.storedQueriesOptions.resultTitle] ? this.storedQueriesOptions.resultTitle : this.resultTitle;\r\n        return {\r\n            source: this,\r\n            data: {\r\n                type: FEATURE,\r\n                projection: 'EPSG:4326',\r\n                geometry: data.geometry,\r\n                // extent: data.bbox,\r\n                properties: properties,\r\n                meta: {\r\n                    id: id,\r\n                    title: data.properties[title]\r\n                }\r\n            },\r\n            meta: {\r\n                dataType: FEATURE,\r\n                id: id,\r\n                title: data.properties.title,\r\n                titleHtml: data.properties[title],\r\n                icon: 'map-marker'\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    StoredQueriesSearchSource.prototype.computeProperties = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var properties = ObjectUtils.removeKeys(data.properties, StoredQueriesSearchSource.propertiesBlacklist);\r\n        return properties;\r\n    };\r\n    StoredQueriesSearchSource.id = 'storedqueries';\r\n    StoredQueriesSearchSource.type = FEATURE;\r\n    StoredQueriesSearchSource.propertiesBlacklist = [];\r\n    StoredQueriesSearchSource.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    StoredQueriesSearchSource.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: undefined, decorators: [{ type: Inject, args: ['options',] }] }\r\n    ]; };\r\n    return StoredQueriesSearchSource;\r\n}(SearchSource));\r\n/**\r\n * StoredQueriesReverse search source\r\n */\r\n// EXAMPLE CALLS\r\n// tslint:disable-next-line:max-line-length\r\n// https://ws.mapserver.transports.gouv.qc.ca/swtq?service=wfs&version=1.1.0&request=GetFeature&storedquery_id=lim_adm&srsname=epsg:4326&outputformat=text/xml;%20subtype=gml/3.1.1&long=-71.292469&lat=46.748107\r\n//\r\nvar StoredQueriesReverseSearchSource = /** @class */ (function (_super) {\r\n    __extends(StoredQueriesReverseSearchSource, _super);\r\n    function StoredQueriesReverseSearchSource(http, options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this.http = http;\r\n        _this.storedQueriesOptions = (/** @type {?} */ (options));\r\n        if (!_this.storedQueriesOptions.storedquery_id) {\r\n            /** @type {?} */\r\n            var err = 'Stored Queries :You have to set \"storedquery_id\" into StoredQueries options. ex: storedquery_id: \"nameofstoredquerie\"';\r\n            throw new Error(err);\r\n        }\r\n        if (!_this.storedQueriesOptions.longField) {\r\n            throw new Error('Stored Queries :You have to set \"longField\" to map the longitude coordinate to the query params.');\r\n        }\r\n        if (!_this.storedQueriesOptions.latField) {\r\n            throw new Error('Stored Queries :You have to set \"latField\" to map the latitude coordinate to the query params.');\r\n        }\r\n        _this.storedQueriesOptions.outputformat = _this.storedQueriesOptions.outputformat || 'text/xml; subtype=gml/3.1.1';\r\n        _this.storedQueriesOptions.srsname = _this.storedQueriesOptions.srsname || 'EPSG:4326';\r\n        _this.storedQueriesOptions.resultTitle = _this.storedQueriesOptions.resultTitle || _this.resultTitle;\r\n        return _this;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    StoredQueriesReverseSearchSource.prototype.getId = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return StoredQueriesReverseSearchSource.id;\r\n    };\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    StoredQueriesReverseSearchSource.prototype.getDefaultOptions = /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            title: 'Stored Queries (reverse)',\r\n            searchUrl: 'https://ws.mapserver.transports.gouv.qc.ca/swtq'\r\n        };\r\n    };\r\n    /**\r\n     * Search a location by coordinates\r\n     * @param lonLat Location coordinates\r\n     * @param distance Search raidus around lonLat\r\n     * @returns Observable of <SearchResult<Feature>[]\r\n     */\r\n    /**\r\n     * Search a location by coordinates\r\n     * @param {?} lonLat Location coordinates\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    StoredQueriesReverseSearchSource.prototype.reverseSearch = /**\r\n     * Search a location by coordinates\r\n     * @param {?} lonLat Location coordinates\r\n     * @param {?=} options\r\n     * @return {?} Observable of <SearchResult<Feature>[]\r\n     */\r\n    function (lonLat, options) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var params = this.computeRequestParams(lonLat, options || {});\r\n        if (new RegExp('.*?gml.*?', 'i').test(this.storedQueriesOptions.outputformat)) {\r\n            return this.http\r\n                .get(this.searchUrl, { params: params, responseType: 'text' })\r\n                .pipe(map((/**\r\n             * @param {?} response\r\n             * @return {?}\r\n             */\r\n            function (response) {\r\n                return _this.extractResults(_this.extractWFSData(response));\r\n            })));\r\n        }\r\n        else {\r\n            return this.http\r\n                .get(this.searchUrl, { params: params })\r\n                .pipe(map((/**\r\n             * @param {?} response\r\n             * @return {?}\r\n             */\r\n            function (response) {\r\n                return _this.extractResults(_this.extractWFSData(response));\r\n            })));\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    StoredQueriesReverseSearchSource.prototype.getFormatFromOptions = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var olFormatCls;\r\n        /** @type {?} */\r\n        var outputFormat = this.storedQueriesOptions.outputformat;\r\n        /** @type {?} */\r\n        var patternGml3 = new RegExp('.*?gml.*?', 'i');\r\n        /** @type {?} */\r\n        var patternGeojson = new RegExp('.*?json.*?', 'i');\r\n        if (patternGeojson.test(outputFormat)) {\r\n            olFormatCls = GeoJSON;\r\n        }\r\n        if (patternGml3.test(outputFormat)) {\r\n            olFormatCls = WFS;\r\n        }\r\n        return new olFormatCls();\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} res\r\n     * @return {?}\r\n     */\r\n    StoredQueriesReverseSearchSource.prototype.extractWFSData = /**\r\n     * @private\r\n     * @param {?} res\r\n     * @return {?}\r\n     */\r\n    function (res) {\r\n        /** @type {?} */\r\n        var olFormat = this.getFormatFromOptions();\r\n        /** @type {?} */\r\n        var geojson = GeoJSON;\r\n        /** @type {?} */\r\n        var wfsfeatures = olFormat.readFeatures(res);\r\n        /** @type {?} */\r\n        var features = JSON.parse(new geojson().writeFeatures(wfsfeatures));\r\n        return features;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} lonLat\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    StoredQueriesReverseSearchSource.prototype.computeRequestParams = /**\r\n     * @private\r\n     * @param {?} lonLat\r\n     * @param {?=} options\r\n     * @return {?}\r\n     */\r\n    function (lonLat, options) {\r\n        /** @type {?} */\r\n        var longLatParams = {};\r\n        longLatParams[this.storedQueriesOptions.longField] = lonLat[0];\r\n        longLatParams[this.storedQueriesOptions.latField] = lonLat[1];\r\n        return new HttpParams({\r\n            fromObject: Object.assign({\r\n                service: 'wfs',\r\n                version: '1.1.0',\r\n                request: 'GetFeature',\r\n                storedquery_id: this.storedQueriesOptions.storedquery_id,\r\n                srsname: this.storedQueriesOptions.srsname,\r\n                outputformat: this.storedQueriesOptions.outputformat,\r\n            }, longLatParams, this.params, options.params || {})\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    StoredQueriesReverseSearchSource.prototype.extractResults = /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    function (response) {\r\n        var _this = this;\r\n        return response.features.map((/**\r\n         * @param {?} data\r\n         * @return {?}\r\n         */\r\n        function (data) {\r\n            return _this.dataToResult(data);\r\n        }));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    StoredQueriesReverseSearchSource.prototype.dataToResult = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var properties = this.computeProperties(data);\r\n        /** @type {?} */\r\n        var id = [this.getId(), properties.type, data.id].join('.');\r\n        /** @type {?} */\r\n        var title = data.properties[this.storedQueriesOptions.resultTitle] ? this.storedQueriesOptions.resultTitle : this.resultTitle;\r\n        return {\r\n            source: this,\r\n            data: {\r\n                type: FEATURE,\r\n                projection: 'EPSG:4326',\r\n                geometry: data.geometry,\r\n                properties: properties,\r\n                meta: {\r\n                    id: id,\r\n                    title: data.properties[title]\r\n                }\r\n            },\r\n            meta: {\r\n                dataType: FEATURE,\r\n                id: id,\r\n                title: data.properties[title],\r\n                icon: 'map-marker'\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    StoredQueriesReverseSearchSource.prototype.computeProperties = /**\r\n     * @private\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    function (data) {\r\n        /** @type {?} */\r\n        var properties = ObjectUtils.removeKeys(data.properties, StoredQueriesReverseSearchSource.propertiesBlacklist);\r\n        return Object.assign(properties, { type: data.properties.doc_type });\r\n    };\r\n    StoredQueriesReverseSearchSource.id = 'storedqueriesreverse';\r\n    StoredQueriesReverseSearchSource.type = FEATURE;\r\n    StoredQueriesReverseSearchSource.propertiesBlacklist = [];\r\n    StoredQueriesReverseSearchSource.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    StoredQueriesReverseSearchSource.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: undefined, decorators: [{ type: Inject, args: ['options',] }] }\r\n    ]; };\r\n    return StoredQueriesReverseSearchSource;\r\n}(SearchSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * StoredQueries search source factory\r\n * @ignore\r\n * @param {?} http\r\n * @param {?} config\r\n * @return {?}\r\n */\r\nfunction storedqueriesSearchSourceFactory(http, config) {\r\n    return new StoredQueriesSearchSource(http, config.getConfig(\"searchSources.\" + StoredQueriesSearchSource.id));\r\n}\r\n/**\r\n * Function that returns a provider for the StoredQueries search source\r\n * @return {?}\r\n */\r\nfunction provideStoredQueriesSearchSource() {\r\n    return {\r\n        provide: SearchSource,\r\n        useFactory: storedqueriesSearchSourceFactory,\r\n        multi: true,\r\n        deps: [HttpClient, ConfigService]\r\n    };\r\n}\r\n/**\r\n * StoredQueriesReverse search source factory\r\n * @ignore\r\n * @param {?} http\r\n * @param {?} config\r\n * @return {?}\r\n */\r\nfunction storedqueriesReverseSearchSourceFactory(http, config) {\r\n    return new StoredQueriesReverseSearchSource(http, config.getConfig(\"searchSources.\" + StoredQueriesReverseSearchSource.id));\r\n}\r\n/**\r\n * Function that returns a provider for the StoredQueriesReverse search source\r\n * @return {?}\r\n */\r\nfunction provideStoredQueriesReverseSearchSource() {\r\n    return {\r\n        provide: SearchSource,\r\n        useFactory: storedqueriesReverseSearchSourceFactory,\r\n        multi: true,\r\n        deps: [HttpClient, ConfigService]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {number} */\r\nvar RoutingFormat = {\r\n    GeoJSON: 0,\r\n    JSON: 1,\r\n};\r\nRoutingFormat[RoutingFormat.GeoJSON] = 'GeoJSON';\r\nRoutingFormat[RoutingFormat.JSON] = 'JSON';\r\n/** @enum {string} */\r\nvar SourceRoutingType = {\r\n    Route: 'Route',\r\n    Trip: 'Trip',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OsrmRoutingSource = /** @class */ (function (_super) {\r\n    __extends(OsrmRoutingSource, _super);\r\n    function OsrmRoutingSource(http, config) {\r\n        var _this = _super.call(this) || this;\r\n        _this.http = http;\r\n        _this.config = config;\r\n        _this.routingUrl = 'https://geoegl.msp.gouv.qc.ca/services/itineraire/route/v1/driving/';\r\n        _this.options = _this.config.getConfig('routingSources.osrm') || {};\r\n        _this.routingUrl = _this.options.url || _this.routingUrl;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(OsrmRoutingSource.prototype, \"enabled\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.options.enabled !== false;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this.options.enabled = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    OsrmRoutingSource.prototype.getName = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return OsrmRoutingSource._name;\r\n    };\r\n    /**\r\n     * @param {?} coordinates\r\n     * @return {?}\r\n     */\r\n    OsrmRoutingSource.prototype.route = /**\r\n     * @param {?} coordinates\r\n     * @return {?}\r\n     */\r\n    function (coordinates) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var routingParams = this.getRouteParams();\r\n        return this.http\r\n            .get(this.routingUrl + coordinates.join(';'), {\r\n            params: routingParams\r\n        })\r\n            .pipe(map((/**\r\n         * @param {?} res\r\n         * @return {?}\r\n         */\r\n        function (res) { return _this.extractRoutesData(res); })));\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    OsrmRoutingSource.prototype.extractRoutesData = /**\r\n     * @private\r\n     * @param {?} response\r\n     * @return {?}\r\n     */\r\n    function (response) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var routeResponse = [];\r\n        response.routes.forEach((/**\r\n         * @param {?} route\r\n         * @return {?}\r\n         */\r\n        function (route) {\r\n            routeResponse.push(_this.formatRoute(route, response.waypoints));\r\n        }));\r\n        return routeResponse;\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    OsrmRoutingSource.prototype.getRouteParams = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return new HttpParams({\r\n            fromObject: {\r\n                overview: 'full',\r\n                steps: 'true',\r\n                geometries: 'geojson',\r\n                alternatives: 'true'\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} roadNetworkRoute\r\n     * @param {?} waypoints\r\n     * @return {?}\r\n     */\r\n    OsrmRoutingSource.prototype.formatRoute = /**\r\n     * @private\r\n     * @param {?} roadNetworkRoute\r\n     * @param {?} waypoints\r\n     * @return {?}\r\n     */\r\n    function (roadNetworkRoute, waypoints) {\r\n        /** @type {?} */\r\n        var stepsUI = [];\r\n        roadNetworkRoute.legs.forEach((/**\r\n         * @param {?} leg\r\n         * @return {?}\r\n         */\r\n        function (leg) {\r\n            leg.steps.forEach((/**\r\n             * @param {?} step\r\n             * @return {?}\r\n             */\r\n            function (step) {\r\n                stepsUI.push(step);\r\n            }));\r\n        }));\r\n        return {\r\n            id: uuid(),\r\n            title: roadNetworkRoute.legs[0].summary,\r\n            source: OsrmRoutingSource._name,\r\n            sourceType: SourceRoutingType.Route,\r\n            order: 1,\r\n            format: RoutingFormat.GeoJSON,\r\n            icon: 'directions',\r\n            projection: 'EPSG:4326',\r\n            waypoints: waypoints,\r\n            distance: roadNetworkRoute.distance,\r\n            duration: roadNetworkRoute.duration,\r\n            geometry: roadNetworkRoute.geometry,\r\n            legs: roadNetworkRoute.legs,\r\n            steps: stepsUI,\r\n            weight: roadNetworkRoute.weight,\r\n            weight_name: roadNetworkRoute.weight_name\r\n        };\r\n    };\r\n    OsrmRoutingSource._name = 'OSRM Québec';\r\n    OsrmRoutingSource.decorators = [\r\n        { type: Injectable }\r\n    ];\r\n    /** @nocollapse */\r\n    OsrmRoutingSource.ctorParameters = function () { return [\r\n        { type: HttpClient },\r\n        { type: ConfigService }\r\n    ]; };\r\n    return OsrmRoutingSource;\r\n}(RoutingSource));\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @param {?} http\r\n * @param {?} config\r\n * @return {?}\r\n */\r\nfunction osrmRoutingSourcesFactory(http, config) {\r\n    return new OsrmRoutingSource(http, config);\r\n}\r\n/**\r\n * @return {?}\r\n */\r\nfunction provideOsrmRoutingSource() {\r\n    return {\r\n        provide: RoutingSource,\r\n        useFactory: osrmRoutingSourcesFactory,\r\n        multi: true,\r\n        deps: [HttpClient, ConfigService]\r\n    };\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { IgoGeoModule, IgoCatalogModule, IgoCatalogBrowserModule, IgoCatalogLibraryModule, IgoDataSourceModule, IgoDownloadModule, IgoGeoWorkspaceModule, IgoWorkspaceSelectorModule, IgoOgcFilterModule, IgoFeatureModule, IgoFeatureFormModule, IgoFeatureDetailsModule, IgoFilterModule, IgoGeometryModule, IgoGeometryFormFieldModule, IgoImportExportModule, IgoLayerModule, IgoMapModule, IgoMeasureModule, IgoMeasurerModule, IgoMetadataModule, IgoOverlayModule, IgoPrintModule, IgoQueryModule, IgoRoutingModule, IgoSearchModule, IgoSearchBarModule, IgoSearchResultsModule, IgoToastModule, IgoWktModule, querySearchSourceFactory, provideQuerySearchSource, defaultIChercheSearchResultFormatterFactory, provideDefaultIChercheSearchResultFormatter, ichercheSearchSourceFactory, provideIChercheSearchSource, ichercheReverseSearchSourceFactory, provideIChercheReverseSearchSource, defaultCoordinatesSearchResultFormatterFactory, provideDefaultCoordinatesSearchResultFormatter, CoordinatesReverseSearchSourceFactory, provideCoordinatesReverseSearchSource, ilayerSearchSourceFactory, provideILayerSearchSource, nominatimSearchSourceFactory, provideNominatimSearchSource, storedqueriesSearchSourceFactory, provideStoredQueriesSearchSource, storedqueriesReverseSearchSourceFactory, provideStoredQueriesReverseSearchSource, osrmRoutingSourcesFactory, provideOsrmRoutingSource, routingSourceServiceFactory, provideRoutingSourceService, RoutingSourceService, CatalogService, CatalogItemType, CatalogBrowserComponent, CatalogLibaryComponent, DataService, DataSource, FeatureDataSource, OSMDataSource, XYZDataSource, WFSDataSource, WFSService, WMSDataSource, formatWFSQueryString, checkWfsParams, defaultEpsg, defaultMaxFeatures, defaultWfsVersion, defaultFieldNameGeometry, gmlRegex, jsonRegex, WMTSDataSource, CartoDataSource, ArcGISRestDataSource, TileArcGISRestDataSource, WebSocketDataSource, MVTDataSource, ClusterDataSource, DataSourceService, CapabilitiesService, EsriStyleGenerator, generateIdFromSourceOptions, generateWMSIdFromSourceOptions, generateWMTSIdFromSourceOptions, generateXYZIdFromSourceOptions, generateFeatureIdFromSourceOptions, generateId, createDefaultTileGrid, DownloadService, DownloadButtonComponent, FEATURE, FeatureMotion, featureToOl, featureFromOl, computeOlFeatureExtent, computeOlFeaturesExtent, scaleExtent, featuresAreOutOfView, featuresAreTooDeepInView, moveToOlFeatures, hideOlFeature, tryBindStoreLayer, tryAddLoadingStrategy, tryAddSelectionStrategy, FeatureStore, FeatureStoreLoadingStrategy, FeatureStoreLoadingLayerStrategy, FeatureStoreSelectionStrategy, FeatureStoreStrategy, FilterableDataSourcePipe, TimeFilterService, OgcFilterOperatorType, OGCFilterService, OgcFilterWriter, TimeFilterFormComponent, TimeFilterItemComponent, TimeFilterListComponent, TimeFilterListBindingDirective, OgcFilterableFormComponent, OgcFilterableItemComponent, OgcFilterableListComponent, OgcFilterableListBindingDirective, OgcFilterFormComponent, OgcFilterToggleButtonComponent, OgcFilterButtonComponent, GeometrySliceError, GeometrySliceMultiPolygonError, GeometrySliceLineStringError, GeometrySliceTooManyIntersectionError, createDrawInteractionStyle, createDrawHoleInteractionStyle, sliceOlGeometry, sliceOlLineString, sliceOlPolygon, addLinearRingToOlPolygon, DrawControl, ModifyControl, SliceControl, DropGeoFileDirective, ExportError, ExportInvalidFileError, ExportNothingToExportError, ExportService, ExportFormat, exportToCSV, entitiesToRowData, downloadContent, handleFileExportError, handleNothingToExportError, ImportError, ImportInvalidFileError, ImportUnreadableFileError, ImportNothingToImportError, ImportService, addLayerAndFeaturesToMap, handleFileImportSuccess, handleFileImportError, handleNothingToImportError, getFileExtension, computeLayerTitleFromFile, ImportExportComponent, LayerService, LAYER, Layer, TooltipType, ImageLayer, TileLayer, VectorLayer, VectorTileLayer, StyleService, LayerItemComponent, LayerLegendComponent, LayerListComponent, LayerListBindingDirective, LayerListControlsEnum, LayerListService, ImageWatcher, TileWatcher, VectorWatcher, getLayersLegends, IgoMap, MapViewAction, MapService, stringToLonLat, viewStatesAreEqual, formatScale, getResolutionFromScale, getScaleFromResolution, ctrlKeyDown, MapOfflineDirective, ProjectionService, MapController, MapViewController, MapBrowserComponent, ZoomButtonComponent, GeolocateButtonComponent, BaseLayersSwitcherComponent, MiniBaseMapComponent, RotationButtonComponent, MEASURE_UNIT_AUTO, MeasureType, MeasureLengthUnit, MeasureLengthUnitAbbreviation, MeasureAreaUnit, MeasureAreaUnitAbbreviation, metersToKilometers, metersToFeet, metersToMiles, squareMetersToSquareKilometers, squareMetersToSquareMiles, squareMetersToSquareFeet, squareMetersToHectares, squareMetersToAcres, metersToUnit, squareMetersToUnit, formatMeasure, computeBestLengthUnit, computeBestAreaUnit, createMeasureInteractionStyle, createMeasureLayerStyle, measureOlGeometryLength, measureOlGeometryArea, measureOlGeometry, updateOlGeometryMidpoints, clearOlGeometryMidpoints, updateOlTooltipsAtMidpoints, getOlTooltipsAtMidpoints, updateOlGeometryCenter, updateOlTooltipAtCenter, getOlTooltipAtCenter, getTooltipsOfOlGeometry, createOlTooltipAtPoint, MeasurerComponent, MeasureFormatPipe, MetadataService, MetadataButtonComponent, Overlay, OverlayDirective, OverlayService, OverlayAction, createOverlayLayer, createOverlayMarkerStyle, PrintService, PrintOutputFormat, PrintPaperFormat, PrintOrientation, PrintResolution, PrintSaveImageFormat, PrintComponent, PrintFormComponent, QueryService, QueryDirective, QueryFormat, QueryHtmlTarget, layerIsQueryable, olLayerIsQueryable, QuerySearchSource, RoutingService, RoutingFormat, SourceRoutingType, RoutingSource, OsrmRoutingSource, RoutingFormComponent, RoutingFormBindingDirective, RoutingFormService, SEARCH_TYPES, SearchService, SearchSourceService, sourceCanSearch, sourceCanReverseSearch, featureToSearchResult, SearchSource, IChercheSearchResultFormatter, IChercheSearchSource, IChercheReverseSearchSource, ILayerSearchSource, NominatimSearchSource, StoredQueriesSearchSource, StoredQueriesReverseSearchSource, CoordinatesSearchResultFormatter, CoordinatesReverseSearchSource, ToastComponent, GoogleLinks, WktService, CatalogBrowserGroupComponent as ɵj, CatalogBrowserLayerComponent as ɵk, CatalogBrowserComponent as ɵc, CatalogLibaryItemComponent as ɵm, CatalogLibaryComponent as ɵl, CapabilitiesService as ɵg, DataSourceService as ɵf, DataService as ɵi, WFSService as ɵh, DownloadButtonComponent as ɵn, DownloadService as ɵo, FeatureDetailsComponent as ɵp, FeatureFormComponent as ɵq, OgcFilterButtonComponent as ɵba, OgcFilterFormComponent as ɵy, OgcFilterToggleButtonComponent as ɵbb, OgcFilterableFormComponent as ɵbd, OgcFilterableItemComponent as ɵbe, OgcFilterableListBindingDirective as ɵbg, OgcFilterableListComponent as ɵbf, FilterableDataSourcePipe as ɵr, OGCFilterService as ɵbc, TimeFilterService as ɵu, TimeFilterFormComponent as ɵs, TimeFilterItemComponent as ɵt, TimeFilterListBindingDirective as ɵw, TimeFilterListComponent as ɵv, GeometryFormFieldInputComponent as ɵbi, GeometryFormFieldComponent as ɵbh, ImportExportComponent as ɵbj, DropGeoFileDirective as ɵbm, ExportService as ɵbl, ImportService as ɵbk, LayerItemComponent as ɵbo, LayerLegendComponent as ɵbp, LayerListBindingDirective as ɵbs, LayerListComponent as ɵbq, LayerListService as ɵbr, LayerService as ɵd, StyleService as ɵe, baseLayersSwitcherSlideInOut as ɵbx, BaseLayersSwitcherComponent as ɵbw, MiniBaseMapComponent as ɵby, GeolocateButtonComponent as ɵbu, MapBrowserComponent as ɵbn, RotationButtonComponent as ɵbv, MapService as ɵx, MapOfflineDirective as ɵbz, ZoomButtonComponent as ɵbt, MeasureFormatPipe as ɵca, MeasurerDialogComponent as ɵcd, MeasurerItemComponent as ɵcb, MeasurerComponent as ɵcc, MetadataButtonComponent as ɵa, MetadataService as ɵb, OverlayDirective as ɵcf, OverlayService as ɵcg, PrintFormComponent as ɵcj, PrintComponent as ɵch, PrintService as ɵci, QuerySearchSource as ɵco, QueryDirective as ɵck, QueryService as ɵcl, RoutingFormBindingDirective as ɵcv, RoutingFormComponent as ɵcp, RoutingFormService as ɵcu, OsrmRoutingSource as ɵdy, RoutingSource as ɵcr, RoutingService as ɵcq, SearchBarComponent as ɵda, SearchUrlParamDirective as ɵdb, SearchResultsItemComponent as ɵdd, SearchResultsComponent as ɵdc, SearchSelectorComponent as ɵcx, IgoSearchSelectorModule as ɵcw, SearchSettingsComponent as ɵcz, IgoSearchSettingsModule as ɵcy, provideSearchSourceService as ɵdf, searchSourceServiceFactory as ɵde, SearchSourceService as ɵct, SearchService as ɵcs, CoordinatesReverseSearchSource as ɵdk, CoordinatesSearchResultFormatter as ɵdj, IChercheReverseSearchSource as ɵdi, IChercheSearchResultFormatter as ɵdg, IChercheSearchSource as ɵdh, ILayerSearchSource as ɵdt, NominatimSearchSource as ɵdv, SearchSource as ɵcm, StoredQueriesReverseSearchSource as ɵdx, StoredQueriesSearchSource as ɵdw, ToastComponent as ɵdl, WktService as ɵz, WfsWorkspaceService as ɵdn, WmsWorkspaceService as ɵdo, OgcFilterComponent as ɵdp, OgcFilterWidget as ɵdq, ogcFilterWidgetFactory as ɵdr, provideOgcFilterWidget as ɵds, WorkspaceSelectorDirective as ɵdm };\n\n//# sourceMappingURL=igo2-geo.js.map","import { CommonModule } from '@angular/common';\nimport { MatTabsModule, MatIconModule, MatButtonModule } from '@angular/material';\nimport { map } from 'rxjs/operators';\nimport olFormatGeoJSON from 'ol/format/GeoJSON';\nimport { IgoMap, MapService, ProjectionService, IgoMeasurerModule, FeatureStore, SearchSourceService, CatalogService, LayerListControlsEnum, moveToOlFeatures, FeatureMotion, FEATURE, LAYER, LayerService, IgoRoutingModule, IgoImportExportModule, IgoFilterModule, IgoLayerModule, IgoMetadataModule, IgoDownloadModule, IgoPrintModule, IgoCatalogBrowserModule, IgoCatalogLibraryModule, IgoFeatureModule, IgoSearchModule, IgoFeatureDetailsModule } from '@igo2/geo';\nimport { __decorate, __metadata } from 'tslib';\nimport { IgoLanguageModule, LanguageService } from '@igo2/core';\nimport { IgoContextModule, ContextService } from '@igo2/context';\nimport { BehaviorSubject } from 'rxjs';\nimport { Component, Injectable, NgModule, CUSTOM_ELEMENTS_SCHEMA, defineInjectable, inject, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { ToolComponent, Toolbox, ToolService, EntityStore, getEntityTitle, IgoCustomHtmlModule, IgoFlexibleModule, IgoPanelModule, WorkspaceStore } from '@igo2/common';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextEditorToolComponent = /** @class */ (function () {\r\n    function ContextEditorToolComponent() {\r\n    }\r\n    ContextEditorToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-context-editor-tool',\r\n                    template: \"<igo-context-edit igoContextEditBinding></igo-context-edit>\\r\\n\"\r\n                }] }\r\n    ];\r\n    ContextEditorToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'contextEditor',\r\n            title: 'igo.integration.tools.contexts',\r\n            icon: 'star'\r\n        })\r\n    ], ContextEditorToolComponent);\r\n    return ContextEditorToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service that holds the state of the search module\r\n */\r\nvar ToolState = /** @class */ (function () {\r\n    function ToolState(toolService) {\r\n        this.toolService = toolService;\r\n        /**\r\n         * Toolbox that holds main tools\r\n         */\r\n        this.toolbox = new Toolbox();\r\n        this.toolbox.setTools(this.toolService.getTools());\r\n    }\r\n    ToolState.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ToolState.ctorParameters = function () { return [\r\n        { type: ToolService }\r\n    ]; };\r\n    /** @nocollapse */ ToolState.ngInjectableDef = defineInjectable({ factory: function ToolState_Factory() { return new ToolState(inject(ToolService)); }, token: ToolState, providedIn: \"root\" });\r\n    return ToolState;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextManagerToolComponent = /** @class */ (function () {\r\n    function ContextManagerToolComponent(toolState) {\r\n        this.toolState = toolState;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextManagerToolComponent.prototype.editContext = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.toolState.toolbox.activateTool('contextEditor');\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ContextManagerToolComponent.prototype.managePermissions = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.toolState.toolbox.activateTool('contextPermissionManager');\r\n    };\r\n    ContextManagerToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-context-manager-tool',\r\n                    template: \"<igo-context-list\\r\\n  igoContextListBinding\\r\\n  (edit)=\\\"editContext()\\\"\\r\\n  (managePermissions)=\\\"managePermissions()\\\">\\r\\n</igo-context-list>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextManagerToolComponent.ctorParameters = function () { return [\r\n        { type: ToolState }\r\n    ]; };\r\n    ContextManagerToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'contextManager',\r\n            title: 'igo.integration.tools.contexts',\r\n            icon: 'star'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ToolState])\r\n    ], ContextManagerToolComponent);\r\n    return ContextManagerToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextPermissionManagerToolComponent = /** @class */ (function () {\r\n    function ContextPermissionManagerToolComponent() {\r\n    }\r\n    ContextPermissionManagerToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-context-permission-manager-tool',\r\n                    template: \"<igo-context-permissions igoContextPermissionsBinding></igo-context-permissions>\\r\\n\"\r\n                }] }\r\n    ];\r\n    ContextPermissionManagerToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'contextPermissionManager',\r\n            title: 'igo.integration.tools.contexts',\r\n            icon: 'star'\r\n        })\r\n    ], ContextPermissionManagerToolComponent);\r\n    return ContextPermissionManagerToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service that holds the state of the map module\r\n */\r\nvar MapState = /** @class */ (function () {\r\n    function MapState(mapService, projectionService // Don't remove this or it'll never be injected\r\n    ) {\r\n        this.mapService = mapService;\r\n        this.projectionService = projectionService;\r\n        this._map = new IgoMap({\r\n            controls: {\r\n                scaleLine: true,\r\n                attribution: {\r\n                    collapsed: false\r\n                }\r\n            }\r\n        });\r\n        this.mapService.setMap(this.map);\r\n    }\r\n    Object.defineProperty(MapState.prototype, \"map\", {\r\n        /**\r\n         * Active map\r\n         */\r\n        get: /**\r\n         * Active map\r\n         * @return {?}\r\n         */\r\n        function () { return this._map; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MapState.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    MapState.ctorParameters = function () { return [\r\n        { type: MapService },\r\n        { type: ProjectionService }\r\n    ]; };\r\n    /** @nocollapse */ MapState.ngInjectableDef = defineInjectable({ factory: function MapState_Factory() { return new MapState(inject(MapService), inject(ProjectionService)); }, token: MapState, providedIn: \"root\" });\r\n    return MapState;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ContextShareToolComponent = /** @class */ (function () {\r\n    function ContextShareToolComponent(mapState) {\r\n        this.mapState = mapState;\r\n        this.hasCopyLinkButton = false;\r\n        this.hasShareMapButton = true;\r\n    }\r\n    Object.defineProperty(ContextShareToolComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () { return this.mapState.map; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextShareToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-context-share-tool',\r\n                    template: \"<igo-share-map\\r\\n  igoShareMapBinding\\r\\n  [map]=\\\"map\\\"\\r\\n  [hasCopyLinkButton]=\\\"hasCopyLinkButton\\\"\\r\\n  [hasShareMapButton]=\\\"hasShareMapButton\\\"\\r\\n></igo-share-map>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextShareToolComponent.ctorParameters = function () { return [\r\n        { type: MapState }\r\n    ]; };\r\n    ContextShareToolComponent.propDecorators = {\r\n        hasCopyLinkButton: [{ type: Input }],\r\n        hasShareMapButton: [{ type: Input }]\r\n    };\r\n    ContextShareToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'shareMap',\r\n            title: 'igo.integration.tools.shareMap',\r\n            icon: 'share-variant'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [MapState])\r\n    ], ContextShareToolComponent);\r\n    return ContextShareToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppContextModule = /** @class */ (function () {\r\n    function IgoAppContextModule() {\r\n    }\r\n    IgoAppContextModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [IgoContextModule],\r\n                    declarations: [\r\n                        ContextEditorToolComponent,\r\n                        ContextManagerToolComponent,\r\n                        ContextPermissionManagerToolComponent,\r\n                        ContextShareToolComponent\r\n                    ],\r\n                    exports: [\r\n                        ContextEditorToolComponent,\r\n                        ContextManagerToolComponent,\r\n                        ContextPermissionManagerToolComponent,\r\n                        ContextShareToolComponent\r\n                    ],\r\n                    entryComponents: [\r\n                        ContextEditorToolComponent,\r\n                        ContextManagerToolComponent,\r\n                        ContextPermissionManagerToolComponent,\r\n                        ContextShareToolComponent\r\n                    ],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppContextModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service that holds the state of the catalog module\r\n */\r\nvar CatalogState = /** @class */ (function () {\r\n    function CatalogState() {\r\n        /**\r\n         * Catalog -> Catalog items store mapping\r\n         */\r\n        this.catalogItemsStores = new Map();\r\n        this._catalogStore = new EntityStore([]);\r\n    }\r\n    Object.defineProperty(CatalogState.prototype, \"catalogStore\", {\r\n        /**\r\n         * Store that contains all the catalogs\r\n         */\r\n        get: /**\r\n         * Store that contains all the catalogs\r\n         * @return {?}\r\n         */\r\n        function () { return this._catalogStore; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Get a catalog's items store\r\n     * @param catalog Catalog\r\n     * @returns Store that contains the catalog items\r\n     */\r\n    /**\r\n     * Get a catalog's items store\r\n     * @param {?} catalog Catalog\r\n     * @return {?} Store that contains the catalog items\r\n     */\r\n    CatalogState.prototype.getCatalogItemsStore = /**\r\n     * Get a catalog's items store\r\n     * @param {?} catalog Catalog\r\n     * @return {?} Store that contains the catalog items\r\n     */\r\n    function (catalog) {\r\n        return this.catalogItemsStores.get((/** @type {?} */ (catalog.id)));\r\n    };\r\n    /**\r\n     * Bind a catalog items store to a catalog\r\n     * @param catalog Catalog\r\n     * @param store Catalog items store\r\n     */\r\n    /**\r\n     * Bind a catalog items store to a catalog\r\n     * @param {?} catalog Catalog\r\n     * @param {?} store Catalog items store\r\n     * @return {?}\r\n     */\r\n    CatalogState.prototype.setCatalogItemsStore = /**\r\n     * Bind a catalog items store to a catalog\r\n     * @param {?} catalog Catalog\r\n     * @param {?} store Catalog items store\r\n     * @return {?}\r\n     */\r\n    function (catalog, store) {\r\n        this.catalogItemsStores.set((/** @type {?} */ (catalog.id)), store);\r\n    };\r\n    CatalogState.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    CatalogState.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ CatalogState.ngInjectableDef = defineInjectable({ factory: function CatalogState_Factory() { return new CatalogState(); }, token: CatalogState, providedIn: \"root\" });\r\n    return CatalogState;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Tool to browse the list of available catalogs.\r\n */\r\nvar CatalogLibraryToolComponent = /** @class */ (function () {\r\n    function CatalogLibraryToolComponent(catalogService, catalogState, toolState) {\r\n        this.catalogService = catalogService;\r\n        this.catalogState = catalogState;\r\n        this.toolState = toolState;\r\n    }\r\n    Object.defineProperty(CatalogLibraryToolComponent.prototype, \"store\", {\r\n        /**\r\n         * Store that contains the catalogs\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Store that contains the catalogs\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.catalogState.catalogStore;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    CatalogLibraryToolComponent.prototype.ngOnInit = /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.store.entities$.value.length === 0) {\r\n            this.loadCatalogs();\r\n        }\r\n    };\r\n    /**\r\n     * When the selected catalog changes, toggle the the CatalogBrowser tool.\r\n     * @internal\r\n     * @param event Select event\r\n     */\r\n    /**\r\n     * When the selected catalog changes, toggle the the CatalogBrowser tool.\r\n     * \\@internal\r\n     * @param {?} event Select event\r\n     * @return {?}\r\n     */\r\n    CatalogLibraryToolComponent.prototype.onCatalogSelectChange = /**\r\n     * When the selected catalog changes, toggle the the CatalogBrowser tool.\r\n     * \\@internal\r\n     * @param {?} event Select event\r\n     * @return {?}\r\n     */\r\n    function (event) {\r\n        if (event.selected === false) {\r\n            return;\r\n        }\r\n        this.toolState.toolbox.activateTool('catalogBrowser');\r\n    };\r\n    /**\r\n     * Get all the available catalogs from the CatalogService and\r\n     * load them into the store.\r\n     */\r\n    /**\r\n     * Get all the available catalogs from the CatalogService and\r\n     * load them into the store.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    CatalogLibraryToolComponent.prototype.loadCatalogs = /**\r\n     * Get all the available catalogs from the CatalogService and\r\n     * load them into the store.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.catalogService.loadCatalogs().subscribe((/**\r\n         * @param {?} catalogs\r\n         * @return {?}\r\n         */\r\n        function (catalogs) {\r\n            _this.store.clear();\r\n            _this.store.load(catalogs);\r\n        }));\r\n    };\r\n    CatalogLibraryToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-catalog-library-tool',\r\n                    template: \"<igo-catalog-library\\r\\n  [store]=\\\"store\\\"\\r\\n  (catalogSelectChange)=\\\"onCatalogSelectChange($event)\\\">\\r\\n</igo-catalog-library>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    CatalogLibraryToolComponent.ctorParameters = function () { return [\r\n        { type: CatalogService },\r\n        { type: CatalogState },\r\n        { type: ToolState }\r\n    ]; };\r\n    /**\r\n     * Tool to browse the list of available catalogs.\r\n     */\r\n    CatalogLibraryToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'catalog',\r\n            title: 'igo.integration.tools.catalog',\r\n            icon: 'layers-plus'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [CatalogService,\r\n            CatalogState,\r\n            ToolState])\r\n    ], CatalogLibraryToolComponent);\r\n    return CatalogLibraryToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoAppCatalogLibraryToolModule = /** @class */ (function () {\r\n    function IgoAppCatalogLibraryToolModule() {\r\n    }\r\n    IgoAppCatalogLibraryToolModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoCatalogLibraryModule\r\n                    ],\r\n                    declarations: [CatalogLibraryToolComponent],\r\n                    exports: [CatalogLibraryToolComponent],\r\n                    entryComponents: [CatalogLibraryToolComponent],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppCatalogLibraryToolModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Tool to browse a catalog's groups and layers and display them to a map.\r\n */\r\nvar CatalogBrowserToolComponent = /** @class */ (function () {\r\n    function CatalogBrowserToolComponent(catalogService, catalogState, mapState) {\r\n        this.catalogService = catalogService;\r\n        this.catalogState = catalogState;\r\n        this.mapState = mapState;\r\n        /**\r\n         * Store that contains the catalog items\r\n         * \\@internal\r\n         */\r\n        this.store$ = new BehaviorSubject(undefined);\r\n        /**\r\n         * Whether a group can be toggled when it's collapsed\r\n         */\r\n        this.toggleCollapsedGroup = true;\r\n    }\r\n    Object.defineProperty(CatalogBrowserToolComponent.prototype, \"map\", {\r\n        /**\r\n         * Map to add layers to\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Map to add layers to\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.mapState.map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserToolComponent.prototype.ngOnInit = /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var catalogStore = this.catalogState.catalogStore;\r\n        this.catalog$$ = catalogStore.stateView\r\n            .firstBy$((/**\r\n         * @param {?} record\r\n         * @return {?}\r\n         */\r\n        function (record) { return record.state.selected === true; }))\r\n            .subscribe((/**\r\n         * @param {?} record\r\n         * @return {?}\r\n         */\r\n        function (record) {\r\n            if (record && record.entity) {\r\n                /** @type {?} */\r\n                var catalog = record.entity;\r\n                _this.catalog = catalog;\r\n                _this.loadCatalogItems(catalog);\r\n            }\r\n        }));\r\n    };\r\n    /**\r\n     * @internal\r\n     */\r\n    /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserToolComponent.prototype.ngOnDestroy = /**\r\n     * \\@internal\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.catalog$$.unsubscribe();\r\n    };\r\n    /**\r\n     * Get the selected catalog's items from the CatalogService and\r\n     * load them into the store.\r\n     * @param catalog Selected catalog\r\n     */\r\n    /**\r\n     * Get the selected catalog's items from the CatalogService and\r\n     * load them into the store.\r\n     * @private\r\n     * @param {?} catalog Selected catalog\r\n     * @return {?}\r\n     */\r\n    CatalogBrowserToolComponent.prototype.loadCatalogItems = /**\r\n     * Get the selected catalog's items from the CatalogService and\r\n     * load them into the store.\r\n     * @private\r\n     * @param {?} catalog Selected catalog\r\n     * @return {?}\r\n     */\r\n    function (catalog) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var store = this.catalogState.getCatalogItemsStore(catalog);\r\n        if (store !== undefined) {\r\n            this.store$.next(store);\r\n            return;\r\n        }\r\n        store = new EntityStore([]);\r\n        this.catalogState.setCatalogItemsStore(catalog, store);\r\n        this.catalogService\r\n            .loadCatalogItems(catalog)\r\n            .subscribe((/**\r\n         * @param {?} items\r\n         * @return {?}\r\n         */\r\n        function (items) {\r\n            store.load(items);\r\n            _this.store$.next(store);\r\n        }));\r\n    };\r\n    CatalogBrowserToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-catalog-browser-tool',\r\n                    template: \"<igo-catalog-browser\\r\\n  *ngIf=\\\"store$ | async as store\\\"\\r\\n  [catalog]=\\\"catalog\\\"\\r\\n  [store]=\\\"store\\\"\\r\\n  [map]=\\\"map\\\"\\r\\n  [toggleCollapsedGroup]=\\\"toggleCollapsedGroup\\\">\\r\\n</igo-catalog-browser>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    CatalogBrowserToolComponent.ctorParameters = function () { return [\r\n        { type: CatalogService },\r\n        { type: CatalogState },\r\n        { type: MapState }\r\n    ]; };\r\n    CatalogBrowserToolComponent.propDecorators = {\r\n        toggleCollapsedGroup: [{ type: Input }]\r\n    };\r\n    /**\r\n     * Tool to browse a catalog's groups and layers and display them to a map.\r\n     */\r\n    CatalogBrowserToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'catalogBrowser',\r\n            title: 'igo.integration.tools.catalog',\r\n            icon: 'photo-browser'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [CatalogService,\r\n            CatalogState,\r\n            MapState])\r\n    ], CatalogBrowserToolComponent);\r\n    return CatalogBrowserToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoAppCatalogBrowserToolModule = /** @class */ (function () {\r\n    function IgoAppCatalogBrowserToolModule() {\r\n    }\r\n    IgoAppCatalogBrowserToolModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        IgoCatalogBrowserModule\r\n                    ],\r\n                    declarations: [CatalogBrowserToolComponent],\r\n                    exports: [CatalogBrowserToolComponent],\r\n                    entryComponents: [CatalogBrowserToolComponent],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppCatalogBrowserToolModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppCatalogModule = /** @class */ (function () {\r\n    function IgoAppCatalogModule() {\r\n    }\r\n    IgoAppCatalogModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    exports: [\r\n                        IgoAppCatalogLibraryToolModule,\r\n                        IgoAppCatalogBrowserToolModule\r\n                    ],\r\n                    declarations: []\r\n                },] }\r\n    ];\r\n    return IgoAppCatalogModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar DirectionsToolComponent = /** @class */ (function () {\r\n    function DirectionsToolComponent(mapState) {\r\n        this.mapState = mapState;\r\n    }\r\n    Object.defineProperty(DirectionsToolComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.mapState.map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DirectionsToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-directions-tool',\r\n                    template: \"<igo-routing-form igoRoutingFormBinding></igo-routing-form>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    DirectionsToolComponent.ctorParameters = function () { return [\r\n        { type: MapState }\r\n    ]; };\r\n    DirectionsToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'directions',\r\n            title: 'igo.integration.tools.directions',\r\n            icon: 'directions'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [MapState])\r\n    ], DirectionsToolComponent);\r\n    return DirectionsToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppDirectionsModule = /** @class */ (function () {\r\n    function IgoAppDirectionsModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoAppDirectionsModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoAppDirectionsModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoAppDirectionsModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [IgoRoutingModule],\r\n                    declarations: [DirectionsToolComponent],\r\n                    exports: [DirectionsToolComponent],\r\n                    entryComponents: [DirectionsToolComponent],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppDirectionsModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppWorkspaceModule = /** @class */ (function () {\r\n    function IgoAppWorkspaceModule() {\r\n    }\r\n    IgoAppWorkspaceModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: []\r\n                },] }\r\n    ];\r\n    return IgoAppWorkspaceModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ImportExportToolComponent = /** @class */ (function () {\r\n    function ImportExportToolComponent(mapState) {\r\n        this.mapState = mapState;\r\n    }\r\n    Object.defineProperty(ImportExportToolComponent.prototype, \"map\", {\r\n        /**\r\n         * Map to measure on\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Map to measure on\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.mapState.map; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ImportExportToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-import-export-tool',\r\n                    template: \"<igo-import-export [map]=\\\"map\\\"></igo-import-export>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    ImportExportToolComponent.ctorParameters = function () { return [\r\n        { type: MapState }\r\n    ]; };\r\n    ImportExportToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'importExport',\r\n            title: 'igo.integration.tools.importExport',\r\n            icon: 'file-move'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [MapState])\r\n    ], ImportExportToolComponent);\r\n    return ImportExportToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppImportExportModule = /** @class */ (function () {\r\n    function IgoAppImportExportModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoAppImportExportModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoAppImportExportModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoAppImportExportModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [IgoImportExportModule],\r\n                    declarations: [ImportExportToolComponent],\r\n                    exports: [ImportExportToolComponent],\r\n                    entryComponents: [ImportExportToolComponent],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppImportExportModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar MapDetailsToolComponent = /** @class */ (function () {\r\n    function MapDetailsToolComponent() {\r\n        this.toggleLegendOnVisibilityChange = false;\r\n        this.expandLegendOfVisibleLayers = false;\r\n        this.updateLegendOnResolutionChange = false;\r\n        this.ogcFiltersInLayers = true;\r\n        this.layerListControls = {};\r\n        this.queryBadge = false;\r\n    }\r\n    Object.defineProperty(MapDetailsToolComponent.prototype, \"excludeBaseLayers\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.layerListControls.excludeBaseLayers || false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MapDetailsToolComponent.prototype, \"layerFilterAndSortOptions\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var filterSortOptions = Object.assign({\r\n                showToolbar: LayerListControlsEnum.default\r\n            }, this.layerListControls);\r\n            switch (this.layerListControls.showToolbar) {\r\n                case LayerListControlsEnum.always:\r\n                    filterSortOptions.showToolbar = LayerListControlsEnum.always;\r\n                    filterSortOptions.toolbarThreshold = undefined;\r\n                    break;\r\n                case LayerListControlsEnum.never:\r\n                    filterSortOptions.showToolbar = LayerListControlsEnum.never;\r\n                    filterSortOptions.toolbarThreshold = undefined;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            return filterSortOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MapDetailsToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-map-details-tool',\r\n                    template: \"<igo-layer-list\\r\\n  igoLayerListBinding\\r\\n  [excludeBaseLayers]=\\\"excludeBaseLayers\\\"\\r\\n  [layerFilterAndSortOptions]=\\\"layerFilterAndSortOptions\\\"\\r\\n  [expandLegendOfVisibleLayers]=\\\"expandLegendOfVisibleLayers\\\"\\r\\n  [toggleLegendOnVisibilityChange]=\\\"toggleLegendOnVisibilityChange\\\"\\r\\n  [updateLegendOnResolutionChange]=\\\"updateLegendOnResolutionChange\\\"\\r\\n  [queryBadge]=\\\"queryBadge\\\">\\r\\n\\r\\n  <ng-template #igoLayerItemToolbar let-layer=\\\"layer\\\">\\r\\n    <igo-download-button [layer]=\\\"layer\\\"></igo-download-button>\\r\\n    <igo-metadata-button [layer]=\\\"layer\\\"></igo-metadata-button>\\r\\n    <igo-ogc-filter-button [ogcFiltersInLayers]=\\\"ogcFiltersInLayers\\\" [layer]=\\\"layer\\\"></igo-ogc-filter-button>\\r\\n  </ng-template>\\r\\n\\r\\n</igo-layer-list>\\r\\n\"\r\n                }] }\r\n    ];\r\n    MapDetailsToolComponent.propDecorators = {\r\n        toggleLegendOnVisibilityChange: [{ type: Input }],\r\n        expandLegendOfVisibleLayers: [{ type: Input }],\r\n        updateLegendOnResolutionChange: [{ type: Input }],\r\n        ogcFiltersInLayers: [{ type: Input }],\r\n        layerListControls: [{ type: Input }],\r\n        queryBadge: [{ type: Input }]\r\n    };\r\n    MapDetailsToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'mapDetails',\r\n            title: 'igo.integration.tools.map',\r\n            icon: 'map'\r\n        })\r\n    ], MapDetailsToolComponent);\r\n    return MapDetailsToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Tool to browse a map's layers or to choose a different map\r\n */\r\nvar MapToolComponent = /** @class */ (function () {\r\n    function MapToolComponent() {\r\n        this.toggleLegendOnVisibilityChange = false;\r\n        this.expandLegendOfVisibleLayers = false;\r\n        this.updateLegendOnResolutionChange = false;\r\n        this.ogcFiltersInLayers = true;\r\n        this.layerListControls = {};\r\n        this.queryBadge = false;\r\n    }\r\n    Object.defineProperty(MapToolComponent.prototype, \"excludeBaseLayers\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.layerListControls.excludeBaseLayers || false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MapToolComponent.prototype, \"layerFilterAndSortOptions\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            /** @type {?} */\r\n            var filterSortOptions = Object.assign({\r\n                showToolbar: LayerListControlsEnum.default\r\n            }, this.layerListControls);\r\n            switch (this.layerListControls.showToolbar) {\r\n                case LayerListControlsEnum.always:\r\n                    filterSortOptions.showToolbar = LayerListControlsEnum.always;\r\n                    filterSortOptions.toolbarThreshold = undefined;\r\n                    break;\r\n                case LayerListControlsEnum.never:\r\n                    filterSortOptions.showToolbar = LayerListControlsEnum.never;\r\n                    filterSortOptions.toolbarThreshold = undefined;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            return filterSortOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MapToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-map-tool',\r\n                    template: \"<mat-tab-group>\\r\\n\\r\\n  <mat-tab [label]=\\\"'igo.integration.tools.map' |\\u00A0translate\\\">\\r\\n    <igo-layer-list\\r\\n      igoLayerListBinding\\r\\n      [excludeBaseLayers]=\\\"excludeBaseLayers\\\"\\r\\n      [layerFilterAndSortOptions]=\\\"layerFilterAndSortOptions\\\"\\r\\n      [expandLegendOfVisibleLayers]=\\\"expandLegendOfVisibleLayers\\\"\\r\\n      [toggleLegendOnVisibilityChange]=\\\"toggleLegendOnVisibilityChange\\\"\\r\\n      [updateLegendOnResolutionChange]=\\\"updateLegendOnResolutionChange\\\"\\r\\n      [queryBadge]=\\\"queryBadge\\\">\\r\\n\\r\\n      <ng-template #igoLayerItemToolbar let-layer=\\\"layer\\\">\\r\\n        <igo-download-button [layer]=\\\"layer\\\"></igo-download-button>\\r\\n        <igo-metadata-button [layer]=\\\"layer\\\"></igo-metadata-button>\\r\\n        <igo-ogc-filter-button [ogcFiltersInLayers]=\\\"ogcFiltersInLayers\\\" [layer]=\\\"layer\\\"></igo-ogc-filter-button>\\r\\n      </ng-template>\\r\\n\\r\\n    </igo-layer-list>\\r\\n  </mat-tab>\\r\\n\\r\\n  <mat-tab [label]=\\\"'igo.integration.tools.contexts' |\\u00A0translate\\\">\\r\\n    <igo-context-list igoContextListBinding></igo-context-list>\\r\\n  </mat-tab>\\r\\n\\r\\n</mat-tab-group>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    styles: [\"mat-tab-group,mat-tab-group ::ng-deep .mat-tab-body-wrapper{height:100%}\"]\r\n                }] }\r\n    ];\r\n    MapToolComponent.propDecorators = {\r\n        toggleLegendOnVisibilityChange: [{ type: Input }],\r\n        expandLegendOfVisibleLayers: [{ type: Input }],\r\n        updateLegendOnResolutionChange: [{ type: Input }],\r\n        ogcFiltersInLayers: [{ type: Input }],\r\n        layerListControls: [{ type: Input }],\r\n        queryBadge: [{ type: Input }]\r\n    };\r\n    /**\r\n     * Tool to browse a map's layers or to choose a different map\r\n     */\r\n    MapToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'map',\r\n            title: 'igo.integration.tools.map',\r\n            icon: 'map'\r\n        })\r\n    ], MapToolComponent);\r\n    return MapToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppMapModule = /** @class */ (function () {\r\n    function IgoAppMapModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoAppMapModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoAppMapModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoAppMapModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        MatTabsModule,\r\n                        IgoLanguageModule,\r\n                        IgoLayerModule,\r\n                        IgoMetadataModule,\r\n                        IgoDownloadModule,\r\n                        IgoFilterModule,\r\n                        IgoContextModule\r\n                    ],\r\n                    declarations: [MapToolComponent, MapDetailsToolComponent],\r\n                    exports: [MapToolComponent, MapDetailsToolComponent],\r\n                    entryComponents: [MapToolComponent, MapDetailsToolComponent],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppMapModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service that holds the state of the measure module\r\n */\r\nvar MeasureState = /** @class */ (function () {\r\n    function MeasureState(mapState) {\r\n        this.mapState = mapState;\r\n        /**\r\n         * Store that holds the measures\r\n         */\r\n        this.store = new FeatureStore([], {\r\n            map: this.mapState.map\r\n        });\r\n    }\r\n    MeasureState.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    MeasureState.ctorParameters = function () { return [\r\n        { type: MapState }\r\n    ]; };\r\n    /** @nocollapse */ MeasureState.ngInjectableDef = defineInjectable({ factory: function MeasureState_Factory() { return new MeasureState(inject(MapState)); }, token: MeasureState, providedIn: \"root\" });\r\n    return MeasureState;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Tool to measure lengths and areas\r\n */\r\nvar MeasurerToolComponent = /** @class */ (function () {\r\n    function MeasurerToolComponent(measureState, mapState) {\r\n        this.measureState = measureState;\r\n        this.mapState = mapState;\r\n    }\r\n    Object.defineProperty(MeasurerToolComponent.prototype, \"store\", {\r\n        /**\r\n         * Map to measure on\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Map to measure on\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.measureState.store; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MeasurerToolComponent.prototype, \"map\", {\r\n        /**\r\n         * Map to measure on\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Map to measure on\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () { return this.mapState.map; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MeasurerToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-measurer-tool',\r\n                    template: \"<igo-measurer [store]=\\\"store\\\" [map]=\\\"map\\\"></igo-measurer>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    MeasurerToolComponent.ctorParameters = function () { return [\r\n        { type: MeasureState },\r\n        { type: MapState }\r\n    ]; };\r\n    /**\r\n     * Tool to measure lengths and areas\r\n     */\r\n    MeasurerToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'measurer',\r\n            title: 'igo.integration.tools.measurer',\r\n            icon: 'ruler'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [MeasureState,\r\n            MapState])\r\n    ], MeasurerToolComponent);\r\n    return MeasurerToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar IgoAppMeasurerToolModule = /** @class */ (function () {\r\n    function IgoAppMeasurerToolModule() {\r\n    }\r\n    IgoAppMeasurerToolModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        IgoMeasurerModule\r\n                    ],\r\n                    declarations: [MeasurerToolComponent],\r\n                    exports: [MeasurerToolComponent],\r\n                    entryComponents: [MeasurerToolComponent],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppMeasurerToolModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppMeasureModule = /** @class */ (function () {\r\n    function IgoAppMeasureModule() {\r\n    }\r\n    IgoAppMeasureModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: [\r\n                        IgoAppMeasurerToolModule\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoAppMeasureModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar PrintToolComponent = /** @class */ (function () {\r\n    function PrintToolComponent(mapState) {\r\n        this.mapState = mapState;\r\n    }\r\n    Object.defineProperty(PrintToolComponent.prototype, \"map\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.mapState.map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PrintToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-print-tool',\r\n                    template: \"<igo-print [map]=\\\"map\\\"></igo-print>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    PrintToolComponent.ctorParameters = function () { return [\r\n        { type: MapState }\r\n    ]; };\r\n    PrintToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'print',\r\n            title: 'igo.integration.tools.print',\r\n            icon: 'printer'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [MapState])\r\n    ], PrintToolComponent);\r\n    return PrintToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppPrintModule = /** @class */ (function () {\r\n    function IgoAppPrintModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoAppPrintModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoAppPrintModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoAppPrintModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [IgoPrintModule],\r\n                    declarations: [PrintToolComponent],\r\n                    exports: [PrintToolComponent],\r\n                    entryComponents: [PrintToolComponent],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppPrintModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service that holds the state of the search module\r\n */\r\nvar SearchState = /** @class */ (function () {\r\n    function SearchState(searchSourceService) {\r\n        this.searchSourceService = searchSourceService;\r\n        /**\r\n         * Store that holds the search results\r\n         */\r\n        this.store = new EntityStore([]);\r\n    }\r\n    Object.defineProperty(SearchState.prototype, \"searchTypes\", {\r\n        /**\r\n         * Search types currently enabled in the search source service\r\n         */\r\n        get: /**\r\n         * Search types currently enabled in the search source service\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.searchSourceService\r\n                .getEnabledSources()\r\n                .map((/**\r\n             * @param {?} source\r\n             * @return {?}\r\n             */\r\n            function (source) { return ((/** @type {?} */ (source.constructor))).type; }));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SearchState.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    SearchState.ctorParameters = function () { return [\r\n        { type: SearchSourceService }\r\n    ]; };\r\n    /** @nocollapse */ SearchState.ngInjectableDef = defineInjectable({ factory: function SearchState_Factory() { return new SearchState(inject(SearchSourceService)); }, token: SearchState, providedIn: \"root\" });\r\n    return SearchState;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Tool to browse the search results\r\n */\r\nvar SearchResultsToolComponent = /** @class */ (function () {\r\n    function SearchResultsToolComponent(mapState, layerService, searchState // private cdRef: ChangeDetectorRef\r\n    ) {\r\n        this.mapState = mapState;\r\n        this.layerService = layerService;\r\n        this.searchState = searchState;\r\n        this.topPanelState = 'initial';\r\n        this.format = new olFormatGeoJSON();\r\n    }\r\n    Object.defineProperty(SearchResultsToolComponent.prototype, \"store\", {\r\n        /**\r\n         * Store holding the search results\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Store holding the search results\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.searchState.store;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchResultsToolComponent.prototype, \"map\", {\r\n        /**\r\n         * Map to display the results on\r\n         * @internal\r\n         */\r\n        get: /**\r\n         * Map to display the results on\r\n         * \\@internal\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.mapState.map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchResultsToolComponent.prototype, \"featureTitle\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this.feature ? getEntityTitle(this.feature) : undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchResultsToolComponent.prototype, \"feature$\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            var _this = this;\r\n            return this.store.stateView\r\n                .firstBy$((/**\r\n             * @param {?} e\r\n             * @return {?}\r\n             */\r\n            function (e) { return e.state.focused; }))\r\n                .pipe(map((/**\r\n             * @param {?} element\r\n             * @return {?}\r\n             */\r\n            function (element) {\r\n                _this.feature = element ? ((/** @type {?} */ (element.entity.data))) : undefined;\r\n                return _this.feature;\r\n            })));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Try to add a feature to the map when it's being focused\r\n     * @internal\r\n     * @param result A search result that could be a feature\r\n     */\r\n    /**\r\n     * Try to add a feature to the map when it's being focused\r\n     * \\@internal\r\n     * @param {?} result A search result that could be a feature\r\n     * @return {?}\r\n     */\r\n    SearchResultsToolComponent.prototype.onResultFocus = /**\r\n     * Try to add a feature to the map when it's being focused\r\n     * \\@internal\r\n     * @param {?} result A search result that could be a feature\r\n     * @return {?}\r\n     */\r\n    function (result) {\r\n        if (this.topPanelState === 'initial') {\r\n            this.toggleTopPanel();\r\n        }\r\n        this.tryAddFeatureToMap(result);\r\n    };\r\n    /**\r\n     * Try to add a feature or a layer to the map when it's being selected\r\n     * @internal\r\n     * @param result A search result that could be a feature or some layer options\r\n     */\r\n    /**\r\n     * Try to add a feature or a layer to the map when it's being selected\r\n     * \\@internal\r\n     * @param {?} result A search result that could be a feature or some layer options\r\n     * @return {?}\r\n     */\r\n    SearchResultsToolComponent.prototype.onResultSelect = /**\r\n     * Try to add a feature or a layer to the map when it's being selected\r\n     * \\@internal\r\n     * @param {?} result A search result that could be a feature or some layer options\r\n     * @return {?}\r\n     */\r\n    function (result) {\r\n        if (this.topPanelState === 'initial') {\r\n            this.toggleTopPanel();\r\n        }\r\n        this.tryAddFeatureToMap(result);\r\n        this.tryAddLayerToMap(result);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SearchResultsToolComponent.prototype.toggleTopPanel = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.topPanelState === 'collapsed') {\r\n            this.topPanelState = 'expanded';\r\n        }\r\n        else {\r\n            this.topPanelState = 'collapsed';\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    SearchResultsToolComponent.prototype.zoomToFeatureExtent = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.feature.geometry) {\r\n            /** @type {?} */\r\n            var olFeature = this.format.readFeature(this.feature, {\r\n                dataProjection: this.feature.projection,\r\n                featureProjection: this.map.projection\r\n            });\r\n            moveToOlFeatures(this.map, [olFeature], FeatureMotion.Zoom);\r\n        }\r\n    };\r\n    /**\r\n     * Try to add a feature to the map overlay\r\n     * @param result A search result that could be a feature\r\n     */\r\n    /**\r\n     * Try to add a feature to the map overlay\r\n     * @private\r\n     * @param {?} result A search result that could be a feature\r\n     * @return {?}\r\n     */\r\n    SearchResultsToolComponent.prototype.tryAddFeatureToMap = /**\r\n     * Try to add a feature to the map overlay\r\n     * @private\r\n     * @param {?} result A search result that could be a feature\r\n     * @return {?}\r\n     */\r\n    function (result) {\r\n        if (result.meta.dataType !== FEATURE) {\r\n            return undefined;\r\n        }\r\n        /** @type {?} */\r\n        var feature = ((/** @type {?} */ (result))).data;\r\n        // Somethimes features have no geometry. It happens with some GetFeatureInfo\r\n        if (feature.geometry === undefined) {\r\n            return;\r\n        }\r\n        this.map.overlay.setFeatures([feature], FeatureMotion.Default);\r\n    };\r\n    /**\r\n     * Try to add a layer to the map\r\n     * @param result A search result that could be some layer options\r\n     */\r\n    /**\r\n     * Try to add a layer to the map\r\n     * @private\r\n     * @param {?} result A search result that could be some layer options\r\n     * @return {?}\r\n     */\r\n    SearchResultsToolComponent.prototype.tryAddLayerToMap = /**\r\n     * Try to add a layer to the map\r\n     * @private\r\n     * @param {?} result A search result that could be some layer options\r\n     * @return {?}\r\n     */\r\n    function (result) {\r\n        var _this = this;\r\n        if (this.map === undefined) {\r\n            return;\r\n        }\r\n        if (result.meta.dataType !== LAYER) {\r\n            return undefined;\r\n        }\r\n        /** @type {?} */\r\n        var layerOptions = ((/** @type {?} */ (result))).data;\r\n        this.layerService\r\n            .createAsyncLayer(layerOptions)\r\n            .subscribe((/**\r\n         * @param {?} layer\r\n         * @return {?}\r\n         */\r\n        function (layer) { return _this.map.addLayer(layer); }));\r\n    };\r\n    SearchResultsToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-search-results-tool',\r\n                    template: \"<igo-flexible\\r\\n  #topPanel\\r\\n  initial=\\\"100%\\\"\\r\\n  initialMobile=\\\"100%\\\"\\r\\n  collapsed=\\\"60%\\\"\\r\\n  expanded=\\\"calc(100% - 58px)\\\"\\r\\n  [state]=\\\"topPanelState\\\">\\r\\n\\r\\n  <div class=\\\"igo-content\\\">\\r\\n    <igo-search-results\\r\\n      [store]=\\\"store\\\"\\r\\n      (resultFocus)=\\\"onResultFocus($event)\\\"\\r\\n      (resultSelect)=\\\"onResultSelect($event)\\\">\\r\\n    </igo-search-results>\\r\\n  </div>\\r\\n\\r\\n  <div igoFlexibleFill class=\\\"igo-content\\\">\\r\\n    <igo-panel [title]=\\\"featureTitle\\\" *ngIf=\\\"feature$ |\\u00A0async\\\">\\r\\n\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        panelLeftButton\\r\\n        class=\\\"igo-icon-button\\\"\\r\\n        (click)=\\\"toggleTopPanel()\\\">\\r\\n        <mat-icon [svgIcon]=\\\"topPanel.state === 'collapsed'? 'arrow-down' : 'arrow-up'\\\"></mat-icon>\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        panelRightButton\\r\\n        class=\\\"igo-icon-button\\\"\\r\\n        (click)=\\\"zoomToFeatureExtent()\\\"\\r\\n        *ngIf=\\\"feature.geometry\\\">\\r\\n        <mat-icon svgIcon=\\\"magnify-plus-outline\\\"></mat-icon>\\r\\n      </button>\\r\\n\\r\\n      <igo-feature-details\\r\\n        [feature]=\\\"feature$ | async\\\">\\r\\n      </igo-feature-details>\\r\\n    </igo-panel>\\r\\n  </div>\\r\\n\\r\\n</igo-flexible>\\r\\n\",\r\n                    changeDetection: ChangeDetectionStrategy.OnPush\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    SearchResultsToolComponent.ctorParameters = function () { return [\r\n        { type: MapState },\r\n        { type: LayerService },\r\n        { type: SearchState }\r\n    ]; };\r\n    /**\r\n     * Tool to browse the search results\r\n     */\r\n    SearchResultsToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'searchResults',\r\n            title: 'igo.integration.tools.searchResults',\r\n            icon: 'magnify'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [MapState,\r\n            LayerService,\r\n            SearchState // private cdRef: ChangeDetectorRef\r\n        ])\r\n    ], SearchResultsToolComponent);\r\n    return SearchResultsToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppSearchModule = /** @class */ (function () {\r\n    function IgoAppSearchModule() {\r\n    }\r\n    IgoAppSearchModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatIconModule,\r\n                        MatButtonModule,\r\n                        IgoFeatureModule,\r\n                        IgoSearchModule,\r\n                        IgoFlexibleModule,\r\n                        IgoPanelModule,\r\n                        IgoFeatureDetailsModule\r\n                    ],\r\n                    declarations: [SearchResultsToolComponent],\r\n                    exports: [SearchResultsToolComponent],\r\n                    entryComponents: [SearchResultsToolComponent],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppSearchModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar OgcFilterToolComponent = /** @class */ (function () {\r\n    function OgcFilterToolComponent() {\r\n    }\r\n    OgcFilterToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-ogc-filter-tool',\r\n                    template: \"<igo-ogc-filterable-list igoOgcFilterableListBinding></igo-ogc-filterable-list>\\r\\n\\r\\n\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    OgcFilterToolComponent.ctorParameters = function () { return []; };\r\n    OgcFilterToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'ogcFilter',\r\n            title: 'igo.integration.tools.ogcFilter',\r\n            icon: 'filter'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], OgcFilterToolComponent);\r\n    return OgcFilterToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar TimeAnalysisToolComponent = /** @class */ (function () {\r\n    function TimeAnalysisToolComponent() {\r\n    }\r\n    TimeAnalysisToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-time-analysis-tool',\r\n                    template: \"<igo-time-filter-list igoTimeFilterListBinding></igo-time-filter-list>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    TimeAnalysisToolComponent.ctorParameters = function () { return []; };\r\n    TimeAnalysisToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'timeAnalysis',\r\n            title: 'igo.integration.tools.timeAnalysis',\r\n            icon: 'history'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TimeAnalysisToolComponent);\r\n    return TimeAnalysisToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppFilterModule = /** @class */ (function () {\r\n    function IgoAppFilterModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoAppFilterModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoAppFilterModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoAppFilterModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [IgoFilterModule],\r\n                    declarations: [OgcFilterToolComponent, TimeAnalysisToolComponent],\r\n                    exports: [OgcFilterToolComponent, TimeAnalysisToolComponent],\r\n                    entryComponents: [OgcFilterToolComponent, TimeAnalysisToolComponent],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppFilterModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar AboutToolComponent = /** @class */ (function () {\r\n    function AboutToolComponent() {\r\n        this.html = \"\\n    <h1>About IGO</h1>\\n    <p>IGO (for Open GIS Infrastructure) is a Free Open Source Software\\n    for Geospatial (FOSS4G) developed by organisations in the government\\n    of Quebec in Canada. The objective is to make it open, common,\\n    modular, based on open governance model supported by multiple\\n    organisations. IGO is a Web GIS software with a client & server\\n    component to manage and publish massive amount of Geospatial data.\\n    </p>\\n    </hr>\\n    <a href='mailto:info@igouverte.org' target='_top'>info[@]igouverte.org</a>\\n    </br>\\n    <a href='http://www.igouverte.org' target='_blank'>www.igouverte.org</A>\";\r\n    }\r\n    AboutToolComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'igo-about-tool',\r\n                    template: \"<igo-custom-html\\r\\n[html]=\\\"html\\\">\\r\\n</igo-custom-html>\\r\\n\"\r\n                }] }\r\n    ];\r\n    /** @nocollapse */\r\n    AboutToolComponent.ctorParameters = function () { return []; };\r\n    AboutToolComponent.propDecorators = {\r\n        html: [{ type: Input }]\r\n    };\r\n    AboutToolComponent = __decorate([\r\n        ToolComponent({\r\n            name: 'about',\r\n            title: 'igo.integration.tools.about',\r\n            icon: 'help-circle'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], AboutToolComponent);\r\n    return AboutToolComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppAboutModule = /** @class */ (function () {\r\n    function IgoAppAboutModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    IgoAppAboutModule.forRoot = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return {\r\n            ngModule: IgoAppAboutModule,\r\n            providers: []\r\n        };\r\n    };\r\n    IgoAppAboutModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [IgoCustomHtmlModule],\r\n                    declarations: [AboutToolComponent],\r\n                    exports: [AboutToolComponent],\r\n                    entryComponents: [AboutToolComponent],\r\n                    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n                },] }\r\n    ];\r\n    return IgoAppAboutModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoIntegrationModule = /** @class */ (function () {\r\n    function IgoIntegrationModule() {\r\n    }\r\n    IgoIntegrationModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: [\r\n                        IgoAppContextModule,\r\n                        IgoAppCatalogModule,\r\n                        IgoAppDirectionsModule,\r\n                        IgoAppWorkspaceModule,\r\n                        IgoAppImportExportModule,\r\n                        IgoAppMapModule,\r\n                        IgoAppMeasureModule,\r\n                        IgoAppPrintModule,\r\n                        IgoAppSearchModule,\r\n                        IgoAppFilterModule,\r\n                        IgoAppAboutModule\r\n                    ]\r\n                },] }\r\n    ];\r\n    return IgoIntegrationModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar IgoAppToolModule = /** @class */ (function () {\r\n    function IgoAppToolModule() {\r\n    }\r\n    IgoAppToolModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [],\r\n                    declarations: [],\r\n                    exports: []\r\n                },] }\r\n    ];\r\n    return IgoAppToolModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service that holds the state of the context module\r\n */\r\nvar ContextState = /** @class */ (function () {\r\n    function ContextState(contextService, toolService, toolState, languageService) {\r\n        var _this = this;\r\n        this.contextService = contextService;\r\n        this.toolService = toolService;\r\n        this.toolState = toolState;\r\n        this.languageService = languageService;\r\n        /**\r\n         * Observable of the active context\r\n         */\r\n        this.context$ = new BehaviorSubject(undefined);\r\n        this.contextService.context$.subscribe((/**\r\n         * @param {?} context\r\n         * @return {?}\r\n         */\r\n        function (context) {\r\n            _this.onContextChange(context);\r\n        }));\r\n    }\r\n    /**\r\n     * Set the active context\r\n     * @param context Detailed context\r\n     */\r\n    /**\r\n     * Set the active context\r\n     * @private\r\n     * @param {?} context Detailed context\r\n     * @return {?}\r\n     */\r\n    ContextState.prototype.setContext = /**\r\n     * Set the active context\r\n     * @private\r\n     * @param {?} context Detailed context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        this.updateTools(context);\r\n        this.context$.next(context);\r\n    };\r\n    /**\r\n     * Update the tool state with the context's tools\r\n     * @param context Detailed context\r\n     */\r\n    /**\r\n     * Update the tool state with the context's tools\r\n     * @private\r\n     * @param {?} context Detailed context\r\n     * @return {?}\r\n     */\r\n    ContextState.prototype.updateTools = /**\r\n     * Update the tool state with the context's tools\r\n     * @private\r\n     * @param {?} context Detailed context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var toolbox = this.toolState.toolbox;\r\n        /** @type {?} */\r\n        var tools = [];\r\n        /** @type {?} */\r\n        var contextTools = context.tools || [];\r\n        contextTools.forEach((/**\r\n         * @param {?} contextTool\r\n         * @return {?}\r\n         */\r\n        function (contextTool) {\r\n            /** @type {?} */\r\n            var baseTool = _this.toolService.getTool(contextTool.name);\r\n            if (baseTool === undefined) {\r\n                return;\r\n            }\r\n            /** @type {?} */\r\n            var options = Object.assign({}, baseTool.options || {}, contextTool.options || {});\r\n            /** @type {?} */\r\n            var tool = Object.assign({}, baseTool, contextTool, { options: options });\r\n            tools.push(tool);\r\n        }));\r\n        toolbox.setTools(tools);\r\n        toolbox.setToolbar(context.toolbar || []);\r\n        // TODO: This is a patch so the context service can work without\r\n        // injecting the ToolState or without being completely refactored\r\n        this.contextService.setTools([].concat(tools));\r\n    };\r\n    /**\r\n     * Set a new context and update the tool state\r\n     * @param context Detailed context\r\n     */\r\n    /**\r\n     * Set a new context and update the tool state\r\n     * @private\r\n     * @param {?} context Detailed context\r\n     * @return {?}\r\n     */\r\n    ContextState.prototype.onContextChange = /**\r\n     * Set a new context and update the tool state\r\n     * @private\r\n     * @param {?} context Detailed context\r\n     * @return {?}\r\n     */\r\n    function (context) {\r\n        if (context === undefined) {\r\n            return;\r\n        }\r\n        this.setContext(context);\r\n    };\r\n    ContextState.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    ContextState.ctorParameters = function () { return [\r\n        { type: ContextService },\r\n        { type: ToolService },\r\n        { type: ToolState },\r\n        { type: LanguageService }\r\n    ]; };\r\n    /** @nocollapse */ ContextState.ngInjectableDef = defineInjectable({ factory: function ContextState_Factory() { return new ContextState(inject(ContextService), inject(ToolService), inject(ToolState), inject(LanguageService)); }, token: ContextState, providedIn: \"root\" });\r\n    return ContextState;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service that holds the state of the workspace module\r\n */\r\nvar WorkspaceState = /** @class */ (function () {\r\n    function WorkspaceState() {\r\n        var _this = this;\r\n        /**\r\n         * Observable of the active workspace\r\n         */\r\n        this.workspace$ = new BehaviorSubject(undefined);\r\n        this._store = new WorkspaceStore([]);\r\n        this._store.stateView\r\n            .firstBy$((/**\r\n         * @param {?} record\r\n         * @return {?}\r\n         */\r\n        function (record) { return record.state.active === true; }))\r\n            .subscribe((/**\r\n         * @param {?} record\r\n         * @return {?}\r\n         */\r\n        function (record) {\r\n            /** @type {?} */\r\n            var workspace = record ? record.entity : undefined;\r\n            _this.workspace$.next(workspace);\r\n        }));\r\n    }\r\n    Object.defineProperty(WorkspaceState.prototype, \"store\", {\r\n        /**\r\n         * Store that holds all the available workspaces\r\n         */\r\n        get: /**\r\n         * Store that holds all the available workspaces\r\n         * @return {?}\r\n         */\r\n        function () { return this._store; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WorkspaceState.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    WorkspaceState.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ WorkspaceState.ngInjectableDef = defineInjectable({ factory: function WorkspaceState_Factory() { return new WorkspaceState(); }, token: WorkspaceState, providedIn: \"root\" });\r\n    return WorkspaceState;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Service that holds the state of the query module\r\n */\r\nvar QueryState = /** @class */ (function () {\r\n    function QueryState() {\r\n        /**\r\n         * Store that holds the query results\r\n         */\r\n        this.store = new EntityStore([]);\r\n    }\r\n    QueryState.decorators = [\r\n        { type: Injectable, args: [{\r\n                    providedIn: 'root'\r\n                },] }\r\n    ];\r\n    /** @nocollapse */\r\n    QueryState.ctorParameters = function () { return []; };\r\n    /** @nocollapse */ QueryState.ngInjectableDef = defineInjectable({ factory: function QueryState_Factory() { return new QueryState(); }, token: QueryState, providedIn: \"root\" });\r\n    return QueryState;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { IgoIntegrationModule, IgoAppAboutModule, IgoAppContextModule, IgoAppCatalogModule, IgoAppCatalogBrowserToolModule, IgoAppCatalogLibraryToolModule, IgoAppDirectionsModule, IgoAppWorkspaceModule, IgoAppFilterModule, IgoAppImportExportModule, IgoAppMapModule, IgoAppMeasureModule, IgoAppPrintModule, IgoAppSearchModule, IgoAppToolModule, AboutToolComponent, ContextManagerToolComponent, ContextEditorToolComponent, ContextPermissionManagerToolComponent, ContextShareToolComponent, ContextState, CatalogState, CatalogBrowserToolComponent, CatalogLibraryToolComponent, DirectionsToolComponent, WorkspaceState, OgcFilterToolComponent, TimeAnalysisToolComponent, ImportExportToolComponent, MapDetailsToolComponent, MapToolComponent, MapState, MeasureState, MeasurerToolComponent, PrintToolComponent, QueryState, SearchState, SearchResultsToolComponent, ToolState, AboutToolComponent as ɵv, CatalogBrowserToolComponent as ɵi, CatalogLibraryToolComponent as ɵg, CatalogState as ɵh, ContextEditorToolComponent as ɵa, ContextManagerToolComponent as ɵb, ContextPermissionManagerToolComponent as ɵd, ContextShareToolComponent as ɵe, DirectionsToolComponent as ɵj, OgcFilterToolComponent as ɵt, TimeAnalysisToolComponent as ɵu, ImportExportToolComponent as ɵk, MapDetailsToolComponent as ɵm, MapToolComponent as ɵl, MapState as ɵf, MeasureState as ɵp, MeasurerToolComponent as ɵo, IgoAppMeasurerToolModule as ɵn, PrintToolComponent as ɵq, SearchResultsToolComponent as ɵr, SearchState as ɵs, ToolState as ɵc };\n\n//# sourceMappingURL=igo2-integration.js.map","import { ios, version } from 'bowser';\nimport { __spread, __values, __read } from 'tslib';\nimport { Subject } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/* tslint:disable */\r\n/** @type {?} */\r\nvar ALPHA = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\nvar Base64 = /** @class */ (function () {\r\n    function Base64() {\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} s\r\n     * @param {?} i\r\n     * @return {?}\r\n     */\r\n    Base64.getByte = /**\r\n     * @private\r\n     * @param {?} s\r\n     * @param {?} i\r\n     * @return {?}\r\n     */\r\n    function (s, i) {\r\n        /** @type {?} */\r\n        var x = s.charCodeAt(i);\r\n        return x;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} s\r\n     * @param {?} i\r\n     * @return {?}\r\n     */\r\n    Base64.getByte64 = /**\r\n     * @private\r\n     * @param {?} s\r\n     * @param {?} i\r\n     * @return {?}\r\n     */\r\n    function (s, i) {\r\n        /** @type {?} */\r\n        var idx = this.ALPHA.indexOf(s.charAt(i));\r\n        return idx;\r\n    };\r\n    /**\r\n     * @param {?} s\r\n     * @return {?}\r\n     */\r\n    Base64.decode = /**\r\n     * @param {?} s\r\n     * @return {?}\r\n     */\r\n    function (s) {\r\n        /** @type {?} */\r\n        var pads = 0;\r\n        /** @type {?} */\r\n        var i;\r\n        /** @type {?} */\r\n        var b10;\r\n        /** @type {?} */\r\n        var imax = s.length;\r\n        /** @type {?} */\r\n        var x = [];\r\n        s = String(s);\r\n        if (imax === 0) {\r\n            return s;\r\n        }\r\n        if (s.charAt(imax - 1) === this.PADCHAR) {\r\n            pads = 1;\r\n            if (s.charAt(imax - 2) === this.PADCHAR) {\r\n                pads = 2;\r\n            }\r\n            imax -= 4;\r\n        }\r\n        for (i = 0; i < imax; i += 4) {\r\n            b10 =\r\n                (this.getByte64(s, i) << 18) |\r\n                    (this.getByte64(s, i + 1) << 12) |\r\n                    (this.getByte64(s, i + 2) << 6) |\r\n                    this.getByte64(s, i + 3);\r\n            x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255, b10 & 255));\r\n        }\r\n        switch (pads) {\r\n            case 1:\r\n                b10 =\r\n                    (this.getByte64(s, i) << 18) |\r\n                        (this.getByte64(s, i + 1) << 12) |\r\n                        (this.getByte64(s, i + 2) << 6);\r\n                x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255));\r\n                break;\r\n            case 2:\r\n                b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12);\r\n                x.push(String.fromCharCode(b10 >> 16));\r\n                break;\r\n        }\r\n        return x.join('');\r\n    };\r\n    /**\r\n     * @param {?} s\r\n     * @return {?}\r\n     */\r\n    Base64.encode = /**\r\n     * @param {?} s\r\n     * @return {?}\r\n     */\r\n    function (s) {\r\n        s = String(s);\r\n        /** @type {?} */\r\n        var i;\r\n        /** @type {?} */\r\n        var b10;\r\n        /** @type {?} */\r\n        var x = [];\r\n        /** @type {?} */\r\n        var imax = s.length - s.length % 3;\r\n        if (s.length === 0) {\r\n            return s;\r\n        }\r\n        for (i = 0; i < imax; i += 3) {\r\n            b10 =\r\n                (this.getByte(s, i) << 16) |\r\n                    (this.getByte(s, i + 1) << 8) |\r\n                    this.getByte(s, i + 2);\r\n            x.push(this.ALPHA.charAt(b10 >> 18));\r\n            x.push(this.ALPHA.charAt((b10 >> 12) & 63));\r\n            x.push(this.ALPHA.charAt((b10 >> 6) & 63));\r\n            x.push(this.ALPHA.charAt(b10 & 63));\r\n        }\r\n        switch (s.length - imax) {\r\n            case 1:\r\n                b10 = this.getByte(s, i) << 16;\r\n                x.push(this.ALPHA.charAt(b10 >> 18) +\r\n                    this.ALPHA.charAt((b10 >> 12) & 63) +\r\n                    this.PADCHAR +\r\n                    this.PADCHAR);\r\n                break;\r\n            case 2:\r\n                b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8);\r\n                x.push(this.ALPHA.charAt(b10 >> 18) +\r\n                    this.ALPHA.charAt((b10 >> 12) & 63) +\r\n                    this.ALPHA.charAt((b10 >> 6) & 63) +\r\n                    this.PADCHAR);\r\n                break;\r\n        }\r\n        return x.join('');\r\n    };\r\n    Base64.PADCHAR = '=';\r\n    Base64.ALPHA = ALPHA;\r\n    return Base64;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar Clipboard = /** @class */ (function () {\r\n    function Clipboard() {\r\n    }\r\n    /**\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    Clipboard.copy = /**\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    function (element) {\r\n        /** @type {?} */\r\n        var successful = false;\r\n        if (typeof element === 'string') {\r\n            /** @type {?} */\r\n            var textArea = Clipboard.createTextArea(element);\r\n            Clipboard.selectText(textArea);\r\n            successful = Clipboard.copyTextToClipboard();\r\n            Clipboard.destroyTextArea(textArea);\r\n        }\r\n        else {\r\n            Clipboard.selectText(element);\r\n            successful = Clipboard.copyTextToClipboard();\r\n        }\r\n        return successful;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} text\r\n     * @return {?}\r\n     */\r\n    Clipboard.createTextArea = /**\r\n     * @private\r\n     * @param {?} text\r\n     * @return {?}\r\n     */\r\n    function (text) {\r\n        /** @type {?} */\r\n        var textArea = (/** @type {?} */ (document.createElement('textArea')));\r\n        textArea.value = text;\r\n        document.body.appendChild(textArea);\r\n        return textArea;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} textArea\r\n     * @return {?}\r\n     */\r\n    Clipboard.destroyTextArea = /**\r\n     * @private\r\n     * @param {?} textArea\r\n     * @return {?}\r\n     */\r\n    function (textArea) {\r\n        document.body.removeChild(textArea);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} textArea\r\n     * @return {?}\r\n     */\r\n    Clipboard.selectText = /**\r\n     * @private\r\n     * @param {?} textArea\r\n     * @return {?}\r\n     */\r\n    function (textArea) {\r\n        if (ios) {\r\n            /** @type {?} */\r\n            var oldContentEditable = textArea.contentEditable;\r\n            /** @type {?} */\r\n            var oldReadOnly = textArea.readOnly;\r\n            /** @type {?} */\r\n            var range = document.createRange();\r\n            /** @type {?} */\r\n            var selection = window.getSelection();\r\n            textArea.contenteditable = true;\r\n            textArea.readonly = false;\r\n            range.selectNodeContents(textArea);\r\n            selection.removeAllRanges();\r\n            selection.addRange(range);\r\n            textArea.setSelectionRange(0, 999999);\r\n            textArea.contentEditable = oldContentEditable;\r\n            textArea.readOnly = oldReadOnly;\r\n        }\r\n        else {\r\n            textArea.select();\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    Clipboard.copyTextToClipboard = /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (!(ios && version < 10)) {\r\n            return document.execCommand('copy');\r\n        }\r\n        return false;\r\n    };\r\n    return Clipboard;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar StringUtils = /** @class */ (function () {\r\n    function StringUtils() {\r\n    }\r\n    /**\r\n     * @param {?} s1\r\n     * @param {?} s2\r\n     * @param {?=} p\r\n     * @return {?}\r\n     */\r\n    StringUtils.diff = /**\r\n     * @param {?} s1\r\n     * @param {?} s2\r\n     * @param {?=} p\r\n     * @return {?}\r\n     */\r\n    function (s1, s2, p) {\r\n        if (p === void 0) { p = 4; }\r\n        if (!s1 && !s2) {\r\n            return '';\r\n        }\r\n        if (!s1) {\r\n            return '<span class=\"inserted\">' + s2 + '</span>';\r\n        }\r\n        if (!s2) {\r\n            return '<span class=\"deleted\">' + s1 + '</span>';\r\n        }\r\n        s1 = s1.toString();\r\n        s2 = s2.toString();\r\n        /** @type {?} */\r\n        var changeData = StringUtils.getChanges(s1, s2, '', p);\r\n        /** @type {?} */\r\n        var nextS = s2.slice(changeData.mtc.length + changeData.ins.length + changeData.sbs.length);\r\n        // remaining part of \"s\"\r\n        /** @type {?} */\r\n        var nextThis = s1.slice(changeData.mtc.length + changeData.del.length + changeData.sbs.length);\r\n        // remaining part of \"this\"\r\n        /** @type {?} */\r\n        var result = '';\r\n        if (changeData.del.length > 0) {\r\n            changeData.del = '<span class=\"deleted\">' + changeData.del + '</span>';\r\n        }\r\n        if (changeData.ins.length > 0) {\r\n            changeData.ins = '<span class=\"inserted\">' + changeData.ins + '</span>';\r\n        }\r\n        result = changeData.mtc + changeData.del + changeData.ins + changeData.sbs;\r\n        result +=\r\n            nextThis !== '' || nextS !== ''\r\n                ? StringUtils.diff(nextThis, nextS, p)\r\n                : '';\r\n        return result;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} s\r\n     * @param {?} l\r\n     * @param {?} m\r\n     * @return {?}\r\n     */\r\n    StringUtils.getMatchingSubstring = /**\r\n     * @private\r\n     * @param {?} s\r\n     * @param {?} l\r\n     * @param {?} m\r\n     * @return {?}\r\n     */\r\n    function (s, l, m) {\r\n        // returns the first matching substring in-between the two strings\r\n        /** @type {?} */\r\n        var i = 0;\r\n        /** @type {?} */\r\n        var match = false;\r\n        /** @type {?} */\r\n        var slen = s.length;\r\n        /** @type {?} */\r\n        var o = { fis: slen, mtc: m, sbs: '' };\r\n        while (i < slen) {\r\n            l[i] === s[i]\r\n                ? match\r\n                    ? (o.sbs += s[i]) // o.sbs holds the matching substring itsef\r\n                    : ((match = true), (o.fis = i), (o.sbs = s[i]))\r\n                : match\r\n                    ? (i = slen) // stop after the first found substring\r\n                    : (i = i);\r\n            ++i;\r\n        }\r\n        return o;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} s1\r\n     * @param {?} s2\r\n     * @param {?} m\r\n     * @param {?} p\r\n     * @return {?}\r\n     */\r\n    StringUtils.getChanges = /**\r\n     * @private\r\n     * @param {?} s1\r\n     * @param {?} s2\r\n     * @param {?} m\r\n     * @param {?} p\r\n     * @return {?}\r\n     */\r\n    function (s1, s2, m, p) {\r\n        var _a;\r\n        /** @type {?} */\r\n        var isThisLonger = s1.length >= s1.length ? true : false;\r\n        var _b = __read(isThisLonger ? [s1, s2] : [s2, s1], 2), longer = _b[0], shorter = _b[1];\r\n        // assignment of longer and shorter by es6 destructuring\r\n        /** @type {?} */\r\n        var bi = 0;\r\n        while (shorter[bi] === longer[bi] && bi < shorter.length) {\r\n            ++bi;\r\n        } // make bi the index of first mismatching character\r\n        longer = longer.split('').slice(bi); // as the longer string will be rotated it is converted into array\r\n        shorter = shorter.slice(bi); // shorter and longer now starts from the first mismatching character\r\n        // shorter and longer now starts from the first mismatching character\r\n        /** @type {?} */\r\n        var len = longer.length;\r\n        // length of the longer string\r\n        /** @type {?} */\r\n        var cd = {\r\n            fis: shorter.length,\r\n            // the index of matching string in the shorter string\r\n            fil: len,\r\n            // the index of matching string in the longer string\r\n            sbs: '',\r\n            // the matching substring itself\r\n            mtc: m + s2.slice(0, bi)\r\n        };\r\n        // if exists mtc holds the matching string at the front\r\n        /** @type {?} */\r\n        var sub = { sbs: '' };\r\n        if (shorter !== '') {\r\n            for (var rc = 0; rc < len && sub.sbs.length < p; rc++) {\r\n                // rc -> rotate count, p -> precision factor\r\n                sub = StringUtils.getMatchingSubstring(shorter, StringUtils.rotateArray(longer, rc), cd.mtc); // rotate longer string 1 char and get substring\r\n                sub.fil =\r\n                    rc < len - sub.fis\r\n                        ? sub.fis + rc // mismatch is longer than the mismatch in short\r\n                        : sub.fis - len + rc; // mismatch is shorter than the mismatch in short\r\n                if (sub.sbs.length > cd.sbs.length) {\r\n                    cd = sub; // only keep the one with the longest substring.\r\n                }\r\n            }\r\n        }\r\n        // insert the mismatching delete subsrt and insert substr to the cd object and attach the previous substring\r\n        _a = __read(isThisLonger\r\n            ? [longer.slice(0, cd.fil).join(''), shorter.slice(0, cd.fis)]\r\n            : [shorter.slice(0, cd.fis), longer.slice(0, cd.fil).join('')], 2), cd.del = _a[0], cd.ins = _a[1];\r\n        return cd.del.indexOf(' ') === -1 ||\r\n            cd.ins.indexOf(' ') === -1 ||\r\n            cd.del === '' ||\r\n            cd.ins === '' ||\r\n            cd.sbs === ''\r\n            ? cd\r\n            : StringUtils.getChanges(cd.del, cd.ins, cd.mtc, p);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} array\r\n     * @param {?} n\r\n     * @return {?}\r\n     */\r\n    StringUtils.rotateArray = /**\r\n     * @private\r\n     * @param {?} array\r\n     * @param {?} n\r\n     * @return {?}\r\n     */\r\n    function (array, n) {\r\n        /** @type {?} */\r\n        var len = array.length;\r\n        /** @type {?} */\r\n        var res = new Array(array.length);\r\n        if (n % len === 0) {\r\n            return array.slice();\r\n        }\r\n        else {\r\n            for (var i = 0; i < len; i++) {\r\n                res[i] = array[(i + (len + (n % len))) % len];\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    return StringUtils;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {string} */\r\nvar ChangeType = {\r\n    ADDED: 'added',\r\n    DELETED: 'deleted',\r\n    MODIFIED: 'modified',\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ChangeUtils = /** @class */ (function () {\r\n    function ChangeUtils() {\r\n    }\r\n    /**\r\n     * @param {?} obj1\r\n     * @param {?} obj2\r\n     * @param {?=} ignoreKeys\r\n     * @return {?}\r\n     */\r\n    ChangeUtils.findChanges = /**\r\n     * @param {?} obj1\r\n     * @param {?} obj2\r\n     * @param {?=} ignoreKeys\r\n     * @return {?}\r\n     */\r\n    function (obj1, obj2, ignoreKeys) {\r\n        if (ignoreKeys === void 0) { ignoreKeys = []; }\r\n        var e_1, _a;\r\n        /** @type {?} */\r\n        var items = {\r\n            added: [],\r\n            deleted: [],\r\n            modified: []\r\n        };\r\n        if (!obj1 || !obj2) {\r\n            return items;\r\n        }\r\n        /** @type {?} */\r\n        var obj1Clone = __spread(obj1);\r\n        /** @type {?} */\r\n        var obj2Clone = __spread(obj2);\r\n        var _loop_1 = function (fromItem) {\r\n            /** @type {?} */\r\n            var index = obj2Clone.findIndex((/**\r\n             * @param {?} s\r\n             * @return {?}\r\n             */\r\n            function (s) { return s.id === fromItem.id; }));\r\n            if (index === -1) {\r\n                items.deleted.push({\r\n                    change: { type: ChangeType.DELETED },\r\n                    value: fromItem\r\n                });\r\n                return \"continue\";\r\n            }\r\n            /** @type {?} */\r\n            var toItem = obj2Clone.splice(index, 1)[0];\r\n            /** @type {?} */\r\n            var fromItemClone = JSON.parse(JSON.stringify(fromItem));\r\n            /** @type {?} */\r\n            var toItemClone = JSON.parse(JSON.stringify(toItem));\r\n            /** @type {?} */\r\n            var keysChanged = ChangeUtils.compareObject(fromItemClone, toItemClone, undefined, ignoreKeys);\r\n            if (keysChanged.length) {\r\n                items.modified.push({\r\n                    change: {\r\n                        type: ChangeType.MODIFIED,\r\n                        keysChanged: keysChanged\r\n                    },\r\n                    value: fromItemClone,\r\n                    oldValue: fromItem,\r\n                    newValue: toItem\r\n                });\r\n            }\r\n        };\r\n        try {\r\n            for (var obj1Clone_1 = __values(obj1Clone), obj1Clone_1_1 = obj1Clone_1.next(); !obj1Clone_1_1.done; obj1Clone_1_1 = obj1Clone_1.next()) {\r\n                var fromItem = obj1Clone_1_1.value;\r\n                _loop_1(fromItem);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (obj1Clone_1_1 && !obj1Clone_1_1.done && (_a = obj1Clone_1.return)) _a.call(obj1Clone_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        items.added = obj2Clone.map((/**\r\n         * @param {?} itemAdded\r\n         * @return {?}\r\n         */\r\n        function (itemAdded) {\r\n            return {\r\n                change: { type: ChangeType.ADDED },\r\n                value: itemAdded\r\n            };\r\n        }));\r\n        return items;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {?} fromItem\r\n     * @param {?} toItem\r\n     * @param {?=} baseKey\r\n     * @param {?=} ignoreKeys\r\n     * @return {?}\r\n     */\r\n    ChangeUtils.compareObject = /**\r\n     * @private\r\n     * @param {?} fromItem\r\n     * @param {?} toItem\r\n     * @param {?=} baseKey\r\n     * @param {?=} ignoreKeys\r\n     * @return {?}\r\n     */\r\n    function (fromItem, toItem, baseKey, ignoreKeys) {\r\n        var _this = this;\r\n        if (ignoreKeys === void 0) { ignoreKeys = []; }\r\n        /** @type {?} */\r\n        var fromItemClone = JSON.parse(JSON.stringify(fromItem));\r\n        /** @type {?} */\r\n        var toItemClone = JSON.parse(JSON.stringify(toItem));\r\n        /** @type {?} */\r\n        var keys = new Set(__spread(Object.keys(fromItem), Object.keys(toItem)));\r\n        /** @type {?} */\r\n        var keysChanged = [];\r\n        keys.forEach((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        function (key) {\r\n            /** @type {?} */\r\n            var keyString = baseKey ? baseKey + \".\" + key : key;\r\n            if (ignoreKeys.indexOf(keyString) !== -1) {\r\n                return;\r\n            }\r\n            if (Array.isArray(fromItem[key])) {\r\n                fromItem[key] = fromItem[key].join(',<br>');\r\n            }\r\n            if (Array.isArray(toItem[key])) {\r\n                toItem[key] = toItem[key].join(',<br>');\r\n            }\r\n            if (typeof fromItem[key] === 'object' &&\r\n                typeof toItem[key] === 'object' &&\r\n                fromItem[key] !== null &&\r\n                toItem[key] !== null) {\r\n                keysChanged = keysChanged.concat(_this.compareObject(fromItem[key], toItem[key], keyString));\r\n            }\r\n            else {\r\n                if (fromItem[key] !== toItem[key]) {\r\n                    keysChanged.push({\r\n                        key: keyString,\r\n                        oldValue: fromItemClone[key],\r\n                        newValue: toItemClone[key]\r\n                    });\r\n                    fromItem[key] = StringUtils.diff(fromItem[key], toItem[key]);\r\n                }\r\n            }\r\n        }));\r\n        return keysChanged;\r\n    };\r\n    return ChangeUtils;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nvar ObjectUtils = /** @class */ (function () {\r\n    function ObjectUtils() {\r\n    }\r\n    /**\r\n     * @param {?} obj\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    ObjectUtils.resolve = /**\r\n     * @param {?} obj\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (obj, key) {\r\n        /** @type {?} */\r\n        var keysArray = key\r\n            .replace(/\\[/g, '.')\r\n            .replace(/\\]/g, '')\r\n            .split('.');\r\n        /** @type {?} */\r\n        var current = obj;\r\n        while (keysArray.length) {\r\n            if (typeof current !== 'object') {\r\n                return undefined;\r\n            }\r\n            current = current[keysArray.shift()];\r\n        }\r\n        return current;\r\n    };\r\n    /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    ObjectUtils.isObject = /**\r\n     * @param {?} item\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        return (item &&\r\n            typeof item === 'object' &&\r\n            !Array.isArray(item) &&\r\n            item !== null &&\r\n            !(item instanceof Date));\r\n    };\r\n    /**\r\n     * @param {?} target\r\n     * @param {?} source\r\n     * @param {?=} ignoreUndefined\r\n     * @return {?}\r\n     */\r\n    ObjectUtils.mergeDeep = /**\r\n     * @param {?} target\r\n     * @param {?} source\r\n     * @param {?=} ignoreUndefined\r\n     * @return {?}\r\n     */\r\n    function (target, source, ignoreUndefined) {\r\n        if (ignoreUndefined === void 0) { ignoreUndefined = false; }\r\n        /** @type {?} */\r\n        var output = Object.assign({}, target);\r\n        if (ObjectUtils.isObject(target) && ObjectUtils.isObject(source)) {\r\n            Object.keys(source)\r\n                .filter((/**\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (key) { return !ignoreUndefined || source[key] !== undefined; }))\r\n                .forEach((/**\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (key) {\r\n                var _a, _b;\r\n                if (ObjectUtils.isObject(source[key])) {\r\n                    if (!(key in target)) {\r\n                        Object.assign(output, (_a = {}, _a[key] = source[key], _a));\r\n                    }\r\n                    else {\r\n                        output[key] = ObjectUtils.mergeDeep(target[key], source[key], ignoreUndefined);\r\n                    }\r\n                }\r\n                else {\r\n                    Object.assign(output, (_b = {}, _b[key] = source[key], _b));\r\n                }\r\n            }));\r\n        }\r\n        return output;\r\n    };\r\n    /**\r\n     * @param {?} obj\r\n     * @return {?}\r\n     */\r\n    ObjectUtils.removeUndefined = /**\r\n     * @param {?} obj\r\n     * @return {?}\r\n     */\r\n    function (obj) {\r\n        /** @type {?} */\r\n        var output = {};\r\n        if (ObjectUtils.isObject(obj)) {\r\n            Object.keys(obj)\r\n                .filter((/**\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (key) { return obj[key] !== undefined; }))\r\n                .forEach((/**\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (key) {\r\n                if (ObjectUtils.isObject(obj[key]) || Array.isArray(obj[key])) {\r\n                    output[key] = ObjectUtils.removeUndefined(obj[key]);\r\n                }\r\n                else {\r\n                    output[key] = obj[key];\r\n                }\r\n            }));\r\n            return output;\r\n        }\r\n        if (Array.isArray(obj)) {\r\n            return obj.map((/**\r\n             * @param {?} o\r\n             * @return {?}\r\n             */\r\n            function (o) { return ObjectUtils.removeUndefined(o); }));\r\n        }\r\n        return obj;\r\n    };\r\n    /**\r\n     * @param {?} obj\r\n     * @return {?}\r\n     */\r\n    ObjectUtils.removeNull = /**\r\n     * @param {?} obj\r\n     * @return {?}\r\n     */\r\n    function (obj) {\r\n        /** @type {?} */\r\n        var output = {};\r\n        if (ObjectUtils.isObject(obj)) {\r\n            Object.keys(obj)\r\n                .filter((/**\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (key) { return obj[key] !== null; }))\r\n                .forEach((/**\r\n             * @param {?} key\r\n             * @return {?}\r\n             */\r\n            function (key) {\r\n                if (ObjectUtils.isObject(obj[key]) || Array.isArray(obj[key])) {\r\n                    output[key] = ObjectUtils.removeNull(obj[key]);\r\n                }\r\n                else {\r\n                    output[key] = obj[key];\r\n                }\r\n            }));\r\n            return output;\r\n        }\r\n        if (Array.isArray(obj)) {\r\n            return obj.map((/**\r\n             * @param {?} o\r\n             * @return {?}\r\n             */\r\n            function (o) { return ObjectUtils.removeNull(o); }));\r\n        }\r\n        return obj;\r\n    };\r\n    /**\r\n     * @param {?} a\r\n     * @param {?} b\r\n     * @param {?=} direction\r\n     * @param {?=} nullFirst\r\n     * @return {?}\r\n     */\r\n    ObjectUtils.naturalCompare = /**\r\n     * @param {?} a\r\n     * @param {?} b\r\n     * @param {?=} direction\r\n     * @param {?=} nullFirst\r\n     * @return {?}\r\n     */\r\n    function (a, b, direction, nullFirst) {\r\n        if (direction === void 0) { direction = 'asc'; }\r\n        if (nullFirst === void 0) { nullFirst = false; }\r\n        if (direction === 'desc') {\r\n            b = [a, (a = b)][0];\r\n        }\r\n        if (a === undefined || a === null || a === '') {\r\n            if (direction === 'desc') {\r\n                return nullFirst ? -1 : 1;\r\n            }\r\n            return nullFirst ? 1 : -1;\r\n        }\r\n        if (b === undefined || b === null || b === '') {\r\n            if (direction === 'desc') {\r\n                return nullFirst ? 1 : -1;\r\n            }\r\n            return nullFirst ? -1 : 1;\r\n        }\r\n        /** @type {?} */\r\n        var ax = [];\r\n        /** @type {?} */\r\n        var bx = [];\r\n        a = '' + a;\r\n        b = '' + b;\r\n        a.replace(/(\\d+)|(\\D+)/g, (/**\r\n         * @param {?} _\r\n         * @param {?} $1\r\n         * @param {?} $2\r\n         * @return {?}\r\n         */\r\n        function (_, $1, $2) {\r\n            ax.push([$1 || Infinity, $2 || '']);\r\n        }));\r\n        b.replace(/(\\d+)|(\\D+)/g, (/**\r\n         * @param {?} _\r\n         * @param {?} $1\r\n         * @param {?} $2\r\n         * @return {?}\r\n         */\r\n        function (_, $1, $2) {\r\n            bx.push([$1 || Infinity, $2 || '']);\r\n        }));\r\n        while (ax.length && bx.length) {\r\n            /** @type {?} */\r\n            var an = ax.shift();\r\n            /** @type {?} */\r\n            var bn = bx.shift();\r\n            /** @type {?} */\r\n            var nn = an[0] - bn[0] || an[1].localeCompare(bn[1]);\r\n            if (nn) {\r\n                return nn;\r\n            }\r\n        }\r\n        return ax.length - bx.length;\r\n    };\r\n    /**\r\n     * Return true if two object are equivalent.\r\n     * Objects are considered equivalent if they have the same properties and\r\n     * if all of their properties (first-level only) share the same value.\r\n     * @param obj1 First object\r\n     * @param obj2 Second object\r\n     * @returns Whether two objects arer equivalent\r\n     */\r\n    /**\r\n     * Return true if two object are equivalent.\r\n     * Objects are considered equivalent if they have the same properties and\r\n     * if all of their properties (first-level only) share the same value.\r\n     * @param {?} obj1 First object\r\n     * @param {?} obj2 Second object\r\n     * @return {?} Whether two objects arer equivalent\r\n     */\r\n    ObjectUtils.objectsAreEquivalent = /**\r\n     * Return true if two object are equivalent.\r\n     * Objects are considered equivalent if they have the same properties and\r\n     * if all of their properties (first-level only) share the same value.\r\n     * @param {?} obj1 First object\r\n     * @param {?} obj2 Second object\r\n     * @return {?} Whether two objects arer equivalent\r\n     */\r\n    function (obj1, obj2) {\r\n        var e_1, _a;\r\n        if (obj1 === obj2) {\r\n            return true;\r\n        }\r\n        /** @type {?} */\r\n        var obj1Props = Object.getOwnPropertyNames(obj1);\r\n        /** @type {?} */\r\n        var obj2Props = Object.getOwnPropertyNames(obj2);\r\n        if (obj1Props.length !== obj2Props.length) {\r\n            return false;\r\n        }\r\n        try {\r\n            for (var obj1Props_1 = __values(obj1Props), obj1Props_1_1 = obj1Props_1.next(); !obj1Props_1_1.done; obj1Props_1_1 = obj1Props_1.next()) {\r\n                var prop = obj1Props_1_1.value;\r\n                if (obj1[prop] !== obj2[prop]) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (obj1Props_1_1 && !obj1Props_1_1.done && (_a = obj1Props_1.return)) _a.call(obj1Props_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Return a new object with an array of keys removed\r\n     * @param obj Source object\r\n     * @param keys Keys to remove\r\n     * @returns A new object\r\n     */\r\n    /**\r\n     * Return a new object with an array of keys removed\r\n     * @param {?} obj Source object\r\n     * @param {?} keys Keys to remove\r\n     * @return {?} A new object\r\n     */\r\n    ObjectUtils.removeKeys = /**\r\n     * Return a new object with an array of keys removed\r\n     * @param {?} obj Source object\r\n     * @param {?} keys Keys to remove\r\n     * @return {?} A new object\r\n     */\r\n    function (obj, keys) {\r\n        /** @type {?} */\r\n        var newObj = Object.keys(obj)\r\n            .filter((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        function (key) { return keys.indexOf(key) < 0; }))\r\n            .reduce((/**\r\n         * @param {?} _obj\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        function (_obj, key) {\r\n            _obj[key] = obj[key];\r\n            return _obj;\r\n        }), {});\r\n        return newObj;\r\n    };\r\n    return ObjectUtils;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Utility function to create a K:V from a list of strings\r\n * @template T\r\n * @param {?} o\r\n * @return {?}\r\n */\r\nfunction strEnum(o) {\r\n    return o.reduce((/**\r\n     * @param {?} res\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    function (res, key) {\r\n        res[key] = key;\r\n        return res;\r\n    }), Object.create(null));\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @return {?}\r\n */\r\nfunction S4() {\r\n    // tslint:disable-next-line: no-bitwise\r\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n}\r\n/**\r\n * @return {?}\r\n */\r\nfunction uuid() {\r\n    /** @type {?} */\r\n    var id = \"\" + S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4();\r\n    return id.toLowerCase();\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @enum {number} */\r\nvar SubjectStatus = {\r\n    Error: 0,\r\n    Done: 1,\r\n    Working: 2,\r\n    Waiting: 3,\r\n};\r\nSubjectStatus[SubjectStatus.Error] = 'Error';\r\nSubjectStatus[SubjectStatus.Done] = 'Done';\r\nSubjectStatus[SubjectStatus.Working] = 'Working';\r\nSubjectStatus[SubjectStatus.Waiting] = 'Waiting';\r\n/**\r\n * @abstract\r\n */\r\nvar  /**\r\n * @abstract\r\n */\r\nWatcher = /** @class */ (function () {\r\n    function Watcher() {\r\n        this.status$ = new Subject();\r\n    }\r\n    Object.defineProperty(Watcher.prototype, \"status\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._status;\r\n        },\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._status = value;\r\n            this.status$.next(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // tslint:disable-next-line:ban-types\r\n    // tslint:disable-next-line:ban-types\r\n    /**\r\n     * @param {?} callback\r\n     * @param {?=} scope\r\n     * @return {?}\r\n     */\r\n    Watcher.prototype.subscribe = \r\n    // tslint:disable-next-line:ban-types\r\n    /**\r\n     * @param {?} callback\r\n     * @param {?=} scope\r\n     * @return {?}\r\n     */\r\n    function (callback, scope) {\r\n        var _this = this;\r\n        this.watch();\r\n        this.status$$ = this.status$\r\n            .pipe(distinctUntilChanged())\r\n            .subscribe((/**\r\n         * @param {?} status\r\n         * @return {?}\r\n         */\r\n        function (status) {\r\n            _this.handleStatusChange(status);\r\n            callback.call(scope, _this);\r\n        }));\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    Watcher.prototype.unsubscribe = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this.unwatch();\r\n        if (this.status$$ !== undefined) {\r\n            this.status$$.unsubscribe();\r\n            this.status$$ = undefined;\r\n        }\r\n        this.status = SubjectStatus.Waiting;\r\n    };\r\n    /**\r\n     * @protected\r\n     * @param {?} status\r\n     * @return {?}\r\n     */\r\n    Watcher.prototype.handleStatusChange = /**\r\n     * @protected\r\n     * @param {?} status\r\n     * @return {?}\r\n     */\r\n    function (status) { };\r\n    return Watcher;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { Base64, Clipboard, ChangeUtils, ChangeType, ObjectUtils, strEnum, StringUtils, S4, uuid, SubjectStatus, Watcher };\n\n//# sourceMappingURL=igo2-utils.js.map","var map = {\n\t\"./ion-action-sheet-controller_8.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-controller_8.entry.js\",\n\t\t\"common\",\n\t\t13\n\t],\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-ios.entry.js\",\n\t\t\"common\",\n\t\t14\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-md.entry.js\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-alert-ios.entry.js\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-alert-md.entry.js\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-ios.entry.js\",\n\t\t1,\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-md.entry.js\",\n\t\t1,\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-ios.entry.js\",\n\t\t\"common\",\n\t\t20\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-md.entry.js\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-ios.entry.js\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-md.entry.js\",\n\t\t\"common\",\n\t\t23\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-ios.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-md.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t25\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-ios.entry.js\",\n\t\t\"common\",\n\t\t26\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-md.entry.js\",\n\t\t\"common\",\n\t\t27\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-ios.entry.js\",\n\t\t\"common\",\n\t\t28\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-md.entry.js\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-ios.entry.js\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-md.entry.js\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-chip-ios.entry.js\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-chip-md.entry.js\",\n\t\t\"common\",\n\t\t33\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-col_3.entry.js\",\n\t\t34\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-ios.entry.js\",\n\t\t\"common\",\n\t\t35\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-md.entry.js\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-ios.entry.js\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-md.entry.js\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-img.entry.js\",\n\t\t39\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-ios.entry.js\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-md.entry.js\",\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-input-ios.entry.js\",\n\t\t\"common\",\n\t\t42\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-input-md.entry.js\",\n\t\t\"common\",\n\t\t43\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-ios.entry.js\",\n\t\t\"common\",\n\t\t44\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-md.entry.js\",\n\t\t\"common\",\n\t\t45\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-ios.entry.js\",\n\t\t\"common\",\n\t\t46\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-md.entry.js\",\n\t\t\"common\",\n\t\t47\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-loading-ios.entry.js\",\n\t\t\"common\",\n\t\t48\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-loading-md.entry.js\",\n\t\t\"common\",\n\t\t49\n\t],\n\t\"./ion-menu_4-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-ios.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t50\n\t],\n\t\"./ion-menu_4-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-md.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t51\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-modal-ios.entry.js\",\n\t\t1,\n\t\t\"common\",\n\t\t52\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-modal-md.entry.js\",\n\t\t1,\n\t\t\"common\",\n\t\t53\n\t],\n\t\"./ion-nav_4.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-nav_4.entry.js\",\n\t\t1,\n\t\t\"common\",\n\t\t54\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-popover-ios.entry.js\",\n\t\t1,\n\t\t\"common\",\n\t\t55\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-popover-md.entry.js\",\n\t\t1,\n\t\t\"common\",\n\t\t56\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-ios.entry.js\",\n\t\t\"common\",\n\t\t57\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-md.entry.js\",\n\t\t\"common\",\n\t\t58\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-ios.entry.js\",\n\t\t\"common\",\n\t\t59\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-md.entry.js\",\n\t\t\"common\",\n\t\t60\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-range-ios.entry.js\",\n\t\t\"common\",\n\t\t61\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-range-md.entry.js\",\n\t\t\"common\",\n\t\t62\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-ios.entry.js\",\n\t\t\"common\",\n\t\t63\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-md.entry.js\",\n\t\t\"common\",\n\t\t64\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-ios.entry.js\",\n\t\t\"common\",\n\t\t65\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-md.entry.js\",\n\t\t\"common\",\n\t\t66\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-ripple-effect.entry.js\",\n\t\t67\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js\",\n\t\t\"common\",\n\t\t68\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-ios.entry.js\",\n\t\t\"common\",\n\t\t69\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-md.entry.js\",\n\t\t\"common\",\n\t\t70\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-ios.entry.js\",\n\t\t\"common\",\n\t\t71\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-md.entry.js\",\n\t\t\"common\",\n\t\t72\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-ios.entry.js\",\n\t\t\"common\",\n\t\t73\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-md.entry.js\",\n\t\t\"common\",\n\t\t74\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-ios.entry.js\",\n\t\t\"common\",\n\t\t75\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-md.entry.js\",\n\t\t\"common\",\n\t\t76\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-spinner.entry.js\",\n\t\t\"common\",\n\t\t77\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-ios.entry.js\",\n\t\t78\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-md.entry.js\",\n\t\t79\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-ios.entry.js\",\n\t\t\"common\",\n\t\t80\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-md.entry.js\",\n\t\t\"common\",\n\t\t81\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-tab_2.entry.js\",\n\t\t\"common\",\n\t\t10\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-text.entry.js\",\n\t\t\"common\",\n\t\t82\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-ios.entry.js\",\n\t\t\"common\",\n\t\t83\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-md.entry.js\",\n\t\t\"common\",\n\t\t84\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-toast-ios.entry.js\",\n\t\t\"common\",\n\t\t85\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-toast-md.entry.js\",\n\t\t\"common\",\n\t\t86\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-ios.entry.js\",\n\t\t\"common\",\n\t\t87\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-md.entry.js\",\n\t\t\"common\",\n\t\t88\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js\",\n\t\t89\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js$ include: \\\\.entry\\\\.js$ exclude: \\\\.system\\\\.entry\\\\.js$\";\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-SG\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-SG.js\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"<igo-spinner igoSpinnerBinding></igo-spinner>\\r\\n<igo-message-center></igo-message-center>\\r\\n<igo-auth-form *ngIf=\\\"authConfig\\\"></igo-auth-form>\\r\\n\\r\\n<app-portal igoStopDropPropagation></app-portal>\\r\\n<!-- <app-zone-selection></app-zone-selection> -->\\r\\n\\r\\n<!-- <app-feature-viewer [feature]=feature1></app-feature-viewer> -->\"","module.exports = \":host {\\n  width: 100%;\\n  height: 100%;\\n  margin: 0;\\n  overflow: hidden;\\n  position: relative;\\n  display: block;\\n  font-family: Roboto, 'Helvetica Neue', sans-serif;\\n  font-size: 14px; }\\n\\n:host ::ng-deep h3 {\\n  font-size: 1.17em;\\n  font-weight: bold; }\\n\\n:host ::ng-deep h4 {\\n  font-weigth: 400; }\\n\\n/*** Spinner ***/\\n\\nigo-spinner {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n  z-index: 5; }\\n\\n/*** Message-center ***/\\n\\nigo-message-center ::ng-deep simple-notifications ::ng-deep div.simple-notification-wrapper {\\n  right: 10px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvQzpcXE1ybm1pY3JvXFxkZXZcXGlvblxcaWdvMi9zcmNcXGFwcFxcYXBwLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL2Rpc3RcXGlnby1saWJcXGNvcmVcXHN0eWxlXFxwYXJ0aWFsXFxjb3JlLnZhcmlhYmxlcy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVdBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixTQUFTO0VBQ1QsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixjQUFjO0VBRWQsaURBQWlEO0VBQ2pELGVBQWUsRUFBQTs7QUFHakI7RUFFSSxpQkFBaUI7RUFDakIsaUJBQWlCLEVBQUE7O0FBSHJCO0VBT0ksZ0JBQWdCLEVBQUE7O0FBSXBCLGdCQUFBOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFDdENjO0VEdUNkLFVDdkNjO0VEd0NkLFVBQVUsRUFBQTs7QUFHWix1QkFBQTs7QUFDQTtFQUNFLFdBQVcsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJ35AaWdvMi9jb3JlL3N0eWxlL3BhcnRpYWwvY29yZS52YXJpYWJsZXMnO1xyXG5cclxuYXBwLXBvcnRhbCB7XHJcbiAvLyBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbmFwcC16b25lLXNlbGVjdGlvbiwgYXBwLWZlYXR1cmUtdmlld2VyIHtcclxuIC8vIGhlaWdodDogOTAlO1xyXG59XHJcblxyXG5cclxuOmhvc3Qge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBtYXJnaW46IDA7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcblxyXG4gIGZvbnQtZmFtaWx5OiBSb2JvdG8sICdIZWx2ZXRpY2EgTmV1ZScsIHNhbnMtc2VyaWY7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAge1xyXG4gIGgzIHtcclxuICAgIGZvbnQtc2l6ZTogMS4xN2VtO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgfVxyXG5cclxuICBoNCB7XHJcbiAgICBmb250LXdlaWd0aDogNDAwO1xyXG4gIH1cclxufVxyXG5cclxuLyoqKiBTcGlubmVyICoqKi9cclxuXHJcbmlnby1zcGlubmVyIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAkaWdvLW1hcmdpbjtcclxuICByaWdodDogJGlnby1tYXJnaW47XHJcbiAgei1pbmRleDogNTtcclxufVxyXG5cclxuLyoqKiBNZXNzYWdlLWNlbnRlciAqKiovXHJcbmlnby1tZXNzYWdlLWNlbnRlciA6Om5nLWRlZXAgc2ltcGxlLW5vdGlmaWNhdGlvbnMgOjpuZy1kZWVwIGRpdi5zaW1wbGUtbm90aWZpY2F0aW9uLXdyYXBwZXIge1xyXG4gIHJpZ2h0OiAxMHB4O1xyXG59XHJcbiIsIiRpZ28tbWFyZ2luOiA1cHg7XHJcbiRpZ28tcGFkZGluZzogNXB4O1xyXG4kaWdvLWljb24tc2l6ZTogNDBweDtcclxuIl19 */\"","import { Component, Renderer2 } from '@angular/core';\r\nimport { Title } from '@angular/platform-browser';\r\n\r\nimport { LanguageService, ConfigService, AnalyticsService } from '@igo2/core';\r\nimport { AuthOptions } from '@igo2/auth';\r\nimport { JsonDialogComponent } from '@igo2/common';\r\nimport { Feature } from '@igo2/geo';\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\r\nimport { Platform } from '@ionic/angular';\r\n\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  public authConfig: AuthOptions;\r\n  private themeClass = 'blue-theme';\r\n\r\n\r\n  constructor(\r\n    protected languageService: LanguageService,\r\n    private configService: ConfigService,\r\n    private analyticsService: AnalyticsService,\r\n    private renderer: Renderer2,\r\n    private titleService: Title,\r\n    private platform: Platform,\r\n    private androidPermissions: AndroidPermissions,\r\n  ) {\r\n    this.checkPermissions();\r\n    this.authConfig = this.configService.getConfig('auth');\r\n\r\n    const title = this.configService.getConfig('title');\r\n    if (title) {\r\n      this.titleService.setTitle(title);\r\n    }\r\n\r\n    const theme = this.configService.getConfig('theme') || this.themeClass;\r\n    if (theme) {\r\n      this.renderer.addClass(document.body, theme);\r\n    }\r\n  }\r\n\r\n  checkPermissions() {\r\n    this.platform.ready().then(() => {\r\n      if (this.platform.is('cordova')) {\r\n        if (this.platform.is('android')) {\r\n          let locationPermissions = false;\r\n          let storagePermissions = false;\r\n\r\n          this.androidPermissions.checkPermission('android.permission.ACCESS_FINE_LOCATION').then(\r\n            result => (locationPermissions = result.hasPermission),\r\n            err => (locationPermissions = false)\r\n          );\r\n          this.androidPermissions.checkPermission('android.permission.ACCESS_COARSE_LOCATION').then(\r\n            result => (locationPermissions = result.hasPermission),\r\n            err => (locationPermissions = false)\r\n          );\r\n          this.androidPermissions.checkPermission('android.permission.ACCESS_BACKGROUND_LOCATION').then(\r\n            result => (locationPermissions = result.hasPermission),\r\n            err => (locationPermissions = false)\r\n          );\r\n\r\n          this.androidPermissions.checkPermission('android.permission.WRITE_EXTERNAL_STORAGE').then(\r\n            result => (storagePermissions = result.hasPermission),\r\n            err => (storagePermissions = false)\r\n          );\r\n          this.androidPermissions.checkPermission('android.permission.READ_EXTERNAL_STORAGE').then(\r\n            result => (storagePermissions = result.hasPermission),\r\n            err => (storagePermissions = false)\r\n          );\r\n\r\n          if (!locationPermissions) {\r\n            this.androidPermissions.requestPermissions([\r\n              'android.permission.ACCESS_COARSE_LOCATION',\r\n              'android.permission.ACCESS_FINE_LOCATION',\r\n              'android.permission.ACCESS_BACKGROUND_LOCATION']\r\n            );\r\n          }\r\n\r\n          if (storagePermissions === false) {\r\n            this.androidPermissions.requestPermissions([\r\n              'android.permission.WRITE_EXTERNAL_STORAGE',\r\n              'android.permission.READ_EXTERNAL_STORAGE']);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\nimport {\r\n  provideConfigOptions,\r\n  IgoMessageModule,\r\n  RouteService,\r\n  NetworkModule,\r\n  NetworkService\r\n} from '@igo2/core';\r\n\r\nimport { IgoSpinnerModule, IgoStopPropagationModule } from '@igo2/common';\r\nimport { IgoAuthModule } from '@igo2/auth';\r\nimport {\r\n  provideIChercheSearchSource,\r\n  provideIChercheReverseSearchSource,\r\n  provideNominatimSearchSource,\r\n  provideCoordinatesReverseSearchSource,\r\n  provideILayerSearchSource,\r\n  provideOsrmRoutingSource,\r\n  IgoQueryModule\r\n} from '@igo2/geo';\r\n\r\nimport { Network } from '@ionic-native/network/ngx';\r\n\r\nimport { environment } from '../environments/environment';\r\nimport { PortalModule } from './pages/portal/portal.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BboxService } from './services/bbox.service';\r\nimport { FeatureViewerModule } from './components/feature-viewer/feature-viewer.module';\r\nimport { ZoneSelectionModule } from './components/zone-selection/zone-selection.module';\r\nimport { MapImageService } from './services/map-image.service';\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\r\n\r\n@NgModule({\r\n  declarations: [AppComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    RouterModule.forRoot([]),\r\n    IgoAuthModule.forRoot(),\r\n    IgoMessageModule,\r\n    IgoSpinnerModule,\r\n    IgoStopPropagationModule,\r\n    PortalModule,\r\n    FeatureViewerModule,\r\n    ZoneSelectionModule,\r\n    IgoQueryModule\r\n\r\n  ],\r\n  providers: [\r\n    provideConfigOptions({\r\n      default: environment.igo,\r\n      path: './config/config.json'\r\n    }),\r\n    RouteService,\r\n    BboxService,\r\n    MapImageService,\r\n    provideNominatimSearchSource(),\r\n    provideIChercheSearchSource(),\r\n    provideIChercheReverseSearchSource(), // TODO: replace by territoire\r\n    provideCoordinatesReverseSearchSource(),\r\n    provideILayerSearchSource(),\r\n    provideOsrmRoutingSource(),\r\n    AndroidPermissions,\r\n    Network\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","module.exports = \"<mat-sidenav-container>\\r\\n  <!--\\r\\n    <igo-backdrop\\r\\n      [shown]=\\\"sidenavOpened\\\"\\r\\n      (click)=\\\"closeSidenav()\\\">\\r\\n    </igo-backdrop>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      id=\\\"menu-button\\\"\\r\\n      class=\\\"menu-button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      tooltip-position=\\\"below\\\"\\r\\n      matTooltipShowDelay=\\\"500\\\"\\r\\n      [matTooltip]=\\\"(sidenavOpened ? 'Close Menu' : 'Open Menu') | translate\\\"\\r\\n      (click)=\\\"toggleSidenav()\\\">\\r\\n      <mat-icon>\\r\\n        <ng-container *ngIf=\\\"!sidenavOpened\\\">menu</ng-container>\\r\\n        <ng-container *ngIf=\\\"sidenavOpened\\\">keyboard_arrow_left</ng-container>\\r\\n      </mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <igo-search-bar\\r\\n      igoSearchUrlParam\\r\\n      [placeholder]=\\\"'Search for an address or a place' | translate\\\"\\r\\n      floatLabel=\\\"never\\\">\\r\\n    </igo-search-bar>\\r\\n\\r\\n    <igo-sidenav\\r\\n      [opened]=\\\"sidenavOpened\\\"\\r\\n      [feature]=\\\"featureService.focusedFeature$ | async\\\"\\r\\n      [tool]=\\\"toolService.selectedTool$ | async\\\"\\r\\n      [map]=\\\"map\\\"\\r\\n      [title]=\\\"sidenavTitle\\\"\\r\\n      [media]=\\\"mediaService.media$ | async\\\">\\r\\n    </igo-sidenav>\\r\\n-->\\r\\n  <igo-map-browser [map]=\\\"map\\\" [view]=\\\"view\\\" igoOverlay></igo-map-browser>\\r\\n\\r\\n\\r\\n</mat-sidenav-container>\"","module.exports = \"/*** Generic ***/\\n/*** Generic ***/\\n/*** Main ***/\\n:host {\\n  width: 100%;\\n  height: 100%;\\n  display: block; }\\n/*** Menu button ***/\\n.menu-button {\\n  background-color: white;\\n  position: absolute;\\n  left: 5px;\\n  top: 5px;\\n  z-index: 4;\\n  border-radius: 0; }\\n.menu-button ::ng-deep div.mat-button-ripple-round {\\n  border-radius: 0; }\\n/*** Map browser ***/\\nigo-map-browser {\\n  width: 100%;\\n  height: 100%; }\\nigo-map-browser ::ng-deep .ol-overlaycontainer-stopevent {\\n  position: absolute;\\n  width: 100%;\\n  left: 0;\\n  bottom: 0; }\\nigo-map-browser.sidenav-offset ::ng-deep .ol-overlaycontainer-stopevent {\\n  left: 380px;\\n  width: calc(100% - 380px); }\\nigo-map-browser.expansion-offset ::ng-deep .ol-overlaycontainer-stopevent {\\n  bottom: 279px; }\\n/*** Search bar ***/\\nigo-search-bar {\\n  background-color: white;\\n  font-size: 16px;\\n  position: absolute;\\n  left: calc(40px + 5px);\\n  top: 5px;\\n  z-index: 4;\\n  width: calc(400px - calc(40px + 5px) - (2 * 5px));\\n  height: 40px;\\n  margin: 0 5px; }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n    igo-search-bar {\\n      width: calc(100% - 40px - calc(40px + 5px) - (3 * 5px)); } }\\n/*** Sidenav ***/\\nmat-sidenav-container {\\n  height: 100%;\\n  width: 100%;\\n  background-color: #efefef;\\n  z-index: 5;\\n  display: unset; }\\n/*** Expansion Panel ***/\\napp-expansion-panel {\\n  position: absolute;\\n  bottom: 0;\\n  z-index: 4;\\n  overflow: hidden; }\\n/*** Toast Panel ***/\\napp-toast-panel {\\n  position: absolute;\\n  bottom: 0;\\n  left: 50%;\\n  margin-left: -300px;\\n  width: 600px;\\n  z-index: 4; }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n    app-toast-panel {\\n      width: calc(100% - 48px);\\n      left: 48px;\\n      margin-left: 0; } }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n  app-toast-panel.expansion-panel-expanded,\\n  app-toast-panel:not(.has-expansion-panel),\\n  app-toast-panel.app-toast-panel-opened {\\n    width: 100%;\\n    left: 0; } }\\nigo-geolocate-button {\\n  margin-bottom: 90px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9mZWF0dXJlLXZpZXdlci9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL3NyY1xcc3R5bGVcXHBhcnRpYWxcXHZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL2ZlYXR1cmUtdmlld2VyL0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvc3JjXFxhcHBcXGNvbXBvbmVudHNcXGZlYXR1cmUtdmlld2VyXFxmZWF0dXJlLXZpZXdlci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9mZWF0dXJlLXZpZXdlci9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL2Rpc3RcXGlnby1saWJcXGNvcmVcXHN0eWxlXFxwYXJ0aWFsXFxjb3JlLnZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL2ZlYXR1cmUtdmlld2VyL0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvc3JjXFxhcHBcXHBhZ2VzXFxwb3J0YWxcXHBvcnRhbC52YXJpYWJsZXMuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9mZWF0dXJlLXZpZXdlci9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL2Rpc3RcXGlnby1saWJcXGNvcmVcXHN0eWxlXFxwYXJ0aWFsXFxtZWRpYS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLGdCQUFBO0FBQUEsZ0JBQUE7QUNFQSxhQUFBO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGNBQWMsRUFBQTtBQUdoQixvQkFBQTtBQUVBO0VBQ0UsdUJEWHVDO0VDWXZDLGtCQUFrQjtFQUNsQixTQ2hCYztFRGlCZCxRQ2pCYztFRGtCZCxVQUFVO0VBQ1YsZ0JBQWdCLEVBQUE7QUFHbEI7RUFDRSxnQkFBZ0IsRUFBQTtBQUdsQixvQkFBQTtBQUNBO0VBQ0UsV0FBVztFQUNYLFlBQVksRUFBQTtBQUdkO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxPQUFPO0VBQ1AsU0FBUyxFQUFBO0FBR1g7RUFDRSxXQUFXO0VBQ1gseUJBQXlCLEVBQUE7QUFHM0I7RUFDRSxhQUFhLEVBQUE7QUFHZixtQkFBQTtBQUNBO0VBQ0UsdUJEL0N1QztFQ2dEdkMsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixzQkU3QndEO0VGOEJ4RCxRQ3REYztFRHVEZCxVQUFVO0VBQ1YsaURFL0J5RjtFRmdDekYsWUN2RGtCO0VEd0RsQixhQzFEYyxFQUFBO0FFU2Q7SUh3Q0Y7TUFZSSx1REVuQzhHLEVBQUEsRUZxQ2pIO0FBRUQsZ0JBQUE7QUFDQTtFQUNFLFlBQVk7RUFDWixXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLFVBQVU7RUFDVixjQUFjLEVBQUE7QUFHaEIsd0JBQUE7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsVUFBVTtFQUNWLGdCQUFnQixFQUFBO0FBR2xCLG9CQUFBO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsU0FBUztFQUNULFNBQVM7RUFDVCxtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLFVBQVUsRUFBQTtBR2hGVjtJSDBFRjtNQVNJLHdCQUF5QztNQUN6QyxVRTFGb0I7TUYyRnBCLGNBQWMsRUFBQSxFQUVqQjtBR3ZGQztFSHlGRjs7O0lBSUksV0FBVztJQUNYLE9BQU8sRUFBQSxFQUVWO0FBRUQ7RUFDRSxtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZmVhdHVyZS12aWV3ZXIvZmVhdHVyZS12aWV3ZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICd+QGlnbzIvY29yZS9zdHlsZS9wYXJ0aWFsL2NvcmUudmFyaWFibGVzJztcclxuXHJcbi8qKiogR2VuZXJpYyAqKiovXHJcbiRhcHAtYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG4kYXBwLWljb24tYnV0dG9uLXdpZHRoOiA0MHB4O1xyXG5cclxuJGFwcC1ib3JkZXItd2lkdGg6IDFweDtcclxuJGFwcC1ib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4kYXBwLWJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAuMik7XHJcblxyXG4lYm9yZGVyLWJveCB7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcblxyXG4lYm9yZGVyZWQtdG9wIHtcclxuICBib3JkZXItdG9wOiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJvcmRlcmVkLWJvdHRvbSB7XHJcbiAgYm9yZGVyLWJvdHRvbTogJGFwcC1ib3JkZXItd2lkdGggJGFwcC1ib3JkZXItc3R5bGUgJGFwcC1ib3JkZXItY29sb3I7XHJcbn1cclxuXHJcbiVib3JkZXJlZC1sZWZ0IHtcclxuICBib3JkZXItbGVmdDogJGFwcC1ib3JkZXItd2lkdGggJGFwcC1ib3JkZXItc3R5bGUgJGFwcC1ib3JkZXItY29sb3I7XHJcbn1cclxuXHJcbiVib3JkZXJlZC1yaWdodCB7XHJcbiAgYm9yZGVyLXJpZ2h0OiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJveC1zaGFkb3dlZCB7XHJcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggMHB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC1vLWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIGJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG59XHJcblxyXG4lYm94LXNoYWRvd2VkLWJvdHRvbS1yaWdodCB7XHJcbiAgLW1vei1ib3gtc2hhZG93OiAycHggMnB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC1vLWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIGJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG59XHJcbiIsIkBpbXBvcnQgJ35AaWdvMi9jb3JlL3N0eWxlL3BhcnRpYWwvbWVkaWEnO1xyXG5AaW1wb3J0ICcuLi8uLi8uLi9zdHlsZS9wYXJ0aWFsL3ZhcmlhYmxlcyc7XHJcbkBpbXBvcnQgJy4uLy4uL3BhZ2VzL3BvcnRhbC9wb3J0YWwudmFyaWFibGVzLnNjc3MnO1xyXG5cclxuLyoqKiBNYWluICoqKi9cclxuOmhvc3Qge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5cclxuLyoqKiBNZW51IGJ1dHRvbiAqKiovXHJcblxyXG4ubWVudS1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICRhcHAtYmFja2dyb3VuZC1jb2xvcjtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogJGlnby1tYXJnaW47XHJcbiAgdG9wOiAkaWdvLW1hcmdpbjtcclxuICB6LWluZGV4OiA0O1xyXG4gIGJvcmRlci1yYWRpdXM6IDA7XHJcbn1cclxuXHJcbi5tZW51LWJ1dHRvbiA6Om5nLWRlZXAgZGl2Lm1hdC1idXR0b24tcmlwcGxlLXJvdW5kIHtcclxuICBib3JkZXItcmFkaXVzOiAwO1xyXG59XHJcblxyXG4vKioqIE1hcCBicm93c2VyICoqKi9cclxuaWdvLW1hcC1icm93c2VyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbmlnby1tYXAtYnJvd3NlciA6Om5nLWRlZXAgLm9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50IHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgbGVmdDogMDtcclxuICBib3R0b206IDA7XHJcbn1cclxuXHJcbmlnby1tYXAtYnJvd3Nlci5zaWRlbmF2LW9mZnNldCA6Om5nLWRlZXAgLm9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50IHtcclxuICBsZWZ0OiAzODBweDtcclxuICB3aWR0aDogY2FsYygxMDAlIC0gMzgwcHgpO1xyXG59XHJcblxyXG5pZ28tbWFwLWJyb3dzZXIuZXhwYW5zaW9uLW9mZnNldCA6Om5nLWRlZXAgLm9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50IHtcclxuICBib3R0b206IDI3OXB4O1xyXG59XHJcblxyXG4vKioqIFNlYXJjaCBiYXIgKioqL1xyXG5pZ28tc2VhcmNoLWJhciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogJGFwcC1iYWNrZ3JvdW5kLWNvbG9yO1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogJHNlYXJjaC1iYXItbGVmdDtcclxuICB0b3A6ICRpZ28tbWFyZ2luO1xyXG4gIHotaW5kZXg6IDQ7XHJcbiAgd2lkdGg6ICRzZWFyY2gtYmFyLXdpZHRoO1xyXG4gIGhlaWdodDogJGlnby1pY29uLXNpemU7XHJcbiAgbWFyZ2luOiAwICRpZ28tbWFyZ2luO1xyXG5cclxuICBAaW5jbHVkZSBtb2JpbGUge1xyXG4gICAgd2lkdGg6ICRzZWFyY2gtYmFyLXdpZHRoLW1vYmlsZTtcclxuICB9XHJcbn1cclxuXHJcbi8qKiogU2lkZW5hdiAqKiovXHJcbm1hdC1zaWRlbmF2LWNvbnRhaW5lciB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZmVmZWY7XHJcbiAgei1pbmRleDogNTtcclxuICBkaXNwbGF5OiB1bnNldDtcclxufVxyXG5cclxuLyoqKiBFeHBhbnNpb24gUGFuZWwgKioqL1xyXG5hcHAtZXhwYW5zaW9uLXBhbmVsIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgYm90dG9tOiAwO1xyXG4gIHotaW5kZXg6IDQ7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG5cclxuLyoqKiBUb2FzdCBQYW5lbCAqKiovXHJcbmFwcC10b2FzdC1wYW5lbCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvdHRvbTogMDtcclxuICBsZWZ0OiA1MCU7XHJcbiAgbWFyZ2luLWxlZnQ6IC0zMDBweDtcclxuICB3aWR0aDogNjAwcHg7XHJcbiAgei1pbmRleDogNDtcclxuXHJcbiAgQGluY2x1ZGUgbW9iaWxlIHtcclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAjeyRhcHAtZm9vdGVyLWhlaWdodH0pO1xyXG4gICAgbGVmdDogJGFwcC1mb290ZXItaGVpZ2h0O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgfVxyXG59XHJcblxyXG5hcHAtdG9hc3QtcGFuZWwuZXhwYW5zaW9uLXBhbmVsLWV4cGFuZGVkLFxyXG5hcHAtdG9hc3QtcGFuZWw6bm90KC5oYXMtZXhwYW5zaW9uLXBhbmVsKSxcclxuYXBwLXRvYXN0LXBhbmVsLmFwcC10b2FzdC1wYW5lbC1vcGVuZWQge1xyXG4gIEBpbmNsdWRlIG1vYmlsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgfVxyXG59XHJcblxyXG5pZ28tZ2VvbG9jYXRlLWJ1dHRvbiB7XHJcbiAgbWFyZ2luLWJvdHRvbTogOTBweDtcclxufVxyXG4iLCIkaWdvLW1hcmdpbjogNXB4O1xyXG4kaWdvLXBhZGRpbmc6IDVweDtcclxuJGlnby1pY29uLXNpemU6IDQwcHg7XHJcbiIsIkBpbXBvcnQgJ35AaWdvMi9jb3JlL3N0eWxlL3BhcnRpYWwvbWVkaWEnO1xyXG5AaW1wb3J0ICd2YXJpYWJsZXMnO1xyXG5cclxuJGFwcC1mb290ZXItaGVpZ2h0OiA0OHB4O1xyXG4kYXBwLW1vYmlsZS1taW4tc3BhY2UtcmlnaHQ6IDQwcHg7XHJcblxyXG4kYXBwLWV4cGFuc2lvbi1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0OiA0OHB4O1xyXG4kYXBwLWV4cGFuc2lvbi1wYW5lbC1jb2xsYXBzZWQtd2lkdGg6IDUycHg7XHJcbiRhcHAtZXhwYW5zaW9uLXBhbmVsLWhlaWdodDogMjgxcHg7XHJcbiRhcHAtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1oZWlnaHQ6ICRhcHAtZXhwYW5zaW9uLXBhbmVsLWNvbGxhcHNlZC1oZWlnaHQ7XHJcblxyXG4kYXBwLXRvYXN0LXBhbmVsLWNvbGxhcHNlZC1oZWlnaHQ6IDQ4cHg7XHJcbiRhcHAtdG9hc3QtcGFuZWwtbWF4LWhlaWdodDogMjgxcHg7XHJcbiRhcHAtdG9hc3QtcGFuZWwtd2lkdGg6IDMwJTtcclxuXHJcbiRhcHAtc2lkZW5hdi1tYXJnaW4tdG9wOiA1MHB4O1xyXG4kYXBwLXNpZGVuYXYtaGVpZ2h0OiBjYWxjKDEwMCUgLSAjeyRhcHAtc2lkZW5hdi1tYXJnaW4tdG9wfSk7XHJcbiRhcHAtc2lkZW5hdi13aWR0aDogNDAwcHg7XHJcbiRhcHAtc2lkZW5hdi13aWR0aC1tb2JpbGU6IGNhbGMoMTAwJSAtICN7JGFwcC1tb2JpbGUtbWluLXNwYWNlLXJpZ2h0fSAtICN7JGlnby1tYXJnaW59KTtcclxuXHJcbiRpZ28tdG9hc3QtcGFuZWwtY29sbGFwc2VkLWhlaWdodDogNDhweDtcclxuJGlnby10b2FzdC1wYW5lbC1tYXgtaGVpZ2h0OiAzMDBweDtcclxuJGlnby10b2FzdC1wYW5lbC13aWR0aDogMzAlO1xyXG5cclxuJHNlYXJjaC1iYXItbGVmdDogY2FsYygjeyRpZ28taWNvbi1zaXplfSArICN7JGlnby1tYXJnaW59KTtcclxuJHNlYXJjaC1iYXItd2lkdGg6IGNhbGMoI3skYXBwLXNpZGVuYXYtd2lkdGh9IC0gI3skc2VhcmNoLWJhci1sZWZ0fSAtICgyICogI3skaWdvLW1hcmdpbn0pKTtcclxuJHNlYXJjaC1iYXItd2lkdGgtbW9iaWxlOiBjYWxjKDEwMCUgLSAjeyRhcHAtbW9iaWxlLW1pbi1zcGFjZS1yaWdodH0gLSAjeyRzZWFyY2gtYmFyLWxlZnR9IC0gKDMgKiAjeyRpZ28tbWFyZ2lufSkpO1xyXG4iLCIkbW9iaWxlOiAnb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDQ1MHB4KSwgb25seSBzY3JlZW4gYW5kIChtYXgtaGVpZ2h0OiA0NTBweCknO1xyXG4kdGFibGV0OiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQ1MXB4KSBhbmQgKG1pbi1oZWlnaHQ6IDQ1MXB4KSBhbmQgKG1heC13aWR0aDogODAwcHgpJztcclxuJGRlc2t0b3A6ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODAxcHgpJztcclxuXHJcbiRzbWFsbC1zY3JlZW46ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODAxcHgpIGFuZCAobWF4LXdpZHRoOiAxMjc5cHgpJztcclxuJG1lZGl1bS1zY3JlZW46ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTI4MHB4KSBhbmQgKG1heC13aWR0aDogMTkxOXB4KSc7XHJcbiRsYXJnZS1zY3JlZW46ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTkyMHB4KSc7XHJcblxyXG5AbWl4aW4gbW9iaWxlIHtcclxuICBAbWVkaWEgI3skbW9iaWxlfSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiB0YWJsZXQge1xyXG4gIEBtZWRpYSAjeyR0YWJsZXR9IHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGRlc2t0b3Age1xyXG4gIEBtZWRpYSAjeyRkZXNrdG9wfSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBzbWFsbC1zY3JlZW4ge1xyXG4gICAgQG1lZGlhICN7JHNtYWxsLXNjcmVlbn0ge1xyXG4gICAgICBAY29udGVudDtcclxuICAgIH1cclxufVxyXG5cclxuQG1peGluIG1lZGl1bS1zY3JlZW4ge1xyXG4gIEBtZWRpYSAjeyRtZWRpdW0tc2NyZWVufSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBsYXJnZS1zY3JlZW4ge1xyXG4gICAgQG1lZGlhICN7JGxhcmdlLXNjcmVlbn0ge1xyXG4gICAgICBAY29udGVudDtcclxuICAgIH1cclxufVxyXG4iXX0= */\"","import { Component, OnInit, OnDestroy, ChangeDetectorRef, Input, OnChanges, AfterViewInit, SimpleChanges } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { Notification } from 'angular2-notifications';\r\n\r\nimport { MediaService, ConfigService, MessageService, Message } from '@igo2/core';\r\nimport { AuthService } from '@igo2/auth';\r\nimport { Context, ContextService, } from '@igo2/context';\r\nimport {\r\n  DataSourceService,\r\n  Feature,\r\n\r\n  IgoMap,\r\n  LayerService,\r\n  MapService,\r\n  OverlayAction,\r\n  OverlayService,\r\n  SearchService,\r\n  CapabilitiesService,\r\n\r\n} from '@igo2/geo';\r\n\r\nimport {\r\n  controlSlideX,\r\n  controlSlideY,\r\n  mapSlideX,\r\n  mapSlideY\r\n} from '../../pages/portal/portal.animation';\r\n\r\nimport { PortalComponent } from '../../pages/portal/portal.component';\r\nimport { MapImageService } from '../../services/map-image.service';\r\n\r\n@Component({\r\n  selector: 'app-feature-viewer',\r\n  templateUrl: './feature-viewer.component.html',\r\n  styleUrls: ['./feature-viewer.component.scss'],\r\n  animations: [controlSlideX(), controlSlideY(), mapSlideX(), mapSlideY()]\r\n})\r\nexport class FeatureViewerComponent implements OnChanges, OnInit {\r\n\r\n\r\n  @Input() feature: any;\r\n\r\n  map = new IgoMap({\r\n    controls: {\r\n      scaleLine: true,\r\n      attribution: {\r\n        collapsed: true\r\n      }\r\n    }\r\n  });\r\n\r\n  public view = {\r\n    center: [-73, 47.2],\r\n    zoom: 15\r\n  };\r\n\r\n  constructor(\r\n    private mapImageService: MapImageService,\r\n    public route: ActivatedRoute,\r\n    protected configService: ConfigService,\r\n    public authService: AuthService,\r\n    public mediaService: MediaService,\r\n    public searchService: SearchService,\r\n    public overlayService: OverlayService,\r\n    public mapService: MapService,\r\n    public layerService: LayerService,\r\n    public dataSourceService: DataSourceService,\r\n    public contextService: ContextService,\r\n    public cdRef: ChangeDetectorRef,\r\n    public capabilitiesService: CapabilitiesService,\r\n    public messageService: MessageService\r\n  ) {\r\n    /*  super(\r\n        route,\r\n        configService,\r\n        authService,\r\n        featureService,\r\n        mediaService,\r\n        toolService,\r\n        searchService,\r\n        overlayService,\r\n        mapService,\r\n        layerService,\r\n        dataSourceService,\r\n        contextService,\r\n        cdRef,\r\n        capabilitiesService,\r\n        messageService);*/\r\n    this.dataSourceService\r\n      .createAsyncDataSource({\r\n        type: 'osm'\r\n      })\r\n      .subscribe(dataSource => {\r\n        this.map.addLayer(\r\n          this.layerService.createLayer({\r\n            title: 'OSM',\r\n            source: dataSource\r\n          })\r\n        );\r\n      });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    for (const propName in changes) {\r\n      if (propName === 'feature') {\r\n        if (\r\n          this.feature !== undefined &&\r\n          this.feature !== null\r\n        ) {\r\n          this.addFeature(this.feature);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.feature !== undefined && this.feature !== null) {\r\n      //this.map = this.mapService.getMap();\r\n      //this.updateMap();\r\n      this.addFeature(this.feature);\r\n    }\r\n  }\r\n\r\n  updateMap() {\r\n    // Sans cela la carte n'affichait pas\r\n    setTimeout(() => {\r\n      this.map.ol.updateSize();\r\n      this.view.zoom = 30;\r\n      //this.mapService.getMap().ol.updateSize();\r\n    }, 600);\r\n  }\r\n\r\n  addFeature(feature: any) {\r\n\r\n    setTimeout(() => {\r\n      //this.featureService.setFeatures([feature]);\r\n      this.overlayService.clear();\r\n      this.overlayService.setFeatures([feature], OverlayAction.ZoomIfOutMapExtent)\r\n      this.map.setView({ center: this.feature.geometry.coordinates, zoom: this.view.zoom });\r\n      this.mapService.getMap().setView({ center: this.feature.geometry.coordinates, zoom: this.view.zoom });\r\n      this.mapImageService.setMap(this.map);\r\n      this.updateMap();\r\n    }, 1000);\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {\r\n  MatTooltipModule,\r\n  MatIconModule,\r\n  MatButtonModule,\r\n  MatSidenavModule\r\n} from '@angular/material';\r\n\r\n\r\nimport { IgoCoreModule } from '@igo2/core';\r\nimport {\r\n  IgoPanelModule,\r\n  IgoBackdropModule,\r\n  IgoFlexibleModule\r\n} from '@igo2/common';\r\nimport { IgoGeoModule } from '@igo2/geo';\r\nimport { IgoContextModule } from '@igo2/context';\r\nimport { FeatureViewerComponent } from './feature-viewer.component';\r\nimport { MapOverlayModule } from '../../pages/portal/map-overlay/map-overlay.module';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatTooltipModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatSidenavModule,\r\n    IgoCoreModule,\r\n    IgoPanelModule,\r\n    IgoBackdropModule,\r\n    IgoFlexibleModule,\r\n    IgoGeoModule,\r\n    IgoContextModule,\r\n    MapOverlayModule\r\n  ],\r\n  exports: [FeatureViewerComponent],\r\n  declarations: [FeatureViewerComponent],\r\n  entryComponents: [FeatureViewerComponent]\r\n})\r\nexport class FeatureViewerModule { }\r\n","module.exports = \"<!--<mat-toolbar class=\\\"md-padding\\\">\\r\\n  <div class=\\\"md-toolbar-tools\\\">\\r\\n    <h3 flex>\\r\\n      Sélectionner la zone de recherche\\r\\n    </h3>\\r\\n  </div>\\r\\n</mat-toolbar> -->\\r\\n\\r\\n\\r\\n<igo-backdrop [shown]=\\\"backdropShown\\\" (click)=\\\"onBackdropClick()\\\">\\r\\n</igo-backdrop>\\r\\n\\r\\n<button mat-icon-button id=\\\"menu-button\\\" class=\\\"menu-button\\\" color=\\\"primary\\\" tooltip-position=\\\"below\\\"\\r\\n  matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"(sidenavOpened ? 'menu.close' : 'menu.open') | translate\\\" (click)=\\\"onToggleSidenavClick()\\\">\\r\\n  <mat-icon svgIcon=\\\"menu\\\">\\r\\n  </mat-icon>\\r\\n</button>\\r\\n\\r\\n<igo-search-bar [term]=\\\"searchBarTerm\\\" [minLength]=\\\"minSearchTermLength\\\" (change)=\\\"onSearchTermChange($event)\\\" (search)=\\\"onSearch($event)\\\">\\r\\n</igo-search-bar>\\r\\n\\r\\n<app-sidenav [map]=\\\"map\\\" [(opened)]=\\\"sidenavOpened\\\">\\r\\n</app-sidenav>\\r\\n\\r\\n<igo-map-browser #mapBrowser igoQuery [waitForAllQueries]=\\\"true\\\" igoMapContext igoLayerContext igoDropGeoFile (query)=\\\"onMapQuery($event)\\\"\\r\\n  [map]=\\\"map\\\" [igoContextMenu]=actionbarMenu (menuPosition)=\\\"onContextMenuOpen($event)\\\" [ngClass]=\\\"{'igo-attribution-offset': map.getBaseLayers().length > 1}\\\"\\r\\n  [@mapStateX]=\\\"sidenavOpened ? 'right' : 'left'\\\" (@mapStateX.start)=\\\"removeMapBrowserClass($event)\\\" (@mapStateX.done)=\\\"updateMapBrowserClass($event)\\\"\\r\\n  [@mapStateY]=\\\"expansionPanelExpanded ? 'up' : 'down'\\\" (@mapStateY.start)=\\\"removeMapBrowserClass($event)\\\"\\r\\n  (@mapStateY.done)=\\\"updateMapBrowserClass($event)\\\">\\r\\n\\r\\n  <igo-zoom-button [map]=\\\"map\\\" color=\\\"primary\\\" [@controlsOffsetY]=\\\"expansionPanelExpanded\\\">\\r\\n  </igo-zoom-button>\\r\\n  <igo-geolocate-button [map]=\\\"map\\\" color=\\\"primary\\\" [@controlsOffsetY]=\\\"expansionPanelExpanded\\\">\\r\\n  </igo-geolocate-button>\\r\\n  <igo-rotation-button [map]=\\\"map\\\" color=\\\"primary\\\"></igo-rotation-button>\\r\\n  <igo-user-button [map]=\\\"map\\\" color=\\\"primary\\\" [@controlsOffsetY]=\\\"expansionPanelExpanded\\\">\\r\\n  </igo-user-button>\\r\\n  <igo-baselayers-switcher [map]=\\\"map\\\" [@baselayersStateY]=\\\"expansionPanelExpanded ? 'up' : 'down'\\\" [@baselayersStateX]=\\\"(mediaService.media$ | async) !== 'mobile' && sidenavOpened ? 'right' : 'left'\\\">\\r\\n  </igo-baselayers-switcher>\\r\\n</igo-map-browser>\\r\\n\\r\\n\\r\\n\\r\\n<app-expansion-panel *ngIf=\\\"hasExpansionPanel\\\" [(expanded)]=\\\"expansionPanelExpanded\\\" [@expansionPanelSize]=\\\"sidenavOpened ? 'reduced' : 'full'\\\">\\r\\n\\r\\n  <ng-container expansionPanelHeader>\\r\\n    <!-- <igo-workspace-selector igoWorkspaceSelector [store]=\\\"workspaceStore\\\" [map]=\\\"map\\\"></igo-workspace-selector> -->\\r\\n    <!-- <igo-actionbar\\r\\n  *ngIf=\\\"workspace\\\"\\r\\n  [store]=\\\"workspace.actionStore\\\"\\r\\n  [horizontal]=\\\"true\\\"\\r\\n  [xPosition]=\\\"'after'\\\"\\r\\n  [yPosition]=\\\"'above'\\\"\\r\\n  [withToggleButton]=\\\"true\\\"\\r\\n  [withTitle]=\\\"actionbarWithTitle\\\"\\r\\n  [mode]=\\\"actionbarMode\\\">\\r\\n</igo-actionbar> \\r\\n</ng-container>\\r\\n\\r\\n<igo-entity-table [store]=\\\"tableStore\\\" [template]=\\\"tableTemplate\\\">\\r\\n</igo-entity-table>\\r\\n</app-expansion-panel>\\r\\n\\r\\n<app-toast-panel [store]=\\\"queryStore\\\" [@toastPanelOffsetX]=\\\"sidenavOpened\\\" [@toastPanelOffsetY]=\\\"expansionPanelExpanded\\\"\\r\\n  (resultSelect)=\\\"addFeatureToMap($event)\\\">\\r\\n</app-toast-panel>\\r\\n\\r\\n<ng-template #actionbarMenu>\\r\\n  <igo-actionbar [store]=\\\"contextMenuStore\\\" [withIcon]=\\\"false\\\" [horizontal]=\\\"true\\\" mode=\\\"context\\\">\\r\\n  </igo-actionbar>\\r\\n</ng-template> \\r\\n\\r\\n\\r\\n<!--\\r\\n<mat-toolbar>\\r\\n  <button class=\\\"footer-button\\\" id='btmFooter' mat-stroked-button color=\\\"primary\\\">Annuler</button>\\r\\n  <button class=\\\"footer-button \\\" id='btmFooter' mat-stroked-button color=\\\"primary\\\">Sélectionner</button>\\r\\n</mat-toolbar> -->\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    <!--\\r\\n<ion-footer>\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col col-6>\\r\\n        <ion-button fill=\\\"outline\\\" expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"close()\\\">Annuler</ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col col-6>\\r\\n        <ion-button fill=\\\"outline\\\" expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"selectZone()\\\">Sélectionner</ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-footer> -->\"","module.exports = \"/*** Generic ***/\\n/*** Generic ***/\\n/*** Main ***/\\n:host {\\n  width: 100%;\\n  height: 100%;\\n  display: block; }\\n/*** Menu button ***/\\n.menu-button {\\n  background-color: white;\\n  position: absolute;\\n  left: 5px;\\n  top: 5px;\\n  z-index: 4;\\n  border-radius: 0; }\\n.menu-button ::ng-deep div.mat-button-ripple-round {\\n  border-radius: 0; }\\n/*** Map browser ***/\\nigo-map-browser {\\n  width: 100%;\\n  height: 100%; }\\nigo-map-browser ::ng-deep .ol-overlaycontainer-stopevent {\\n  position: absolute;\\n  width: 100%;\\n  left: 0;\\n  bottom: 0; }\\nigo-map-browser.sidenav-offset ::ng-deep .ol-overlaycontainer-stopevent {\\n  left: 380px;\\n  width: calc(100% - 380px); }\\nigo-map-browser.expansion-offset ::ng-deep .ol-overlaycontainer-stopevent {\\n  bottom: 279px; }\\n/*** Search bar ***/\\nigo-search-bar {\\n  background-color: white;\\n  font-size: 16px;\\n  position: absolute;\\n  left: calc(40px + 5px);\\n  top: 5px;\\n  z-index: 4;\\n  width: calc(400px - calc(40px + 5px) - (2 * 5px));\\n  height: 40px;\\n  margin: 0 5px; }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n    igo-search-bar {\\n      width: calc(100% - 40px - calc(40px + 5px) - (3 * 5px)); } }\\n/*** Sidenav ***/\\nmat-sidenav-container {\\n  height: 100%;\\n  width: 100%;\\n  background-color: #efefef;\\n  z-index: 5;\\n  display: unset; }\\n/*** Expansion Panel ***/\\napp-expansion-panel {\\n  position: absolute;\\n  bottom: 0;\\n  z-index: 4;\\n  overflow: hidden; }\\n/*** Toast Panel ***/\\napp-toast-panel {\\n  position: absolute;\\n  bottom: 0;\\n  left: 50%;\\n  margin-left: -300px;\\n  width: 600px;\\n  z-index: 4; }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n    app-toast-panel {\\n      width: calc(100% - 48px);\\n      left: 48px;\\n      margin-left: 0; } }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n  app-toast-panel.expansion-panel-expanded,\\n  app-toast-panel:not(.has-expansion-panel),\\n  app-toast-panel.app-toast-panel-opened {\\n    width: 100%;\\n    left: 0; } }\\nigo-geolocate-button {\\n  margin-bottom: 90px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy96b25lLXNlbGVjdGlvbi9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL3NyY1xcc3R5bGVcXHBhcnRpYWxcXHZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3pvbmUtc2VsZWN0aW9uL0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvc3JjXFxhcHBcXGNvbXBvbmVudHNcXHpvbmUtc2VsZWN0aW9uXFx6b25lLXNlbGVjdGlvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy96b25lLXNlbGVjdGlvbi9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL2Rpc3RcXGlnby1saWJcXGNvcmVcXHN0eWxlXFxwYXJ0aWFsXFxjb3JlLnZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3pvbmUtc2VsZWN0aW9uL0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvc3JjXFxhcHBcXHBhZ2VzXFxwb3J0YWxcXHBvcnRhbC52YXJpYWJsZXMuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy96b25lLXNlbGVjdGlvbi9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL2Rpc3RcXGlnby1saWJcXGNvcmVcXHN0eWxlXFxwYXJ0aWFsXFxtZWRpYS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLGdCQUFBO0FBQUEsZ0JBQUE7QUNLQSxhQUFBO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGNBQWMsRUFBQTtBQUdoQixvQkFBQTtBQUVBO0VBQ0UsdUJEZHVDO0VDZXZDLGtCQUFrQjtFQUNsQixTQ25CYztFRG9CZCxRQ3BCYztFRHFCZCxVQUFVO0VBQ1YsZ0JBQWdCLEVBQUE7QUFHbEI7RUFDRSxnQkFBZ0IsRUFBQTtBQUdsQixvQkFBQTtBQUNBO0VBQ0UsV0FBVztFQUNYLFlBQVksRUFBQTtBQUdkO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxPQUFPO0VBQ1AsU0FBUyxFQUFBO0FBR1g7RUFDRSxXQUFXO0VBQ1gseUJBQXlCLEVBQUE7QUFHM0I7RUFDRSxhQUFhLEVBQUE7QUFHZixtQkFBQTtBQUNBO0VBQ0UsdUJEbER1QztFQ21EdkMsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixzQkVoQ3dEO0VGaUN4RCxRQ3pEYztFRDBEZCxVQUFVO0VBQ1YsaURFbEN5RjtFRm1DekYsWUMxRGtCO0VEMkRsQixhQzdEYyxFQUFBO0FFU2Q7SUgyQ0Y7TUFZSSx1REV0QzhHLEVBQUEsRUZ3Q2pIO0FBRUQsZ0JBQUE7QUFDQTtFQUNFLFlBQVk7RUFDWixXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLFVBQVU7RUFDVixjQUFjLEVBQUE7QUFHaEIsd0JBQUE7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsVUFBVTtFQUNWLGdCQUFnQixFQUFBO0FBR2xCLG9CQUFBO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsU0FBUztFQUNULFNBQVM7RUFDVCxtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLFVBQVUsRUFBQTtBR25GVjtJSDZFRjtNQVNJLHdCQUF5QztNQUN6QyxVRTdGb0I7TUY4RnBCLGNBQWMsRUFBQSxFQUVqQjtBRzFGQztFSDRGRjs7O0lBSUksV0FBVztJQUNYLE9BQU8sRUFBQSxFQUVWO0FBRUQ7RUFDRSxtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvem9uZS1zZWxlY3Rpb24vem9uZS1zZWxlY3Rpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICd+QGlnbzIvY29yZS9zdHlsZS9wYXJ0aWFsL2NvcmUudmFyaWFibGVzJztcclxuXHJcbi8qKiogR2VuZXJpYyAqKiovXHJcbiRhcHAtYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG4kYXBwLWljb24tYnV0dG9uLXdpZHRoOiA0MHB4O1xyXG5cclxuJGFwcC1ib3JkZXItd2lkdGg6IDFweDtcclxuJGFwcC1ib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4kYXBwLWJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAuMik7XHJcblxyXG4lYm9yZGVyLWJveCB7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcblxyXG4lYm9yZGVyZWQtdG9wIHtcclxuICBib3JkZXItdG9wOiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJvcmRlcmVkLWJvdHRvbSB7XHJcbiAgYm9yZGVyLWJvdHRvbTogJGFwcC1ib3JkZXItd2lkdGggJGFwcC1ib3JkZXItc3R5bGUgJGFwcC1ib3JkZXItY29sb3I7XHJcbn1cclxuXHJcbiVib3JkZXJlZC1sZWZ0IHtcclxuICBib3JkZXItbGVmdDogJGFwcC1ib3JkZXItd2lkdGggJGFwcC1ib3JkZXItc3R5bGUgJGFwcC1ib3JkZXItY29sb3I7XHJcbn1cclxuXHJcbiVib3JkZXJlZC1yaWdodCB7XHJcbiAgYm9yZGVyLXJpZ2h0OiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJveC1zaGFkb3dlZCB7XHJcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggMHB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC1vLWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIGJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG59XHJcblxyXG4lYm94LXNoYWRvd2VkLWJvdHRvbS1yaWdodCB7XHJcbiAgLW1vei1ib3gtc2hhZG93OiAycHggMnB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC1vLWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIGJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG59XHJcbiIsIlxyXG5AaW1wb3J0ICd+QGlnbzIvY29yZS9zdHlsZS9wYXJ0aWFsL21lZGlhJztcclxuQGltcG9ydCAnLi4vLi4vLi4vc3R5bGUvcGFydGlhbC92YXJpYWJsZXMnO1xyXG5AaW1wb3J0ICcuLi8uLi9wYWdlcy9wb3J0YWwvcG9ydGFsLnZhcmlhYmxlcy5zY3NzJztcclxuXHJcblxyXG5cclxuLyoqKiBNYWluICoqKi9cclxuOmhvc3Qge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5cclxuLyoqKiBNZW51IGJ1dHRvbiAqKiovXHJcblxyXG4ubWVudS1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICRhcHAtYmFja2dyb3VuZC1jb2xvcjtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogJGlnby1tYXJnaW47XHJcbiAgdG9wOiAkaWdvLW1hcmdpbjtcclxuICB6LWluZGV4OiA0O1xyXG4gIGJvcmRlci1yYWRpdXM6IDA7XHJcbn1cclxuXHJcbi5tZW51LWJ1dHRvbiA6Om5nLWRlZXAgZGl2Lm1hdC1idXR0b24tcmlwcGxlLXJvdW5kIHtcclxuICBib3JkZXItcmFkaXVzOiAwO1xyXG59XHJcblxyXG4vKioqIE1hcCBicm93c2VyICoqKi9cclxuaWdvLW1hcC1icm93c2VyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbmlnby1tYXAtYnJvd3NlciA6Om5nLWRlZXAgLm9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50IHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgbGVmdDogMDtcclxuICBib3R0b206IDA7XHJcbn1cclxuXHJcbmlnby1tYXAtYnJvd3Nlci5zaWRlbmF2LW9mZnNldCA6Om5nLWRlZXAgLm9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50IHtcclxuICBsZWZ0OiAzODBweDtcclxuICB3aWR0aDogY2FsYygxMDAlIC0gMzgwcHgpO1xyXG59XHJcblxyXG5pZ28tbWFwLWJyb3dzZXIuZXhwYW5zaW9uLW9mZnNldCA6Om5nLWRlZXAgLm9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50IHtcclxuICBib3R0b206IDI3OXB4O1xyXG59XHJcblxyXG4vKioqIFNlYXJjaCBiYXIgKioqL1xyXG5pZ28tc2VhcmNoLWJhciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogJGFwcC1iYWNrZ3JvdW5kLWNvbG9yO1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogJHNlYXJjaC1iYXItbGVmdDtcclxuICB0b3A6ICRpZ28tbWFyZ2luO1xyXG4gIHotaW5kZXg6IDQ7XHJcbiAgd2lkdGg6ICRzZWFyY2gtYmFyLXdpZHRoO1xyXG4gIGhlaWdodDogJGlnby1pY29uLXNpemU7XHJcbiAgbWFyZ2luOiAwICRpZ28tbWFyZ2luO1xyXG5cclxuICBAaW5jbHVkZSBtb2JpbGUge1xyXG4gICAgd2lkdGg6ICRzZWFyY2gtYmFyLXdpZHRoLW1vYmlsZTtcclxuICB9XHJcbn1cclxuXHJcbi8qKiogU2lkZW5hdiAqKiovXHJcbm1hdC1zaWRlbmF2LWNvbnRhaW5lciB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZmVmZWY7XHJcbiAgei1pbmRleDogNTtcclxuICBkaXNwbGF5OiB1bnNldDtcclxufVxyXG5cclxuLyoqKiBFeHBhbnNpb24gUGFuZWwgKioqL1xyXG5hcHAtZXhwYW5zaW9uLXBhbmVsIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgYm90dG9tOiAwO1xyXG4gIHotaW5kZXg6IDQ7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG5cclxuLyoqKiBUb2FzdCBQYW5lbCAqKiovXHJcbmFwcC10b2FzdC1wYW5lbCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvdHRvbTogMDtcclxuICBsZWZ0OiA1MCU7XHJcbiAgbWFyZ2luLWxlZnQ6IC0zMDBweDtcclxuICB3aWR0aDogNjAwcHg7XHJcbiAgei1pbmRleDogNDtcclxuXHJcbiAgQGluY2x1ZGUgbW9iaWxlIHtcclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAjeyRhcHAtZm9vdGVyLWhlaWdodH0pO1xyXG4gICAgbGVmdDogJGFwcC1mb290ZXItaGVpZ2h0O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgfVxyXG59XHJcblxyXG5hcHAtdG9hc3QtcGFuZWwuZXhwYW5zaW9uLXBhbmVsLWV4cGFuZGVkLFxyXG5hcHAtdG9hc3QtcGFuZWw6bm90KC5oYXMtZXhwYW5zaW9uLXBhbmVsKSxcclxuYXBwLXRvYXN0LXBhbmVsLmFwcC10b2FzdC1wYW5lbC1vcGVuZWQge1xyXG4gIEBpbmNsdWRlIG1vYmlsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgfVxyXG59XHJcblxyXG5pZ28tZ2VvbG9jYXRlLWJ1dHRvbiB7XHJcbiAgbWFyZ2luLWJvdHRvbTogOTBweDtcclxufVxyXG4iLCIkaWdvLW1hcmdpbjogNXB4O1xyXG4kaWdvLXBhZGRpbmc6IDVweDtcclxuJGlnby1pY29uLXNpemU6IDQwcHg7XHJcbiIsIkBpbXBvcnQgJ35AaWdvMi9jb3JlL3N0eWxlL3BhcnRpYWwvbWVkaWEnO1xyXG5AaW1wb3J0ICd2YXJpYWJsZXMnO1xyXG5cclxuJGFwcC1mb290ZXItaGVpZ2h0OiA0OHB4O1xyXG4kYXBwLW1vYmlsZS1taW4tc3BhY2UtcmlnaHQ6IDQwcHg7XHJcblxyXG4kYXBwLWV4cGFuc2lvbi1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0OiA0OHB4O1xyXG4kYXBwLWV4cGFuc2lvbi1wYW5lbC1jb2xsYXBzZWQtd2lkdGg6IDUycHg7XHJcbiRhcHAtZXhwYW5zaW9uLXBhbmVsLWhlaWdodDogMjgxcHg7XHJcbiRhcHAtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1oZWlnaHQ6ICRhcHAtZXhwYW5zaW9uLXBhbmVsLWNvbGxhcHNlZC1oZWlnaHQ7XHJcblxyXG4kYXBwLXRvYXN0LXBhbmVsLWNvbGxhcHNlZC1oZWlnaHQ6IDQ4cHg7XHJcbiRhcHAtdG9hc3QtcGFuZWwtbWF4LWhlaWdodDogMjgxcHg7XHJcbiRhcHAtdG9hc3QtcGFuZWwtd2lkdGg6IDMwJTtcclxuXHJcbiRhcHAtc2lkZW5hdi1tYXJnaW4tdG9wOiA1MHB4O1xyXG4kYXBwLXNpZGVuYXYtaGVpZ2h0OiBjYWxjKDEwMCUgLSAjeyRhcHAtc2lkZW5hdi1tYXJnaW4tdG9wfSk7XHJcbiRhcHAtc2lkZW5hdi13aWR0aDogNDAwcHg7XHJcbiRhcHAtc2lkZW5hdi13aWR0aC1tb2JpbGU6IGNhbGMoMTAwJSAtICN7JGFwcC1tb2JpbGUtbWluLXNwYWNlLXJpZ2h0fSAtICN7JGlnby1tYXJnaW59KTtcclxuXHJcbiRpZ28tdG9hc3QtcGFuZWwtY29sbGFwc2VkLWhlaWdodDogNDhweDtcclxuJGlnby10b2FzdC1wYW5lbC1tYXgtaGVpZ2h0OiAzMDBweDtcclxuJGlnby10b2FzdC1wYW5lbC13aWR0aDogMzAlO1xyXG5cclxuJHNlYXJjaC1iYXItbGVmdDogY2FsYygjeyRpZ28taWNvbi1zaXplfSArICN7JGlnby1tYXJnaW59KTtcclxuJHNlYXJjaC1iYXItd2lkdGg6IGNhbGMoI3skYXBwLXNpZGVuYXYtd2lkdGh9IC0gI3skc2VhcmNoLWJhci1sZWZ0fSAtICgyICogI3skaWdvLW1hcmdpbn0pKTtcclxuJHNlYXJjaC1iYXItd2lkdGgtbW9iaWxlOiBjYWxjKDEwMCUgLSAjeyRhcHAtbW9iaWxlLW1pbi1zcGFjZS1yaWdodH0gLSAjeyRzZWFyY2gtYmFyLWxlZnR9IC0gKDMgKiAjeyRpZ28tbWFyZ2lufSkpO1xyXG4iLCIkbW9iaWxlOiAnb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDQ1MHB4KSwgb25seSBzY3JlZW4gYW5kIChtYXgtaGVpZ2h0OiA0NTBweCknO1xyXG4kdGFibGV0OiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQ1MXB4KSBhbmQgKG1pbi1oZWlnaHQ6IDQ1MXB4KSBhbmQgKG1heC13aWR0aDogODAwcHgpJztcclxuJGRlc2t0b3A6ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODAxcHgpJztcclxuXHJcbiRzbWFsbC1zY3JlZW46ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODAxcHgpIGFuZCAobWF4LXdpZHRoOiAxMjc5cHgpJztcclxuJG1lZGl1bS1zY3JlZW46ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTI4MHB4KSBhbmQgKG1heC13aWR0aDogMTkxOXB4KSc7XHJcbiRsYXJnZS1zY3JlZW46ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTkyMHB4KSc7XHJcblxyXG5AbWl4aW4gbW9iaWxlIHtcclxuICBAbWVkaWEgI3skbW9iaWxlfSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiB0YWJsZXQge1xyXG4gIEBtZWRpYSAjeyR0YWJsZXR9IHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGRlc2t0b3Age1xyXG4gIEBtZWRpYSAjeyRkZXNrdG9wfSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBzbWFsbC1zY3JlZW4ge1xyXG4gICAgQG1lZGlhICN7JHNtYWxsLXNjcmVlbn0ge1xyXG4gICAgICBAY29udGVudDtcclxuICAgIH1cclxufVxyXG5cclxuQG1peGluIG1lZGl1bS1zY3JlZW4ge1xyXG4gIEBtZWRpYSAjeyRtZWRpdW0tc2NyZWVufSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBsYXJnZS1zY3JlZW4ge1xyXG4gICAgQG1lZGlhICN7JGxhcmdlLXNjcmVlbn0ge1xyXG4gICAgICBAY29udGVudDtcclxuICAgIH1cclxufVxyXG4iXX0= */\"","import { Component, OnInit, OnDestroy, ChangeDetectorRef, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { Notification } from 'angular2-notifications';\r\n\r\nimport { MediaService, ConfigService, MessageService, Message } from '@igo2/core';\r\nimport { AuthService } from '@igo2/auth';\r\nimport { Context, ContextService } from '@igo2/context';\r\nimport {\r\n  DataSourceService,\r\n  Feature,\r\n  IgoMap,\r\n  LayerService,\r\n  MapService,\r\n  OverlayAction,\r\n  OverlayService,\r\n  SearchService,\r\n  CapabilitiesService\r\n} from '@igo2/geo';\r\n\r\nimport {\r\n  controlSlideX,\r\n  controlSlideY,\r\n  mapSlideX,\r\n  mapSlideY\r\n} from '../../pages/portal/portal.animation';\r\nimport { PortalComponent } from '../../pages/portal/portal.component';\r\nimport { BboxService } from '../../services/bbox.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-zone-selection',\r\n  templateUrl: './zone-selection.component.html',\r\n  styleUrls: ['./zone-selection.component.scss'],\r\n  animations: [controlSlideX(), controlSlideY(), mapSlideX(), mapSlideY()]\r\n})\r\nexport class ZoneSelectionComponent /*extends PortalComponent*/ {\r\n\r\n  private bbox;\r\n\r\n  constructor(\r\n    private bboxService: BboxService,\r\n    public route: ActivatedRoute,\r\n    protected configService: ConfigService,\r\n    public authService: AuthService,\r\n    public mediaService: MediaService,\r\n    public searchService: SearchService,\r\n    public overlayService: OverlayService,\r\n    public mapService: MapService,\r\n    public layerService: LayerService,\r\n    public dataSourceService: DataSourceService,\r\n    public contextService: ContextService,\r\n    public cdRef: ChangeDetectorRef,\r\n    public capabilitiesService: CapabilitiesService,\r\n    public messageService: MessageService\r\n  ) {/*\r\n    super(\r\n      route,\r\n      configService,\r\n      authService,\r\n      searchService,\r\n      overlayService,\r\n      mapService,\r\n      layerService,\r\n      dataSourceService,\r\n      contextService,\r\n      cdRef,\r\n      capabilitiesService,\r\n      messageService);\r\n    this.mapService.setMap(this.map);*/\r\n  }\r\n\r\n  updateMap() {\r\n    // Sans cela la carte n'affichait pas\r\n    setTimeout(() => {\r\n      this.mapService.getMap().ol.updateSize();\r\n    }, 600);\r\n  }\r\n\r\n  close() {\r\n    // this.modalController.dismiss();\r\n  }\r\n\r\n  selectZone() {\r\n    this.bbox = this.mapService.getMap().ol.getView().calculateExtent(this.mapService.getMap().ol.getSize());\r\n    this.bboxService.setBBOX(this.bbox);\r\n    this.close();\r\n  }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {\r\n  MatTooltipModule,\r\n  MatIconModule,\r\n  MatButtonModule,\r\n  MatSidenavModule\r\n} from '@angular/material';\r\n\r\nimport { IgoCoreModule } from '@igo2/core';\r\nimport {\r\n  IgoActionModule,\r\n  IgoWorkspaceModule,\r\n  IgoEntityModule,\r\n  IgoPanelModule,\r\n  IgoBackdropModule,\r\n  IgoFlexibleModule,\r\n  IgoContextMenuModule,\r\n  IgoToolModule,\r\n  IgoEntityTableModule\r\n} from '@igo2/common';\r\n\r\nimport {\r\n  IgoGeoWorkspaceModule,\r\n  IgoFeatureModule,\r\n  IgoImportExportModule,\r\n  IgoMapModule,\r\n  IgoQueryModule,\r\n  IgoSearchModule\r\n} from '@igo2/geo';\r\nimport {\r\n  IgoContextManagerModule,\r\n  IgoContextMapButtonModule\r\n} from '@igo2/context';\r\n\r\nimport { IgoIntegrationModule } from '@igo2/integration';\r\n\r\nimport { AppExpansionPanelModule } from '../../pages/portal/expansion-panel/expansion-panel.module';\r\nimport { AppToastPanelModule } from '../../pages/portal/toast-panel/toast-panel.module';\r\nimport { AppSidenavModule } from '../../pages/portal/sidenav/sidenav.module';\r\n\r\nimport { ZoneSelectionComponent } from './zone-selection.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatTooltipModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatSidenavModule,\r\n    IgoCoreModule,\r\n    IgoFeatureModule,\r\n    IgoImportExportModule,\r\n    IgoMapModule,\r\n    IgoQueryModule.forRoot(),\r\n    IgoSearchModule.forRoot(),\r\n    IgoActionModule,\r\n    IgoWorkspaceModule,\r\n    IgoEntityModule,\r\n    IgoGeoWorkspaceModule,\r\n    IgoPanelModule,\r\n    IgoToolModule,\r\n    IgoContextMenuModule,\r\n    IgoBackdropModule,\r\n    IgoFlexibleModule,\r\n    IgoIntegrationModule,\r\n    AppExpansionPanelModule,\r\n    AppToastPanelModule,\r\n    AppSidenavModule,\r\n    IgoContextManagerModule,\r\n    IgoContextMapButtonModule,\r\n    IgoEntityTableModule\r\n  ],\r\n  exports: [ZoneSelectionComponent],\r\n  declarations: [ZoneSelectionComponent],\r\n  entryComponents: [ZoneSelectionComponent]\r\n})\r\nexport class ZoneSelectionModule { }\r\n","module.exports = \"<div>\\r\\n  <div class=\\\"app-expansion-panel-trigger-container\\\">\\r\\n    <button mat-icon-button (click)=\\\"onToggleClick()\\\">\\r\\n      <mat-icon *ngIf=\\\"!expanded\\\" svgIcon=\\\"launch\\\"></mat-icon>\\r\\n      <mat-icon *ngIf=\\\"expanded\\\" style=\\\"transform: rotate(180deg)\\\" svgIcon=\\\"launch\\\"></mat-icon>\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"app-expansion-panel-content\\\">\\r\\n    <ng-content></ng-content>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"/*** Generic ***/\\n:host {\\n  display: block;\\n  height: 48px; }\\n:host > div {\\n  display: flex; }\\n.app-expansion-panel-trigger-container,\\n.app-expansion-panel-content {\\n  display: inline-flex; }\\nbutton {\\n  margin: 4px 6px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcG9ydGFsL2V4cGFuc2lvbi1wYW5lbC9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL3NyY1xcc3R5bGVcXHBhcnRpYWxcXHZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9wYWdlcy9wb3J0YWwvZXhwYW5zaW9uLXBhbmVsL0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvc3JjXFxhcHBcXHBhZ2VzXFxwb3J0YWxcXGV4cGFuc2lvbi1wYW5lbFxcZXhwYW5zaW9uLXBhbmVsLWhlYWRlci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvcGFnZXMvcG9ydGFsL2V4cGFuc2lvbi1wYW5lbC9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL3NyY1xcYXBwXFxwYWdlc1xccG9ydGFsXFxwb3J0YWwudmFyaWFibGVzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsZ0JBQUE7QUNBQTtFQUNFLGNBQWM7RUFDZCxZQ0V5QyxFQUFBO0FEQzNDO0VBQ0UsYUFBYSxFQUFBO0FBR2Y7O0VBRUUsb0JBQW9CLEVBQUE7QUFHdEI7RUFDRSxlQUFlLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wb3J0YWwvZXhwYW5zaW9uLXBhbmVsL2V4cGFuc2lvbi1wYW5lbC1oZWFkZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICd+QGlnbzIvY29yZS9zdHlsZS9wYXJ0aWFsL2NvcmUudmFyaWFibGVzJztcclxuXHJcbi8qKiogR2VuZXJpYyAqKiovXHJcbiRhcHAtYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG4kYXBwLWljb24tYnV0dG9uLXdpZHRoOiA0MHB4O1xyXG5cclxuJGFwcC1ib3JkZXItd2lkdGg6IDFweDtcclxuJGFwcC1ib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4kYXBwLWJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAuMik7XHJcblxyXG4lYm9yZGVyLWJveCB7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcblxyXG4lYm9yZGVyZWQtdG9wIHtcclxuICBib3JkZXItdG9wOiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJvcmRlcmVkLWJvdHRvbSB7XHJcbiAgYm9yZGVyLWJvdHRvbTogJGFwcC1ib3JkZXItd2lkdGggJGFwcC1ib3JkZXItc3R5bGUgJGFwcC1ib3JkZXItY29sb3I7XHJcbn1cclxuXHJcbiVib3JkZXJlZC1sZWZ0IHtcclxuICBib3JkZXItbGVmdDogJGFwcC1ib3JkZXItd2lkdGggJGFwcC1ib3JkZXItc3R5bGUgJGFwcC1ib3JkZXItY29sb3I7XHJcbn1cclxuXHJcbiVib3JkZXJlZC1yaWdodCB7XHJcbiAgYm9yZGVyLXJpZ2h0OiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJveC1zaGFkb3dlZCB7XHJcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggMHB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC1vLWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIGJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG59XHJcblxyXG4lYm94LXNoYWRvd2VkLWJvdHRvbS1yaWdodCB7XHJcbiAgLW1vei1ib3gtc2hhZG93OiAycHggMnB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC1vLWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIGJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG59XHJcbiIsIkBpbXBvcnQgJy4uL3BvcnRhbC52YXJpYWJsZXMnO1xyXG5cclxuOmhvc3Qge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGhlaWdodDogJGFwcC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWhlaWdodDtcclxufVxyXG5cclxuOmhvc3QgPiBkaXYge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuXHJcbi5hcHAtZXhwYW5zaW9uLXBhbmVsLXRyaWdnZXItY29udGFpbmVyLFxyXG4uYXBwLWV4cGFuc2lvbi1wYW5lbC1jb250ZW50IHtcclxuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxufVxyXG5cclxuYnV0dG9uIHtcclxuICBtYXJnaW46IDRweCA2cHg7XHJcbn1cclxuIiwiQGltcG9ydCAnfkBpZ28yL2NvcmUvc3R5bGUvcGFydGlhbC9tZWRpYSc7XHJcbkBpbXBvcnQgJ3ZhcmlhYmxlcyc7XHJcblxyXG4kYXBwLWZvb3Rlci1oZWlnaHQ6IDQ4cHg7XHJcbiRhcHAtbW9iaWxlLW1pbi1zcGFjZS1yaWdodDogNDBweDtcclxuXHJcbiRhcHAtZXhwYW5zaW9uLXBhbmVsLWNvbGxhcHNlZC1oZWlnaHQ6IDQ4cHg7XHJcbiRhcHAtZXhwYW5zaW9uLXBhbmVsLWNvbGxhcHNlZC13aWR0aDogNTJweDtcclxuJGFwcC1leHBhbnNpb24tcGFuZWwtaGVpZ2h0OiAyODFweDtcclxuJGFwcC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWhlaWdodDogJGFwcC1leHBhbnNpb24tcGFuZWwtY29sbGFwc2VkLWhlaWdodDtcclxuXHJcbiRhcHAtdG9hc3QtcGFuZWwtY29sbGFwc2VkLWhlaWdodDogNDhweDtcclxuJGFwcC10b2FzdC1wYW5lbC1tYXgtaGVpZ2h0OiAyODFweDtcclxuJGFwcC10b2FzdC1wYW5lbC13aWR0aDogMzAlO1xyXG5cclxuJGFwcC1zaWRlbmF2LW1hcmdpbi10b3A6IDUwcHg7XHJcbiRhcHAtc2lkZW5hdi1oZWlnaHQ6IGNhbGMoMTAwJSAtICN7JGFwcC1zaWRlbmF2LW1hcmdpbi10b3B9KTtcclxuJGFwcC1zaWRlbmF2LXdpZHRoOiA0MDBweDtcclxuJGFwcC1zaWRlbmF2LXdpZHRoLW1vYmlsZTogY2FsYygxMDAlIC0gI3skYXBwLW1vYmlsZS1taW4tc3BhY2UtcmlnaHR9IC0gI3skaWdvLW1hcmdpbn0pO1xyXG5cclxuJGlnby10b2FzdC1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0OiA0OHB4O1xyXG4kaWdvLXRvYXN0LXBhbmVsLW1heC1oZWlnaHQ6IDMwMHB4O1xyXG4kaWdvLXRvYXN0LXBhbmVsLXdpZHRoOiAzMCU7XHJcblxyXG4kc2VhcmNoLWJhci1sZWZ0OiBjYWxjKCN7JGlnby1pY29uLXNpemV9ICsgI3skaWdvLW1hcmdpbn0pO1xyXG4kc2VhcmNoLWJhci13aWR0aDogY2FsYygjeyRhcHAtc2lkZW5hdi13aWR0aH0gLSAjeyRzZWFyY2gtYmFyLWxlZnR9IC0gKDIgKiAjeyRpZ28tbWFyZ2lufSkpO1xyXG4kc2VhcmNoLWJhci13aWR0aC1tb2JpbGU6IGNhbGMoMTAwJSAtICN7JGFwcC1tb2JpbGUtbWluLXNwYWNlLXJpZ2h0fSAtICN7JHNlYXJjaC1iYXItbGVmdH0gLSAoMyAqICN7JGlnby1tYXJnaW59KSk7XHJcbiJdfQ== */\"","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostBinding,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-expansion-panel-header',\r\n  templateUrl: './expansion-panel-header.component.html',\r\n  styleUrls: ['./expansion-panel-header.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ExpansionPanelHeaderComponent {\r\n  @Input()\r\n  get expanded(): boolean {\r\n    return this._expanded;\r\n  }\r\n  set expanded(value: boolean) {\r\n    if (value === this._expanded) {\r\n      return;\r\n    }\r\n\r\n    this._expanded = value;\r\n    this.expandedChange.emit(this._expanded);\r\n  }\r\n  private _expanded: boolean;\r\n\r\n  @Output() expandedChange = new EventEmitter<boolean>();\r\n\r\n  @HostBinding('class.app-expansion-panel-header-expanded')\r\n  get hasExpandedClass() {\r\n    return this.expanded;\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  onToggleClick() {\r\n    this.expanded = !this.expanded;\r\n  }\r\n}\r\n","import {\r\n  trigger,\r\n  state,\r\n  style,\r\n  transition,\r\n  animate,\r\n  AnimationTriggerMetadata\r\n} from '@angular/animations';\r\n\r\nexport function showContent(\r\n  duration = '150ms',\r\n  delay = '300ms',\r\n  easing = 'ease-in-out'\r\n): AnimationTriggerMetadata {\r\n  return trigger('showContent', [\r\n    state(\r\n      'true',\r\n      style({\r\n        opacity: 1,\r\n        display: 'block'\r\n      })\r\n    ),\r\n    state(\r\n      'false',\r\n      style({\r\n        opacity: 0,\r\n        display: 'none'\r\n      })\r\n    ),\r\n    transition('false => true', animate(`${duration} ${delay} ${easing}`)),\r\n    transition('true => false', animate('0ms'))\r\n  ]);\r\n}\r\n","module.exports = \"<div>\\r\\n\\r\\n  <div class=\\\"app-expansion-panel-container\\\">\\r\\n    <app-expansion-panel-header [(expanded)]=\\\"expanded\\\">\\r\\n      <ng-content select=\\\"[expansionPanelHeader]\\\"></ng-content>\\r\\n    </app-expansion-panel-header>\\r\\n\\r\\n    <div\\r\\n      class=\\\"app-expansion-panel-content mat-elevation-z4\\\"\\r\\n      [@showContent]=\\\"expanded\\\">\\r\\n      <ng-content></ng-content>\\r\\n    </div>\\r\\n\\r\\n    <igo-backdrop\\r\\n      [shown]=\\\"backdropShown\\\"\\r\\n      (click)=\\\"onBackdropClick()\\\">\\r\\n    </igo-backdrop>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"","module.exports = \"/*** Generic ***/\\n:host {\\n  -o-box-shadow: 0px 0px 2px 0px #dddddd;\\n  box-shadow: 0px 0px 2px 0px #dddddd; }\\n:host {\\n  display: block;\\n  background-color: white;\\n  height: 48px;\\n  width: 52px;\\n  transition: height 200ms cubic-bezier(0.4, 0, 0.2, 1), width 200ms cubic-bezier(0.4, 0, 0.2, 1); }\\n.app-expansion-panel-container {\\n  height: 100%;\\n  width: 100%; }\\n:host.app-expansion-panel-expanded {\\n  height: 281px;\\n  width: 100%; }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n    :host.app-expansion-panel-expanded.footer {\\n      margin-bottom: 48px; } }\\n:host > div {\\n  height: 100%;\\n  width: 100%; }\\n.app-expansion-panel-content {\\n  height: calc(100% - 48px);\\n  overflow: auto;\\n  padding: 5px; }\\nigo-backdrop ::ng-deep > div {\\n  z-index: initial !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcG9ydGFsL2V4cGFuc2lvbi1wYW5lbC9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL3NyY1xcc3R5bGVcXHBhcnRpYWxcXHZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9wYWdlcy9wb3J0YWwvZXhwYW5zaW9uLXBhbmVsL0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvc3JjXFxhcHBcXHBhZ2VzXFxwb3J0YWxcXGV4cGFuc2lvbi1wYW5lbFxcZXhwYW5zaW9uLXBhbmVsLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9wYWdlcy9wb3J0YWwvZXhwYW5zaW9uLXBhbmVsL0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvc3JjXFxhcHBcXHBhZ2VzXFxwb3J0YWxcXHBvcnRhbC52YXJpYWJsZXMuc2NzcyIsInNyYy9hcHAvcGFnZXMvcG9ydGFsL2V4cGFuc2lvbi1wYW5lbC9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL2Rpc3RcXGlnby1saWJcXGNvcmVcXHN0eWxlXFxwYXJ0aWFsXFxtZWRpYS5zY3NzIiwic3JjL2FwcC9wYWdlcy9wb3J0YWwvZXhwYW5zaW9uLXBhbmVsL0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvZGlzdFxcaWdvLWxpYlxcY29yZVxcc3R5bGVcXHBhcnRpYWxcXGNvcmUudmFyaWFibGVzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsZ0JBQUE7QUNDQTtFRGdDRSxzQ0FBc0M7RUFDdEMsbUNBQW1DLEVBQUE7QUNqQ3JDO0VBR0UsY0FBYztFQUNkLHVCQUF1QjtFQUV2QixZQ0h5QztFREl6QyxXQ0h3QztFREt4QywrRkFFd0MsRUFBQTtBQUcxQztFQUNFLFlBQVk7RUFDWixXQUFXLEVBQUE7QUFHYjtFQUNFLGFDZmdDO0VEZ0JoQyxXQUFXLEVBQUE7QUVmWDtJRmFGO01BTU0sbUJBQW1CLEVBQUEsRUFDcEI7QUFJTDtFQUNFLFlBQVk7RUFDWixXQUFXLEVBQUE7QUFHYjtFQUNFLHlCQUEwRDtFQUMxRCxjQUFjO0VBQ2QsWUd4Q2UsRUFBQTtBSDJDakI7RUFDRSwyQkFBMkIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BvcnRhbC9leHBhbnNpb24tcGFuZWwvZXhwYW5zaW9uLXBhbmVsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnfkBpZ28yL2NvcmUvc3R5bGUvcGFydGlhbC9jb3JlLnZhcmlhYmxlcyc7XHJcblxyXG4vKioqIEdlbmVyaWMgKioqL1xyXG4kYXBwLWJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcclxuJGFwcC1pY29uLWJ1dHRvbi13aWR0aDogNDBweDtcclxuXHJcbiRhcHAtYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiRhcHAtYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGFwcC1ib3JkZXItY29sb3I6IHJnYmEoMCwgMCwgMCwgLjIpO1xyXG5cclxuJWJvcmRlci1ib3gge1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcclxufVxyXG5cclxuJWJvcmRlcmVkLXRvcCB7XHJcbiAgYm9yZGVyLXRvcDogJGFwcC1ib3JkZXItd2lkdGggJGFwcC1ib3JkZXItc3R5bGUgJGFwcC1ib3JkZXItY29sb3I7XHJcbn1cclxuXHJcbiVib3JkZXJlZC1ib3R0b20ge1xyXG4gIGJvcmRlci1ib3R0b206ICRhcHAtYm9yZGVyLXdpZHRoICRhcHAtYm9yZGVyLXN0eWxlICRhcHAtYm9yZGVyLWNvbG9yO1xyXG59XHJcblxyXG4lYm9yZGVyZWQtbGVmdCB7XHJcbiAgYm9yZGVyLWxlZnQ6ICRhcHAtYm9yZGVyLXdpZHRoICRhcHAtYm9yZGVyLXN0eWxlICRhcHAtYm9yZGVyLWNvbG9yO1xyXG59XHJcblxyXG4lYm9yZGVyZWQtcmlnaHQge1xyXG4gIGJvcmRlci1yaWdodDogJGFwcC1ib3JkZXItd2lkdGggJGFwcC1ib3JkZXItc3R5bGUgJGFwcC1ib3JkZXItY29sb3I7XHJcbn1cclxuXHJcbiVib3gtc2hhZG93ZWQge1xyXG4gIC1tb3otYm94LXNoYWRvdzogMHB4IDBweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMHB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtby1ib3gtc2hhZG93OiAwcHggMHB4IDJweCAwcHggI2RkZGRkZDtcclxuICBib3gtc2hhZG93OiAwcHggMHB4IDJweCAwcHggI2RkZGRkZDtcclxufVxyXG5cclxuJWJveC1zaGFkb3dlZC1ib3R0b20tcmlnaHQge1xyXG4gIC1tb3otYm94LXNoYWRvdzogMnB4IDJweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAycHggMnB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtby1ib3gtc2hhZG93OiAycHggMnB4IDJweCAwcHggI2RkZGRkZDtcclxuICBib3gtc2hhZG93OiAycHggMnB4IDJweCAwcHggI2RkZGRkZDtcclxufVxyXG4iLCJAaW1wb3J0ICcuLi9wb3J0YWwudmFyaWFibGVzJztcclxuXHJcblxyXG46aG9zdCB7XHJcbiAgQGV4dGVuZCAlYm94LXNoYWRvd2VkO1xyXG5cclxuICBkaXNwbGF5OiBibG9jaztcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuXHJcbiAgaGVpZ2h0OiAkYXBwLWV4cGFuc2lvbi1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0O1xyXG4gIHdpZHRoOiAkYXBwLWV4cGFuc2lvbi1wYW5lbC1jb2xsYXBzZWQtd2lkdGg7XHJcblxyXG4gIHRyYW5zaXRpb246XHJcbiAgICBoZWlnaHQgMjAwbXMgY3ViaWMtYmV6aWVyKC40LCAwLCAuMiwgMSksXHJcbiAgICB3aWR0aCAyMDBtcyBjdWJpYy1iZXppZXIoLjQsIDAsIC4yLCAxKTtcclxufVxyXG5cclxuLmFwcC1leHBhbnNpb24tcGFuZWwtY29udGFpbmVyIHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbjpob3N0LmFwcC1leHBhbnNpb24tcGFuZWwtZXhwYW5kZWQge1xyXG4gIGhlaWdodDogJGFwcC1leHBhbnNpb24tcGFuZWwtaGVpZ2h0O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG5cclxuICBAaW5jbHVkZSBtb2JpbGUge1xyXG4gICAgJi5mb290ZXIge1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiA0OHB4O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuOmhvc3QgPiBkaXYge1xyXG4gIGhlaWdodDogMTAwJTtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmFwcC1leHBhbnNpb24tcGFuZWwtY29udGVudCB7XHJcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAjeyRhcHAtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci1oZWlnaHR9KTtcclxuICBvdmVyZmxvdzogYXV0bztcclxuICBwYWRkaW5nOiAkaWdvLXBhZGRpbmc7XHJcbn1cclxuXHJcbmlnby1iYWNrZHJvcCA6Om5nLWRlZXAgPiBkaXYge1xyXG4gIHotaW5kZXg6IGluaXRpYWwgIWltcG9ydGFudDtcclxufVxyXG4iLCJAaW1wb3J0ICd+QGlnbzIvY29yZS9zdHlsZS9wYXJ0aWFsL21lZGlhJztcclxuQGltcG9ydCAndmFyaWFibGVzJztcclxuXHJcbiRhcHAtZm9vdGVyLWhlaWdodDogNDhweDtcclxuJGFwcC1tb2JpbGUtbWluLXNwYWNlLXJpZ2h0OiA0MHB4O1xyXG5cclxuJGFwcC1leHBhbnNpb24tcGFuZWwtY29sbGFwc2VkLWhlaWdodDogNDhweDtcclxuJGFwcC1leHBhbnNpb24tcGFuZWwtY29sbGFwc2VkLXdpZHRoOiA1MnB4O1xyXG4kYXBwLWV4cGFuc2lvbi1wYW5lbC1oZWlnaHQ6IDI4MXB4O1xyXG4kYXBwLWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItaGVpZ2h0OiAkYXBwLWV4cGFuc2lvbi1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0O1xyXG5cclxuJGFwcC10b2FzdC1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0OiA0OHB4O1xyXG4kYXBwLXRvYXN0LXBhbmVsLW1heC1oZWlnaHQ6IDI4MXB4O1xyXG4kYXBwLXRvYXN0LXBhbmVsLXdpZHRoOiAzMCU7XHJcblxyXG4kYXBwLXNpZGVuYXYtbWFyZ2luLXRvcDogNTBweDtcclxuJGFwcC1zaWRlbmF2LWhlaWdodDogY2FsYygxMDAlIC0gI3skYXBwLXNpZGVuYXYtbWFyZ2luLXRvcH0pO1xyXG4kYXBwLXNpZGVuYXYtd2lkdGg6IDQwMHB4O1xyXG4kYXBwLXNpZGVuYXYtd2lkdGgtbW9iaWxlOiBjYWxjKDEwMCUgLSAjeyRhcHAtbW9iaWxlLW1pbi1zcGFjZS1yaWdodH0gLSAjeyRpZ28tbWFyZ2lufSk7XHJcblxyXG4kaWdvLXRvYXN0LXBhbmVsLWNvbGxhcHNlZC1oZWlnaHQ6IDQ4cHg7XHJcbiRpZ28tdG9hc3QtcGFuZWwtbWF4LWhlaWdodDogMzAwcHg7XHJcbiRpZ28tdG9hc3QtcGFuZWwtd2lkdGg6IDMwJTtcclxuXHJcbiRzZWFyY2gtYmFyLWxlZnQ6IGNhbGMoI3skaWdvLWljb24tc2l6ZX0gKyAjeyRpZ28tbWFyZ2lufSk7XHJcbiRzZWFyY2gtYmFyLXdpZHRoOiBjYWxjKCN7JGFwcC1zaWRlbmF2LXdpZHRofSAtICN7JHNlYXJjaC1iYXItbGVmdH0gLSAoMiAqICN7JGlnby1tYXJnaW59KSk7XHJcbiRzZWFyY2gtYmFyLXdpZHRoLW1vYmlsZTogY2FsYygxMDAlIC0gI3skYXBwLW1vYmlsZS1taW4tc3BhY2UtcmlnaHR9IC0gI3skc2VhcmNoLWJhci1sZWZ0fSAtICgzICogI3skaWdvLW1hcmdpbn0pKTtcclxuIiwiJG1vYmlsZTogJ29ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0NTBweCksIG9ubHkgc2NyZWVuIGFuZCAobWF4LWhlaWdodDogNDUwcHgpJztcclxuJHRhYmxldDogJ29ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0NTFweCkgYW5kIChtaW4taGVpZ2h0OiA0NTFweCkgYW5kIChtYXgtd2lkdGg6IDgwMHB4KSc7XHJcbiRkZXNrdG9wOiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgwMXB4KSc7XHJcblxyXG4kc21hbGwtc2NyZWVuOiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgwMXB4KSBhbmQgKG1heC13aWR0aDogMTI3OXB4KSc7XHJcbiRtZWRpdW0tc2NyZWVuOiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEyODBweCkgYW5kIChtYXgtd2lkdGg6IDE5MTlweCknO1xyXG4kbGFyZ2Utc2NyZWVuOiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDE5MjBweCknO1xyXG5cclxuQG1peGluIG1vYmlsZSB7XHJcbiAgQG1lZGlhICN7JG1vYmlsZX0ge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gdGFibGV0IHtcclxuICBAbWVkaWEgI3skdGFibGV0fSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBkZXNrdG9wIHtcclxuICBAbWVkaWEgI3skZGVza3RvcH0ge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gc21hbGwtc2NyZWVuIHtcclxuICAgIEBtZWRpYSAjeyRzbWFsbC1zY3JlZW59IHtcclxuICAgICAgQGNvbnRlbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbkBtaXhpbiBtZWRpdW0tc2NyZWVuIHtcclxuICBAbWVkaWEgI3skbWVkaXVtLXNjcmVlbn0ge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gbGFyZ2Utc2NyZWVuIHtcclxuICAgIEBtZWRpYSAjeyRsYXJnZS1zY3JlZW59IHtcclxuICAgICAgQGNvbnRlbnQ7XHJcbiAgICB9XHJcbn1cclxuIiwiJGlnby1tYXJnaW46IDVweDtcclxuJGlnby1wYWRkaW5nOiA1cHg7XHJcbiRpZ28taWNvbi1zaXplOiA0MHB4O1xyXG4iXX0= */\"","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostBinding,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\n\r\nimport { showContent } from './expansion-panel.animations';\r\n\r\n@Component({\r\n  selector: 'app-expansion-panel',\r\n  templateUrl: './expansion-panel.component.html',\r\n  styleUrls: ['./expansion-panel.component.scss'],\r\n  animations: [showContent()],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ExpansionPanelComponent {\r\n  @Input()\r\n  get expanded(): boolean {\r\n    return this._expanded;\r\n  }\r\n  set expanded(value: boolean) {\r\n    if (value === this._expanded) {\r\n      return;\r\n    }\r\n\r\n    this._expanded = value;\r\n    this.expandedChange.emit(this._expanded);\r\n  }\r\n  private _expanded: boolean;\r\n\r\n  @Input()\r\n  get backdropShown(): boolean {\r\n    return this._backdropShown;\r\n  }\r\n  set backdropShown(value: boolean) {\r\n    this._backdropShown = value;\r\n  }\r\n  private _backdropShown: boolean;\r\n\r\n  @Output() expandedChange = new EventEmitter<boolean>();\r\n\r\n  @HostBinding('class.app-expansion-panel-expanded')\r\n  get hasExpandedClass() {\r\n    return this.expanded;\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  onBackdropClick() {\r\n    this.expanded = false;\r\n    this.backdropShown = false;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport {\r\n  MatButtonModule,\r\n  MatIconModule,\r\n  MatMenuModule,\r\n  MatListModule,\r\n  MatSelectModule\r\n} from '@angular/material';\r\n\r\nimport { IgoLanguageModule } from '@igo2/core';\r\nimport { IgoBackdropModule } from '@igo2/common';\r\n\r\nimport { ExpansionPanelComponent } from './expansion-panel.component';\r\nimport { ExpansionPanelHeaderComponent } from './expansion-panel-header.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatMenuModule,\r\n    MatListModule,\r\n    MatSelectModule,\r\n    IgoLanguageModule,\r\n    IgoBackdropModule\r\n  ],\r\n  exports: [ExpansionPanelComponent],\r\n  declarations: [ExpansionPanelComponent, ExpansionPanelHeaderComponent]\r\n})\r\nexport class AppExpansionPanelModule {}\r\n","module.exports = \"<ng-container *ngFor=\\\"let element of mapOverlay; let i = index\\\">\\r\\n  <div class=\\\"mapOverlayDefault\\\" [ngClass]=\\\"element.cssClass\\\"\\r\\n       [style.position]=\\\"element.fixed ? 'fixed' : 'absolute'\\\"\\r\\n       [style.marginLeft]=\\\"element.marginLeft\\\"\\r\\n       [style.marginRight]=\\\"element.marginRight\\\"\\r\\n       [style.marginTop]=\\\"element.marginTop\\\"\\r\\n       [style.marginBottom]=\\\"element.marginBottom\\\"\\r\\n       [style.fontSize]=\\\"element.fontSize\\\">\\r\\n    <a *ngIf=\\\"element.link; else templateNoLink\\\"\\r\\n        target=\\\"_blank\\\" [href]='element.link'>\\r\\n        {{ element.text }}\\r\\n        <ng-container *ngIf=\\\"element.imgSrc\\\">\\r\\n          <img [src]=\\\"element.imgSrc\\\"\\r\\n               [alt]=\\\"element.alt\\\"\\r\\n               [ngStyle]=\\\"{ 'width': element.imgSize }\\\">\\r\\n        </ng-container>\\r\\n    </a>\\r\\n\\r\\n\\r\\n  <ng-template #templateNoLink>\\r\\n    {{ element.text }}\\r\\n    <ng-container *ngIf=\\\"element.imgSrc\\\">\\r\\n      <img [src]=\\\"element.imgSrc\\\" [alt]=\\\"element.alt\\\" [ngStyle]=\\\"{ 'width': element.imgSize }\\\">\\r\\n    </ng-container>\\r\\n\\r\\n  </ng-template>\\r\\n  </div>\\r\\n</ng-container>\\r\\n\"","module.exports = \":host {\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  position: fixed;\\n  pointer-events: none; }\\n\\n.mapOverlayDefault {\\n  position: absolute;\\n  white-space: nowrap;\\n  pointer-events: auto; }\\n\\n.bottom-right {\\n  bottom: 0;\\n  right: 0; }\\n\\n.top-right {\\n  top: 0;\\n  right: 0; }\\n\\n.bottom-left {\\n  bottom: 0;\\n  left: 0; }\\n\\n.top-left {\\n  top: 0;\\n  left: 0; }\\n\\n.bottom-center {\\n  bottom: 0;\\n  left: 50%;\\n  transform: translate(-50%, 0); }\\n\\n.top-center {\\n  top: 0;\\n  left: 50%;\\n  transform: translate(-50%, 0); }\\n\\n.center-center {\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, 0); }\\n\\n.center-right {\\n  top: 50%;\\n  right: 0; }\\n\\n.center-left {\\n  top: 50%;\\n  left: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcG9ydGFsL21hcC1vdmVybGF5L0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvc3JjXFxhcHBcXHBhZ2VzXFxwb3J0YWxcXG1hcC1vdmVybGF5XFxtYXAtb3ZlcmxheS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7RUFDWixNQUFNO0VBQ04sT0FBTztFQUNQLFFBQVE7RUFDUixlQUFlO0VBQ2Ysb0JBQW9CLEVBQUE7O0FBR3RCO0VBQ0Usa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixvQkFBbUIsRUFBQTs7QUFHckI7RUFDRSxTQUFTO0VBQ1QsUUFBUSxFQUFBOztBQUdWO0VBQ0UsTUFBTTtFQUNOLFFBQVEsRUFBQTs7QUFHVjtFQUNFLFNBQVM7RUFDVCxPQUFPLEVBQUE7O0FBR1Q7RUFDRSxNQUFNO0VBQ04sT0FBTyxFQUFBOztBQUdUO0VBQ0UsU0FBUztFQUNULFNBQVM7RUFDVCw2QkFBNkIsRUFBQTs7QUFHL0I7RUFDRSxNQUFNO0VBQ04sU0FBUztFQUNULDZCQUE2QixFQUFBOztBQUcvQjtFQUNFLFFBQVE7RUFDUixTQUFTO0VBQ1QsNkJBQTZCLEVBQUE7O0FBRy9CO0VBQ0UsUUFBUTtFQUNSLFFBQVEsRUFBQTs7QUFHVjtFQUNFLFFBQVE7RUFDUixPQUFPLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wb3J0YWwvbWFwLW92ZXJsYXkvbWFwLW92ZXJsYXkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHRvcDogMDtcclxuICBsZWZ0OiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxufVxyXG5cclxuLm1hcE92ZXJsYXlEZWZhdWx0IHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICBwb2ludGVyLWV2ZW50czphdXRvO1xyXG59XHJcblxyXG4uYm90dG9tLXJpZ2h0IHtcclxuICBib3R0b206IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbn1cclxuXHJcbi50b3AtcmlnaHQge1xyXG4gIHRvcDogMDtcclxuICByaWdodDogMDtcclxufVxyXG5cclxuLmJvdHRvbS1sZWZ0IHtcclxuICBib3R0b206IDA7XHJcbiAgbGVmdDogMDtcclxufVxyXG5cclxuLnRvcC1sZWZ0IHtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxufVxyXG5cclxuLmJvdHRvbS1jZW50ZXIge1xyXG4gIGJvdHRvbTogMDtcclxuICBsZWZ0OiA1MCU7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XHJcbn1cclxuXHJcbi50b3AtY2VudGVyIHtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogNTAlO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xyXG59XHJcblxyXG4uY2VudGVyLWNlbnRlciB7XHJcbiAgdG9wOiA1MCU7XHJcbiAgbGVmdDogNTAlO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xyXG59XHJcblxyXG4uY2VudGVyLXJpZ2h0IHtcclxuICB0b3A6IDUwJTtcclxuICByaWdodDogMDtcclxufVxyXG5cclxuLmNlbnRlci1sZWZ0IHtcclxuICB0b3A6IDUwJTtcclxuICBsZWZ0OiAwO1xyXG59XHJcbiJdfQ== */\"","import { Component, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { Context, ContextService } from '@igo2/context';\r\nimport { MediaService, ConfigService } from '@igo2/core';\r\nimport { MapOverlay } from './map-overlay.interface';\r\n\r\n@Component({\r\n  selector: 'app-map-overlay',\r\n  templateUrl: './map-overlay.component.html',\r\n  styleUrls: ['./map-overlay.component.scss']\r\n})\r\n\r\nexport class MapOverlayComponent implements AfterViewInit, OnDestroy {\r\n  public mapOverlay: MapOverlay[] = [];\r\n  private context$$: Subscription;\r\n  private media$$: Subscription;\r\n  private context: Context;\r\n\r\n  constructor(\r\n    private contextService: ContextService,\r\n    private mediaService: MediaService,\r\n    private configService: ConfigService\r\n  ) { }\r\n\r\n  ngAfterViewInit() {\r\n    this.context$$ = this.contextService.context$.subscribe(context => {\r\n        this.handleContextChange(context);\r\n        this.context = context;\r\n        }\r\n    );\r\n    this.media$$ = this.mediaService.media$.subscribe(media =>\r\n      this.handleContextChange(this.context)\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.context$$.unsubscribe();\r\n    this.media$$.unsubscribe();\r\n  }\r\n\r\n  private handleContextChange(context: Context) {\r\n    let mapOverlay = [];\r\n    if (context !== undefined) {\r\n      this.mapOverlay = [];\r\n\r\n      if (context['mapOverlay']) {\r\n        mapOverlay = context['mapOverlay'];\r\n      } else if (this.configService.getConfig('mapOverlay')) {\r\n        mapOverlay = this.configService.getConfig('mapOverlay');\r\n      }\r\n      for (const overlay of mapOverlay) {\r\n\r\n        // If no media define use default to desktop, display only if current media is on context definition\r\n        if ((!overlay.media && this.mediaService.getMedia() === 'desktop') ||\r\n        (overlay.media && overlay.media.includes(this.mediaService.getMedia()))) {\r\n          this.mapOverlay.push(overlay);\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n\r\nimport { MapOverlayComponent } from './map-overlay.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [MapOverlayComponent],\r\n  declarations: [MapOverlayComponent],\r\n  entryComponents: [MapOverlayComponent]\r\n})\r\nexport class MapOverlayModule {}\r\n","import {\r\n  trigger,\r\n  state,\r\n  style,\r\n  transition,\r\n  animate,\r\n  AnimationTriggerMetadata\r\n} from '@angular/animations';\r\n\r\nexport function expansionPanelAnimation(): AnimationTriggerMetadata {\r\n  return trigger('expansionPanelSize', [\r\n    state(\r\n      'full',\r\n      style({\r\n        left: '0px',\r\n        'max-width': '100%'\r\n      })\r\n    ),\r\n    state(\r\n      'reduced',\r\n      style({\r\n        left: '405px',\r\n        'max-width': 'calc(100% - 405px)'\r\n      })\r\n    ),\r\n    transition('* => *', animate('200ms'))\r\n  ]);\r\n}\r\n\r\nexport function toastPanelAnimation(): AnimationTriggerMetadata[] {\r\n  return [\r\n    trigger('toastPanelOffsetX', [\r\n      state(\r\n        'false',\r\n        style({\r\n          left: '50%'\r\n        })\r\n      ),\r\n      state(\r\n        'true',\r\n        style({\r\n          left: 'calc(50% + 202px)'\r\n        })\r\n      ),\r\n      transition('* => *', animate('200ms'))\r\n    ]),\r\n    trigger('toastPanelOffsetY', [\r\n      state(\r\n        'false',\r\n        style({\r\n          bottom: '0'\r\n        })\r\n      ),\r\n      state(\r\n        'true',\r\n        style({\r\n          bottom: '285px'\r\n        })\r\n      ),\r\n      transition('* => *', animate('200ms'))\r\n    ])\r\n  ];\r\n}\r\n\r\nexport function baselayersAnimation(): AnimationTriggerMetadata[] {\r\n  return [\r\n    trigger('baselayersStateX', [\r\n      state(\r\n        'left',\r\n        style({\r\n          left: '5px'\r\n        })\r\n      ),\r\n      state(\r\n        'right',\r\n        style({\r\n          left: '405px'\r\n        })\r\n      ),\r\n      transition('* => *', animate('200ms'))\r\n    ]),\r\n    trigger('baselayersStateY', [\r\n      state('close', style({})),\r\n      state(\r\n        'down',\r\n        style({\r\n          bottom: '55px'\r\n        })\r\n      ),\r\n      state(\r\n        'up',\r\n        style({\r\n          bottom: '285px'\r\n        })\r\n      ),\r\n      transition('* => *', animate('200ms'))\r\n    ])\r\n  ];\r\n}\r\n\r\nexport function controlsAnimations(): AnimationTriggerMetadata[] {\r\n  return [\r\n    trigger('controlsOffsetX', [\r\n      state(\r\n        'false',\r\n        style({\r\n          left: '5px'\r\n        })\r\n      ),\r\n      state(\r\n        'true',\r\n        style({\r\n          left: '405px'\r\n        })\r\n      ),\r\n      transition('* => *', animate('200ms'))\r\n    ]),\r\n    trigger('controlsOffsetY', [\r\n      state('close', style({})),\r\n      state(\r\n        'false',\r\n        style({\r\n          bottom: '5px'\r\n        })\r\n      ),\r\n      state(\r\n        'true',\r\n        style({\r\n          bottom: '285px'\r\n        })\r\n      ),\r\n      transition('* => *', animate('200ms'))\r\n    ])\r\n  ];\r\n}\r\n\r\nexport function controlSlideX(): AnimationTriggerMetadata {\r\n  return trigger('controlStateX', [\r\n    state(\r\n      'left',\r\n      style({\r\n        left: '60px'\r\n      })\r\n    ),\r\n    state(\r\n      'right',\r\n      style({\r\n        left: '465px'\r\n      })\r\n    ),\r\n    transition('* => *', animate('200ms'))\r\n  ]);\r\n}\r\n\r\nexport function controlSlideY(): AnimationTriggerMetadata {\r\n  return trigger('controlStateY', [\r\n    state('close', style({})),\r\n    state(\r\n      'down',\r\n      style({\r\n        bottom: '2px',\r\n        'margin-left': '0px'\r\n      })\r\n    ),\r\n    state(\r\n      'up',\r\n      style({\r\n        bottom: '285px',\r\n        'margin-left': '-55px'\r\n      })\r\n    ),\r\n    transition('* => *', animate('200ms'))\r\n  ]);\r\n}\r\n\r\nexport function mapSlideX(): AnimationTriggerMetadata {\r\n  return trigger('mapStateX', [\r\n    state(\r\n      'left',\r\n      style({\r\n        left: '0'\r\n      })\r\n    ),\r\n    state(\r\n      'right',\r\n      style({\r\n        left: '0'\r\n      })\r\n    ),\r\n    transition('* => *', animate('250ms'))\r\n  ]);\r\n}\r\nexport function mapSlideY(): AnimationTriggerMetadata {\r\n  return trigger('mapStateY', [\r\n    state(\r\n      'close',\r\n      style({\r\n        bottom: '0'\r\n      })\r\n    ),\r\n    state(\r\n      'down',\r\n      style({\r\n        bottom: '0'\r\n      })\r\n    ),\r\n    state(\r\n      'up',\r\n      style({\r\n        bottom: '0'\r\n      })\r\n    ),\r\n    transition('* => *', animate('250ms'))\r\n  ]);\r\n}\r\n","module.exports = \"<mat-sidenav-container class=\\\"app-main-container\\\">\\r\\n\\r\\n  <igo-backdrop [shown]=\\\"backdropShown\\\" (click)=\\\"onBackdropClick()\\\">\\r\\n  </igo-backdrop>\\r\\n\\r\\n  <button mat-icon-button id=\\\"menu-button\\\" class=\\\"menu-button\\\" color=\\\"primary\\\" tooltip-position=\\\"below\\\"\\r\\n    matTooltipShowDelay=\\\"500\\\" [matTooltip]=\\\"(sidenavOpened ? 'menu.close' : 'menu.open') | translate\\\" (click)=\\\"onToggleSidenavClick()\\\">\\r\\n    <mat-icon svgIcon=\\\"menu\\\">\\r\\n    </mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <igo-search-bar [term]=\\\"searchBarTerm\\\" [minLength]=\\\"minSearchTermLength\\\" (change)=\\\"onSearchTermChange($event)\\\"\\r\\n    (search)=\\\"onSearch($event)\\\">\\r\\n  </igo-search-bar>\\r\\n\\r\\n  <app-sidenav [map]=\\\"map\\\" [(opened)]=\\\"sidenavOpened\\\">\\r\\n  </app-sidenav>\\r\\n\\r\\n  <igo-map-browser #mapBrowser igoQuery [waitForAllQueries]=\\\"true\\\" [queryFeatures]=\\\"true\\\" igoMapContext igoLayerContext\\r\\n    igoMapOffline igoDropGeoFile (query)=\\\"onMapQuery($event)\\\" [map]=\\\"map\\\" [igoContextMenu]=actionbarMenu (menuPosition)=\\\"onContextMenuOpen($event)\\\"\\r\\n    [ngClass]=\\\"{'igo-attribution-offset': map.getBaseLayers().length > 1}\\\" [@mapStateX]=\\\"sidenavOpened ? 'right' : 'left'\\\"\\r\\n    (@mapStateX.start)=\\\"removeMapBrowserClass($event)\\\" (@mapStateX.done)=\\\"updateMapBrowserClass($event)\\\" [@mapStateY]=\\\"expansionPanelExpanded ? 'up' : 'down'\\\"\\r\\n    (@mapStateY.start)=\\\"removeMapBrowserClass($event)\\\" (@mapStateY.done)=\\\"updateMapBrowserClass($event)\\\">\\r\\n\\r\\n    <igo-zoom-button [map]=\\\"map\\\" color=\\\"primary\\\" [@controlsOffsetY]=\\\"expansionPanelExpanded\\\">\\r\\n    </igo-zoom-button>\\r\\n    <igo-geolocate-button [map]=\\\"map\\\" color=\\\"primary\\\" [@controlsOffsetY]=\\\"expansionPanelExpanded\\\">\\r\\n    </igo-geolocate-button>\\r\\n    <igo-rotation-button [map]=\\\"map\\\" color=\\\"primary\\\"></igo-rotation-button>\\r\\n    <igo-baselayers-switcher [map]=\\\"map\\\" [@baselayersStateY]=\\\"expansionPanelExpanded ? 'up' : 'down'\\\"\\r\\n      [@baselayersStateX]=\\\"(mediaService.media$ | async) !== 'mobile' && sidenavOpened ? 'right' : 'left'\\\">\\r\\n    </igo-baselayers-switcher>\\r\\n  </igo-map-browser>\\r\\n\\r\\n</mat-sidenav-container>\\r\\n\\r\\n<app-expansion-panel *ngIf=\\\"hasExpansionPanel\\\" [(expanded)]=\\\"expansionPanelExpanded\\\" [@expansionPanelSize]=\\\"sidenavOpened ? 'reduced' : 'full'\\\">\\r\\n\\r\\n  <ng-container expansionPanelHeader>\\r\\n    <!-- <igo-workspace-selector igoWorkspaceSelector [store]=\\\"workspaceStore\\\" [map]=\\\"map\\\"></igo-workspace-selector> -->\\r\\n    <!-- <igo-actionbar\\r\\n      *ngIf=\\\"workspace\\\"\\r\\n      [store]=\\\"workspace.actionStore\\\"\\r\\n      [horizontal]=\\\"true\\\"\\r\\n      [xPosition]=\\\"'after'\\\"\\r\\n      [yPosition]=\\\"'above'\\\"\\r\\n      [withToggleButton]=\\\"true\\\"\\r\\n      [withTitle]=\\\"actionbarWithTitle\\\"\\r\\n      [mode]=\\\"actionbarMode\\\">\\r\\n    </igo-actionbar> -->\\r\\n  </ng-container>\\r\\n\\r\\n  <igo-entity-table [store]=\\\"tableStore\\\" [template]=\\\"tableTemplate\\\">\\r\\n  </igo-entity-table>\\r\\n</app-expansion-panel>\\r\\n\\r\\n<app-toast-panel [store]=\\\"queryStore\\\" [@toastPanelOffsetX]=\\\"sidenavOpened\\\" [@toastPanelOffsetY]=\\\"expansionPanelExpanded\\\"\\r\\n  (resultSelect)=\\\"addFeatureToMap($event)\\\">\\r\\n</app-toast-panel>\\r\\n\\r\\n<ng-template #actionbarMenu>\\r\\n  <igo-actionbar [store]=\\\"contextMenuStore\\\" [withIcon]=\\\"false\\\" [horizontal]=\\\"true\\\" mode=\\\"context\\\">\\r\\n  </igo-actionbar>\\r\\n</ng-template>\"","module.exports = \"/*** Generic ***/\\n/*** Main ***/\\n:host {\\n  width: 100%;\\n  height: 100%;\\n  display: block; }\\n/*** Menu button ***/\\n.menu-button {\\n  background-color: white;\\n  position: absolute;\\n  left: 5px;\\n  top: 5px;\\n  z-index: 4;\\n  border-radius: 0; }\\n.menu-button ::ng-deep div.mat-button-ripple-round {\\n  border-radius: 0; }\\n/*** Map browser ***/\\nigo-map-browser {\\n  width: 100%;\\n  height: 100%; }\\nigo-map-browser ::ng-deep .ol-overlaycontainer-stopevent {\\n  position: absolute;\\n  width: 100%;\\n  left: 0;\\n  bottom: 0; }\\nigo-map-browser.sidenav-offset ::ng-deep .ol-overlaycontainer-stopevent {\\n  left: 380px;\\n  width: calc(100% - 380px); }\\nigo-map-browser.expansion-offset ::ng-deep .ol-overlaycontainer-stopevent {\\n  bottom: 279px; }\\n/*** Search bar ***/\\nigo-search-bar {\\n  background-color: white;\\n  font-size: 16px;\\n  position: absolute;\\n  left: calc(40px + 5px);\\n  top: 5px;\\n  z-index: 4;\\n  width: calc(400px - calc(40px + 5px) - (2 * 5px));\\n  height: 40px;\\n  margin: 0 5px; }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n    igo-search-bar {\\n      width: calc(100% - 40px - calc(40px + 5px) - (3 * 5px)); } }\\n/*** Sidenav ***/\\nmat-sidenav-container {\\n  height: 100%;\\n  width: 100%;\\n  background-color: #efefef;\\n  z-index: 5;\\n  display: unset; }\\n/*** Expansion Panel ***/\\napp-expansion-panel {\\n  position: absolute;\\n  bottom: 0;\\n  z-index: 4;\\n  overflow: hidden; }\\n/*** Toast Panel ***/\\napp-toast-panel {\\n  position: absolute;\\n  bottom: 0;\\n  left: 50%;\\n  margin-left: -300px;\\n  width: 600px;\\n  z-index: 4; }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n    app-toast-panel {\\n      width: calc(100% - 48px);\\n      left: 48px;\\n      margin-left: 0; } }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n  app-toast-panel.expansion-panel-expanded,\\n  app-toast-panel:not(.has-expansion-panel),\\n  app-toast-panel.app-toast-panel-opened {\\n    width: 100%;\\n    left: 0; } }\\nigo-geolocate-button {\\n  margin-bottom: 90px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcG9ydGFsL0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvc3JjXFxzdHlsZVxccGFydGlhbFxcdmFyaWFibGVzLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3BvcnRhbC9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL3NyY1xcYXBwXFxwYWdlc1xccG9ydGFsXFxwb3J0YWwuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3BvcnRhbC9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL2Rpc3RcXGlnby1saWJcXGNvcmVcXHN0eWxlXFxwYXJ0aWFsXFxjb3JlLnZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9wYWdlcy9wb3J0YWwvQzpcXE1ybm1pY3JvXFxkZXZcXGlvblxcaWdvMi9zcmNcXGFwcFxccGFnZXNcXHBvcnRhbFxccG9ydGFsLnZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9wYWdlcy9wb3J0YWwvQzpcXE1ybm1pY3JvXFxkZXZcXGlvblxcaWdvMi9kaXN0XFxpZ28tbGliXFxjb3JlXFxzdHlsZVxccGFydGlhbFxcbWVkaWEuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxnQkFBQTtBQ0FBLGFBQUE7QUFDQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osY0FBYyxFQUFBO0FBR2hCLG9CQUFBO0FBRUE7RUFDRSx1QkRUdUM7RUNVdkMsa0JBQWtCO0VBQ2xCLFNDZGM7RURlZCxRQ2ZjO0VEZ0JkLFVBQVU7RUFDVixnQkFBZ0IsRUFBQTtBQUdsQjtFQUNFLGdCQUFnQixFQUFBO0FBR2xCLG9CQUFBO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWSxFQUFBO0FBR2Q7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLE9BQU87RUFDUCxTQUFTLEVBQUE7QUFHWDtFQUNFLFdBQVc7RUFDWCx5QkFBeUIsRUFBQTtBQUczQjtFQUNFLGFBQWEsRUFBQTtBQUdmLG1CQUFBO0FBQ0E7RUFDRSx1QkQ3Q3VDO0VDOEN2QyxlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLHNCRTNCd0Q7RUY0QnhELFFDcERjO0VEcURkLFVBQVU7RUFDVixpREU3QnlGO0VGOEJ6RixZQ3JEa0I7RURzRGxCLGFDeERjLEVBQUE7QUVTZDtJSHNDRjtNQVlJLHVERWpDOEcsRUFBQSxFRm1Dakg7QUFFRCxnQkFBQTtBQUNBO0VBQ0UsWUFBWTtFQUNaLFdBQVc7RUFDWCx5QkFBeUI7RUFDekIsVUFBVTtFQUNWLGNBQWMsRUFBQTtBQUdoQix3QkFBQTtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxVQUFVO0VBQ1YsZ0JBQWdCLEVBQUE7QUFHbEIsb0JBQUE7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsU0FBUztFQUNULG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osVUFBVSxFQUFBO0FHOUVWO0lId0VGO01BU0ksd0JBQXlDO01BQ3pDLFVFeEZvQjtNRnlGcEIsY0FBYyxFQUFBLEVBRWpCO0FHckZDO0VIdUZGOzs7SUFJSSxXQUFXO0lBQ1gsT0FBTyxFQUFBLEVBRVY7QUFFRDtFQUNFLG1CQUFtQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcG9ydGFsL3BvcnRhbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJ35AaWdvMi9jb3JlL3N0eWxlL3BhcnRpYWwvY29yZS52YXJpYWJsZXMnO1xyXG5cclxuLyoqKiBHZW5lcmljICoqKi9cclxuJGFwcC1iYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7XHJcbiRhcHAtaWNvbi1idXR0b24td2lkdGg6IDQwcHg7XHJcblxyXG4kYXBwLWJvcmRlci13aWR0aDogMXB4O1xyXG4kYXBwLWJvcmRlci1zdHlsZTogc29saWQ7XHJcbiRhcHAtYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC4yKTtcclxuXHJcbiVib3JkZXItYm94IHtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbiVib3JkZXJlZC10b3Age1xyXG4gIGJvcmRlci10b3A6ICRhcHAtYm9yZGVyLXdpZHRoICRhcHAtYm9yZGVyLXN0eWxlICRhcHAtYm9yZGVyLWNvbG9yO1xyXG59XHJcblxyXG4lYm9yZGVyZWQtYm90dG9tIHtcclxuICBib3JkZXItYm90dG9tOiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJvcmRlcmVkLWxlZnQge1xyXG4gIGJvcmRlci1sZWZ0OiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJvcmRlcmVkLXJpZ2h0IHtcclxuICBib3JkZXItcmlnaHQ6ICRhcHAtYm9yZGVyLXdpZHRoICRhcHAtYm9yZGVyLXN0eWxlICRhcHAtYm9yZGVyLWNvbG9yO1xyXG59XHJcblxyXG4lYm94LXNoYWRvd2VkIHtcclxuICAtbW96LWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDBweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgLW8tYm94LXNoYWRvdzogMHB4IDBweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgYm94LXNoYWRvdzogMHB4IDBweCAycHggMHB4ICNkZGRkZGQ7XHJcbn1cclxuXHJcbiVib3gtc2hhZG93ZWQtYm90dG9tLXJpZ2h0IHtcclxuICAtbW96LWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMnB4IDJweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgLW8tYm94LXNoYWRvdzogMnB4IDJweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgYm94LXNoYWRvdzogMnB4IDJweCAycHggMHB4ICNkZGRkZGQ7XHJcbn1cclxuIiwiQGltcG9ydCAnLi9wb3J0YWwudmFyaWFibGVzJztcclxuXHJcbi8qKiogTWFpbiAqKiovXHJcbjpob3N0IHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuXHJcbi8qKiogTWVudSBidXR0b24gKioqL1xyXG5cclxuLm1lbnUtYnV0dG9uIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAkYXBwLWJhY2tncm91bmQtY29sb3I7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGxlZnQ6ICRpZ28tbWFyZ2luO1xyXG4gIHRvcDogJGlnby1tYXJnaW47XHJcbiAgei1pbmRleDogNDtcclxuICBib3JkZXItcmFkaXVzOiAwO1xyXG59XHJcblxyXG4ubWVudS1idXR0b24gOjpuZy1kZWVwIGRpdi5tYXQtYnV0dG9uLXJpcHBsZS1yb3VuZCB7XHJcbiAgYm9yZGVyLXJhZGl1czogMDtcclxufVxyXG5cclxuLyoqKiBNYXAgYnJvd3NlciAqKiovXHJcbmlnby1tYXAtYnJvd3NlciB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG5pZ28tbWFwLWJyb3dzZXIgOjpuZy1kZWVwIC5vbC1vdmVybGF5Y29udGFpbmVyLXN0b3BldmVudCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGxlZnQ6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG59XHJcblxyXG5pZ28tbWFwLWJyb3dzZXIuc2lkZW5hdi1vZmZzZXQgOjpuZy1kZWVwIC5vbC1vdmVybGF5Y29udGFpbmVyLXN0b3BldmVudCB7XHJcbiAgbGVmdDogMzgwcHg7XHJcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDM4MHB4KTtcclxufVxyXG5cclxuaWdvLW1hcC1icm93c2VyLmV4cGFuc2lvbi1vZmZzZXQgOjpuZy1kZWVwIC5vbC1vdmVybGF5Y29udGFpbmVyLXN0b3BldmVudCB7XHJcbiAgYm90dG9tOiAyNzlweDtcclxufVxyXG5cclxuLyoqKiBTZWFyY2ggYmFyICoqKi9cclxuaWdvLXNlYXJjaC1iYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICRhcHAtYmFja2dyb3VuZC1jb2xvcjtcclxuICBmb250LXNpemU6IDE2cHg7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGxlZnQ6ICRzZWFyY2gtYmFyLWxlZnQ7XHJcbiAgdG9wOiAkaWdvLW1hcmdpbjtcclxuICB6LWluZGV4OiA0O1xyXG4gIHdpZHRoOiAkc2VhcmNoLWJhci13aWR0aDtcclxuICBoZWlnaHQ6ICRpZ28taWNvbi1zaXplO1xyXG4gIG1hcmdpbjogMCAkaWdvLW1hcmdpbjtcclxuXHJcbiAgQGluY2x1ZGUgbW9iaWxlIHtcclxuICAgIHdpZHRoOiAkc2VhcmNoLWJhci13aWR0aC1tb2JpbGU7XHJcbiAgfVxyXG59XHJcblxyXG4vKioqIFNpZGVuYXYgKioqL1xyXG5tYXQtc2lkZW5hdi1jb250YWluZXIge1xyXG4gIGhlaWdodDogMTAwJTtcclxuICB3aWR0aDogMTAwJTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZlZmVmO1xyXG4gIHotaW5kZXg6IDU7XHJcbiAgZGlzcGxheTogdW5zZXQ7XHJcbn1cclxuXHJcbi8qKiogRXhwYW5zaW9uIFBhbmVsICoqKi9cclxuYXBwLWV4cGFuc2lvbi1wYW5lbCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvdHRvbTogMDtcclxuICB6LWluZGV4OiA0O1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi8qKiogVG9hc3QgUGFuZWwgKioqL1xyXG5hcHAtdG9hc3QtcGFuZWwge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBib3R0b206IDA7XHJcbiAgbGVmdDogNTAlO1xyXG4gIG1hcmdpbi1sZWZ0OiAtMzAwcHg7XHJcbiAgd2lkdGg6IDYwMHB4O1xyXG4gIHotaW5kZXg6IDQ7XHJcblxyXG4gIEBpbmNsdWRlIG1vYmlsZSB7XHJcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gI3skYXBwLWZvb3Rlci1oZWlnaHR9KTtcclxuICAgIGxlZnQ6ICRhcHAtZm9vdGVyLWhlaWdodDtcclxuICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gIH1cclxufVxyXG5cclxuYXBwLXRvYXN0LXBhbmVsLmV4cGFuc2lvbi1wYW5lbC1leHBhbmRlZCxcclxuYXBwLXRvYXN0LXBhbmVsOm5vdCguaGFzLWV4cGFuc2lvbi1wYW5lbCksXHJcbmFwcC10b2FzdC1wYW5lbC5hcHAtdG9hc3QtcGFuZWwtb3BlbmVkIHtcclxuICBAaW5jbHVkZSBtb2JpbGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBsZWZ0OiAwO1xyXG4gIH1cclxufVxyXG5cclxuaWdvLWdlb2xvY2F0ZS1idXR0b24ge1xyXG4gIG1hcmdpbi1ib3R0b206IDkwcHg7XHJcbn1cclxuIiwiJGlnby1tYXJnaW46IDVweDtcclxuJGlnby1wYWRkaW5nOiA1cHg7XHJcbiRpZ28taWNvbi1zaXplOiA0MHB4O1xyXG4iLCJAaW1wb3J0ICd+QGlnbzIvY29yZS9zdHlsZS9wYXJ0aWFsL21lZGlhJztcclxuQGltcG9ydCAndmFyaWFibGVzJztcclxuXHJcbiRhcHAtZm9vdGVyLWhlaWdodDogNDhweDtcclxuJGFwcC1tb2JpbGUtbWluLXNwYWNlLXJpZ2h0OiA0MHB4O1xyXG5cclxuJGFwcC1leHBhbnNpb24tcGFuZWwtY29sbGFwc2VkLWhlaWdodDogNDhweDtcclxuJGFwcC1leHBhbnNpb24tcGFuZWwtY29sbGFwc2VkLXdpZHRoOiA1MnB4O1xyXG4kYXBwLWV4cGFuc2lvbi1wYW5lbC1oZWlnaHQ6IDI4MXB4O1xyXG4kYXBwLWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItaGVpZ2h0OiAkYXBwLWV4cGFuc2lvbi1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0O1xyXG5cclxuJGFwcC10b2FzdC1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0OiA0OHB4O1xyXG4kYXBwLXRvYXN0LXBhbmVsLW1heC1oZWlnaHQ6IDI4MXB4O1xyXG4kYXBwLXRvYXN0LXBhbmVsLXdpZHRoOiAzMCU7XHJcblxyXG4kYXBwLXNpZGVuYXYtbWFyZ2luLXRvcDogNTBweDtcclxuJGFwcC1zaWRlbmF2LWhlaWdodDogY2FsYygxMDAlIC0gI3skYXBwLXNpZGVuYXYtbWFyZ2luLXRvcH0pO1xyXG4kYXBwLXNpZGVuYXYtd2lkdGg6IDQwMHB4O1xyXG4kYXBwLXNpZGVuYXYtd2lkdGgtbW9iaWxlOiBjYWxjKDEwMCUgLSAjeyRhcHAtbW9iaWxlLW1pbi1zcGFjZS1yaWdodH0gLSAjeyRpZ28tbWFyZ2lufSk7XHJcblxyXG4kaWdvLXRvYXN0LXBhbmVsLWNvbGxhcHNlZC1oZWlnaHQ6IDQ4cHg7XHJcbiRpZ28tdG9hc3QtcGFuZWwtbWF4LWhlaWdodDogMzAwcHg7XHJcbiRpZ28tdG9hc3QtcGFuZWwtd2lkdGg6IDMwJTtcclxuXHJcbiRzZWFyY2gtYmFyLWxlZnQ6IGNhbGMoI3skaWdvLWljb24tc2l6ZX0gKyAjeyRpZ28tbWFyZ2lufSk7XHJcbiRzZWFyY2gtYmFyLXdpZHRoOiBjYWxjKCN7JGFwcC1zaWRlbmF2LXdpZHRofSAtICN7JHNlYXJjaC1iYXItbGVmdH0gLSAoMiAqICN7JGlnby1tYXJnaW59KSk7XHJcbiRzZWFyY2gtYmFyLXdpZHRoLW1vYmlsZTogY2FsYygxMDAlIC0gI3skYXBwLW1vYmlsZS1taW4tc3BhY2UtcmlnaHR9IC0gI3skc2VhcmNoLWJhci1sZWZ0fSAtICgzICogI3skaWdvLW1hcmdpbn0pKTtcclxuIiwiJG1vYmlsZTogJ29ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0NTBweCksIG9ubHkgc2NyZWVuIGFuZCAobWF4LWhlaWdodDogNDUwcHgpJztcclxuJHRhYmxldDogJ29ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0NTFweCkgYW5kIChtaW4taGVpZ2h0OiA0NTFweCkgYW5kIChtYXgtd2lkdGg6IDgwMHB4KSc7XHJcbiRkZXNrdG9wOiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgwMXB4KSc7XHJcblxyXG4kc21hbGwtc2NyZWVuOiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgwMXB4KSBhbmQgKG1heC13aWR0aDogMTI3OXB4KSc7XHJcbiRtZWRpdW0tc2NyZWVuOiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEyODBweCkgYW5kIChtYXgtd2lkdGg6IDE5MTlweCknO1xyXG4kbGFyZ2Utc2NyZWVuOiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDE5MjBweCknO1xyXG5cclxuQG1peGluIG1vYmlsZSB7XHJcbiAgQG1lZGlhICN7JG1vYmlsZX0ge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gdGFibGV0IHtcclxuICBAbWVkaWEgI3skdGFibGV0fSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBkZXNrdG9wIHtcclxuICBAbWVkaWEgI3skZGVza3RvcH0ge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gc21hbGwtc2NyZWVuIHtcclxuICAgIEBtZWRpYSAjeyRzbWFsbC1zY3JlZW59IHtcclxuICAgICAgQGNvbnRlbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbkBtaXhpbiBtZWRpdW0tc2NyZWVuIHtcclxuICBAbWVkaWEgI3skbWVkaXVtLXNjcmVlbn0ge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gbGFyZ2Utc2NyZWVuIHtcclxuICAgIEBtZWRpYSAjeyRsYXJnZS1zY3JlZW59IHtcclxuICAgICAgQGNvbnRlbnQ7XHJcbiAgICB9XHJcbn1cclxuIl19 */\"","import {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  ChangeDetectorRef,\r\n  ViewChild,\r\n  ElementRef\r\n} from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Subscription, of } from 'rxjs';\r\n// import { debounceTime } from 'rxjs/operators';\r\n\r\nimport { MapBrowserPointerEvent as OlMapBrowserPointerEvent } from 'ol/MapBrowserEvent';\r\nimport * as olProj from 'ol/proj';\r\n\r\nimport { MediaService, ConfigService, Media } from '@igo2/core';\r\nimport {\r\n  // ActionbarMode,\r\n  // Workspace,\r\n  // WorkspaceStore,\r\n  // EntityRecord,\r\n  ActionStore,\r\n  EntityStore,\r\n  // getEntityTitle,\r\n  Toolbox\r\n} from '@igo2/common';\r\nimport { AuthService } from '@igo2/auth';\r\nimport { DetailedContext } from '@igo2/context';\r\nimport {\r\n  DataSourceService,\r\n  Feature,\r\n  // FEATURE,\r\n  FeatureMotion,\r\n  featureToSearchResult,\r\n  GoogleLinks,\r\n  IgoMap,\r\n  LayerService,\r\n  QuerySearchSource,\r\n  Research,\r\n  SearchResult,\r\n  SearchSource,\r\n  SearchService,\r\n  SearchSourceService,\r\n  CapabilitiesService\r\n} from '@igo2/geo';\r\n\r\nimport {\r\n  ContextState,\r\n  // WorkspaceState,\r\n  ToolState,\r\n  MapState,\r\n  SearchState,\r\n  QueryState\r\n} from '@igo2/integration';\r\n\r\nimport {\r\n  expansionPanelAnimation,\r\n  toastPanelAnimation,\r\n  baselayersAnimation,\r\n  controlsAnimations,\r\n  controlSlideX,\r\n  controlSlideY,\r\n  mapSlideX,\r\n  mapSlideY\r\n} from './portal.animation';\r\n\r\n@Component({\r\n  selector: 'app-portal',\r\n  templateUrl: './portal.component.html',\r\n  styleUrls: ['./portal.component.scss'],\r\n  animations: [\r\n    expansionPanelAnimation(),\r\n    toastPanelAnimation(),\r\n    baselayersAnimation(),\r\n    controlsAnimations(),\r\n    controlSlideX(),\r\n    controlSlideY(),\r\n    mapSlideX(),\r\n    mapSlideY()\r\n  ]\r\n})\r\nexport class PortalComponent implements OnInit, OnDestroy {\r\n  public minSearchTermLength = 2;\r\n  public expansionPanelExpanded = false;\r\n  public hasExpansionPanel = true;\r\n  public sidenavOpened = false;\r\n  public searchBarTerm = '';\r\n\r\n  public contextMenuStore = new ActionStore([]);\r\n  private contextMenuCoord: [number, number];\r\n\r\n  private contextLoaded = false;\r\n\r\n  // public searchResult: SearchResult;\r\n  // public queryResults: SearchResult[];\r\n\r\n  private context$$: Subscription;\r\n  private searchResults$$: Subscription;\r\n  private focusedSearchResult$$: Subscription;\r\n\r\n  // True after the initial tool is loaded\r\n  // private toolLoaded = false;\r\n\r\n  public tableStore = new EntityStore([]);\r\n  public tableTemplate = {\r\n    selection: true,\r\n    sort: true,\r\n    columns: [\r\n      {\r\n        name: 'id',\r\n        title: 'ID'\r\n      },\r\n      {\r\n        name: 'name',\r\n        title: 'Name'\r\n      },\r\n      {\r\n        name: 'description',\r\n        title: 'Description'\r\n      }\r\n    ]\r\n  };\r\n\r\n  get map(): IgoMap {\r\n    return this.mapState.map;\r\n  }\r\n\r\n  get backdropShown(): boolean {\r\n    return (\r\n      this.mediaService.media$.value === Media.Mobile && this.sidenavOpened\r\n    );\r\n  }\r\n\r\n  get toastPanelShown(): boolean {\r\n    return true;\r\n    // return (\r\n    //   this.mediaService.media$.value === Media.Mobile && !this.sidenavOpened\r\n    // );\r\n  }\r\n\r\n  get expansionPanelBackdropShown(): boolean {\r\n    return false;\r\n    // return (\r\n    //   this.expansionPanelExpanded &&\r\n    //   this.toastPanelOpened &&\r\n    //   this.mediaService.media$.value !== Media.Mobile\r\n    // );\r\n  }\r\n\r\n  // get actionbarMode(): ActionbarMode {\r\n  //   if (this.mediaService.media$.value === Media.Mobile) {\r\n  //     return ActionbarMode.Overlay;\r\n  //   }\r\n  //   return this.expansionPanelExpanded\r\n  //     ? ActionbarMode.Dock\r\n  //     : ActionbarMode.Overlay;\r\n  // }\r\n  //\r\n  // get actionbarWithTitle(): boolean {\r\n  //   return this.actionbarMode === ActionbarMode.Overlay;\r\n  // }\r\n\r\n  get searchStore(): EntityStore<SearchResult> {\r\n    return this.searchState.store;\r\n  }\r\n\r\n  get queryStore(): EntityStore<SearchResult> {\r\n    return this.queryState.store;\r\n  }\r\n\r\n  get toolbox(): Toolbox {\r\n    return this.toolState.toolbox;\r\n  }\r\n\r\n  // get toastPanelContent(): string {\r\n  //   let content;\r\n  //   if (this.workspace !== undefined && this.workspace.hasWidget) {\r\n  //     content = 'workspace';\r\n  //   } else if (this.searchResult !== undefined) {\r\n  //     content = this.searchResult.meta.dataType.toLowerCase();\r\n  //   }\r\n  //   return content;\r\n  // }\r\n\r\n  // get toastPanelTitle(): string {\r\n  //   let title;\r\n  //   if (\r\n  //     this.toastPanelContent !== 'workspace' &&\r\n  //     this.searchResult !== undefined\r\n  //   ) {\r\n  //     title = getEntityTitle(this.searchResult);\r\n  //   }\r\n  //   return title;\r\n  // }\r\n\r\n  // get toastPanelOpened(): boolean {\r\n  //   const content = this.toastPanelContent;\r\n  //   if (content === 'workspace') {\r\n  //     return true;\r\n  //   }\r\n  //   return this._toastPanelOpened;\r\n  // }\r\n  // set toastPanelOpened(value: boolean) {\r\n  //   this._toastPanelOpened = value;\r\n  // }\r\n  // private _toastPanelOpened = false;\r\n\r\n  // get workspaceStore(): WorkspaceStore {\r\n  //   return this.workspaceState.store;\r\n  // }\r\n  //\r\n  // get workspace(): Workspace {\r\n  //   return this.workspaceState.workspace$.value;\r\n  // }\r\n\r\n  @ViewChild('mapBrowser', { read: ElementRef }) mapBrowser: ElementRef;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private configService: ConfigService,\r\n    // private workspaceState: WorkspaceState,\r\n    public authService: AuthService,\r\n    public mediaService: MediaService,\r\n    public layerService: LayerService,\r\n    public dataSourceService: DataSourceService,\r\n    public cdRef: ChangeDetectorRef,\r\n    public capabilitiesService: CapabilitiesService,\r\n    private contextState: ContextState,\r\n    private mapState: MapState,\r\n    private searchState: SearchState,\r\n    private queryState: QueryState,\r\n    private toolState: ToolState,\r\n    private searchSourceService: SearchSourceService,\r\n    private searchService: SearchService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    window['IGO'] = this;\r\n\r\n    // this.sidenavTitle = this.configService.getConfig('sidenavTitle');\r\n\r\n    this.authService.authenticate$.subscribe(\r\n      () => (this.contextLoaded = false)\r\n    );\r\n\r\n    this.context$$ = this.contextState.context$.subscribe(\r\n      (context: DetailedContext) => this.onChangeContext(context)\r\n    );\r\n\r\n    this.contextMenuStore.load([\r\n      {\r\n        id: 'coordinates',\r\n        title: 'coordinates',\r\n        handler: () => this.searchCoordinate(this.contextMenuCoord)\r\n      },\r\n      {\r\n        id: 'googleMaps',\r\n        title: 'googleMap',\r\n        handler: () => this.openGoogleMaps(this.contextMenuCoord)\r\n      },\r\n      {\r\n        id: 'googleStreetView',\r\n        title: 'googleStreetView',\r\n        handler: () => this.openGoogleStreetView(this.contextMenuCoord)\r\n      }\r\n    ]);\r\n\r\n    // this.focusedSearchResult$$ = this.searchStore.stateView\r\n    //   .firstBy$(\r\n    //     (record: EntityRecord<SearchResult>) => record.state.focused === true\r\n    //   )\r\n    //   .subscribe((record: EntityRecord<SearchResult>) => {\r\n    //     const result = record ? record.entity : undefined;\r\n    //     this.onFocusSearchResult(result);\r\n    //   });\r\n\r\n    // this.route.queryParams.pipe(debounceTime(500)).subscribe(params => {\r\n    //   if (params['sidenav'] === '1') {\r\n    //     this.openSidenav();\r\n    //   }\r\n    // });\r\n\r\n    this.tableStore.load([\r\n      { id: '2', name: 'Name 2', description: 'Description 2' },\r\n      { id: '1', name: 'Name 1', description: 'Description 1' },\r\n      { id: '3', name: 'Name 3', description: 'Description 3' },\r\n      { id: '4', name: 'Name 4', description: 'Description 4' },\r\n      { id: '5', name: 'Name 5', description: 'Description 5' }\r\n    ]);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.context$$.unsubscribe();\r\n    this.searchResults$$.unsubscribe();\r\n    this.focusedSearchResult$$.unsubscribe();\r\n  }\r\n\r\n  onBackdropClick() {\r\n    this.closeSidenav();\r\n  }\r\n\r\n  onToggleSidenavClick() {\r\n    this.toggleSidenav();\r\n  }\r\n\r\n  onMapQuery(event: { features: Feature[]; event: OlMapBrowserPointerEvent }) {\r\n    const baseQuerySearchSource = this.getQuerySearchSource();\r\n    const querySearchSourceArray: QuerySearchSource[] = [];\r\n\r\n    const results = event.features.map((feature: Feature) => {\r\n      let querySearchSource = querySearchSourceArray.find(\r\n        s => s.title === feature.meta.sourceTitle\r\n      );\r\n      if (!querySearchSource) {\r\n        querySearchSource = new QuerySearchSource({\r\n          title: feature.meta.sourceTitle\r\n        });\r\n        querySearchSourceArray.push(querySearchSource);\r\n      }\r\n      return featureToSearchResult(feature, querySearchSource);\r\n    });\r\n\r\n    const research = {\r\n      request: of(results),\r\n      reverse: false,\r\n      source: baseQuerySearchSource\r\n    };\r\n    research.request.subscribe((queryResults: SearchResult<Feature>[]) => {\r\n      this.queryStore.load(queryResults);\r\n    });\r\n  }\r\n\r\n  onSearchTermChange(term?: string) {\r\n    if (term === undefined || term === '') {\r\n      this.onClearSearch();\r\n      return;\r\n    }\r\n    this.onBeforeSearch();\r\n  }\r\n\r\n  onSearch(event: { research: Research; results: SearchResult[] }) {\r\n    const results = event.results;\r\n\r\n    // TODO: add property in searchSource\r\n    const reverseSearch =\r\n      event.research.source.getId().indexOf('reverse') !== -1;\r\n    const enabledSources = this.searchSourceService\r\n      .getEnabledSources()\r\n      .filter(s => (s.getId().indexOf('reverse') !== -1) === reverseSearch);\r\n\r\n    const newResults = this.searchStore.entities$.value\r\n      .filter(\r\n        (result: SearchResult) =>\r\n          result.source !== event.research.source &&\r\n          enabledSources.includes(result.source)\r\n      )\r\n      .concat(results);\r\n    this.searchStore.load(newResults);\r\n  }\r\n\r\n  private closeSidenav() {\r\n    this.sidenavOpened = false;\r\n  }\r\n\r\n  private openSidenav() {\r\n    this.sidenavOpened = true;\r\n  }\r\n\r\n  private toggleSidenav() {\r\n    this.sidenavOpened ? this.closeSidenav() : this.openSidenav();\r\n  }\r\n\r\n  private onChangeContext(context: DetailedContext) {\r\n    if (context === undefined) {\r\n      return;\r\n    }\r\n\r\n    if (this.contextLoaded) {\r\n      this.toolState.toolbox.activateTool('mapDetails');\r\n    }\r\n\r\n    this.contextLoaded = true;\r\n  }\r\n\r\n  private onBeforeSearch() {\r\n    // if (this.mediaService.media$.value === Media.Mobile) {\r\n    //   this.closeToastPanel();\r\n    // }\r\n\r\n    this.toolState.toolbox.activateTool('searchResults');\r\n    this.openSidenav();\r\n  }\r\n\r\n  // private onSearchMap(results: SearchResult<Feature>[]) {\r\n  // if (results.length > 0) {\r\n  //   this.onBeforeSearch();\r\n  //   this.searchStore.state.update(results[0], { selected: true }, true);\r\n  // }\r\n  // }\r\n\r\n  // private onFocusSearchResult(result: SearchResult) {\r\n  // if (result === undefined) {\r\n  //   this.closeToastPanel();\r\n  //   this.searchResult = undefined;\r\n  //   return;\r\n  // }\r\n  //\r\n  // if (result.meta.dataType === FEATURE) {\r\n  //   if (this.mediaService.media$.value === Media.Mobile) {\r\n  //     this.closeSidenav();\r\n  //   }\r\n  //\r\n  //   this.searchResult = result;\r\n  //   this.openToastPanel();\r\n  // } else {\r\n  //   this.searchResult = undefined;\r\n  // }\r\n  // }\r\n\r\n  private addFeatureToMap(result: SearchResult<Feature>) {\r\n    const feature = result.data;\r\n\r\n    // Somethimes features have no geometry. It happens with some GetFeatureInfo\r\n    if (feature.geometry === undefined) {\r\n      return;\r\n    }\r\n\r\n    this.map.overlay.setFeatures([feature], FeatureMotion.Default);\r\n  }\r\n\r\n  private onClearSearch() {\r\n    this.searchStore.clear();\r\n    // this.closeToastPanel();\r\n  }\r\n\r\n  private getQuerySearchSource(): SearchSource {\r\n    return this.searchSourceService\r\n      .getSources()\r\n      .find(\r\n        (searchSource: SearchSource) =>\r\n          searchSource instanceof QuerySearchSource\r\n      );\r\n  }\r\n\r\n  onContextMenuOpen(event: { x: number; y: number }) {\r\n    this.contextMenuCoord = this.getClickCoordinate(event);\r\n  }\r\n\r\n  private getClickCoordinate(event: { x: number; y: number }) {\r\n    const contextmenuPoint = event;\r\n    const boundingMapBrowser = this.mapBrowser.nativeElement.getBoundingClientRect();\r\n    contextmenuPoint.y =\r\n      contextmenuPoint.y - boundingMapBrowser.top + window.scrollY;\r\n    contextmenuPoint.x =\r\n      contextmenuPoint.x - boundingMapBrowser.left + window.scrollX;\r\n    const pixel = [contextmenuPoint.x, contextmenuPoint.y];\r\n\r\n    const coord = this.map.ol.getCoordinateFromPixel(pixel);\r\n    const proj = this.map.projection;\r\n    return olProj.transform(coord, proj, 'EPSG:4326');\r\n  }\r\n\r\n  private openGoogleMaps(coord: [number, number]) {\r\n    window.open(GoogleLinks.getGoogleMapsLink(coord[0], coord[1]));\r\n  }\r\n\r\n  private openGoogleStreetView(coord: [number, number]) {\r\n    window.open(GoogleLinks.getGoogleStreetViewLink(coord[0], coord[1]));\r\n  }\r\n\r\n  private searchCoordinate(coord: [number, number]) {\r\n    this.searchBarTerm = coord.join(', ');\r\n    const results = this.searchService.reverseSearch(coord);\r\n\r\n    this.onBeforeSearch();\r\n    for (const i in results) {\r\n      results[i].request.subscribe((_results: SearchResult<Feature>[]) => {\r\n        this.onSearch({ research: results[i], results: _results });\r\n      });\r\n    }\r\n  }\r\n\r\n  removeMapBrowserClass(e) {\r\n    e.element.classList.remove('expansion-offset');\r\n    e.element.classList.remove('sidenav-offset');\r\n  }\r\n\r\n  updateMapBrowserClass(e) {\r\n    if (this.expansionPanelExpanded) {\r\n      e.element.classList.add('expansion-offset');\r\n    }\r\n\r\n    if (this.sidenavOpened) {\r\n      e.element.classList.add('sidenav-offset');\r\n    }\r\n  }\r\n\r\n  // private handleContextChange(context: Context) {\r\n  //   if (context !== undefined && this.contextLoaded) {\r\n  //     const tool = this.toolService.getTool(\"mapDetails\");\r\n  //     this.toolService.selectTool(tool);\r\n  //   }\r\n  //\r\n  //   if (context !== undefined) {\r\n  //     this.contextLoaded = true;\r\n  //   }\r\n  //\r\n  //   this.route.queryParams.subscribe(params => {\r\n  //     if (params[\"layers\"] && params[\"wmsUrl\"]) {\r\n  //       const layers = params[\"layers\"].split(\",\");\r\n  //       layers.forEach(layer => {\r\n  //         this.addLayerByName(params[\"wmsUrl\"], layer);\r\n  //       });\r\n  //     }\r\n  //     if (params[\"tool\"] && !this.toolLoaded) {\r\n  //       const toolNameToOpen = params[\"tool\"];\r\n  //       if (this.toolService.allowedToolName.indexOf(toolNameToOpen) !== -1) {\r\n  //         const tool = this.toolService.getTool(toolNameToOpen);\r\n  //         setTimeout(() => {\r\n  //           this.toolService.selectTool(tool);\r\n  //         }, 250); // add delay for translationservice to be injected\r\n  //       }\r\n  //       this.toolLoaded = true;\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  // private addLayerByName(url: string, name: string) {\r\n  //   const properties = {\r\n  //     type: \"wms\" as any,\r\n  //     // format: 'wms',\r\n  //     url: url,\r\n  //     params: {\r\n  //       layers: name\r\n  //     }\r\n  //   };\r\n  //\r\n  //   this.capabilitiesService\r\n  //     .getWMSOptions(properties)\r\n  //     .subscribe(capabilities => {\r\n  //       this.dataSourceService\r\n  //         .createAsyncDataSource(capabilities)\r\n  //         .pipe(debounceTime(100))\r\n  //         .subscribe(dataSource => {\r\n  //           const layerOptions = {\r\n  //             source: Object.assign(dataSource, {\r\n  //               options: {\r\n  //                 optionsFromCapabilities: true,\r\n  //                 _layerOptionsFromCapabilities: (capabilities as any)\r\n  //                   ._layerOptionsFromCapabilities\r\n  //               }\r\n  //             })\r\n  //           };\r\n  //           this.map.addLayer(this.layerService.createLayer(layerOptions));\r\n  //         });\r\n  //     });\r\n  // }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {\r\n  MatTooltipModule,\r\n  MatIconModule,\r\n  MatButtonModule,\r\n  MatSidenavModule\r\n} from '@angular/material';\r\n\r\nimport { IgoCoreModule, NetworkModule } from '@igo2/core';\r\nimport {\r\n  IgoActionModule,\r\n  IgoWorkspaceModule,\r\n  IgoEntityModule,\r\n  IgoPanelModule,\r\n  IgoBackdropModule,\r\n  IgoFlexibleModule,\r\n  IgoContextMenuModule,\r\n  IgoToolModule,\r\n  IgoEntityTableModule\r\n} from '@igo2/common';\r\n\r\nimport {\r\n  IgoGeoWorkspaceModule,\r\n  IgoFeatureModule,\r\n  IgoImportExportModule,\r\n  IgoMapModule,\r\n  IgoQueryModule,\r\n  IgoSearchModule\r\n} from '@igo2/geo';\r\nimport {\r\n  IgoContextManagerModule,\r\n  IgoContextMapButtonModule\r\n} from '@igo2/context';\r\n\r\nimport { IgoIntegrationModule } from '@igo2/integration';\r\n\r\nimport { AppExpansionPanelModule } from './expansion-panel/expansion-panel.module';\r\nimport { AppToastPanelModule } from './toast-panel/toast-panel.module';\r\nimport { AppSidenavModule } from './sidenav/sidenav.module';\r\n\r\nimport { PortalComponent } from './portal.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatTooltipModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatSidenavModule,\r\n    IgoCoreModule,\r\n    IgoFeatureModule,\r\n    IgoImportExportModule,\r\n    IgoMapModule,\r\n    IgoQueryModule.forRoot(),\r\n    IgoSearchModule.forRoot(),\r\n    IgoActionModule,\r\n    IgoWorkspaceModule,\r\n    IgoEntityModule,\r\n    IgoGeoWorkspaceModule,\r\n    IgoPanelModule,\r\n    IgoToolModule,\r\n    IgoContextMenuModule,\r\n    IgoBackdropModule,\r\n    IgoFlexibleModule,\r\n    IgoIntegrationModule,\r\n    AppExpansionPanelModule,\r\n    AppToastPanelModule,\r\n    AppSidenavModule,\r\n    IgoContextManagerModule,\r\n    IgoContextMapButtonModule,\r\n    IgoEntityTableModule\r\n  ],\r\n  exports: [PortalComponent],\r\n  declarations: [PortalComponent]\r\n})\r\nexport class PortalModule { }\r\n","module.exports = \"<mat-sidenav\\r\\n  mode=\\\"side\\\"\\r\\n  [autoFocus]=\\\"false\\\"\\r\\n  [(opened)]=\\\"opened\\\">\\r\\n\\r\\n  <div class=\\\"app-sidenav-content\\\">\\r\\n\\r\\n      <div class=\\\"app-content\\\" [ngClass]=\\\"{toolActived: toolbox.activeTool$ | async}\\\">\\r\\n\\r\\n        <button *ngIf=\\\"toolbox.activeTool$ | async\\\"\\r\\n          id=\\\"homeButton\\\"\\r\\n          mat-icon-button\\r\\n          tooltip-position=\\\"below\\\"\\r\\n          matTooltipShowDelay=\\\"500\\\"\\r\\n          [matTooltip]=\\\"'igo.context.sidenav.mainMenu' | translate\\\"\\r\\n          (click)=\\\"onUnselectButtonClick()\\\">\\r\\n          <mat-icon svgIcon=\\\"home\\\"></mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <igo-panel [title]=\\\"title$ | async | translate\\\">\\r\\n          <button *ngIf=\\\"toolbox.activeTool$ | async\\\"\\r\\n            mat-icon-button\\r\\n            panelLeftButton\\r\\n            tooltip-position=\\\"below\\\"\\r\\n            matTooltipShowDelay=\\\"500\\\"\\r\\n            [matTooltip]=\\\"'igo.context.sidenav.goBack' | translate\\\"\\r\\n            (click)=\\\"onPreviousButtonClick()\\\">\\r\\n            <mat-icon svgIcon=\\\"arrow-left\\\"></mat-icon>\\r\\n          </button>\\r\\n\\r\\n          <!-- <button *ngIf=\\\"toolbox.activeTool$ | async\\\"\\r\\n            mat-icon-button\\r\\n            panelRightButton\\r\\n            tooltip-position=\\\"below\\\"\\r\\n            matTooltipShowDelay=\\\"500\\\"\\r\\n            [matTooltip]=\\\"'igo.context.sidenav.mainMenu' | translate\\\"\\r\\n            (click)=\\\"onUnselectButtonClick()\\\">\\r\\n            <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n          </button> -->\\r\\n\\r\\n          <igo-toolbox\\r\\n            [animate]=\\\"true\\\"\\r\\n            [toolbox]=\\\"toolbox\\\">\\r\\n          </igo-toolbox>\\r\\n\\r\\n        </igo-panel>\\r\\n      </div>\\r\\n  </div>\\r\\n</mat-sidenav>\\r\\n\"","module.exports = \"/*** Generic ***/\\nmat-sidenav {\\n  -o-box-shadow: 2px 2px 2px 0px #dddddd;\\n  box-shadow: 2px 2px 2px 0px #dddddd; }\\n:host {\\n  background-color: white; }\\n:host ::ng-deep mat-sidenav {\\n  z-index: 3 !important; }\\nmat-sidenav {\\n  height: 100%;\\n  width: 400px; }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n    mat-sidenav {\\n      width: calc(100% - 40px - 5px); } }\\n.app-content, igo-panel {\\n  height: 100%; }\\n.app-sidenav-content {\\n  margin-top: 50px;\\n  height: calc(100% - 50px); }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n    .app-sidenav-content {\\n      height: calc(100% - 50px); } }\\nigo-panel ::ng-deep .igo-panel-content {\\n  position: relative; }\\ndiv.toolActived > igo-panel ::ng-deep > div.igo-panel-header {\\n  left: 48px;\\n  position: relative;\\n  width: 350px; }\\n#homeButton {\\n  position: absolute;\\n  top: 50px;\\n  left: 3px;\\n  background-color: #1976d2;\\n  color: white;\\n  border-radius: 0;\\n  height: 46px;\\n  width: 44px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcG9ydGFsL3NpZGVuYXYvQzpcXE1ybm1pY3JvXFxkZXZcXGlvblxcaWdvMi9zcmNcXHN0eWxlXFxwYXJ0aWFsXFx2YXJpYWJsZXMuc2NzcyIsInNyYy9hcHAvcGFnZXMvcG9ydGFsL3NpZGVuYXYvQzpcXE1ybm1pY3JvXFxkZXZcXGlvblxcaWdvMi9zcmNcXGFwcFxccGFnZXNcXHBvcnRhbFxcc2lkZW5hdlxcc2lkZW5hdi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvcGFnZXMvcG9ydGFsL3NpZGVuYXYvQzpcXE1ybm1pY3JvXFxkZXZcXGlvblxcaWdvMi9zcmNcXGFwcFxccGFnZXNcXHBvcnRhbFxccG9ydGFsLnZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9wYWdlcy9wb3J0YWwvc2lkZW5hdi9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL2Rpc3RcXGlnby1saWJcXGNvcmVcXHN0eWxlXFxwYXJ0aWFsXFxtZWRpYS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLGdCQUFBO0FDYUE7RUQyQkUsc0NBQXNDO0VBQ3RDLG1DQUFtQyxFQUFBO0FDekNyQztFQUNFLHVCQUFvQyxFQUFBO0FBUXRDO0VBQ0UscUJBQXFCLEVBQUE7QUFHdkI7RUFHRSxZQUFZO0VBQ1osWUNGdUIsRUFBQTtBQ1J2QjtJRk1GO01BT0ksOEJDSm1GLEVBQUEsRURNdEY7QUFFRDtFQUNJLFlBQVksRUFBQTtBQUdoQjtFQUNFLGdCQ2hCMkI7RURpQjNCLHlCQ2hCMEQsRUFBQTtBQ1AxRDtJRnFCRjtNQUlJLHlCQUErQyxFQUFBLEVBRWxEO0FBRUQ7RUFDRSxrQkFBa0IsRUFBQTtBQUlwQjtFQUNFLFVBQVU7RUFDVixrQkFBa0I7RUFDbEIsWUFBWSxFQUFBO0FBR2Q7RUFDRSxrQkFBa0I7RUFDbEIsU0FBUztFQUNULFNBQVM7RUFDVCx5QkFBeUI7RUFDekIsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osV0FBVyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcG9ydGFsL3NpZGVuYXYvc2lkZW5hdi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJ35AaWdvMi9jb3JlL3N0eWxlL3BhcnRpYWwvY29yZS52YXJpYWJsZXMnO1xyXG5cclxuLyoqKiBHZW5lcmljICoqKi9cclxuJGFwcC1iYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7XHJcbiRhcHAtaWNvbi1idXR0b24td2lkdGg6IDQwcHg7XHJcblxyXG4kYXBwLWJvcmRlci13aWR0aDogMXB4O1xyXG4kYXBwLWJvcmRlci1zdHlsZTogc29saWQ7XHJcbiRhcHAtYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC4yKTtcclxuXHJcbiVib3JkZXItYm94IHtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbiVib3JkZXJlZC10b3Age1xyXG4gIGJvcmRlci10b3A6ICRhcHAtYm9yZGVyLXdpZHRoICRhcHAtYm9yZGVyLXN0eWxlICRhcHAtYm9yZGVyLWNvbG9yO1xyXG59XHJcblxyXG4lYm9yZGVyZWQtYm90dG9tIHtcclxuICBib3JkZXItYm90dG9tOiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJvcmRlcmVkLWxlZnQge1xyXG4gIGJvcmRlci1sZWZ0OiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJvcmRlcmVkLXJpZ2h0IHtcclxuICBib3JkZXItcmlnaHQ6ICRhcHAtYm9yZGVyLXdpZHRoICRhcHAtYm9yZGVyLXN0eWxlICRhcHAtYm9yZGVyLWNvbG9yO1xyXG59XHJcblxyXG4lYm94LXNoYWRvd2VkIHtcclxuICAtbW96LWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDBweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgLW8tYm94LXNoYWRvdzogMHB4IDBweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgYm94LXNoYWRvdzogMHB4IDBweCAycHggMHB4ICNkZGRkZGQ7XHJcbn1cclxuXHJcbiVib3gtc2hhZG93ZWQtYm90dG9tLXJpZ2h0IHtcclxuICAtbW96LWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMnB4IDJweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgLW8tYm94LXNoYWRvdzogMnB4IDJweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgYm94LXNoYWRvdzogMnB4IDJweCAycHggMHB4ICNkZGRkZGQ7XHJcbn1cclxuIiwiQGltcG9ydCAnLi4vcG9ydGFsLnZhcmlhYmxlcyc7XHJcblxyXG46aG9zdCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG59XHJcblxyXG4vLyBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHdoZSB1c2luZyB0aGVcclxuLy8gc2lkZW5hdiBcInNpZGVcIiBtb2RlLCB0aGUgei1pbmRleCBpcyAxXHJcbi8vIGFuZCB0aGUgc2lkZW5hdiBhcHBlYXJzIGJlbG93IG91ciBiYWNrZHJvcC5cclxuLy8gVGhlIFwic2lkZVwiIG1vZGUgaXMgcmVxdWlyZWQgdG8gcHJldmVudFxyXG4vLyB0aGUgc2lkZW5hdiBmcm9tIGZvY3VzaW5nIGEgcmFuZG9tIGJ1dHRvbiBvbiBvcGVuLlxyXG46aG9zdCA6Om5nLWRlZXAgbWF0LXNpZGVuYXYge1xyXG4gIHotaW5kZXg6IDMgIWltcG9ydGFudDtcclxufVxyXG5cclxubWF0LXNpZGVuYXYge1xyXG4gIEBleHRlbmQgJWJveC1zaGFkb3dlZC1ib3R0b20tcmlnaHQ7XHJcblxyXG4gIGhlaWdodDogMTAwJTtcclxuICB3aWR0aDogJGFwcC1zaWRlbmF2LXdpZHRoO1xyXG5cclxuICBAaW5jbHVkZSBtb2JpbGUge1xyXG4gICAgd2lkdGg6ICRhcHAtc2lkZW5hdi13aWR0aC1tb2JpbGU7XHJcbiAgfVxyXG59XHJcblxyXG4uYXBwLWNvbnRlbnQsIGlnby1wYW5lbCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5hcHAtc2lkZW5hdi1jb250ZW50IHtcclxuICBtYXJnaW4tdG9wOiAkYXBwLXNpZGVuYXYtbWFyZ2luLXRvcDtcclxuICBoZWlnaHQ6ICRhcHAtc2lkZW5hdi1oZWlnaHQ7XHJcbiAgQGluY2x1ZGUgbW9iaWxlIHtcclxuICAgIGhlaWdodDogY2FsYygxMDAlIC0gI3skYXBwLXNpZGVuYXYtbWFyZ2luLXRvcH0pO1xyXG4gIH1cclxufVxyXG5cclxuaWdvLXBhbmVsIDo6bmctZGVlcCAuaWdvLXBhbmVsLWNvbnRlbnQge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuXHJcbmRpdi50b29sQWN0aXZlZCA+IGlnby1wYW5lbCA6Om5nLWRlZXAgPiBkaXYuaWdvLXBhbmVsLWhlYWRlciB7XHJcbiAgbGVmdDogNDhweDtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgd2lkdGg6IDM1MHB4O1xyXG59XHJcblxyXG4jaG9tZUJ1dHRvbiB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNTBweDtcclxuICBsZWZ0OiAzcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE5NzZkMjtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyLXJhZGl1czogMDtcclxuICBoZWlnaHQ6IDQ2cHg7XHJcbiAgd2lkdGg6IDQ0cHg7XHJcbn1cclxuIiwiQGltcG9ydCAnfkBpZ28yL2NvcmUvc3R5bGUvcGFydGlhbC9tZWRpYSc7XHJcbkBpbXBvcnQgJ3ZhcmlhYmxlcyc7XHJcblxyXG4kYXBwLWZvb3Rlci1oZWlnaHQ6IDQ4cHg7XHJcbiRhcHAtbW9iaWxlLW1pbi1zcGFjZS1yaWdodDogNDBweDtcclxuXHJcbiRhcHAtZXhwYW5zaW9uLXBhbmVsLWNvbGxhcHNlZC1oZWlnaHQ6IDQ4cHg7XHJcbiRhcHAtZXhwYW5zaW9uLXBhbmVsLWNvbGxhcHNlZC13aWR0aDogNTJweDtcclxuJGFwcC1leHBhbnNpb24tcGFuZWwtaGVpZ2h0OiAyODFweDtcclxuJGFwcC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWhlaWdodDogJGFwcC1leHBhbnNpb24tcGFuZWwtY29sbGFwc2VkLWhlaWdodDtcclxuXHJcbiRhcHAtdG9hc3QtcGFuZWwtY29sbGFwc2VkLWhlaWdodDogNDhweDtcclxuJGFwcC10b2FzdC1wYW5lbC1tYXgtaGVpZ2h0OiAyODFweDtcclxuJGFwcC10b2FzdC1wYW5lbC13aWR0aDogMzAlO1xyXG5cclxuJGFwcC1zaWRlbmF2LW1hcmdpbi10b3A6IDUwcHg7XHJcbiRhcHAtc2lkZW5hdi1oZWlnaHQ6IGNhbGMoMTAwJSAtICN7JGFwcC1zaWRlbmF2LW1hcmdpbi10b3B9KTtcclxuJGFwcC1zaWRlbmF2LXdpZHRoOiA0MDBweDtcclxuJGFwcC1zaWRlbmF2LXdpZHRoLW1vYmlsZTogY2FsYygxMDAlIC0gI3skYXBwLW1vYmlsZS1taW4tc3BhY2UtcmlnaHR9IC0gI3skaWdvLW1hcmdpbn0pO1xyXG5cclxuJGlnby10b2FzdC1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0OiA0OHB4O1xyXG4kaWdvLXRvYXN0LXBhbmVsLW1heC1oZWlnaHQ6IDMwMHB4O1xyXG4kaWdvLXRvYXN0LXBhbmVsLXdpZHRoOiAzMCU7XHJcblxyXG4kc2VhcmNoLWJhci1sZWZ0OiBjYWxjKCN7JGlnby1pY29uLXNpemV9ICsgI3skaWdvLW1hcmdpbn0pO1xyXG4kc2VhcmNoLWJhci13aWR0aDogY2FsYygjeyRhcHAtc2lkZW5hdi13aWR0aH0gLSAjeyRzZWFyY2gtYmFyLWxlZnR9IC0gKDIgKiAjeyRpZ28tbWFyZ2lufSkpO1xyXG4kc2VhcmNoLWJhci13aWR0aC1tb2JpbGU6IGNhbGMoMTAwJSAtICN7JGFwcC1tb2JpbGUtbWluLXNwYWNlLXJpZ2h0fSAtICN7JHNlYXJjaC1iYXItbGVmdH0gLSAoMyAqICN7JGlnby1tYXJnaW59KSk7XHJcbiIsIiRtb2JpbGU6ICdvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDUwcHgpLCBvbmx5IHNjcmVlbiBhbmQgKG1heC1oZWlnaHQ6IDQ1MHB4KSc7XHJcbiR0YWJsZXQ6ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDUxcHgpIGFuZCAobWluLWhlaWdodDogNDUxcHgpIGFuZCAobWF4LXdpZHRoOiA4MDBweCknO1xyXG4kZGVza3RvcDogJ29ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MDFweCknO1xyXG5cclxuJHNtYWxsLXNjcmVlbjogJ29ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MDFweCkgYW5kIChtYXgtd2lkdGg6IDEyNzlweCknO1xyXG4kbWVkaXVtLXNjcmVlbjogJ29ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMjgwcHgpIGFuZCAobWF4LXdpZHRoOiAxOTE5cHgpJztcclxuJGxhcmdlLXNjcmVlbjogJ29ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxOTIwcHgpJztcclxuXHJcbkBtaXhpbiBtb2JpbGUge1xyXG4gIEBtZWRpYSAjeyRtb2JpbGV9IHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHRhYmxldCB7XHJcbiAgQG1lZGlhICN7JHRhYmxldH0ge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZGVza3RvcCB7XHJcbiAgQG1lZGlhICN7JGRlc2t0b3B9IHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHNtYWxsLXNjcmVlbiB7XHJcbiAgICBAbWVkaWEgI3skc21hbGwtc2NyZWVufSB7XHJcbiAgICAgIEBjb250ZW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5AbWl4aW4gbWVkaXVtLXNjcmVlbiB7XHJcbiAgQG1lZGlhICN7JG1lZGl1bS1zY3JlZW59IHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGxhcmdlLXNjcmVlbiB7XHJcbiAgICBAbWVkaWEgI3skbGFyZ2Utc2NyZWVufSB7XHJcbiAgICAgIEBjb250ZW50O1xyXG4gICAgfVxyXG59XHJcbiJdfQ== */\"","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  OnInit,\r\n  OnDestroy,\r\n  EventEmitter,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\n\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport olFormatGeoJSON from 'ol/format/GeoJSON';\r\n\r\nimport { Tool, Toolbox, getEntityTitle, FlexibleState } from '@igo2/common';\r\nimport { SearchResult, IgoMap, moveToOlFeatures } from '@igo2/geo';\r\nimport { ToolState } from '@igo2/integration';\r\n\r\n@Component({\r\n  selector: 'app-sidenav',\r\n  templateUrl: './sidenav.component.html',\r\n  styleUrls: ['./sidenav.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SidenavComponent implements OnInit, OnDestroy {\r\n  title$: BehaviorSubject<string> = new BehaviorSubject<string>(undefined);\r\n  topPanelState: FlexibleState = 'initial';\r\n\r\n  private activeTool$$: Subscription;\r\n  private format = new olFormatGeoJSON();\r\n\r\n  @Input()\r\n  get map(): IgoMap {\r\n    return this._map;\r\n  }\r\n  set map(value: IgoMap) {\r\n    this._map = value;\r\n  }\r\n  private _map: IgoMap;\r\n\r\n  @Input()\r\n  get searchResult(): SearchResult {\r\n    return this._searchResult;\r\n  }\r\n  set searchResult(value: SearchResult) {\r\n    this._searchResult = value;\r\n    if (!value) {\r\n      this.topPanelState = 'initial';\r\n    } else if (this.topPanelState === 'initial') {\r\n      this.topPanelState = 'collapsed';\r\n    }\r\n  }\r\n  private _searchResult: SearchResult;\r\n\r\n  @Input()\r\n  get opened(): boolean {\r\n    return this._opened;\r\n  }\r\n  set opened(value: boolean) {\r\n    if (value === this._opened) {\r\n      return;\r\n    }\r\n\r\n    this._opened = value;\r\n    this.openedChange.emit(this._opened);\r\n  }\r\n  private _opened: boolean;\r\n\r\n  @Output() openedChange = new EventEmitter<boolean>();\r\n\r\n  get toolbox(): Toolbox {\r\n    return this.toolState.toolbox;\r\n  }\r\n\r\n  get panelTitle(): string {\r\n    let title;\r\n    if (this.searchResult !== undefined) {\r\n      title = getEntityTitle(this.searchResult);\r\n    }\r\n    return title;\r\n  }\r\n\r\n  constructor(private toolState: ToolState) {}\r\n\r\n  ngOnInit() {\r\n    this.activeTool$$ = this.toolbox.activeTool$.subscribe((tool: Tool) => {\r\n      this.title$.next(tool ? tool.title : 'IGO');\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.activeTool$$.unsubscribe();\r\n  }\r\n\r\n  onPreviousButtonClick() {\r\n    this.toolbox.activatePreviousTool();\r\n  }\r\n\r\n  onUnselectButtonClick() {\r\n    this.toolbox.deactivateTool();\r\n  }\r\n\r\n  zoomToFeatureExtent() {\r\n    if (this.searchResult.data.geometry) {\r\n      const olFeature = this.format.readFeature(this.searchResult.data, {\r\n        dataProjection: this.searchResult.data.geometry.projection,\r\n        featureProjection: this.map.projection\r\n      });\r\n      moveToOlFeatures(this.map, olFeature);\r\n    }\r\n  }\r\n\r\n  toggleTopPanel() {\r\n    if (this.topPanelState === 'collapsed') {\r\n      this.topPanelState = 'expanded';\r\n    } else {\r\n      this.topPanelState = 'collapsed';\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {\r\n  MatIconModule,\r\n  MatButtonModule,\r\n  MatSidenavModule,\r\n  MatTooltipModule\r\n} from '@angular/material';\r\n\r\nimport { IgoLanguageModule } from '@igo2/core';\r\nimport { IgoPanelModule, IgoFlexibleModule, IgoToolModule } from '@igo2/common';\r\nimport { IgoFeatureModule } from '@igo2/geo';\r\nimport { IgoContextManagerModule } from '@igo2/context';\r\n\r\nimport { ToolboxModule } from '../toolbox/toolbox.module';\r\nimport { SidenavComponent } from './sidenav.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatSidenavModule,\r\n    MatTooltipModule,\r\n    IgoLanguageModule,\r\n    IgoPanelModule,\r\n    IgoFlexibleModule,\r\n    IgoContextManagerModule,\r\n    IgoToolModule,\r\n    IgoFeatureModule,\r\n    ToolboxModule\r\n  ],\r\n  exports: [SidenavComponent],\r\n  declarations: [SidenavComponent]\r\n})\r\nexport class AppSidenavModule {}\r\n","module.exports = \"<igo-panel\\r\\n  *ngIf=\\\"store.entities$ | async\\\"\\r\\n  [title]=\\\"resultSelected$.value ? getTitle(resultSelected$.value) : 'Liste des résultats'\\\"\\r\\n  (click)=\\\"onToggleClick($event)\\\"\\r\\n  (swipeleft)=\\\"swipe($event.type)\\\"\\r\\n  (swiperight)=\\\"swipe($event.type)\\\"\\r\\n  (swipeup)=\\\"swipe($event.type)\\\"\\r\\n  (swipedown)=\\\"swipe($event.type)\\\">\\r\\n\\r\\n  <button\\r\\n    *ngIf=\\\"resultSelected$.value\\\"\\r\\n    mat-icon-button\\r\\n    igoStopPropagation\\r\\n    panelLeftButton\\r\\n    (click)=\\\"unselectResult()\\\">\\r\\n    <mat-icon svgIcon=\\\"format-list-bulleted-square\\\"></mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <button\\r\\n    *ngIf=\\\"resultSelected$.value\\\"\\r\\n    [disabled]=\\\"results[0].meta.id === resultSelected$.value.meta.id\\\"\\r\\n    mat-icon-button\\r\\n    igoStopPropagation\\r\\n    panelLeftButton\\r\\n    (click)=\\\"previousResult()\\\">\\r\\n    <mat-icon svgIcon=\\\"chevron-left\\\"></mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <button\\r\\n    *ngIf=\\\"resultSelected$.value\\\"\\r\\n    [disabled]=\\\"results[results.length-1].meta.id === resultSelected$.value.meta.id\\\"\\r\\n    mat-icon-button\\r\\n    igoStopPropagation\\r\\n    panelRightButton\\r\\n    (click)=\\\"nextResult()\\\">\\r\\n    <mat-icon svgIcon=\\\"chevron-right\\\"></mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <button\\r\\n    mat-icon-button\\r\\n    igoStopPropagation\\r\\n    panelRightButton\\r\\n    (click)=\\\"clear()\\\">\\r\\n    <mat-icon svgIcon=\\\"close\\\"></mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <div\\r\\n    #content\\r\\n    igoStopPropagation>\\r\\n\\r\\n    <igo-feature-details\\r\\n      *ngIf=\\\"resultSelected$.value\\\"\\r\\n      [feature]=\\\"resultSelected$.value.data\\\">\\r\\n    </igo-feature-details>\\r\\n\\r\\n    <igo-search-results\\r\\n      *ngIf=\\\"!resultSelected$.value\\\"\\r\\n      [store]=\\\"store\\\"\\r\\n      (resultFocus)=\\\"focusResult($event)\\\"\\r\\n      (resultSelect)=\\\"selectResult($event)\\\">\\r\\n    </igo-search-results>\\r\\n\\r\\n  </div>\\r\\n</igo-panel>\\r\\n\"","module.exports = \"/*** Generic ***/\\n:host {\\n  -o-box-shadow: 0px 0px 2px 0px #dddddd;\\n  box-shadow: 0px 0px 2px 0px #dddddd; }\\n:host {\\n  background-color: white;\\n  height: 48px;\\n  max-height: 281px;\\n  transition: height 280ms cubic-bezier(0.4, 0, 0.2, 1);\\n  padding: 5px; }\\n:host.app-toast-panel-opened {\\n  height: auto;\\n  max-height: 281px; }\\n@media only screen and (max-width: 450px), only screen and (max-height: 450px) {\\n    :host.app-toast-panel-opened {\\n      height: 40%; } }\\nigo-panel ::ng-deep .igo-panel-header:hover {\\n  cursor: pointer; }\\ndiv[igostoppropagation] {\\n  height: 100%;\\n  width: 100%; }\\nigo-panel {\\n  height: 100%; }\\nigo-panel ::ng-deep h3 {\\n  display: flex; }\\nigo-panel ::ng-deep .igo-panel-title {\\n  flex-grow: 2;\\n  margin: 0; }\\nigo-panel ::ng-deep .igo-panel-header ::ng-deep [panelleftbutton],\\nigo-panel ::ng-deep .igo-panel-header ::ng-deep [panelrightbutton] {\\n  margin: 0; }\\nigo-panel ::ng-deep .igo-panel-content {\\n  max-height: 230px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcG9ydGFsL3RvYXN0LXBhbmVsL0M6XFxNcm5taWNyb1xcZGV2XFxpb25cXGlnbzIvc3JjXFxzdHlsZVxccGFydGlhbFxcdmFyaWFibGVzLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3BvcnRhbC90b2FzdC1wYW5lbC9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL3NyY1xcYXBwXFxwYWdlc1xccG9ydGFsXFx0b2FzdC1wYW5lbFxcdG9hc3QtcGFuZWwuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3BvcnRhbC90b2FzdC1wYW5lbC9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL3NyY1xcYXBwXFxwYWdlc1xccG9ydGFsXFxwb3J0YWwudmFyaWFibGVzLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3BvcnRhbC90b2FzdC1wYW5lbC9DOlxcTXJubWljcm9cXGRldlxcaW9uXFxpZ28yL2Rpc3RcXGlnby1saWJcXGNvcmVcXHN0eWxlXFxwYXJ0aWFsXFxjb3JlLnZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9wYWdlcy9wb3J0YWwvdG9hc3QtcGFuZWwvQzpcXE1ybm1pY3JvXFxkZXZcXGlvblxcaWdvMi9kaXN0XFxpZ28tbGliXFxjb3JlXFxzdHlsZVxccGFydGlhbFxcbWVkaWEuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxnQkFBQTtBQ0FBO0VEaUNFLHNDQUFzQztFQUN0QyxtQ0FBbUMsRUFBQTtBQ2xDckM7RUFHRSx1QkFBdUI7RUFFdkIsWUNJcUM7RURIckMsaUJDSWdDO0VERmhDLHFEQUFnRDtFQUNoRCxZRVZlLEVBQUE7QUZhakI7RUFDRSxZQUFZO0VBQ1osaUJDSmdDLEVBQUE7QUVIaEM7SUhLRjtNQUtJLFdBQVcsRUFBQSxFQUVkO0FBRUQ7RUFDRSxlQUFlLEVBQUE7QUFHakI7RUFDRSxZQUFZO0VBQ1osV0FBVyxFQUFBO0FBR2I7RUFDRSxZQUFZLEVBQUE7QUFHZDtFQUNFLGFBQWEsRUFBQTtBQUdmO0VBQ0UsWUFBWTtFQUNaLFNBQVMsRUFBQTtBQUdYOztFQUVFLFNBQVMsRUFBQTtBQUdYO0VBQ0UsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wb3J0YWwvdG9hc3QtcGFuZWwvdG9hc3QtcGFuZWwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICd+QGlnbzIvY29yZS9zdHlsZS9wYXJ0aWFsL2NvcmUudmFyaWFibGVzJztcclxuXHJcbi8qKiogR2VuZXJpYyAqKiovXHJcbiRhcHAtYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG4kYXBwLWljb24tYnV0dG9uLXdpZHRoOiA0MHB4O1xyXG5cclxuJGFwcC1ib3JkZXItd2lkdGg6IDFweDtcclxuJGFwcC1ib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4kYXBwLWJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAuMik7XHJcblxyXG4lYm9yZGVyLWJveCB7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcblxyXG4lYm9yZGVyZWQtdG9wIHtcclxuICBib3JkZXItdG9wOiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJvcmRlcmVkLWJvdHRvbSB7XHJcbiAgYm9yZGVyLWJvdHRvbTogJGFwcC1ib3JkZXItd2lkdGggJGFwcC1ib3JkZXItc3R5bGUgJGFwcC1ib3JkZXItY29sb3I7XHJcbn1cclxuXHJcbiVib3JkZXJlZC1sZWZ0IHtcclxuICBib3JkZXItbGVmdDogJGFwcC1ib3JkZXItd2lkdGggJGFwcC1ib3JkZXItc3R5bGUgJGFwcC1ib3JkZXItY29sb3I7XHJcbn1cclxuXHJcbiVib3JkZXJlZC1yaWdodCB7XHJcbiAgYm9yZGVyLXJpZ2h0OiAkYXBwLWJvcmRlci13aWR0aCAkYXBwLWJvcmRlci1zdHlsZSAkYXBwLWJvcmRlci1jb2xvcjtcclxufVxyXG5cclxuJWJveC1zaGFkb3dlZCB7XHJcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggMHB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC1vLWJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIGJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCAjZGRkZGRkO1xyXG59XHJcblxyXG4lYm94LXNoYWRvd2VkLWJvdHRvbS1yaWdodCB7XHJcbiAgLW1vei1ib3gtc2hhZG93OiAycHggMnB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIC1vLWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG4gIGJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCAjZGRkZGRkO1xyXG59XHJcbiIsIkBpbXBvcnQgJy4uL3BvcnRhbC52YXJpYWJsZXMnO1xyXG5cclxuOmhvc3Qge1xyXG4gIEBleHRlbmQgJWJveC1zaGFkb3dlZDtcclxuXHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcblxyXG4gIGhlaWdodDogJGFwcC10b2FzdC1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0O1xyXG4gIG1heC1oZWlnaHQ6ICRhcHAtdG9hc3QtcGFuZWwtbWF4LWhlaWdodDtcclxuXHJcbiAgdHJhbnNpdGlvbjogaGVpZ2h0IDI4MG1zIGN1YmljLWJlemllciguNCwwLC4yLDEpO1xyXG4gIHBhZGRpbmc6ICRpZ28tcGFkZGluZztcclxufVxyXG5cclxuOmhvc3QuYXBwLXRvYXN0LXBhbmVsLW9wZW5lZCB7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIG1heC1oZWlnaHQ6ICRhcHAtdG9hc3QtcGFuZWwtbWF4LWhlaWdodDtcclxuXHJcbiAgQGluY2x1ZGUgbW9iaWxlIHtcclxuICAgIGhlaWdodDogNDAlO1xyXG4gIH1cclxufVxyXG5cclxuaWdvLXBhbmVsIDo6bmctZGVlcCAuaWdvLXBhbmVsLWhlYWRlcjpob3ZlciB7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG5kaXZbaWdvc3RvcHByb3BhZ2F0aW9uXSB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5pZ28tcGFuZWwge1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuaWdvLXBhbmVsIDo6bmctZGVlcCBoMyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxufVxyXG5cclxuaWdvLXBhbmVsIDo6bmctZGVlcCAuaWdvLXBhbmVsLXRpdGxlIHtcclxuICBmbGV4LWdyb3c6IDI7XHJcbiAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG5pZ28tcGFuZWwgOjpuZy1kZWVwIC5pZ28tcGFuZWwtaGVhZGVyIDo6bmctZGVlcCBbcGFuZWxsZWZ0YnV0dG9uXSxcclxuaWdvLXBhbmVsIDo6bmctZGVlcCAuaWdvLXBhbmVsLWhlYWRlciA6Om5nLWRlZXAgW3BhbmVscmlnaHRidXR0b25dIHtcclxuICBtYXJnaW46IDA7XHJcbn1cclxuXHJcbmlnby1wYW5lbCA6Om5nLWRlZXAgLmlnby1wYW5lbC1jb250ZW50IHtcclxuICBtYXgtaGVpZ2h0OiAyMzBweDtcclxufVxyXG4iLCJAaW1wb3J0ICd+QGlnbzIvY29yZS9zdHlsZS9wYXJ0aWFsL21lZGlhJztcclxuQGltcG9ydCAndmFyaWFibGVzJztcclxuXHJcbiRhcHAtZm9vdGVyLWhlaWdodDogNDhweDtcclxuJGFwcC1tb2JpbGUtbWluLXNwYWNlLXJpZ2h0OiA0MHB4O1xyXG5cclxuJGFwcC1leHBhbnNpb24tcGFuZWwtY29sbGFwc2VkLWhlaWdodDogNDhweDtcclxuJGFwcC1leHBhbnNpb24tcGFuZWwtY29sbGFwc2VkLXdpZHRoOiA1MnB4O1xyXG4kYXBwLWV4cGFuc2lvbi1wYW5lbC1oZWlnaHQ6IDI4MXB4O1xyXG4kYXBwLWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItaGVpZ2h0OiAkYXBwLWV4cGFuc2lvbi1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0O1xyXG5cclxuJGFwcC10b2FzdC1wYW5lbC1jb2xsYXBzZWQtaGVpZ2h0OiA0OHB4O1xyXG4kYXBwLXRvYXN0LXBhbmVsLW1heC1oZWlnaHQ6IDI4MXB4O1xyXG4kYXBwLXRvYXN0LXBhbmVsLXdpZHRoOiAzMCU7XHJcblxyXG4kYXBwLXNpZGVuYXYtbWFyZ2luLXRvcDogNTBweDtcclxuJGFwcC1zaWRlbmF2LWhlaWdodDogY2FsYygxMDAlIC0gI3skYXBwLXNpZGVuYXYtbWFyZ2luLXRvcH0pO1xyXG4kYXBwLXNpZGVuYXYtd2lkdGg6IDQwMHB4O1xyXG4kYXBwLXNpZGVuYXYtd2lkdGgtbW9iaWxlOiBjYWxjKDEwMCUgLSAjeyRhcHAtbW9iaWxlLW1pbi1zcGFjZS1yaWdodH0gLSAjeyRpZ28tbWFyZ2lufSk7XHJcblxyXG4kaWdvLXRvYXN0LXBhbmVsLWNvbGxhcHNlZC1oZWlnaHQ6IDQ4cHg7XHJcbiRpZ28tdG9hc3QtcGFuZWwtbWF4LWhlaWdodDogMzAwcHg7XHJcbiRpZ28tdG9hc3QtcGFuZWwtd2lkdGg6IDMwJTtcclxuXHJcbiRzZWFyY2gtYmFyLWxlZnQ6IGNhbGMoI3skaWdvLWljb24tc2l6ZX0gKyAjeyRpZ28tbWFyZ2lufSk7XHJcbiRzZWFyY2gtYmFyLXdpZHRoOiBjYWxjKCN7JGFwcC1zaWRlbmF2LXdpZHRofSAtICN7JHNlYXJjaC1iYXItbGVmdH0gLSAoMiAqICN7JGlnby1tYXJnaW59KSk7XHJcbiRzZWFyY2gtYmFyLXdpZHRoLW1vYmlsZTogY2FsYygxMDAlIC0gI3skYXBwLW1vYmlsZS1taW4tc3BhY2UtcmlnaHR9IC0gI3skc2VhcmNoLWJhci1sZWZ0fSAtICgzICogI3skaWdvLW1hcmdpbn0pKTtcclxuIiwiJGlnby1tYXJnaW46IDVweDtcclxuJGlnby1wYWRkaW5nOiA1cHg7XHJcbiRpZ28taWNvbi1zaXplOiA0MHB4O1xyXG4iLCIkbW9iaWxlOiAnb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDQ1MHB4KSwgb25seSBzY3JlZW4gYW5kIChtYXgtaGVpZ2h0OiA0NTBweCknO1xyXG4kdGFibGV0OiAnb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQ1MXB4KSBhbmQgKG1pbi1oZWlnaHQ6IDQ1MXB4KSBhbmQgKG1heC13aWR0aDogODAwcHgpJztcclxuJGRlc2t0b3A6ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODAxcHgpJztcclxuXHJcbiRzbWFsbC1zY3JlZW46ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODAxcHgpIGFuZCAobWF4LXdpZHRoOiAxMjc5cHgpJztcclxuJG1lZGl1bS1zY3JlZW46ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTI4MHB4KSBhbmQgKG1heC13aWR0aDogMTkxOXB4KSc7XHJcbiRsYXJnZS1zY3JlZW46ICdvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTkyMHB4KSc7XHJcblxyXG5AbWl4aW4gbW9iaWxlIHtcclxuICBAbWVkaWEgI3skbW9iaWxlfSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiB0YWJsZXQge1xyXG4gIEBtZWRpYSAjeyR0YWJsZXR9IHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGRlc2t0b3Age1xyXG4gIEBtZWRpYSAjeyRkZXNrdG9wfSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBzbWFsbC1zY3JlZW4ge1xyXG4gICAgQG1lZGlhICN7JHNtYWxsLXNjcmVlbn0ge1xyXG4gICAgICBAY29udGVudDtcclxuICAgIH1cclxufVxyXG5cclxuQG1peGluIG1lZGl1bS1zY3JlZW4ge1xyXG4gIEBtZWRpYSAjeyRtZWRpdW0tc2NyZWVufSB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBsYXJnZS1zY3JlZW4ge1xyXG4gICAgQG1lZGlhICN7JGxhcmdlLXNjcmVlbn0ge1xyXG4gICAgICBAY29udGVudDtcclxuICAgIH1cclxufVxyXG4iXX0= */\"","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nimport { getEntityTitle, EntityStore } from '@igo2/common';\r\nimport { Feature, SearchResult } from '@igo2/geo';\r\n\r\n@Component({\r\n  selector: 'app-toast-panel',\r\n  templateUrl: './toast-panel.component.html',\r\n  styleUrls: ['./toast-panel.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ToastPanelComponent {\r\n  @Input()\r\n  get store(): EntityStore<SearchResult<Feature>> {\r\n    return this._store;\r\n  }\r\n  set store(value: EntityStore<SearchResult<Feature>>) {\r\n    this._store = value;\r\n    this.store.entities$.subscribe(_entities => {\r\n      this.unselectResult();\r\n    });\r\n  }\r\n  private _store: EntityStore<SearchResult<Feature>>;\r\n\r\n  @Output() resultSelect = new EventEmitter<SearchResult<Feature>>();\r\n  @Output() resultFocus = new EventEmitter<SearchResult<Feature>>();\r\n\r\n  static SWIPE_ACTION = {\r\n    RIGHT: 'swiperight',\r\n    LEFT: 'swipeleft',\r\n    UP: 'swipeup',\r\n    DOWN: 'swipedown'\r\n  };\r\n\r\n  resultSelected$ = new BehaviorSubject<SearchResult<Feature>>(undefined);\r\n\r\n  private opened = true;\r\n\r\n  @HostBinding('class.app-toast-panel-opened')\r\n  get hasOpenedClass() {\r\n    return this.opened;\r\n  }\r\n\r\n  @HostBinding('style.visibility')\r\n  get displayStyle() {\r\n    return this.results.length ? 'visible' : 'hidden';\r\n  }\r\n\r\n  get results(): SearchResult<Feature>[] {\r\n    // return this.store.view.filter((e) => e.meta.dataType === FEATURE).all();\r\n    return this.store.all();\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  getTitle(result: SearchResult) {\r\n    return getEntityTitle(result);\r\n  }\r\n\r\n  focusResult(result: SearchResult<Feature>) {\r\n    this.resultFocus.emit(result);\r\n  }\r\n\r\n  selectResult(result: SearchResult<Feature>) {\r\n    this.store.state.update(\r\n      result,\r\n      {\r\n        focused: true,\r\n        selected: true\r\n      },\r\n      true\r\n    );\r\n    this.resultSelected$.next(result);\r\n    this.resultSelect.emit(result);\r\n  }\r\n\r\n  unselectResult() {\r\n    this.resultSelected$.next(undefined);\r\n    this.store.state.clear();\r\n  }\r\n\r\n  clear() {\r\n    this.store.clear();\r\n    this.unselectResult();\r\n  }\r\n\r\n  @HostListener('document:keydown.ArrowLeft')\r\n  previousResult() {\r\n    if (!this.resultSelected$.value) {\r\n      return;\r\n    }\r\n    let i = this.results.indexOf(this.resultSelected$.value);\r\n    const previousResult = this.results[--i];\r\n    if (previousResult) {\r\n      this.selectResult(previousResult);\r\n    }\r\n  }\r\n\r\n  @HostListener('document:keydown.ArrowRight')\r\n  nextResult() {\r\n    if (!this.resultSelected$.value) {\r\n      return;\r\n    }\r\n    let i = this.results.indexOf(this.resultSelected$.value);\r\n    const nextResult = this.results[++i];\r\n    if (nextResult) {\r\n      this.selectResult(nextResult);\r\n    }\r\n  }\r\n\r\n  swipe(action: string) {\r\n    if (action === ToastPanelComponent.SWIPE_ACTION.LEFT) {\r\n      this.previousResult();\r\n    } else if (action === ToastPanelComponent.SWIPE_ACTION.RIGHT) {\r\n      this.nextResult();\r\n    } else if (action === ToastPanelComponent.SWIPE_ACTION.UP) {\r\n      this.opened = true;\r\n    } else if (action === ToastPanelComponent.SWIPE_ACTION.DOWN) {\r\n      this.opened = false;\r\n    }\r\n  }\r\n\r\n  onToggleClick(e: MouseEvent) {\r\n    if (e.srcElement.className !== 'igo-panel-title') {\r\n      return;\r\n    }\r\n    this.opened = !this.opened;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatIconModule, MatButtonModule } from '@angular/material';\r\n\r\nimport { IgoPanelModule, IgoStopPropagationModule } from '@igo2/common';\r\nimport { IgoLanguageModule } from '@igo2/core';\r\nimport { IgoFeatureModule, IgoSearchResultsModule } from '@igo2/geo';\r\n\r\nimport { ToastPanelComponent } from './toast-panel.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    IgoLanguageModule,\r\n    IgoPanelModule,\r\n    IgoStopPropagationModule,\r\n    IgoFeatureModule,\r\n    IgoSearchResultsModule\r\n  ],\r\n  exports: [ToastPanelComponent],\r\n  declarations: [ToastPanelComponent]\r\n})\r\nexport class AppToastPanelModule {}\r\n","import {\r\n  trigger,\r\n  state,\r\n  style,\r\n  transition,\r\n  animate,\r\n  AnimationTriggerMetadata\r\n} from '@angular/animations';\r\n\r\nexport function toolSlideInOut(\r\n  speed = '300ms',\r\n  type = 'ease-in-out'\r\n): AnimationTriggerMetadata {\r\n  return trigger('toolSlideInOut', [\r\n    state(\r\n      'enter',\r\n      style({\r\n        transform: 'translate3d(0, 0, 0)'\r\n      })\r\n    ),\r\n    transition('void => enter', animate(speed + ' ' + type))\r\n  ]);\r\n}\r\n","module.exports = \"<igo-actionbar\\r\\n  *ngIf=\\\"(toolbar$ | async).length > 0\\\"\\r\\n  [store]=\\\"actionStore\\\"\\r\\n  [withIcon]=\\\"true\\\"\\r\\n  [withTitle]=\\\"toolbarWithTitle\\\"\\r\\n  [horizontal]=\\\"false\\\">\\r\\n</igo-actionbar>\\r\\n\\r\\n<div\\r\\n  *ngIf=\\\"activeTool$ | async as tool\\\"\\r\\n  class=\\\"igo-tool-container\\\"\\r\\n  [ngClass]=\\\"{'igo-tool-container-with-toolbar': !actionStore.empty, 'igo-tool-container-with-animation': animate}\\\"\\r\\n  [@toolSlideInOut]=\\\"animation$ | async\\\"\\r\\n  (@toolSlideInOut.start)=\\\"onAnimationStart()\\\"\\r\\n  (@toolSlideInOut.done)=\\\"onAnimationComplete()\\\">\\r\\n\\r\\n  <igo-dynamic-outlet\\r\\n    [component]=\\\"tool.component\\\"\\r\\n    [inputs]=\\\"getToolInputs(tool)\\\">\\r\\n  </igo-dynamic-outlet>\\r\\n\\r\\n</div>\\r\\n\"","module.exports = \":host {\\n  display: block;\\n  position: relative;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 100%; }\\n\\n/*** Actionbar and toolbox ***/\\n\\n.igo-tool-container {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0; }\\n\\n.igo-tool-container-with-animation {\\n  transform: translate3d(100%, 0, 0); }\\n\\n.igo-tool-container-with-toolbar {\\n  left: 51px; }\\n\\nigo-actionbar {\\n  height: 100%; }\\n\\nigo-actionbar.with-title {\\n  width: 100%;\\n  overflow: auto; }\\n\\nigo-actionbar:not(.with-title) {\\n  width: 46px;\\n  overflow: hidden;\\n  -o-box-shadow: 2px 0px 2px 0px #dddddd;\\n  box-shadow: 2px 0px 2px 0px #dddddd; }\\n\\nigo-actionbar ::ng-deep igo-list {\\n  overflow: inherit; }\\n\\nigo-dynamic-outlet {\\n  overflow: auto; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcG9ydGFsL3Rvb2xib3gvQzpcXE1ybm1pY3JvXFxkZXZcXGlvblxcaWdvMi9zcmNcXGFwcFxccGFnZXNcXHBvcnRhbFxcdG9vbGJveFxcdG9vbGJveC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxZQUFZLEVBQUE7O0FBR2QsOEJBQUE7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFNBQVM7RUFDVCxPQUFPO0VBQ1AsUUFBUSxFQUFBOztBQUdWO0VBQ0Usa0NBQWtDLEVBQUE7O0FBR3BDO0VBQ0UsVUFBVSxFQUFBOztBQUdaO0VBQ0UsWUFBWSxFQUFBOztBQUdkO0VBQ0UsV0FBVztFQUNYLGNBQWMsRUFBQTs7QUFHaEI7RUFDRSxXQUFXO0VBQ1gsZ0JBQWdCO0VBR2hCLHNDQUFzQztFQUN0QyxtQ0FBbUMsRUFBQTs7QUFHckM7RUFDRSxpQkFBaUIsRUFBQTs7QUFHbkI7RUFDRSxjQUFjLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wb3J0YWwvdG9vbGJveC90b29sYm94LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLyoqKiBBY3Rpb25iYXIgYW5kIHRvb2xib3ggKioqL1xyXG5cclxuLmlnby10b29sLWNvbnRhaW5lciB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogMDtcclxuICBib3R0b206IDA7XHJcbiAgbGVmdDogMDtcclxuICByaWdodDogMDtcclxufVxyXG5cclxuLmlnby10b29sLWNvbnRhaW5lci13aXRoLWFuaW1hdGlvbiB7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKTtcclxufVxyXG5cclxuLmlnby10b29sLWNvbnRhaW5lci13aXRoLXRvb2xiYXIge1xyXG4gIGxlZnQ6IDUxcHg7XHJcbn1cclxuXHJcbmlnby1hY3Rpb25iYXIge1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuaWdvLWFjdGlvbmJhci53aXRoLXRpdGxlIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBvdmVyZmxvdzogYXV0bztcclxufVxyXG5cclxuaWdvLWFjdGlvbmJhcjpub3QoLndpdGgtdGl0bGUpIHtcclxuICB3aWR0aDogNDZweDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIC1tb3otYm94LXNoYWRvdzogMnB4IDBweCAycHggMHB4ICNkZGRkZGQ7XHJcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAycHggMHB4IDJweCAwcHggI2RkZGRkZDtcclxuICAtby1ib3gtc2hhZG93OiAycHggMHB4IDJweCAwcHggI2RkZGRkZDtcclxuICBib3gtc2hhZG93OiAycHggMHB4IDJweCAwcHggI2RkZGRkZDtcclxufVxyXG5cclxuaWdvLWFjdGlvbmJhciA6Om5nLWRlZXAgaWdvLWxpc3Qge1xyXG4gIG92ZXJmbG93OiBpbmhlcml0O1xyXG59XHJcblxyXG5pZ28tZHluYW1pYy1vdXRsZXQge1xyXG4gIG92ZXJmbG93OiBhdXRvO1xyXG59XHJcbiJdfQ== */\"","import {\r\n  Component,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\n\r\nimport { Subscription, BehaviorSubject } from 'rxjs';\r\n\r\nimport { Action, ActionStore, Tool, Toolbox } from '@igo2/common';\r\nimport { toolSlideInOut } from './toolbox.animation';\r\n\r\n@Component({\r\n  selector: 'app-toolbox',\r\n  templateUrl: 'toolbox.component.html',\r\n  styleUrls: ['toolbox.component.scss'],\r\n  animations: [toolSlideInOut()],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ToolboxComponent implements OnInit, OnDestroy {\r\n  /**\r\n   * Observable of the active tool\r\n   */\r\n  activeTool$: BehaviorSubject<Tool> = new BehaviorSubject(undefined);\r\n\r\n  /**\r\n   * Store of actions that toggle tools\r\n   */\r\n  actionStore: ActionStore = new ActionStore([]);\r\n\r\n  /**\r\n   * Observable of he anmation state\r\n   */\r\n  animation$: BehaviorSubject<string> = new BehaviorSubject('none');\r\n\r\n  /**\r\n   * Observable of the toolbar\r\n   */\r\n  toolbar$: BehaviorSubject<string[]> = new BehaviorSubject([]);\r\n\r\n  /**\r\n   * Subscription to the active tool\r\n   */\r\n  private activeTool$$: Subscription;\r\n\r\n  /**\r\n   * Subscription to the toolbar\r\n   */\r\n  private toolbar$$: Subscription;\r\n\r\n  /**\r\n   * Observable of the ongoing animation. This is useful when\r\n   * multiple animations are triggered at once i.e. when the user clicks\r\n   * too fast on different actions\r\n   */\r\n  private animating$ = new BehaviorSubject<boolean>(false);\r\n\r\n  /**\r\n   * Subscription to the ongoing animation\r\n   */\r\n  private animating$$: Subscription;\r\n\r\n  /**\r\n   * Toolbox\r\n   */\r\n  @Input() toolbox: Toolbox;\r\n\r\n  /**\r\n   * Whether the toolbox should animate the first tool entering\r\n   */\r\n  @Input() animate: boolean = false;\r\n\r\n  /**\r\n   * Whether the Toolbar should display actions' titles\r\n   */\r\n  get toolbarWithTitle(): boolean {\r\n    return this.activeTool$.value === undefined;\r\n  }\r\n\r\n  /**\r\n   * Initialize the toolbar and subscribe to the active tool\r\n   * @internal\r\n   */\r\n  ngOnInit() {\r\n    this.toolbar$$ = this.toolbox.toolbar$.subscribe((toolbar: string[]) =>\r\n      this.onToolbarChange(toolbar)\r\n    );\r\n    this.activeTool$$ = this.toolbox.activeTool$.subscribe((tool: Tool) =>\r\n      this.onActiveToolChange(tool)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Unsubscribe to the active tool and destroy the action store\r\n   * @internal\r\n   */\r\n  ngOnDestroy() {\r\n    this.toolbar$$.unsubscribe();\r\n    this.activeTool$$.unsubscribe();\r\n    this.actionStore.destroy();\r\n  }\r\n\r\n  /**\r\n   * Track the starting animation\r\n   * @internal\r\n   */\r\n  onAnimationStart() {\r\n    this.animating$.next(true);\r\n  }\r\n\r\n  /**\r\n   * Untrack the completed animation\r\n   * @internal\r\n   */\r\n  onAnimationComplete() {\r\n    this.animating$.next(false);\r\n  }\r\n\r\n  /**\r\n   * Return a tool's inputs\r\n   * @param tool Tool\r\n   * @returns Tool inputs\r\n   * @internal\r\n   */\r\n  getToolInputs(tool: Tool): { [key: string]: any } {\r\n    return tool.options || {};\r\n  }\r\n\r\n  /**\r\n   * Initialize an action store\r\n   * @param toolbar Toolbar\r\n   */\r\n  private onToolbarChange(toolbar: string[]) {\r\n    this.setToolbar(toolbar);\r\n  }\r\n\r\n  /**\r\n   * Activate a tool and trigger an animation or not\r\n   * @param tool Tool to activate\r\n   */\r\n  private onActiveToolChange(tool: Tool) {\r\n    if (!this.animate) {\r\n      this.setActiveTool(tool);\r\n      return;\r\n    }\r\n    this.onAnimate(() => this.setActiveTool(tool));\r\n  }\r\n\r\n  /**\r\n   * Set the active tool\r\n   * @param tool Tool to activate\r\n   */\r\n  private setActiveTool(tool: Tool | undefined) {\r\n    if (tool === undefined) {\r\n      this.actionStore.state.updateAll({ active: false });\r\n    } else {\r\n      const action = this.actionStore.get(tool.name);\r\n      if (action !== undefined) {\r\n        this.actionStore.state.update(action, { active: true }, true);\r\n      }\r\n    }\r\n\r\n    this.activeTool$.next(tool);\r\n    if (this.animate) {\r\n      this.animation$.next('enter');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize the toolbar\r\n   */\r\n  private setToolbar(toolbar: string[]) {\r\n    const actions = toolbar.reduce((acc: Action[], toolName: string) => {\r\n      const tool = this.toolbox.getTool(toolName);\r\n      if (tool === undefined) {\r\n        return acc;\r\n      }\r\n\r\n      acc.push({\r\n        id: tool.name,\r\n        title: tool.title,\r\n        icon: tool.icon,\r\n        // iconImage: tool.iconImage,\r\n        tooltip: tool.tooltip,\r\n        args: [tool, this.toolbox],\r\n        handler: (_tool: Tool, _toolbox: Toolbox) => {\r\n          _toolbox.activateTool(_tool.name);\r\n        }\r\n      });\r\n      return acc;\r\n    }, []);\r\n    this.actionStore.load(actions);\r\n    this.toolbar$.next(toolbar);\r\n  }\r\n\r\n  /**\r\n   * Observe the ongoing animation and ignore any incoming animation\r\n   * while one is still ongoing.\r\n   * @param callback Callback to execute when the animation completes\r\n   */\r\n  private onAnimate(callback: () => void) {\r\n    this.unAnimate();\r\n    this.animating$$ = this.animating$.subscribe((animation: boolean) => {\r\n      if (!animation) {\r\n        callback.call(this);\r\n        this.unAnimate();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Stop observing an animation when it's complete\r\n   */\r\n  private unAnimate() {\r\n    if (this.animating$$) {\r\n      this.animating$$.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport {\r\n  IgoActionModule,\r\n  IgoDynamicComponentModule,\r\n  IgoPanelModule\r\n} from '@igo2/common';\r\n\r\nimport { ToolboxComponent } from './toolbox.component';\r\n\r\n/**\r\n * @ignore\r\n */\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IgoActionModule,\r\n    IgoDynamicComponentModule,\r\n    IgoPanelModule\r\n  ],\r\n  exports: [ToolboxComponent],\r\n  declarations: [ToolboxComponent]\r\n})\r\nexport class ToolboxModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BboxService {\r\n\r\n  bbox: any = null;\r\n  observableBbox: any;\r\n\r\n  constructor() {\r\n    this.observableBbox = new BehaviorSubject<any>(this.bbox);\r\n  }\r\n\r\n  eventChange() {\r\n    this.observableBbox.next(this.bbox);\r\n  }\r\n\r\n  setBBOX(bbox: any) {\r\n    this.bbox = bbox;\r\n    this.eventChange();\r\n  }\r\n\r\n  getBBOX() {\r\n    return this.bbox;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { IgoMap } from '@igo2/geo';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapImageService {\n\n  map: IgoMap;\n\n  constructor() { }\n\n  setMap(map: IgoMap) {\n    this.map = map;\n  }\n\n  getMap() {\n    return this.map;\n  }\n}\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nimport { AuthOptions } from '@igo2/auth';\r\nimport { ContextServiceOptions } from '@igo2/context';\r\nimport { LanguageOptions } from '@igo2/core';\r\nimport { SearchSourceOptions, CatalogServiceOptions } from '@igo2/geo';\r\n\r\nexport interface Environment {\r\n  production: boolean;\r\n  igo: {\r\n    searchSources?: { [key: string]: SearchSourceOptions };\r\n    language?: LanguageOptions;\r\n    auth?: AuthOptions;\r\n    context?: ContextServiceOptions;\r\n    catalog?: CatalogServiceOptions;\r\n  };\r\n}\r\n\r\nexport const environment: Environment = {\r\n  production: false,\r\n  igo: {\r\n    auth: {\r\n      url: '/apis/users',\r\n      tokenKey: 'id_token_igo',\r\n      allowAnonymous: true\r\n    },\r\n    searchSources: {\r\n      nominatim: {\r\n        available: false\r\n      },\r\n      icherche: {\r\n        searchUrl: '/icherche/geocode',\r\n        params: {\r\n          limit: '8'\r\n        }\r\n      },\r\n      icherchereverse: {\r\n        searchUrl: '/icherche/xy',\r\n        params: {\r\n          limit: '5'\r\n        }\r\n      },\r\n      ilayer: {\r\n        searchUrl: '/apis/layers/search',\r\n        params: {\r\n          limit: '5'\r\n        }\r\n      }\r\n    },\r\n    language: {\r\n      prefix: './locale/'\r\n    }\r\n  }\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nimport 'hammerjs';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"sourceRoot":""}