!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/material"),require("rxjs/operators"),require("ol/format/GeoJSON"),require("@igo2/geo"),require("@igo2/core"),require("@igo2/context"),require("rxjs"),require("@angular/core"),require("@igo2/common")):"function"==typeof define&&define.amd?define("@igo2/integration",["exports","@angular/common","@angular/material","rxjs/operators","ol/format/GeoJSON","@igo2/geo","@igo2/core","@igo2/context","rxjs","@angular/core","@igo2/common"],t):t((e.igo2=e.igo2||{},e.igo2.integration={}),e.ng.common,e.ng.material,e.rxjs.operators,e.olFormatGeoJSON,e.i1,e.i4,e.i1$1,e.rxjs,e.ng.core,e.i1$2)}(this,function(e,t,o,r,n,a,i,s,l,c,p){"use strict";function g(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;0<=s;s--)(n=e[s])&&(i=(a<3?n(i):3<a?n(t,o,i):n(t,o))||i);return 3<a&&i&&Object.defineProperty(t,o,i),i}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}n=n&&n.hasOwnProperty("default")?n["default"]:n;var d=(m.decorators=[{type:c.Component,args:[{selector:"igo-context-editor-tool",template:"<igo-context-edit igoContextEditBinding></igo-context-edit>\r\n"}]}],m=g([p.ToolComponent({name:"contextEditor",title:"igo.integration.tools.contexts",icon:"star"})],m));function m(){}var y=(f.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],f.ctorParameters=function(){return[{type:p.ToolService}]},f.ngInjectableDef=c.defineInjectable({factory:function(){return new f(c.inject(p.ToolService))},token:f,providedIn:"root"}),f);function f(e){this.toolService=e,this.toolbox=new p.Toolbox,this.toolbox.setTools(this.toolService.getTools())}var h=(b.prototype.editContext=function(){this.toolState.toolbox.activateTool("contextEditor")},b.prototype.managePermissions=function(){this.toolState.toolbox.activateTool("contextPermissionManager")},b.decorators=[{type:c.Component,args:[{selector:"igo-context-manager-tool",template:'<igo-context-list\r\n  igoContextListBinding\r\n  (edit)="editContext()"\r\n  (managePermissions)="managePermissions()">\r\n</igo-context-list>\r\n'}]}],b.ctorParameters=function(){return[{type:y}]},b=g([p.ToolComponent({name:"contextManager",title:"igo.integration.tools.contexts",icon:"star"}),u("design:paramtypes",[y])],b));function b(e){this.toolState=e}var C=(S.decorators=[{type:c.Component,args:[{selector:"igo-context-permission-manager-tool",template:"<igo-context-permissions igoContextPermissionsBinding></igo-context-permissions>\r\n"}]}],S=g([p.ToolComponent({name:"contextPermissionManager",title:"igo.integration.tools.contexts",icon:"star"})],S));function S(){}var v=(Object.defineProperty(M.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),M.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],M.ctorParameters=function(){return[{type:a.MapService},{type:a.ProjectionService}]},M.ngInjectableDef=c.defineInjectable({factory:function(){return new M(c.inject(a.MapService),c.inject(a.ProjectionService))},token:M,providedIn:"root"}),M);function M(e,t){this.mapService=e,this.projectionService=t,this._map=new a.IgoMap({controls:{scaleLine:!0,attribution:{collapsed:!1}}}),this.mapService.setMap(this.map)}var I=(Object.defineProperty(L.prototype,"map",{get:function(){return this.mapState.map},enumerable:!0,configurable:!0}),L.decorators=[{type:c.Component,args:[{selector:"igo-context-share-tool",template:'<igo-share-map\r\n  igoShareMapBinding\r\n  [map]="map"\r\n  [hasCopyLinkButton]="hasCopyLinkButton"\r\n  [hasShareMapButton]="hasShareMapButton"\r\n></igo-share-map>\r\n'}]}],L.ctorParameters=function(){return[{type:v}]},L.propDecorators={hasCopyLinkButton:[{type:c.Input}],hasShareMapButton:[{type:c.Input}]},L=g([p.ToolComponent({name:"shareMap",title:"igo.integration.tools.shareMap",icon:"share-variant"}),u("design:paramtypes",[v])],L));function L(e){this.mapState=e,this.hasCopyLinkButton=!1,this.hasShareMapButton=!0}var x=(T.decorators=[{type:c.NgModule,args:[{imports:[s.IgoContextModule],declarations:[d,h,C,I],exports:[d,h,C,I],entryComponents:[d,h,C,I],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],T);function T(){}var O=(Object.defineProperty(j.prototype,"catalogStore",{get:function(){return this._catalogStore},enumerable:!0,configurable:!0}),j.prototype.getCatalogItemsStore=function(e){return this.catalogItemsStores.get(e.id)},j.prototype.setCatalogItemsStore=function(e,t){this.catalogItemsStores.set(e.id,t)},j.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],j.ctorParameters=function(){return[]},j.ngInjectableDef=c.defineInjectable({factory:function(){return new j},token:j,providedIn:"root"}),j);function j(){this.catalogItemsStores=new Map,this._catalogStore=new p.EntityStore([])}var P=(Object.defineProperty(E.prototype,"store",{get:function(){return this.catalogState.catalogStore},enumerable:!0,configurable:!0}),E.prototype.ngOnInit=function(){0===this.store.entities$.value.length&&this.loadCatalogs()},E.prototype.onCatalogSelectChange=function(e){!1!==e.selected&&this.toolState.toolbox.activateTool("catalogBrowser")},E.prototype.loadCatalogs=function(){var t=this;this.catalogService.loadCatalogs().subscribe(function(e){t.store.clear(),t.store.load(e)})},E.decorators=[{type:c.Component,args:[{selector:"igo-catalog-library-tool",template:'<igo-catalog-library\r\n  [store]="store"\r\n  (catalogSelectChange)="onCatalogSelectChange($event)">\r\n</igo-catalog-library>\r\n',changeDetection:c.ChangeDetectionStrategy.OnPush}]}],E.ctorParameters=function(){return[{type:a.CatalogService},{type:O},{type:y}]},E=g([p.ToolComponent({name:"catalog",title:"igo.integration.tools.catalog",icon:"layers-plus"}),u("design:paramtypes",[a.CatalogService,O,y])],E));function E(e,t,o){this.catalogService=e,this.catalogState=t,this.toolState=o}var w=(B.decorators=[{type:c.NgModule,args:[{imports:[t.CommonModule,a.IgoCatalogLibraryModule],declarations:[P],exports:[P],entryComponents:[P],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],B);function B(){}var A=(Object.defineProperty(F.prototype,"map",{get:function(){return this.mapState.map},enumerable:!0,configurable:!0}),F.prototype.ngOnInit=function(){var o=this,e=this.catalogState.catalogStore;this.catalog$$=e.stateView.firstBy$(function(e){return!0===e.state.selected}).subscribe(function(e){if(e&&e.entity){var t=e.entity;o.catalog=t,o.loadCatalogItems(t)}})},F.prototype.ngOnDestroy=function(){this.catalog$$.unsubscribe()},F.prototype.loadCatalogItems=function(e){var t=this,o=this.catalogState.getCatalogItemsStore(e);o===undefined?(o=new p.EntityStore([]),this.catalogState.setCatalogItemsStore(e,o),this.catalogService.loadCatalogItems(e).subscribe(function(e){o.load(e),t.store$.next(o)})):this.store$.next(o)},F.decorators=[{type:c.Component,args:[{selector:"igo-catalog-browser-tool",template:'<igo-catalog-browser\r\n  *ngIf="store$ | async as store"\r\n  [catalog]="catalog"\r\n  [store]="store"\r\n  [map]="map"\r\n  [toggleCollapsedGroup]="toggleCollapsedGroup">\r\n</igo-catalog-browser>\r\n',changeDetection:c.ChangeDetectionStrategy.OnPush}]}],F.ctorParameters=function(){return[{type:a.CatalogService},{type:O},{type:v}]},F.propDecorators={toggleCollapsedGroup:[{type:c.Input}]},F=g([p.ToolComponent({name:"catalogBrowser",title:"igo.integration.tools.catalog",icon:"photo-browser"}),u("design:paramtypes",[a.CatalogService,O,v])],F));function F(e,t,o){this.catalogService=e,this.catalogState=t,this.mapState=o,this.store$=new l.BehaviorSubject(undefined),this.toggleCollapsedGroup=!0}var D=(_.decorators=[{type:c.NgModule,args:[{imports:[t.CommonModule,a.IgoCatalogBrowserModule],declarations:[A],exports:[A],entryComponents:[A],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],_);function _(){}var R=(N.decorators=[{type:c.NgModule,args:[{imports:[],exports:[w,D],declarations:[]}]}],N);function N(){}var $=(Object.defineProperty(k.prototype,"map",{get:function(){return this.mapState.map},enumerable:!0,configurable:!0}),k.decorators=[{type:c.Component,args:[{selector:"igo-directions-tool",template:"<igo-routing-form igoRoutingFormBinding></igo-routing-form>\r\n"}]}],k.ctorParameters=function(){return[{type:v}]},k=g([p.ToolComponent({name:"directions",title:"igo.integration.tools.directions",icon:"directions"}),u("design:paramtypes",[v])],k));function k(e){this.mapState=e}var q=(V.forRoot=function(){return{ngModule:V,providers:[]}},V.decorators=[{type:c.NgModule,args:[{imports:[a.IgoRoutingModule],declarations:[$],exports:[$],entryComponents:[$],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],V);function V(){}var G=(H.decorators=[{type:c.NgModule,args:[{imports:[],declarations:[],exports:[]}]}],H);function H(){}var U=(Object.defineProperty(W.prototype,"map",{get:function(){return this.mapState.map},enumerable:!0,configurable:!0}),W.decorators=[{type:c.Component,args:[{selector:"igo-import-export-tool",template:'<igo-import-export [map]="map"></igo-import-export>\r\n',changeDetection:c.ChangeDetectionStrategy.OnPush}]}],W.ctorParameters=function(){return[{type:v}]},W=g([p.ToolComponent({name:"importExport",title:"igo.integration.tools.importExport",icon:"file-move"}),u("design:paramtypes",[v])],W));function W(e){this.mapState=e}var J=(z.forRoot=function(){return{ngModule:z,providers:[]}},z.decorators=[{type:c.NgModule,args:[{imports:[a.IgoImportExportModule],declarations:[U],exports:[U],entryComponents:[U],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],z);function z(){}var Q=(Object.defineProperty(Y.prototype,"excludeBaseLayers",{get:function(){return this.layerListControls.excludeBaseLayers||!1},enumerable:!0,configurable:!0}),Object.defineProperty(Y.prototype,"layerFilterAndSortOptions",{get:function(){var e=Object.assign({showToolbar:a.LayerListControlsEnum["default"]},this.layerListControls);switch(this.layerListControls.showToolbar){case a.LayerListControlsEnum.always:e.showToolbar=a.LayerListControlsEnum.always,e.toolbarThreshold=undefined;break;case a.LayerListControlsEnum.never:e.showToolbar=a.LayerListControlsEnum.never,e.toolbarThreshold=undefined}return e},enumerable:!0,configurable:!0}),Y.decorators=[{type:c.Component,args:[{selector:"igo-map-details-tool",template:'<igo-layer-list\r\n  igoLayerListBinding\r\n  [excludeBaseLayers]="excludeBaseLayers"\r\n  [layerFilterAndSortOptions]="layerFilterAndSortOptions"\r\n  [expandLegendOfVisibleLayers]="expandLegendOfVisibleLayers"\r\n  [toggleLegendOnVisibilityChange]="toggleLegendOnVisibilityChange"\r\n  [updateLegendOnResolutionChange]="updateLegendOnResolutionChange"\r\n  [queryBadge]="queryBadge">\r\n\r\n  <ng-template #igoLayerItemToolbar let-layer="layer">\r\n    <igo-download-button [layer]="layer"></igo-download-button>\r\n    <igo-metadata-button [layer]="layer"></igo-metadata-button>\r\n    <igo-ogc-filter-button [ogcFiltersInLayers]="ogcFiltersInLayers" [layer]="layer"></igo-ogc-filter-button>\r\n  </ng-template>\r\n\r\n</igo-layer-list>\r\n'}]}],Y.propDecorators={toggleLegendOnVisibilityChange:[{type:c.Input}],expandLegendOfVisibleLayers:[{type:c.Input}],updateLegendOnResolutionChange:[{type:c.Input}],ogcFiltersInLayers:[{type:c.Input}],layerListControls:[{type:c.Input}],queryBadge:[{type:c.Input}]},Y=g([p.ToolComponent({name:"mapDetails",title:"igo.integration.tools.map",icon:"map"})],Y));function Y(){this.toggleLegendOnVisibilityChange=!1,this.expandLegendOfVisibleLayers=!1,this.updateLegendOnResolutionChange=!1,this.ogcFiltersInLayers=!0,this.layerListControls={},this.queryBadge=!1}var Z=(Object.defineProperty(K.prototype,"excludeBaseLayers",{get:function(){return this.layerListControls.excludeBaseLayers||!1},enumerable:!0,configurable:!0}),Object.defineProperty(K.prototype,"layerFilterAndSortOptions",{get:function(){var e=Object.assign({showToolbar:a.LayerListControlsEnum["default"]},this.layerListControls);switch(this.layerListControls.showToolbar){case a.LayerListControlsEnum.always:e.showToolbar=a.LayerListControlsEnum.always,e.toolbarThreshold=undefined;break;case a.LayerListControlsEnum.never:e.showToolbar=a.LayerListControlsEnum.never,e.toolbarThreshold=undefined}return e},enumerable:!0,configurable:!0}),K.decorators=[{type:c.Component,args:[{selector:"igo-map-tool",template:'<mat-tab-group>\r\n\r\n  <mat-tab [label]="\'igo.integration.tools.map\' | translate">\r\n    <igo-layer-list\r\n      igoLayerListBinding\r\n      [excludeBaseLayers]="excludeBaseLayers"\r\n      [layerFilterAndSortOptions]="layerFilterAndSortOptions"\r\n      [expandLegendOfVisibleLayers]="expandLegendOfVisibleLayers"\r\n      [toggleLegendOnVisibilityChange]="toggleLegendOnVisibilityChange"\r\n      [updateLegendOnResolutionChange]="updateLegendOnResolutionChange"\r\n      [queryBadge]="queryBadge">\r\n\r\n      <ng-template #igoLayerItemToolbar let-layer="layer">\r\n        <igo-download-button [layer]="layer"></igo-download-button>\r\n        <igo-metadata-button [layer]="layer"></igo-metadata-button>\r\n        <igo-ogc-filter-button [ogcFiltersInLayers]="ogcFiltersInLayers" [layer]="layer"></igo-ogc-filter-button>\r\n      </ng-template>\r\n\r\n    </igo-layer-list>\r\n  </mat-tab>\r\n\r\n  <mat-tab [label]="\'igo.integration.tools.contexts\' | translate">\r\n    <igo-context-list igoContextListBinding></igo-context-list>\r\n  </mat-tab>\r\n\r\n</mat-tab-group>\r\n',changeDetection:c.ChangeDetectionStrategy.OnPush,styles:["mat-tab-group,mat-tab-group ::ng-deep .mat-tab-body-wrapper{height:100%}"]}]}],K.propDecorators={toggleLegendOnVisibilityChange:[{type:c.Input}],expandLegendOfVisibleLayers:[{type:c.Input}],updateLegendOnResolutionChange:[{type:c.Input}],ogcFiltersInLayers:[{type:c.Input}],layerListControls:[{type:c.Input}],queryBadge:[{type:c.Input}]},K=g([p.ToolComponent({name:"map",title:"igo.integration.tools.map",icon:"map"})],K));function K(){this.toggleLegendOnVisibilityChange=!1,this.expandLegendOfVisibleLayers=!1,this.updateLegendOnResolutionChange=!1,this.ogcFiltersInLayers=!0,this.layerListControls={},this.queryBadge=!1}var X=(ee.forRoot=function(){return{ngModule:ee,providers:[]}},ee.decorators=[{type:c.NgModule,args:[{imports:[o.MatTabsModule,i.IgoLanguageModule,a.IgoLayerModule,a.IgoMetadataModule,a.IgoDownloadModule,a.IgoFilterModule,s.IgoContextModule],declarations:[Z,Q],exports:[Z,Q],entryComponents:[Z,Q],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],ee);function ee(){}var te=(oe.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],oe.ctorParameters=function(){return[{type:v}]},oe.ngInjectableDef=c.defineInjectable({factory:function(){return new oe(c.inject(v))},token:oe,providedIn:"root"}),oe);function oe(e){this.mapState=e,this.store=new a.FeatureStore([],{map:this.mapState.map})}var re=(Object.defineProperty(ne.prototype,"store",{get:function(){return this.measureState.store},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"map",{get:function(){return this.mapState.map},enumerable:!0,configurable:!0}),ne.decorators=[{type:c.Component,args:[{selector:"igo-measurer-tool",template:'<igo-measurer [store]="store" [map]="map"></igo-measurer>\r\n',changeDetection:c.ChangeDetectionStrategy.OnPush}]}],ne.ctorParameters=function(){return[{type:te},{type:v}]},ne=g([p.ToolComponent({name:"measurer",title:"igo.integration.tools.measurer",icon:"ruler"}),u("design:paramtypes",[te,v])],ne));function ne(e,t){this.measureState=e,this.mapState=t}var ae=(ie.decorators=[{type:c.NgModule,args:[{imports:[a.IgoMeasurerModule],declarations:[re],exports:[re],entryComponents:[re],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],ie);function ie(){}var se=(le.decorators=[{type:c.NgModule,args:[{imports:[],declarations:[],exports:[ae]}]}],le);function le(){}var ce=(Object.defineProperty(pe.prototype,"map",{get:function(){return this.mapState.map},enumerable:!0,configurable:!0}),pe.decorators=[{type:c.Component,args:[{selector:"igo-print-tool",template:'<igo-print [map]="map"></igo-print>\r\n'}]}],pe.ctorParameters=function(){return[{type:v}]},pe=g([p.ToolComponent({name:"print",title:"igo.integration.tools.print",icon:"printer"}),u("design:paramtypes",[v])],pe));function pe(e){this.mapState=e}var ge=(ue.forRoot=function(){return{ngModule:ue,providers:[]}},ue.decorators=[{type:c.NgModule,args:[{imports:[a.IgoPrintModule],declarations:[ce],exports:[ce],entryComponents:[ce],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],ue);function ue(){}var de=(Object.defineProperty(me.prototype,"searchTypes",{get:function(){return this.searchSourceService.getEnabledSources().map(function(e){return e.constructor.type})},enumerable:!0,configurable:!0}),me.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],me.ctorParameters=function(){return[{type:a.SearchSourceService}]},me.ngInjectableDef=c.defineInjectable({factory:function(){return new me(c.inject(a.SearchSourceService))},token:me,providedIn:"root"}),me);function me(e){this.searchSourceService=e,this.store=new p.EntityStore([])}var ye=(Object.defineProperty(fe.prototype,"store",{get:function(){return this.searchState.store},enumerable:!0,configurable:!0}),Object.defineProperty(fe.prototype,"map",{get:function(){return this.mapState.map},enumerable:!0,configurable:!0}),Object.defineProperty(fe.prototype,"featureTitle",{get:function(){return this.feature?p.getEntityTitle(this.feature):undefined},enumerable:!0,configurable:!0}),Object.defineProperty(fe.prototype,"feature$",{get:function(){var t=this;return this.store.stateView.firstBy$(function(e){return e.state.focused}).pipe(r.map(function(e){return t.feature=e?e.entity.data:undefined,t.feature}))},enumerable:!0,configurable:!0}),fe.prototype.onResultFocus=function(e){"initial"===this.topPanelState&&this.toggleTopPanel(),this.tryAddFeatureToMap(e)},fe.prototype.onResultSelect=function(e){"initial"===this.topPanelState&&this.toggleTopPanel(),this.tryAddFeatureToMap(e),this.tryAddLayerToMap(e)},fe.prototype.toggleTopPanel=function(){"collapsed"===this.topPanelState?this.topPanelState="expanded":this.topPanelState="collapsed"},fe.prototype.zoomToFeatureExtent=function(){if(this.feature.geometry){var e=this.format.readFeature(this.feature,{dataProjection:this.feature.projection,featureProjection:this.map.projection});a.moveToOlFeatures(this.map,[e],a.FeatureMotion.Zoom)}},fe.prototype.tryAddFeatureToMap=function(e){if(e.meta.dataType!==a.FEATURE)return undefined;var t=e.data;t.geometry!==undefined&&this.map.overlay.setFeatures([t],a.FeatureMotion.Default)},fe.prototype.tryAddLayerToMap=function(e){var t=this;if(this.map!==undefined){if(e.meta.dataType!==a.LAYER)return undefined;var o=e.data;this.layerService.createAsyncLayer(o).subscribe(function(e){return t.map.addLayer(e)})}},fe.decorators=[{type:c.Component,args:[{selector:"igo-search-results-tool",template:'<igo-flexible\r\n  #topPanel\r\n  initial="100%"\r\n  initialMobile="100%"\r\n  collapsed="60%"\r\n  expanded="calc(100% - 58px)"\r\n  [state]="topPanelState">\r\n\r\n  <div class="igo-content">\r\n    <igo-search-results\r\n      [store]="store"\r\n      (resultFocus)="onResultFocus($event)"\r\n      (resultSelect)="onResultSelect($event)">\r\n    </igo-search-results>\r\n  </div>\r\n\r\n  <div igoFlexibleFill class="igo-content">\r\n    <igo-panel [title]="featureTitle" *ngIf="feature$ | async">\r\n\r\n      <button\r\n        mat-icon-button\r\n        panelLeftButton\r\n        class="igo-icon-button"\r\n        (click)="toggleTopPanel()">\r\n        <mat-icon [svgIcon]="topPanel.state === \'collapsed\'? \'arrow-down\' : \'arrow-up\'"></mat-icon>\r\n      </button>\r\n\r\n      <button\r\n        mat-icon-button\r\n        panelRightButton\r\n        class="igo-icon-button"\r\n        (click)="zoomToFeatureExtent()"\r\n        *ngIf="feature.geometry">\r\n        <mat-icon svgIcon="magnify-plus-outline"></mat-icon>\r\n      </button>\r\n\r\n      <igo-feature-details\r\n        [feature]="feature$ | async">\r\n      </igo-feature-details>\r\n    </igo-panel>\r\n  </div>\r\n\r\n</igo-flexible>\r\n',changeDetection:c.ChangeDetectionStrategy.OnPush}]}],fe.ctorParameters=function(){return[{type:v},{type:a.LayerService},{type:de}]},fe=g([p.ToolComponent({name:"searchResults",title:"igo.integration.tools.searchResults",icon:"magnify"}),u("design:paramtypes",[v,a.LayerService,de])],fe));function fe(e,t,o){this.mapState=e,this.layerService=t,this.searchState=o,this.topPanelState="initial",this.format=new n}var he=(be.decorators=[{type:c.NgModule,args:[{imports:[t.CommonModule,o.MatIconModule,o.MatButtonModule,a.IgoFeatureModule,a.IgoSearchModule,p.IgoFlexibleModule,p.IgoPanelModule,a.IgoFeatureDetailsModule],declarations:[ye],exports:[ye],entryComponents:[ye],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],be);function be(){}var Ce=(Se.decorators=[{type:c.Component,args:[{selector:"igo-ogc-filter-tool",template:"<igo-ogc-filterable-list igoOgcFilterableListBinding></igo-ogc-filterable-list>\r\n\r\n\r\n"}]}],Se.ctorParameters=function(){return[]},Se=g([p.ToolComponent({name:"ogcFilter",title:"igo.integration.tools.ogcFilter",icon:"filter"}),u("design:paramtypes",[])],Se));function Se(){}var ve=(Me.decorators=[{type:c.Component,args:[{selector:"igo-time-analysis-tool",template:"<igo-time-filter-list igoTimeFilterListBinding></igo-time-filter-list>\r\n"}]}],Me.ctorParameters=function(){return[]},Me=g([p.ToolComponent({name:"timeAnalysis",title:"igo.integration.tools.timeAnalysis",icon:"history"}),u("design:paramtypes",[])],Me));function Me(){}var Ie=(Le.forRoot=function(){return{ngModule:Le,providers:[]}},Le.decorators=[{type:c.NgModule,args:[{imports:[a.IgoFilterModule],declarations:[Ce,ve],exports:[Ce,ve],entryComponents:[Ce,ve],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],Le);function Le(){}var xe=(Te.decorators=[{type:c.Component,args:[{selector:"igo-about-tool",template:'<igo-custom-html\r\n[html]="html">\r\n</igo-custom-html>\r\n'}]}],Te.ctorParameters=function(){return[]},Te.propDecorators={html:[{type:c.Input}]},Te=g([p.ToolComponent({name:"about",title:"igo.integration.tools.about",icon:"help-circle"}),u("design:paramtypes",[])],Te));function Te(){this.html="\n    <h1>About IGO</h1>\n    <p>IGO (for Open GIS Infrastructure) is a Free Open Source Software\n    for Geospatial (FOSS4G) developed by organisations in the government\n    of Quebec in Canada. The objective is to make it open, common,\n    modular, based on open governance model supported by multiple\n    organisations. IGO is a Web GIS software with a client & server\n    component to manage and publish massive amount of Geospatial data.\n    </p>\n    </hr>\n    <a href='mailto:info@igouverte.org' target='_top'>info[@]igouverte.org</a>\n    </br>\n    <a href='http://www.igouverte.org' target='_blank'>www.igouverte.org</A>"}var Oe=(je.forRoot=function(){return{ngModule:je,providers:[]}},je.decorators=[{type:c.NgModule,args:[{imports:[p.IgoCustomHtmlModule],declarations:[xe],exports:[xe],entryComponents:[xe],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],je);function je(){}var Pe=(Ee.decorators=[{type:c.NgModule,args:[{imports:[],declarations:[],exports:[x,R,q,G,J,X,se,ge,he,Ie,Oe]}]}],Ee);function Ee(){}var we=(Be.decorators=[{type:c.NgModule,args:[{imports:[],declarations:[],exports:[]}]}],Be);function Be(){}var Ae=(Fe.prototype.setContext=function(e){this.updateTools(e),this.context$.next(e)},Fe.prototype.updateTools=function(e){var n=this,t=this.toolState.toolbox,a=[];(e.tools||[]).forEach(function(e){var t=n.toolService.getTool(e.name);if(t!==undefined){var o=Object.assign({},t.options||{},e.options||{}),r=Object.assign({},t,e,{options:o});a.push(r)}}),t.setTools(a),t.setToolbar(e.toolbar||[]),this.contextService.setTools([].concat(a))},Fe.prototype.onContextChange=function(e){e!==undefined&&this.setContext(e)},Fe.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],Fe.ctorParameters=function(){return[{type:s.ContextService},{type:p.ToolService},{type:y},{type:i.LanguageService}]},Fe.ngInjectableDef=c.defineInjectable({factory:function(){return new Fe(c.inject(s.ContextService),c.inject(p.ToolService),c.inject(y),c.inject(i.LanguageService))},token:Fe,providedIn:"root"}),Fe);function Fe(e,t,o,r){var n=this;this.contextService=e,this.toolService=t,this.toolState=o,this.languageService=r,this.context$=new l.BehaviorSubject(undefined),this.contextService.context$.subscribe(function(e){n.onContextChange(e)})}var De=(Object.defineProperty(_e.prototype,"store",{get:function(){return this._store},enumerable:!0,configurable:!0}),_e.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],_e.ctorParameters=function(){return[]},_e.ngInjectableDef=c.defineInjectable({factory:function(){return new _e},token:_e,providedIn:"root"}),_e);function _e(){var o=this;this.workspace$=new l.BehaviorSubject(undefined),this._store=new p.WorkspaceStore([]),this._store.stateView.firstBy$(function(e){return!0===e.state.active}).subscribe(function(e){var t=e?e.entity:undefined;o.workspace$.next(t)})}var Re=(Ne.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],Ne.ctorParameters=function(){return[]},Ne.ngInjectableDef=c.defineInjectable({factory:function(){return new Ne},token:Ne,providedIn:"root"}),Ne);function Ne(){this.store=new p.EntityStore([])}e.IgoIntegrationModule=Pe,e.IgoAppAboutModule=Oe,e.IgoAppContextModule=x,e.IgoAppCatalogModule=R,e.IgoAppCatalogBrowserToolModule=D,e.IgoAppCatalogLibraryToolModule=w,e.IgoAppDirectionsModule=q,e.IgoAppWorkspaceModule=G,e.IgoAppFilterModule=Ie,e.IgoAppImportExportModule=J,e.IgoAppMapModule=X,e.IgoAppMeasureModule=se,e.IgoAppPrintModule=ge,e.IgoAppSearchModule=he,e.IgoAppToolModule=we,e.AboutToolComponent=xe,e.ContextManagerToolComponent=h,e.ContextEditorToolComponent=d,e.ContextPermissionManagerToolComponent=C,e.ContextShareToolComponent=I,e.ContextState=Ae,e.CatalogState=O,e.CatalogBrowserToolComponent=A,e.CatalogLibraryToolComponent=P,e.DirectionsToolComponent=$,e.WorkspaceState=De,e.OgcFilterToolComponent=Ce,e.TimeAnalysisToolComponent=ve,e.ImportExportToolComponent=U,e.MapDetailsToolComponent=Q,e.MapToolComponent=Z,e.MapState=v,e.MeasureState=te,e.MeasurerToolComponent=re,e.PrintToolComponent=ce,e.QueryState=Re,e.SearchState=de,e.SearchResultsToolComponent=ye,e.ToolState=y,e.ɵv=xe,e.ɵi=A,e.ɵg=P,e.ɵh=O,e.ɵa=d,e.ɵb=h,e.ɵd=C,e.ɵe=I,e.ɵj=$,e.ɵt=Ce,e.ɵu=ve,e.ɵk=U,e.ɵm=Q,e.ɵl=Z,e.ɵf=v,e.ɵp=te,e.ɵo=re,e.ɵn=ae,e.ɵq=ce,e.ɵr=ye,e.ɵs=de,e.ɵc=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=igo2-integration.umd.min.js.map