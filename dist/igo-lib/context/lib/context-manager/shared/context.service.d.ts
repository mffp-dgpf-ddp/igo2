import { HttpClient } from '@angular/common/http';
import { BehaviorSubject, Observable } from 'rxjs';
import { Tool } from '@igo2/common';
import { ConfigService, RouteService, LanguageService } from '@igo2/core';
import { AuthService } from '@igo2/auth';
import { IgoMap } from '@igo2/geo';
import { TypePermission } from './context.enum';
import { ContextsList, Context, DetailedContext, ContextPermission } from './context.interface';
export declare class ContextService {
    private http;
    private authService;
    private languageService;
    private config;
    private route;
    context$: BehaviorSubject<DetailedContext>;
    contexts$: BehaviorSubject<ContextsList>;
    defaultContextId$: BehaviorSubject<string>;
    editedContext$: BehaviorSubject<DetailedContext>;
    private mapViewFromRoute;
    private options;
    private baseUrl;
    private tools;
    constructor(http: HttpClient, authService: AuthService, languageService: LanguageService, config: ConfigService, route: RouteService);
    get(): Observable<ContextsList>;
    getById(id: string): Observable<Context>;
    getDetails(id: string): Observable<DetailedContext>;
    getDefault(): Observable<DetailedContext>;
    setDefault(id: string): Observable<any>;
    delete(id: string): Observable<void>;
    create(context: DetailedContext): Observable<Context>;
    clone(id: string, properties?: {}): Observable<Context>;
    update(id: string, context: Context): Observable<Context>;
    addToolAssociation(contextId: string, toolId: string): Observable<void>;
    deleteToolAssociation(contextId: string, toolId: string): Observable<any>;
    getPermissions(id: string): Observable<ContextPermission[]>;
    addPermissionAssociation(contextId: string, profil: string, type: TypePermission): Observable<ContextPermission[]>;
    deletePermissionAssociation(contextId: string, permissionId: string): Observable<void>;
    getLocalContexts(): Observable<ContextsList>;
    getLocalContext(uri: any): Observable<DetailedContext>;
    loadContexts(): void;
    loadDefaultContext(): void;
    loadContext(uri: string): void;
    setContext(context: DetailedContext): void;
    loadEditedContext(uri: string): void;
    setEditedContext(context: DetailedContext): void;
    getContextFromMap(igoMap: IgoMap): DetailedContext;
    setTools(tools: Tool[]): void;
    private getContextByUri;
    private readParamsFromRoute;
    private getPath;
    private handleError;
    private handleContextsChange;
    private addContextToList;
    private findContext;
}
